!function(t) {
    var e = {};
    function n(r) {
        if (e[r])
            return e[r].exports;
        var i = e[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return t[r].call(i.exports, i, i.exports, n),
        i.l = !0,
        i.exports
    }
    n.f = "eMOaTcKPwrFuw4MwEEN/RcK5w5nDgyl2ZVjCgH4hw73CghvDlMKCacKNCErDoWPDkMOkw6/Cq8KxwpzCuMOwwpHCrMOTwrwqw4XClMKdwq9SwrlSL8K1ZsOMJk/DsV3DuSDDrHvCk8KrazsVW2VLZsK9w7jCu8OGMytrwqXDmsKPRcKLw6VcJ8KnNHADdQklNBbCj8OpwrZHwrhGFMOswqJ3w4HDiW7DksOhYMOER3s7NMKTHgs5dcKGDsKjHmvCqsK0woxOw7TDtMOLw5DDrmzCuSsXF35dwrBTOsOlQA5BMMKWZ8OBwpxLcMO5L8KMH3kAw6g+wrxcZWTCgcORwpvDkhI/woEDw7YHwpbDvE4R",
    n.F = "eMOaLcKTW3YEIQhEN8OEwofCgCLCriUnw7vDn0Zuw5E5wpPCjj0qRT3CmMKfwqjCt8ONwqMtPcOSw6LDnmURw6bCnsKxw4xXw5g5wpvDs8O2Z8KRYcO3XMOLesKHC8KLw63Dgw4bw5d9worCuMOgw7tRVmnDrXYHwoLCo8Ojw6zDr8KiDcOgZz3Cq0hQM3jCtF3Dm8Oua2vCusOlVcK3wowDwp8DwpRvwqt/SsK3wqzCjkXCrVlWWmbCuMOtw6JowrXDrcK2wrMsD8Ocw5jDtcOrw4JRFcKPw7onw4zDt8KjwqtWw7rDtjHDicKAw55tbsOywrwCfFsXwpgUwq9HZcOvw7vDiXI4wqByw7coDRnDgMK3TMO8wrHDsivDlMOCInA4wq5rw4BnwrrCqADDu8KhworCpSRRwo7DiHofwoR/UMKZDzjDucKEZ2dQJhfCuBzCu8KJwpfDmkpPw7kCwqXClMOLwrjDkFZowrbDmMKyX3ZKwpYswoXCt8KIw4LDvSlWGkg2HsK6WknCj8KHbMKnYxt8DllfV8Kcw65FE8Ktw5DCoEnDpcKbTMOJwpk1w5d0DzjCgsKnw5lQw4pcFcOzw4fCk1F2NmzCocK5wrnCiBNBYWfCjTB/YnvCpsKtwpfChMODbSsgBgA7cxzDmsOEwocMwoEUecOEwqfCrkTDlcK5Q8ODGBpvBlAGwqgAwr8Zwqd3bVkrw63CsSHCm8OCwqXClMKJYcOzwpbCm8KWwoHCu8KJe8KSwrQWf3pDYH0vwq7DkQ/DhsOiw5lwf8KafXnClcKawoI7woM5bsKiYE/Dmk54wo0TGkcxVwDCmkF6QcKfC8O6ZcO5PcKGB8KcH8KpwpJeeUvCosKLDzF7w6s1ZnA0SMOywq7CvsODwp5/wrcJw4LDvcO3D13DgMK5wqQ=",
    n.x = 176,
    n.y = 0,
    n.m = t,
    n.c = e,
    n.d = function(t, e, r) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: r
        })
    }
    ,
    n.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }
    ,
    n.t = function(t, e) {
        if (1 & e && (t = n(t)),
        8 & e)
            return t;
        if (4 & e && "object" == typeof t && t && t.__esModule)
            return t;
        var r = Object.create(null);
        if (n.r(r),
        Object.defineProperty(r, "default", {
            enumerable: !0,
            value: t
        }),
        2 & e && "string" != typeof t)
            for (var i in t)
                n.d(r, i, function(e) {
                    return t[e]
                }
                .bind(null, i));
        return r
    }
    ,
    n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        }
        : function() {
            return t
        }
        ;
        return n.d(e, "a", e),
        e
    }
    ,
    n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    n.p = "",
    n(n.s = 248)
}([function(t, e, n) {
    n(31),
    n(28),
    n(18),
    n(32);
    var r = n(20)
      , i = n.n(r)
      , a = (n(25),
    n(51),
    n(52),
    n(143),
    n(8))
      , o = {
        gid: "gid",
        gameId: "gameId",
        uuid: "uuid",
        type: "type",
        file: "file",
        name: "name",
        u: "u",
        v: "v",
        vertical: "vertical",
        token: "token",
        uid: "uid",
        client: "client",
        offline: "offline",
        app_name: "app_name",
        device_name: "device_name",
        app_version: "app_version",
        device_system_version: "device_system_version",
        device_id: "device_id",
        wap: "wap",
        alpha: "alpha",
        quality: "quality",
        single: "single",
        ftfont: "ftfont",
        test: "test",
        pwd: "pwd",
        made_from: "made_from",
        extend: "extend",
        offlinepath: "",
        singlepay: "singlepay",
        sydebug: "sydebug",
        svn: "svn",
        testfont: "testfont",
        channel: "channel",
        upserver: "upserver",
        hidmenu: "hidmenu",
        hidread: "hidread",
        is_game: "is_game",
        qh_username: "username",
        qh_serverid: "serverid",
        qh_time: "time",
        qh_isadult: "isadult",
        qh_flag: "flag",
        qh_uid: "unid",
        qh_qhchannel: "qhchannel",
        qh_qhchannelid: "qhchannelid",
        qh_qhgid: "qhgid",
        qh_key: "key",
        qh_nname: "nname",
        mk_access_token: "access_token",
        mk_manga_args: "manga_args",
        mk_ios_cache: "ios_cache",
        mk_uid: "",
        qz_appid: "",
        qz_appkey: "",
        qz_openid: "",
        qz_openkey: "",
        qz_userip: "",
        qz_pf: "",
        qz_invite: "",
        qz_invitecount: "",
        qz_receivecount: [],
        qz_appurl: "",
        qz_vindex: "",
        qz_pindex: "",
        qz_sharecount: 0,
        online: "online",
        showrecord: "showrecord",
        develop: "develop",
        offlinetest: "offlinetest",
        tgp: "",
        tsp: "",
        cover: "cover",
        logo: "logo",
        steamId: "steamId",
        kkappid: "kkappid",
        kkopenid: "kkopenid",
        kkaccesstoken: "kkaccesstoken",
        kkversion: "kkversion",
        kkoutorderid: "",
        kksign: ""
    }
      , s = function(t) {
        var e = {}
          , n = location.search
          , r = -1 != n.indexOf("?") ? n.substr(1).split("&") : [];
        return r.length && r.forEach((function(t) {
            var n = t.split("=")
              , r = i()(n, 2)
              , a = r[0]
              , o = void 0 === a ? "" : a
              , s = r[1]
              , u = void 0 === s ? "" : s;
            e[o.toLowerCase()] = u
        }
        )),
        (s = function(t) {
            return e[t.toLowerCase()] || ""
        }
        )(t)
    }
      , u = {};
    Object.keys(o).forEach((function(t) {
        "" !== o[t] && Object(a.p)(o[t]) ? u[t] = s(o[t]) || "" : u[t] = o[t]
    }
    )),
    u.gid = u.gid || u.gameId,
    u.vertical = "1" === u.vertical,
    u.offline = "1" === u.offline,
    u.alpha = "1" === u.alpha,
    u.singleAlone = "2" === u.single,
    u.single = "1" === u.single || "2" === u.single,
    u.ftfont = "1" === u.ftfont,
    u.test = "true" === u.test,
    u.istheatre = "2" === u.made_from,
    u.offlinetest = "1" === u.offlinetest,
    u.develop = "1" === u.develop,
    u.online = "1" === u.online,
    u.showrecord = "1" === u.showrecord,
    u.qh_nname = decodeURIComponent(u.qh_nname),
    u.extend = decodeURIComponent(u.extend),
    u.mk_ios_cache = "1" === u.mk_ios_cache,
    u.loadimg = !0,
    u.showLogo = "1" === u.logo,
    u.singlepay = "1" === u.singlepay,
    u.app_version = u.app_version || "2.4.3",
    u.v = u.v || "1.0.0",
    u.svn = "1" === u.svn,
    u.upserver = !0,
    u.daj_45_1_vb_w_da = 0,
    u.illegality = !1,
    u.isGame = "1" === u.is_game,
    u.isWapOther = u.wap && "3000" !== u.wap && "zxwwap" !== u.wap && "wx" !== u.wap && "kk" !== u.wap && "game4399" !== u.wap,
    document.title = u.name && decodeURI(u.name) || "测试",
    u.assetsversion = "v1.0.2",
    e.a = u
}
, function(t, e) {
    t.exports = function(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n,
        t
    }
}
, function(t, e, n) {
    n.d(e, "a", (function() {
        return i
    }
    )),
    n.d(e, "b", (function() {
        return a
    }
    )),
    n.d(e, "c", (function() {
        return o
    }
    )),
    n.d(e, "r", (function() {
        return s
    }
    )),
    n.d(e, "N", (function() {
        return u
    }
    )),
    n.d(e, "O", (function() {
        return c
    }
    )),
    n.d(e, "L", (function() {
        return l
    }
    )),
    n.d(e, "t", (function() {
        return d
    }
    )),
    n.d(e, "m", (function() {
        return f
    }
    )),
    n.d(e, "l", (function() {
        return h
    }
    )),
    n.d(e, "x", (function() {
        return p
    }
    )),
    n.d(e, "C", (function() {
        return v
    }
    )),
    n.d(e, "q", (function() {
        return g
    }
    )),
    n.d(e, "J", (function() {
        return m
    }
    )),
    n.d(e, "K", (function() {
        return y
    }
    )),
    n.d(e, "y", (function() {
        return b
    }
    )),
    n.d(e, "z", (function() {
        return w
    }
    )),
    n.d(e, "H", (function() {
        return x
    }
    )),
    n.d(e, "I", (function() {
        return k
    }
    )),
    n.d(e, "s", (function() {
        return _
    }
    )),
    n.d(e, "d", (function() {
        return O
    }
    )),
    n.d(e, "i", (function() {
        return S
    }
    )),
    n.d(e, "h", (function() {
        return P
    }
    )),
    n.d(e, "g", (function() {
        return C
    }
    )),
    n.d(e, "G", (function() {
        return E
    }
    )),
    n.d(e, "k", (function() {
        return j
    }
    )),
    n.d(e, "P", (function() {
        return A
    }
    )),
    n.d(e, "u", (function() {
        return I
    }
    )),
    n.d(e, "B", (function() {
        return R
    }
    )),
    n.d(e, "F", (function() {
        return T
    }
    )),
    n.d(e, "E", (function() {
        return M
    }
    )),
    n.d(e, "n", (function() {
        return D
    }
    )),
    n.d(e, "M", (function() {
        return B
    }
    )),
    n.d(e, "f", (function() {
        return U
    }
    )),
    n.d(e, "o", (function() {
        return z
    }
    )),
    n.d(e, "A", (function() {
        return L
    }
    )),
    n.d(e, "p", (function() {
        return V
    }
    )),
    n.d(e, "D", (function() {
        return F
    }
    )),
    n.d(e, "w", (function() {
        return N
    }
    )),
    n.d(e, "j", (function() {
        return H
    }
    )),
    n.d(e, "e", (function() {
        return W
    }
    )),
    n.d(e, "v", (function() {
        return G
    }
    ));
    var r = n(10)
      , i = Object(r.d)([0, 54, 65, 48], 49)
      , a = Object(r.d)([0, 53, 64, 47], 50)
      , o = Object(r.d)([18, 6, 17, 0], 97)
      , s = Object(r.d)([11, 0, 5, 0], 105)
      , u = Object(r.d)([4, 20, 11, 0, 21], 97)
      , c = Object(r.d)([18, 4, 20, 11, 0, 21], 97)
      , l = Object(r.d)([0, 11, 20, 15], 101)
      , d = Object(r.d)([11, 0, 17, 4, 19, 8, 11], 97)
      , f = Object(r.d)([9, 10, 4, 14, 14, 0, 13, 11, 19, 0], 101)
      , h = Object(r.d)([14, 15, 9, 0, 17, 0], 101)
      , p = Object(r.d)([15, 31, 22, 11, 0, 35, 11, 26], 86)
      , v = Object(r.d)([15, 31, 22, 11, 0, 14, 15, 32, 11, 29], 86)
      , g = Object(r.d)([15, 31, 22, 11, 0, 34, 15, 14, 24, 19], 86)
      , m = Object(r.d)([8, 0, 15, 14, 20, 14], 101)
      , y = Object(r.d)([15, 31, 22, 11, 0, 23, 15, 30, 29, 35, 29], 86)
      , b = Object(r.d)([4, 6, 13, 0, 17], 97)
      , w = Object(r.d)([2, 0, 11, 2, 15, 2, 3, 2, 15], 99)
      , x = Object(r.d)([0, 7, 2, 11, 13, 12], 103)
      , k = Object(r.d)([15, 31, 22, 11, 0, 17, 24, 19, 28, 30, 29], 86)
      , _ = Object(r.d)([15, 31, 22, 11, 0, 30, 29, 19, 22], 86)
      , O = Object(r.d)([4, 6, 0, 17, 4, 21, 0], 97)
      , S = Object(r.d)([13, 8, 0, 19, 13, 14, 2], 97)
      , P = Object(r.d)([17, 16, 11, 12, 0], 99)
      , C = Object(r.d)([24, 13, 32, 27, 0, 26, 21, 27, 15], 84)
      , E = Object(r.d)([24, 13, 32, 27, 0, 30, 13, 32, 31], 84)
      , j = Object(r.d)([12, 13, 7, 18, 19, 0, 7, 16, 18, 12, 13, 1], 98)
      , A = Object(r.d)([35, 33, 44, 31, 42, 31, 0, 44, 39, 45, 33, 56], 66)
      , I = Object(r.d)([31, 32, 17, 23, 15, 21, 0, 25], 84)
      , R = Object(r.d)([24, 13, 32, 27, 0, 17, 24, 27, 30], 84)
      , T = Object(r.d)([24, 13, 32, 27, 0, 17, 30, 13, 20, 31], 84)
      , M = Object(r.d)([53, 29, 0, 33, 46, 29, 36, 47], 68)
      , D = Object(r.d)([18, 13, 0, 5], 97)
      , B = Object(r.d)([0, 5, 17], 100)
      , U = Object(r.d)([35, 33, 44, 31, 42, 31, 0, 44, 39, 45, 33], 66)
      , z = Object(r.d)([3, 4, 19, 8, 17, 14, 21, 0, 5], 97)
      , L = Object(r.d)([0, 1, 18, 14, 1, 15, 1, 14], 100)
      , V = Object(r.d)([0, 1, 19, 11, 8, 8, 11, 2], 100)
      , F = Object(r.d)([15, 31, 22, 11, 0, 30, 15, 29], 86)
      , N = Object(r.d)([24, 0, 15], 97)
      , H = Object(r.d)([17, 11, 2, 17, 11, 12, 0], 99)
      , W = Object(r.d)([2, 1, 12, 0], 99)
      , G = Object(r.d)([38, 29, 37, 0, 48, 24, 39], 73)
}
, function(t, e, n) {
    n.d(e, "x", (function() {
        return i
    }
    )),
    n.d(e, "v", (function() {
        return a
    }
    )),
    n.d(e, "g", (function() {
        return o
    }
    )),
    n.d(e, "l", (function() {
        return s
    }
    )),
    n.d(e, "I", (function() {
        return u
    }
    )),
    n.d(e, "w", (function() {
        return c
    }
    )),
    n.d(e, "h", (function() {
        return l
    }
    )),
    n.d(e, "q", (function() {
        return d
    }
    )),
    n.d(e, "J", (function() {
        return f
    }
    )),
    n.d(e, "t", (function() {
        return h
    }
    )),
    n.d(e, "B", (function() {
        return p
    }
    )),
    n.d(e, "z", (function() {
        return v
    }
    )),
    n.d(e, "s", (function() {
        return g
    }
    )),
    n.d(e, "d", (function() {
        return m
    }
    )),
    n.d(e, "G", (function() {
        return y
    }
    )),
    n.d(e, "o", (function() {
        return b
    }
    )),
    n.d(e, "A", (function() {
        return w
    }
    )),
    n.d(e, "r", (function() {
        return x
    }
    )),
    n.d(e, "e", (function() {
        return k
    }
    )),
    n.d(e, "D", (function() {
        return _
    }
    )),
    n.d(e, "k", (function() {
        return O
    }
    )),
    n.d(e, "C", (function() {
        return S
    }
    )),
    n.d(e, "f", (function() {
        return P
    }
    )),
    n.d(e, "i", (function() {
        return C
    }
    )),
    n.d(e, "y", (function() {
        return E
    }
    )),
    n.d(e, "c", (function() {
        return j
    }
    )),
    n.d(e, "a", (function() {
        return A
    }
    )),
    n.d(e, "b", (function() {
        return I
    }
    )),
    n.d(e, "m", (function() {
        return R
    }
    )),
    n.d(e, "F", (function() {
        return T
    }
    )),
    n.d(e, "j", (function() {
        return M
    }
    )),
    n.d(e, "H", (function() {
        return D
    }
    )),
    n.d(e, "E", (function() {
        return B
    }
    )),
    n.d(e, "p", (function() {
        return U
    }
    )),
    n.d(e, "K", (function() {
        return z
    }
    )),
    n.d(e, "n", (function() {
        return L
    }
    )),
    n.d(e, "u", (function() {
        return V
    }
    ));
    var r = n(10)
      , i = Object(r.d)([0, 11, 20, 15, 10, 15, 10, 13, 11], 101)
      , a = Object(r.d)([1, 0, 1], 111)
      , o = Object(r.d)([15, 12, 17, 0, 18, 15, 17, 16, 11, 12, 0], 99)
      , s = Object(r.d)([37, 23, 31, 19, 0, 43, 38, 36, 23, 34, 33, 36, 2, 32, 41, 1, 38, 23, 25], 78)
      , u = Object(r.d)([9, 0, 3, 15], 101)
      , c = Object(r.d)([48, 40, 49, 29, 34, 33, 0, 48, 42, 33, 50, 33, 46, 44], 68)
      , l = Object(r.d)([16, 3, 5, 5, 19, 0, 3, 2], 98)
      , d = Object(r.d)([0, 8, 5], 103)
      , f = Object(r.d)([20, 27, 22, 31, 33, 0, 28, 33], 83)
      , h = Object(r.d)([69, 68, 79, 67, 0, 69, 86, 73, 84, 65, 78], 32)
      , p = Object(r.d)([7, 2, 17, 0, 4, 18], 97)
      , v = Object(r.d)([2, 0, 18, 1, 2, 15], 99)
      , g = Object(r.d)([7, 2, 19, 0, 12], 97)
      , m = (Object(r.d)([43, 43, 0, 39, 34, 51, 32, 44], 65),
    Object(r.d)([4, 4, 11, 11, 0, 2], 97))
      , y = Object(r.d)([11, 0, 3, 7, 10], 105)
      , b = Object(r.d)([5, 0, 6, 1], 105)
      , w = Object(r.d)([4, 2, 0, 11, 15, 4, 17], 97)
      , x = Object(r.d)([15, 0, 12], 97)
      , k = (Object(r.d)([34, 33, 44, 0, 47, 30, 37, 0, 42, 44, 47, 35], 67),
    Object(r.d)([51, 0, 36, 35, 46, 2, 49, 32, 39, 34], 65))
      , _ = Object(r.d)([32, 33, 27, 17, 25, 21, 0, 32, 17, 31], 84)
      , O = Object(r.d)([40, 41, 35, 46, 29, 40, 47, 0], 70)
      , S = Object(r.d)([35, 24, 45, 41, 28, 43, 37, 0, 43, 28, 42], 73)
      , P = Object(r.d)([17, 0, 4, 11, 2], 97)
      , C = Object(r.d)([11, 0, 21, 4], 97)
      , E = Object(r.d)([12, 14, 3, 13, 0, 17], 97)
      , j = Object(r.d)([11, 11, 0, 2], 97)
      , A = Object(r.d)([24, 11, 15, 15, 0], 97)
      , I = Object(r.d)([2, 12, 7, 0], 98)
      , R = Object(r.d)([16, 2, 1, 18, 9, 0, 11, 6], 99)
      , T = Object(r.d)([0, 8, 10, 14], 101)
      , M = Object(r.d)([20, 13, 0, 17, 0], 101)
      , D = Object(r.d)([6, 0], 115)
      , B = Object(r.d)([2, 0, 6, 9, 16], 99)
      , U = Object(r.d)([3, 15, 2, 9, 0, 7], 101)
      , z = Object(r.d)([23, 0, 22, 38, 29, 18, 39], 79)
      , L = Object(r.d)([23, 0, 41, 22, 21, 31, 26], 79)
      , V = Object(r.d)([4, 18, 17, 0, 15], 97)
}
, function(t, e, n) {
    t.exports = n(75)(50)
}
, function(t, e, n) {
    n(39);
    var r = n(1)
      , i = n.n(r)
      , a = (n(52),
    n(79),
    n(72),
    n(82),
    n(35),
    n(67),
    n(68),
    n(216),
    n(46),
    n(25),
    n(29),
    n(30),
    n(47),
    n(55),
    n(51),
    n(31),
    n(28),
    n(18),
    n(32),
    n(36),
    n(103))
      , o = n(0)
      , s = n(11)
      , u = n(8)
      , c = n(7);
    function l(t) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var d = Object.prototype.toString;
    function f(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (e = !!e,
        null === t)
            return "null";
        var n, r, i = l(t);
        if (e && "number" === i && isNaN(t))
            return "nan";
        if ("object" !== i)
            return i;
        try {
            r = (n = d.call(t).slice(8, -1)).toLowerCase()
        } catch (t) {
            return "object"
        }
        if ("object" !== r) {
            if (e) {
                if ("number" === r && isNaN(t))
                    return "NaN";
                if ("number" === r || "boolean" === r || "string" === r)
                    return n
            }
            return r
        }
        if (t.constructor == Object)
            return r;
        try {
            if (null === Object.getPrototypeOf(t) || null === t.__proto__)
                return "object"
        } catch (t) {}
        try {
            var a = t.constructor.name;
            if ("string" == typeof a)
                return a
        } catch (t) {}
        return "unknown"
    }
    function h(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    function p(t) {
        if (!function(t) {
            var e = f(t);
            return "object" === e || "array" === e
        }(t))
            return t;
        var e, n = f(t);
        if ("array" === n) {
            e = [];
            for (var r = 0; r < t.length; r++)
                e[r] = t[r] === t ? e : p(t[r])
        } else if ("object" === n)
            for (var i in e = {},
            t)
                h(t, i) && (e[i] = t[i] === t ? e : p(t[i]));
        return e
    }
    var v = "com.yanhaijing.jsmini.clone" + (new Date).getTime();
    function g() {
        this.cacheArray = []
    }
    g.prototype.set = function(t, e) {
        this.cacheArray.push(t),
        t[v] = e
    }
    ,
    g.prototype.get = function(t) {
        return t[v]
    }
    ,
    g.prototype.clear = function() {
        for (var t = 0; t < this.cacheArray.length; t++)
            delete this.cacheArray[t][v];
        this.cacheArray.length = 0
    }
    ;
    var m = n(26)
      , y = n(12)
      , b = n(2)
      , w = n(10)
      , x = n(56)
      , k = n(50)
      , _ = n.n(k)
      , O = n(20)
      , S = n.n(O)
      , P = (n(127),
    ["fromCharCode", "errorType", "md5", "buffer"]);
    function C(t) {
        for (var e = 1, n = t[e++], r = t[e++], i = t[e++], a = [], o = 0; o < i; o++)
            a.push(String[P[0]](t[4 + o] - r));
        return n && a.reverse(),
        a.join("")
    }
    function E(t, e) {
        for (var n = 1, r = t[n++], i = t[n++], a = t[n++], o = 0; o < a; o++)
            e[o] = T(e[o] - i, r, o, a)
    }
    function j(t) {
        return 1 !== t[0] ? 0 : 4
    }
    function A(t, e) {
        var n = 1
          , r = t[n++]
          , i = t[n++]
          , a = t[n++];
        n = e.length - a;
        for (var o = 0; o < a; o++)
            e[n] = T(e[n] - i, r, o, a),
            n++
    }
    function I(t) {
        return 2 !== t[0] ? 0 : 4
    }
    function R(t) {
        for (var e, n = 3, r = [], i = t[2], a = 0; a < i; a++) {
            var o = 0;
            switch (t[n]) {
            case 0:
                o = 0 !== (e = t.subarray(n))[0] ? 0 : e[3] + 4;
                break;
            case 1:
                o = j(t.subarray(n));
                break;
            case 2:
                o = I(t.subarray(n))
            }
            o && (r.push(new Uint8Array(t.subarray(n, n + o))),
            n += o)
        }
        return [r, n]
    }
    function T(t, e, n, r) {
        switch (e) {
        case 1:
            t -= n + 1;
            break;
        case 2:
            t -= r - n;
            break;
        case 3:
            t -= n % 2 ? n + 1 : 0;
            break;
        case 4:
            t -= n % 2 ? r - n : 0;
            break;
        case 5:
            t -= n % 2 ? n + 1 : r - n
        }
        return (1024 + t) % 256
    }
    n.d(e, "e", (function() {
        return L
    }
    )),
    n.d(e, "a", (function() {
        return V
    }
    )),
    n.d(e, "s", (function() {
        return F
    }
    )),
    n.d(e, "w", (function() {
        return N
    }
    )),
    n.d(e, "d", (function() {
        return H
    }
    )),
    n.d(e, "y", (function() {
        return W
    }
    )),
    n.d(e, "r", (function() {
        return q
    }
    )),
    n.d(e, "j", (function() {
        return Y
    }
    )),
    n.d(e, "c", (function() {
        return Z
    }
    )),
    n.d(e, "A", (function() {
        return J
    }
    )),
    n.d(e, "i", (function() {
        return K
    }
    )),
    n.d(e, "k", (function() {
        return $
    }
    )),
    n.d(e, "z", (function() {
        return X
    }
    )),
    n.d(e, "x", (function() {
        return Q
    }
    )),
    n.d(e, "t", (function() {
        return tt
    }
    )),
    n.d(e, "l", (function() {
        return et
    }
    )),
    n.d(e, "p", (function() {
        return nt
    }
    )),
    n.d(e, "u", (function() {
        return z
    }
    )),
    n.d(e, "q", (function() {
        return U
    }
    )),
    n.d(e, "C", (function() {
        return it
    }
    )),
    n.d(e, "B", (function() {
        return at
    }
    )),
    n.d(e, "n", (function() {
        return ot
    }
    )),
    n.d(e, "m", (function() {
        return st
    }
    )),
    n.d(e, "b", (function() {
        return ut
    }
    )),
    n.d(e, "h", (function() {
        return dt
    }
    )),
    n.d(e, "o", (function() {
        return ct
    }
    )),
    n.d(e, "f", (function() {
        return ft
    }
    )),
    n.d(e, "v", (function() {
        return vt
    }
    )),
    n.d(e, "g", (function() {
        return gt
    }
    ));
    var M = ["", "ms", "O", "Moz", "webkit"]
      , D = {}
      , B = s.a.gameValuesMap
      , U = function(t, e) {
        var n = o.a.uuid
          , r = o.a.device_id;
        return Object(m.h)(t + n + (e ? r : ""))
    }
      , z = function(t, e) {
        var n = B[Object(c.g)(t)];
        return n ? Object.keys(n).filter((function(t) {
            return !Object(u.b)(n[t]) && String(n[t]) === String(e)
        }
        ))[0] : t
    }
      , L = function(t) {
        var e = t
          , n = e.split("/")
          , r = "" === n[0] ? 1 : 0;
        return (e = e.replace(n[r], "hls")).replace(".mp4", ".m3u8")
    }
      , V = function(t) {
        var e = t.image;
        D[e] = t
    }
      , F = function(t) {
        return t ? ("/" === (t = t.replace(/\/\/(apppic|synpic).3000test.com\//, ""))[0] && (t = t.substring(1, t.length)),
        D[t] || "") : ""
    }
      , N = function(t) {
        var e = t.type
          , n = t.value;
        return e == b.t ? Object.assign({}, t, {
            value: parseInt(n)
        }) : t
    }
      , H = function() {
        var t, e, n, r, i, a, o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        switch (o = Math.ceil(o),
        t = Math.floor(o / 3600),
        e = Math.floor(o / 60 - 60 * t),
        n = Math.floor(o % 60),
        s) {
        case 0:
            r = "",
            i = "",
            a = (n = n + 60 * e + 3600 * t) <= 0 ? "00" : n < 10 ? "0" + n : n.toString();
            break;
        case 1:
            r = "",
            i = (e += 60 * t) <= 0 ? "00" : e < 10 ? "0" + e : e.toString(),
            a = n <= 0 ? "00" : n < 10 ? "0" + n : n.toString();
            break;
        case 2:
            r = t <= 0 ? "00" : t < 10 ? "0" + t : t.toString(),
            i = e <= 0 ? "00" : e < 10 ? "0" + e : e.toString(),
            a = n <= 0 ? "00" : n < 10 ? "0" + n : n.toString()
        }
        return "" === r ? "" === i ? a : i + ":" + a : r + ":" + i + ":" + a
    }
      , W = function(t, e, n) {
        M.forEach((function(r) {
            return t.style[r ? "".concat(r).concat(e[0].toUpperCase()).concat(e.substr(1)) : e] = n
        }
        ))
    }
      , G = document.createElement("canvas")
      , q = function() {
        var t = o.a.vertical
          , e = o.a.client
          , n = Object(s.c)()
          , r = n.world
          , i = n.canvas
          , a = n.device
          , c = r.width
          , l = r.height
          , d = i.width
          , f = i.height;
        G.width = c / 5,
        G.height = l / 5,
        n.lockRender = !0;
        var h = G.getContext("2d")
          , p = function() {
            var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
            t ? h.drawImage(i, 0, 0, d, f, 0, 0, G.width, G.height) : (h.save(),
            h.translate(0, G.height),
            h.rotate(-90 * Math.PI / 180),
            a.iOS ? (h.drawImage(i, 0, 0, G.height, G.width),
            h.drawImage(i, 0, 0, d, f, 0, 0, G.width, G.height)) : (h.drawImage(i, 0, 4 * f / 5, d, f, 0, 4 * G.height / 5, G.width, G.height),
            "wap" == e ? h.drawImage(i, 0, 0, d, f, 0, 0, G.height, G.width) : h.drawImage(i, 0, 0, d, f, 0, 0, G.width, G.height)),
            h.restore())
        };
        ot() > st() ? Object(u.e)() && t ? p(!0) : p(!t) : p(t),
        n.lockRender = !1;
        var v = "";
        try {
            v = G.toDataURL("image/jpeg", .5)
        } catch (t) {
            console.log("当前浏览器并不支持canvas.toDataURL", t)
        }
        return v
    }
      , Y = function(t) {
        return Math.max(Math.min(1, t), 0)
    }
      , Z = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
        t = t.split(".").map((function(t) {
            return +t
        }
        )),
        e = e.split(".").map((function(t) {
            return +t
        }
        ));
        for (var n = 0, r = t.length, i = e.length; n < r && n < i; ) {
            if (t[n] !== e[n])
                return t[n] - e[n];
            n++
        }
        return n < r ? 1 : n < i ? -1 : 0
    }
      , J = function(t) {
        return parseInt($(t).slice(1), 16)
    }
      , K = function(t) {
        for (var e = $(t).slice(1), n = 6 - e.length; n > 0; )
            e = "0" + e,
            n--;
        return "#" + e
    }
      , $ = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = function(t) {
            return "#ffffff" === t.toLowerCase() ? "#fefefe" : t
        };
        if (Number.isInteger(t))
            return e("#" + Number(t).toString(16));
        var n = t.match(/rgb\([\s]*(\d+)[\s]*,[\s]*(\d+)[\s]*,[\s]*(\d+)[\s]*\)/i)
          , r = function(t) {
            var e = parseInt(t, 10).toString(16);
            return 2 !== e.length ? "0" + e : e
        };
        return n ? e("#" + r(n[1]) + r(n[2]) + r(n[3])) : (t && "#" !== t[0] && (t = "#" + t),
        isNaN(parseInt(t.slice(1), 16)) ? "#fefefe" : (4 === t.length && (t = "#".concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2]).concat(t[3]).concat(t[3])),
        e(t || "#fefefe")))
    }
      , X = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , e = null
          , n = new Promise((function(n) {
            return e = setTimeout(n, t)
        }
        ));
        return n.cancel = function() {
            return clearTimeout(e)
        }
        ,
        n
    }
      , Q = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
          , n = Object(s.c)()
          , r = function(t) {
            var e = n.time.events
              , r = function() {}
              , i = new Promise((function(n) {
                var i = e.add(t, n);
                r = function() {
                    return e.remove(i)
                }
            }
            ));
            return i.cancel = r,
            i
        };
        if (!t)
            return Promise.resolve();
        var i = r(t)
          , a = X(t)
          , o = e ? [a] : [i, a];
        return Promise.race(o).finally((function() {
            i && i.cancel(),
            a && a.cancel()
        }
        ))
    }
      , tt = function() {
        var t, e, n = (e = new RegExp("(^| )SYPauth=([^;]*)(;|$)"),
        (t = document.cookie.match(e)) ? decodeURI(t[2]) : null);
        if (n) {
            var r = n.indexOf("|");
            n = n.substring(0, r)
        }
        return n || ""
    }
      , et = function() {
        var t = (new Date).getTime();
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
            var n = (t + 16 * Object(y.u)()) % 16 | 0;
            return t = Math.floor(t / 16),
            ("x" == e ? n : 3 & n | 8).toString(16)
        }
        ))
    }
      , nt = function() {
        if ("android" === o.a.client) {
            var t = navigator.userAgent.match(/[0-9A-Za-z]{8}-[0-9A-Za-z]{4}-[0-9A-Za-z]{4}-[0-9A-Za-z]{4}-[0-9A-Za-z]{12}/g);
            return t ? t[0] : ""
        }
        if ("ios" === o.a.client) {
            var e = navigator.userAgent.match(/[0-9A-Za-z]{40}/g);
            return e ? e[0] : ""
        }
        return ""
    }
      , rt = document.createElement("canvas")
      , it = function(t) {
        var e = rt.getContext("2d")
          , n = rt.width
          , r = rt.height
          , i = t.width
          , a = t.height;
        return e.clearRect(0, 0, n, r),
        rt.width = i,
        rt.height = a,
        e.drawImage(t, 0, 0, i, a),
        e.getImageData(0, 0, i, a)
    }
      , at = function(t, e) {
        Object(u.c)(e) || (e = document.createElement("canvas"));
        var n = e.getContext("2d");
        return e.width = t.width,
        e.height = t.height,
        n.putImageData(t, 0, 0),
        e
    }
      , ot = function() {
        return window.innerWidth || window.documentElement.clientWidth || window.document.body.clientWidth || 0
    }
      , st = function() {
        return window.innerHeight || window.documentElement.clientHeight || window.document.body.clientHeight || 0
    }
      , ut = function(t, e) {
        var n, r = Object(c.i)(), a = Object(c.m)(), o = Object(c.j)(), s = Object(c.k)(), u = Object(c.h)(), l = Object(c.l)();
        return Object.assign(t, (n = {},
        i()(n, r, p(e[r])),
        i()(n, a, p(e[a])),
        i()(n, o, p(e[o])),
        i()(n, s, p(e[s])),
        i()(n, u, p(e[u])),
        i()(n, l, p(e[l])),
        n))
    }
      , ct = function() {
        return 3
    }
      , lt = function(t) {
        for (var e = [], n = 2; n < t; n++) {
            for (var r = !0, i = 2; i < n; i++)
                if (n % i == 0) {
                    r = !1;
                    break
                }
            r && e.push(n)
        }
        return e
    }
      , dt = function(t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1
          , r = lt(Math.min(t.length, 500))
          , i = t.split("");
        return r.forEach((function(t) {
            var r = i[t].charCodeAt();
            i.splice(t, 1, 1 === e ? Object(w.a)(r - n) : Object(w.a)(r + n))
        }
        )),
        i.join("")
    }
      , ft = function() {
        for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 6, e = "0123456789abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz", n = e.length, r = "", i = 0; i < t; i++)
            r += e[Math.floor(Math.random() * n)] || "3";
        return r
    }
      , ht = 0;
    function pt() {}
    function vt(t) {
        var e, n, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = arguments.length > 2 ? arguments[2] : void 0, a = r.prefix || "__jp", o = r.name || a + ht++, s = r.param || "callback", u = null != r.timeout ? r.timeout : 6e4, c = encodeURIComponent, l = document.getElementsByTagName("script")[0] || document.head;
        function d() {
            e.parentNode && e.parentNode.removeChild(e),
            window[o] = pt,
            n && clearTimeout(n)
        }
        function f() {
            window[o] && d()
        }
        return u && (n = setTimeout((function() {
            d(),
            i && i(new Error("Timeout"))
        }
        ), u)),
        window[o] = function(t) {
            d(),
            i && i(null, t)
        }
        ,
        t = (t += (~t.indexOf("?") ? "&" : "?") + s + "=" + c(o)).replace("?&", "?"),
        (e = document.createElement("script")).src = t,
        l.parentNode.insertBefore(e, l),
        f
    }
    function gt(t) {
        if (Worker)
            return x.c(t);
        var e, n, r = function(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
              , n = null
              , r = new Uint8Array(t);
            if (e !== r[1]) {
                var i = {};
                return i[P[1]] = !0,
                i
            }
            var a = R(r)
              , o = S()(a, 2)
              , s = o[0]
              , u = o[1];
            r = new Uint8Array(r.subarray(u));
            for (var c = s.length; c--; ) {
                var l = s[c];
                switch (l[0]) {
                case 0:
                    n = C(l);
                    break;
                case 1:
                    E(l, r);
                    break;
                case 2:
                    A(l, r)
                }
            }
            var d = {};
            return d[P[2]] = n,
            d[P[3]] = r[P[3]],
            d
        }(t);
        return t = r.buffer,
        e = r.md5,
        r.errorType ? Promise.reject(-1) : (t = Object(a.inflate)(t, {
            to: "arraybuffer"
        }).buffer,
        (n = new Blob([t]),
        new Promise((function(t) {
            var e = 2097152
              , r = Math.ceil(n.size / e)
              , i = new _.a.ArrayBuffer
              , a = new FileReader
              , o = 0;
            function s() {
                var t = o * e
                  , r = t + e >= n.size ? n.size : t + e;
                a.readAsArrayBuffer(n.slice(t, r))
            }
            a.onload = function(e) {
                i.append(e.target.result),
                ++o < r ? s() : t(i.end())
            }
            ,
            a.onerror = function() {
                console.warn("oops, something went wrong."),
                t(null)
            }
            ,
            s()
        }
        ))).then((function(n) {
            return n !== e ? Promise.reject(-1) : t
        }
        )).catch((function(t) {
            return console.error(t),
            Promise.reject(t)
        }
        )))
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
}
, function(t, e, n) {
    n.d(e, "c", (function() {
        return m
    }
    )),
    n.d(e, "d", (function() {
        return y
    }
    )),
    n.d(e, "e", (function() {
        return b
    }
    )),
    n.d(e, "g", (function() {
        return w
    }
    )),
    n.d(e, "f", (function() {
        return x
    }
    )),
    n.d(e, "m", (function() {
        return k
    }
    )),
    n.d(e, "j", (function() {
        return _
    }
    )),
    n.d(e, "k", (function() {
        return O
    }
    )),
    n.d(e, "i", (function() {
        return S
    }
    )),
    n.d(e, "h", (function() {
        return P
    }
    )),
    n.d(e, "l", (function() {
        return C
    }
    )),
    n.d(e, "b", (function() {
        return E
    }
    )),
    n.d(e, "a", (function() {
        return j
    }
    )),
    n(63),
    n(25),
    n(31),
    n(28),
    n(18),
    n(32);
    var r = n(3)
      , i = n(59)
      , a = n(10)
      , o = [102, 114, 111, 109, 67, 104, 97, 114, 67, 111, 100, 101][r.z]((function(t, e) {
        return t + Object(a.a)(e)
    }
    ), "")
      , s = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        return t[r.z]((function(t, e) {
            return t + String[o](e)
        }
        ), "")
    }
      , u = {}
      , c = {}
      , l = {}
      , d = {
        va: 0,
        sa: 1,
        st: 2,
        pa: 3,
        in: 4,
        sy: 5
    }
      , f = {}
      , h = Object.keys(d);
    h.forEach((function(t) {
        return f[t] = Object(i.a)()
    }
    ));
    var p = {
        0: [118, 97, 108, 117, 101, 115],
        1: [115, 97, 118, 101, 100, 86, 97, 108, 117, 101, 115],
        2: [115, 116, 114, 105, 110, 103, 86, 97, 108, 117, 101, 115],
        3: [112, 97, 121, 86, 97, 108, 117, 101, 115],
        4: [105, 110, 100, 101, 120, 86, 97, 108, 117, 101, 115],
        5: [115, 121, 115, 116, 101, 109, 86, 97, 108, 117, 101, 115]
    }
      , v = {
        0: [112, 99, 71, 101, 116, 80, 97, 121, 86, 97, 108, 117, 101, 115, 66, 121, 68, 121, 110, 97, 109, 105, 99, 107, 101, 121, 85, 114, 108],
        1: [97, 112, 112, 71, 101, 116, 80, 97, 121, 86, 97, 108, 117, 101, 115, 66, 121, 68, 121, 110, 97, 109, 105, 99, 107, 101, 121, 85, 114, 108],
        2: [112, 99, 83, 97, 118, 101, 80, 97, 121, 86, 97, 108, 117, 101, 115, 66, 121, 68, 121, 110, 97, 109, 105, 99, 107, 101, 121, 85, 114, 108],
        3: [97, 112, 112, 83, 97, 118, 101, 80, 97, 121, 86, 97, 108, 117, 101, 115, 66, 121, 68, 121, 110, 97, 109, 105, 99, 107, 101, 121, 85, 114, 108],
        4: [100, 81, 107, 99, 80, 51, 113, 69, 87, 104, 52, 48, 76, 52, 57, 106, 99, 118, 57, 109, 98, 89, 114, 75],
        5: [53, 99, 48, 119, 106, 49, 86, 75, 51, 81, 107, 84, 49, 116, 71, 68, 48, 52, 67, 97, 56, 107, 81, 112],
        6: [33719, 21462, 29992, 25143, 25968, 20540, 24322, 24120, 38169, 35823],
        7: [116, 111, 66, 97, 115, 101, 54, 52],
        8: [29992, 25143, 25968, 25454, 20445, 23384, 20113, 31471, 25104, 21151, 65281],
        9: [29992, 25143, 25968, 25454, 20445, 23384, 26412, 22320, 25104, 21151, 65281],
        10: [29992, 25143, 27979, 35797, 25968, 25454, 20445, 23384, 20113, 31471, 25104, 21151, 65281],
        11: [29992, 25143, 25968, 25454, 26080, 27861, 20445, 23384, 65292, 35831, 26816, 26597, 32593, 32476, 21518, 37325, 35797],
        12: [29992, 25143, 25968, 25454, 26080, 27861, 20445, 23384, 65292, 35831, 22312, 32593, 32476, 24674, 22797, 21518, 37325, 26032, 25805, 20316],
        13: [100, 81, 107, 99, 80, 51, 113, 69, 87, 104, 52, 48, 76, 52, 57, 106, 99, 118, 57, 109, 98, 89, 114, 75],
        14: [33719, 21462, 29992, 25143, 25968, 20540, 24322, 24120, 38169, 35823, 65292, 35831, 22312, 32593, 32476, 24674, 22797, 21518, 37325, 26032, 25805, 20316],
        15: [29992, 25143, 27979, 35797, 25968, 25454, 20445, 23384, 26412, 22320, 25104, 21151, 65281],
        16: [29992, 25143, 25968, 25454, 26080, 27861, 20445, 23384, 65292, 35831, 22312, 32593, 32476, 24674, 22797, 21518, 37325, 26032, 25805, 20316],
        17: [115, 104, 97, 110, 121, 105, 95, 87, 68, 70, 35, 36, 72, 42, 35, 83, 74, 78, 42, 38, 71, 36, 38, 42, 42],
        18: [48, 71, 106, 82, 65, 116, 85, 85, 111, 75, 52, 66, 119, 74, 71, 85, 122, 55, 51, 106, 66, 97, 50, 77],
        19: [28201, 39336, 25552, 37266, 65306, 30331, 24405, 21518, 25165, 21487, 20197, 21516, 27493, 29992, 25143, 25968, 25454, 21734, 65374],
        20: [29992, 25143, 25968, 25454, 26080, 27861, 20445, 23384, 21516, 27493, 65292, 35831, 26816, 26597, 32593, 32476, 21518, 37325, 26032, 24320, 22987, 65374],
        21: [20026, 20102, 26356, 22909, 22320, 35266, 30475, 20307, 39564, 65292, 35831, 21319, 32423, 26368, 26032, 29256, 97, 112, 112, 25165, 25903, 25345, 31163, 32447, 35266, 30475],
        22: [20986, 29616, 26410, 30693, 25968, 20540, 25805, 20316, 65292, 35831, 32852, 31995, 20316, 32773, 26816, 26597, 20462, 25913, 44, 35831, 21247, 36827, 34892, 20184, 36153, 25805, 20316, 65281],
        23: [67, 97, 110, 110, 111, 116, 32, 102, 105, 110, 100, 32, 118, 97, 108, 117, 101, 47, 115, 97, 118, 101, 100, 86, 97, 108, 117, 101, 32, 119, 105, 116, 104, 32, 117, 117, 105, 100, 32, 61, 32],
        24: [27714, 20313, 38500, 25968, 19981, 33021, 20026, 32, 48],
        25: [91, 26410, 30693, 25968, 20540, 93],
        26: [117, 110, 107, 110, 111, 119, 110, 32, 105, 110, 105, 116, 32, 116, 121, 112, 101],
        27: [32593, 32476, 36830, 25509, 22833, 36133, 65292, 35831, 26816, 26597, 24182, 37325, 26032, 36830, 25509, 32593, 32476, 65292, 36339, 36807, 21518, 21095, 24773, 32487, 32493, 20294, 26080, 27861, 23384, 26723, 126],
        28: [118, 97, 108, 117, 101, 86, 101, 114],
        29: [65292, 20851, 38381, 25773, 25918, 22120, 21527, 65311],
        30: [25773, 25918, 22120, 24322, 24120],
        31: [103, 101, 116, 80, 97, 121, 86, 97, 108, 117, 101, 115, 66, 121, 84, 101, 115, 116, 85, 114, 108],
        32: [115, 97, 118, 101, 80, 97, 121, 86, 97, 108, 117, 101, 115, 66, 121, 84, 101, 115, 116, 85, 114, 108]
    }
      , g = {
        "0_0": [100, 101, 51, 107, 116, 124, 106, 113, 124, 102, 100, 99, 103, 106, 95, 124],
        "0_1": [102, 102, 95, 124, 112, 102, 124, 35, 37, 64, 102, 119, 95, 106, 43, 113],
        "1_0": [87, 68, 70, 35, 36, 72, 42, 35, 83, 74, 78, 42, 38, 71, 36, 38],
        "1_1": [74, 72, 38, 36, 71, 70, 36, 68, 82, 37, 42, 75, 64, 83, 67, 37],
        "2_0": [97, 68, 70, 35, 36, 72, 71, 70, 36, 68, 78, 42, 38, 71, 36, 101],
        "2_1": [98, 72, 38, 36, 71, 70, 36, 68, 99, 70, 35, 36, 72, 83, 67, 102],
        "3_0": [99, 71, 113, 36, 35, 75, 72, 112, 36, 70, 98, 42, 38, 101, 36, 84],
        "3_1": [82, 103, 38, 36, 77, 78, 36, 86, 66, 121, 35, 36, 75, 74, 89, 103],
        "4_0": [97, 68, 70, 35, 36, 72, 42, 35, 100, 74, 78, 42, 38, 71, 36, 101],
        "4_1": [98, 72, 38, 36, 71, 70, 36, 68, 99, 37, 42, 75, 64, 83, 67, 102],
        "5_0": [53, 119, 115, 66, 49, 89, 94, 97, 50, 89, 64, 83, 98, 115, 98, 100],
        "5_1": [107, 102, 76, 64, 33, 101, 106, 116, 85, 104, 36, 116, 66, 33, 51, 80],
        "6_0": [120, 105, 97, 109, 101, 110, 115, 104, 97, 110, 121, 105, 52, 51, 57, 57]
    }
      , m = function(t) {
        return u[t] ? u[t] : u[t] = s(v[t]) || ""
    }
      , y = function(t) {
        return c[t] ? c[t] : c[t] = s(g[t]) || ""
    }
      , b = function(t) {
        return l[t] ? l[t] : l[t] = s(p[t]) || ""
    }
      , w = function(t) {
        return f[t.substr(0, 2)] || ""
    }
      , x = function(t) {
        var e = h.find((function(e) {
            return f[e] == t
        }
        ));
        return e ? l[t] ? l[t] : l[t] = s(p[d[e]]) || t : t
    }
      , k = function() {
        return f[h[0]]
    }
      , _ = function() {
        return f[h[1]]
    }
      , O = function() {
        return f[h[2]]
    }
      , S = function() {
        return f[h[3]]
    }
      , P = function() {
        return f[h[4]]
    }
      , C = function() {
        return f[h[5]]
    }
      , E = "a"[r.e]()
      , j = "A"[r.e]()
}
, function(t, e, n) {
    n.d(e, "j", (function() {
        return o
    }
    )),
    n.d(e, "a", (function() {
        return s
    }
    )),
    n.d(e, "e", (function() {
        return u
    }
    )),
    n.d(e, "p", (function() {
        return l
    }
    )),
    n.d(e, "o", (function() {
        return d
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    )),
    n.d(e, "n", (function() {
        return h
    }
    )),
    n.d(e, "c", (function() {
        return p
    }
    )),
    n.d(e, "m", (function() {
        return v
    }
    )),
    n.d(e, "l", (function() {
        return g
    }
    )),
    n.d(e, "q", (function() {
        return m
    }
    )),
    n.d(e, "r", (function() {
        return y
    }
    )),
    n.d(e, "k", (function() {
        return x
    }
    )),
    n.d(e, "h", (function() {
        return b
    }
    )),
    n.d(e, "d", (function() {
        return w
    }
    )),
    n.d(e, "g", (function() {
        return k
    }
    )),
    n.d(e, "f", (function() {
        return _
    }
    )),
    n.d(e, "i", (function() {
        return O
    }
    )),
    n(31),
    n(28),
    n(32),
    n(68),
    n(215),
    n(29),
    n(30),
    n(18),
    n(39),
    n(73),
    n(52),
    n(67);
    var r = n(3)
      , i = window.navigator.userAgent
      , a = i.toLowerCase()
      , o = function() {
        return !!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)
    }
      , s = function() {
        return !!(i.indexOf("Android") > -1 || i.indexOf("Adr") > -1)
    }
      , u = function() {
        return !/(iPhone|iPad|iPod|iOS|Android|SymbianOS|Windows Phone)/i.test(i)
    }
      , c = Object.prototype.toString
      , l = function(t) {
        return "[object String]" === c[r.a](t)
    }
      , d = function(t) {
        return "[object Object]" === c[r.a](t)
    }
      , f = function(t) {
        return "[object Array]" === c[r.a](t)
    }
      , h = function(t) {
        return "number" == typeof t && !Number.isNaN(t)
    }
      , p = function(t) {
        return "[object HTMLCanvasElement]" === c[r.a](t)
    }
      , v = function(t) {
        return function(t) {
            return null === t
        }(t) || function(t) {
            return void 0 === t
        }(t)
    }
      , g = function() {
        return o() && 812 === window.screen.height && 375 === window.screen.width
    }
      , m = function() {
        return a[r.m]("ucbrowser")
    }
      , y = function() {
        return a[r.m]("micromessenger")
    }
      , b = function() {
        return a[r.m]("firefox")
    }
      , w = function() {
        return a[r.m]("chrome")
    }
      , x = function() {
        return top.location !== self.location
    }
      , k = function(t) {
        return 0 === Object.keys(t).length
    }
      , _ = function(t) {
        return 0 === t.length
    }
      , O = function() {
        return i.indexOf("MSIE ") > 0 || i.indexOf("Trident/") > 0 || i.indexOf("Edge/") > 0
    }
}
, function(t, e) {
    function n(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    t.exports = function(t, e, r) {
        return e && n(t.prototype, e),
        r && n(t, r),
        t
    }
}
, function(t, e, n) {
    n.d(e, "e", (function() {
        return l
    }
    )),
    n.d(e, "b", (function() {
        return d
    }
    )),
    n.d(e, "a", (function() {
        return f
    }
    )),
    n.d(e, "d", (function() {
        return h
    }
    )),
    n.d(e, "c", (function() {
        return p
    }
    )),
    n(46),
    n(51),
    n(55);
    var r = "re8e".replace(/\d/, "plac")
      , i = "fro1ode"[r]("1", "mCharC")
      , a = "j2n"[r]("2", "oi")
      , o = "re0se"[r]("0", "ver")
      , s = "s1t"[r]("1", "pli")
      , u = "4ap"[r]("4", "m")
      , c = "ch9t"[r]("9", "arCodeA")
      , l = function(t) {
        return t[s]("")[o]()[a]("")
    }
      , d = function(t) {
        return t[u]((function(t) {
            return String[i](t)
        }
        ))[a]("")
    }
      , f = String[i];
    function h(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        return t[o](),
        t = t[u]((function(t) {
            return t + e
        }
        )),
        d(t)
    }
    function p(t) {
        for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = "", r = 0, i = t.length; r < i; r++)
            n += f(t[c](r) - e);
        return n
    }
}
, function(t, e, n) {
    n.d(e, "c", (function() {
        return x
    }
    )),
    n.d(e, "e", (function() {
        return k
    }
    )),
    n.d(e, "d", (function() {
        return _
    }
    )),
    n.d(e, "f", (function() {
        return O
    }
    )),
    n.d(e, "b", (function() {
        return P
    }
    )),
    n.d(e, "a", (function() {
        return C
    }
    )),
    n(47);
    var r, i = n(6), a = n.n(i), o = n(9), s = n.n(o), u = n(14), c = n.n(u), l = (n(39),
    n(31),
    n(28),
    n(18),
    n(32),
    n(25),
    n(1)), d = n.n(l), f = n(16), h = n.n(f), p = n(59), v = n(3), g = n(2), m = function(t, e, n, r) {
        !t || r[t] && ("spine" !== e || r[t]) || (n.push({
            url: t,
            type: e
        }),
        r[t] = e)
    }, y = {
        g6Hsa9WoK8: 1,
        UGTmkxnxi: 1,
        SHANexit: 1,
        SHANcharge: 1
    }, b = [Object(p.a)(), Object(p.a)()], w = (r = {},
    d()(r, b[0], null),
    d()(r, b[1], null),
    r);
    function x() {
        return w[b[0]]
    }
    function k(t) {
        w[b[0]] = t
    }
    function _() {
        return w[b[1]]
    }
    function O(t) {
        var e;
        e = t.viewMap,
        Object.keys(e).forEach((function(t) {
            var n = e[t].name || "";
            e[t] = h()(e[t], {
                name: {
                    $set: y[n] ? n : ""
                }
            })
        }
        )),
        w[b[1]] = t
    }
    var S = {};
    function P(t) {
        Object.keys(t).forEach((function(e) {
            S[e] = function(t) {
                var e = {};
                return t.forEach((function(t, n) {
                    var r = t.uuid
                      , i = t.id;
                    e[r] = n,
                    i && (e[i] = [].concat(c()(e[i] || []), [n])),
                    e[0] = [].concat(c()(e[0] || []), [n])
                }
                )),
                e
            }(t[e])
        }
        ))
    }
    var C = function() {
        function t() {
            a()(this, t)
        }
        return s()(t, null, [{
            key: "getAssets",
            value: function(t) {
                var e = {}
                  , n = []
                  , r = function(t) {
                    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
                    return m(t, r, n, e)
                }
                  , i = t.cover || {}
                  , a = i.music
                  , o = i.background;
                return a && r(a.url, "audio"),
                o && r(o.url),
                n
            }
        }, {
            key: "getFirstChapter",
            value: function(t) {
                return function t(e) {
                    for (var n = e.length, r = 0; r < n; r++) {
                        var i = e[r]
                          , a = i.plots
                          , o = void 0 === a ? [] : a
                          , s = i.md5;
                        if (o.length || s)
                            return i;
                        if (i.subchapters.length) {
                            var u = t(i.subchapters);
                            if (u)
                                return u
                        }
                    }
                }(t.chapters)
            }
        }, {
            key: "getChapterByUUID",
            value: function(e, n) {
                var r = {};
                return e.chapters.forEach((function t(e) {
                    r[e.uuid] = e,
                    e.subchapters.length > 0 && e.subchapters.forEach((function(t) {
                        return t.parentChapterUuid = e.uuid
                    }
                    )),
                    (e.subchapters || []).forEach(t)
                }
                )),
                t.getChapterByUUID = function(t, e) {
                    return r[e]
                }
                ,
                t.getChapterByUUID(e, n)
            }
        }, {
            key: "getRecordChapterNameByUUID",
            value: function(e, n) {
                if (!n)
                    return "";
                var r = t.getChapterByUUID(e, n)
                  , i = "";
                if (r)
                    if (r.parentChapterUuid) {
                        var a = t.getChapterByUUID(e, r.parentChapterUuid);
                        i = a ? a.name + "-" + r.name : r.name
                    } else
                        i = r.name;
                return i
            }
        }, {
            key: "fix",
            value: function(t) {
                if (t.valueVer)
                    return t;
                var e = g.K + "s";
                return t[e] = t[e] || [],
                t[e] = t[e][v.r]((function(n, r) {
                    return t[e][r] ? Object.assign({}, n, t[e][r]) : n
                }
                )),
                e = g.q + "s",
                t[e] = t[e] || [],
                t
            }
        }, {
            key: "getJumpAndInsertChapterUuids",
            value: function(t) {
                var e = {}
                  , n = function t(n) {
                    for (var r = 0, i = n.length; r < i; r++) {
                        var a = n[r]
                          , o = a.type
                          , s = a.args;
                        if ("insert" === o || "jump" === o)
                            e[s[0]] = o;
                        else if ("options" === o || "conditionOptions" === o)
                            for (var u = 0, c = s.length; u < c; u++)
                                t(s[u].commands)
                    }
                };
                return function t(r) {
                    for (var i = 0, a = r.length; i < a; i++) {
                        var o = r[i]
                          , s = o.jump
                          , u = o.insert
                          , c = o.commands
                          , l = o.options
                          , d = void 0 === l ? [] : l
                          , f = o.condition_options
                          , h = void 0 === f ? [] : f;
                        if (c)
                            n(c);
                        else {
                            s && (e[s] = "jump"),
                            u && (e[u] = "insert");
                            for (var p = 0, v = d.length; p < v; p++)
                                t(d[p].plots);
                            for (var g = 0, m = h.length; g < m; g++)
                                t(h[g].plots)
                        }
                    }
                }(t.plots),
                Object.keys(e)
            }
        }, {
            key: "getChapterRefMap",
            value: function(t) {
                var e = t.chapter
                  , n = t.plots
                  , r = t.commands
                  , i = t.mark
                  , a = {}
                  , o = !i
                  , s = function(t) {
                    return o && (a[t] = (a[t] || 0) + 1)
                }
                  , u = function t(e) {
                    for (var n = 0, r = e.length; n < r; n++) {
                        var a = e[n]
                          , u = a.type
                          , c = a.args
                          , l = a.uuid;
                        if (i && !o && (o = i === l),
                        "insert" === u || "jump" === u)
                            s(c[0]);
                        else if ("options" === u || "conditionOptions" === u)
                            for (var d = 0, f = c.length; d < f; d++)
                                t(c[d].commands)
                    }
                }
                  , c = function t(e) {
                    for (var n = 0, r = e.length; n < r; n++) {
                        var a = e[n]
                          , c = a.uuid
                          , l = a.jump
                          , d = a.insert
                          , f = a.commands
                          , h = a.options
                          , p = void 0 === h ? [] : h
                          , v = a.condition_options
                          , g = void 0 === v ? [] : v;
                        if (i && !o && (o = i === c),
                        f)
                            u(f);
                        else {
                            l && s(l),
                            d && s(d);
                            for (var m = 0, y = p.length; m < y; m++)
                                t(p[m].plots);
                            for (var b = 0, w = g.length; b < w; b++)
                                t(g[b].plots)
                        }
                    }
                };
                return e && c(e.plots),
                n && c(n),
                r && u(r),
                a
            }
        }, {
            key: "gameValuesMap",
            get: function() {
                return S
            }
        }]),
        t
    }()
}
, function(t, e, n) {
    n.d(e, "e", (function() {
        return a
    }
    )),
    n.d(e, "d", (function() {
        return o
    }
    )),
    n.d(e, "c", (function() {
        return s
    }
    )),
    n.d(e, "a", (function() {
        return u
    }
    )),
    n.d(e, "b", (function() {
        return c
    }
    )),
    n.d(e, "o", (function() {
        return l
    }
    )),
    n.d(e, "g", (function() {
        return d
    }
    )),
    n.d(e, "m", (function() {
        return f
    }
    )),
    n.d(e, "w", (function() {
        return h
    }
    )),
    n.d(e, "u", (function() {
        return p
    }
    )),
    n.d(e, "t", (function() {
        return v
    }
    )),
    n.d(e, "l", (function() {
        return g
    }
    )),
    n.d(e, "f", (function() {
        return m
    }
    )),
    n.d(e, "n", (function() {
        return y
    }
    )),
    n.d(e, "p", (function() {
        return b
    }
    )),
    n.d(e, "h", (function() {
        return w
    }
    )),
    n.d(e, "i", (function() {
        return x
    }
    )),
    n.d(e, "j", (function() {
        return k
    }
    )),
    n.d(e, "k", (function() {
        return _
    }
    )),
    n.d(e, "q", (function() {
        return O
    }
    )),
    n.d(e, "r", (function() {
        return S
    }
    )),
    n.d(e, "s", (function() {
        return P
    }
    )),
    n.d(e, "v", (function() {
        return C
    }
    )),
    n(81),
    n(40),
    n(31),
    n(28),
    n(32),
    n(47),
    n(142),
    n(35),
    n(18);
    var r = Math
      , i = JSON
      , a = Promise
      , o = Object
      , s = Function
      , u = Array
      , c = Error
      , l = location
      , d = console
      , f = setInterval
      , h = setTimeout
      , p = r.random
      , v = parseInt
      , g = o.freeze
      , m = o.assign
      , y = o.keys
      , b = d.log
      , w = (o.defineProperty,
    Date)
      , x = w.now
      , k = eval
      , _ = r.floor
      , O = r.max
      , S = r.min
      , P = i.parse
      , C = i.stringify
}
, function(t, e) {
    function n(e) {
        return t.exports = n = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        ,
        n(e)
    }
    t.exports = n
}
, function(t, e, n) {
    var r = n(180)
      , i = n(181)
      , a = n(182);
    t.exports = function(t) {
        return r(t) || i(t) || a()
    }
}
, function(t, e, n) {
    n.d(e, "a", (function() {
        return h
    }
    )),
    n(51),
    n(35),
    n(18);
    var r = n(6)
      , i = n.n(r)
      , a = n(9)
      , o = n.n(a)
      , s = n(0)
      , u = n(8)
      , c = n(5)
      , l = n(24)
      , d = (n(235),
    !1)
      , f = s.a.vertical
      , h = function() {
        function t() {
            i()(this, t)
        }
        return o()(t, null, [{
            key: "clearDialog",
            value: function() {
                if (d) {
                    var t = document.getElementsByClassName("ModalContainer");
                    t && document.body.removeChild(t[0]),
                    d = !1
                }
            }
        }, {
            key: "showDialog",
            value: function(t) {
                var e = t.title
                  , n = t.data
                  , r = t.type
                  , i = t.okTxt
                  , a = t.cancelTxt
                  , o = t.noSendX
                  , s = t.cdTime
                  , h = t.cdType
                  , p = t.noneX
                  , v = void 0 !== p && p
                  , g = t.buttons
                  , m = t.timer;
                return !d && (d = !0),
                new Promise((function(t, p) {
                    var y = function() {
                        document.documentElement.style.fontSize = "",
                        Object(u.e)() || (Object(c.n)() <= Object(c.m)() ? x.style.transform = f ? "rotate(0)" : "rotate(90deg)" : x.style.transform = f ? "rotate(90deg)" : "rotate(0)")
                    }
                      , b = function(e, n) {
                        document.body.removeChild(w),
                        d = !1,
                        e ? t(n) : p(n)
                    }
                      , w = document.createElement("div");
                    w.classList.add("ModalContainer"),
                    document.body.appendChild(w);
                    var x = document.createElement("div");
                    x.classList.add("ModalPortal"),
                    w.appendChild(x);
                    var k = document.createElement("div");
                    k.classList.add("Title"),
                    x.appendChild(k);
                    var _ = document.createElement("span");
                    _.style.fontSize = "16px",
                    _.innerText = e,
                    k.appendChild(_);
                    var O = document.createElement("span");
                    O.classList.add("spaceSpan"),
                    k.appendChild(O);
                    var S = document.createElement("span");
                    S.classList.add("Close"),
                    S.innerText = "×",
                    !v && k.appendChild(S);
                    var P = document.createElement("div");
                    P.classList.add("Content"),
                    x.appendChild(P);
                    var C = document.createElement("div");
                    C.classList.add(r || "ContentData"),
                    P.appendChild(C);
                    var E = n.split("<tip>");
                    if (E.length > 1) {
                        C.innerText = E[0];
                        var j = document.createElement("div");
                        j.classList.add("tipData"),
                        P.appendChild(j),
                        j.innerText = E[1]
                    } else
                        C.innerText = n;
                    if (m) {
                        var A = document.createElement("span");
                        A.classList.add("timer"),
                        A.style.fontSize = "14px",
                        A.innerText = l.a.format(1e3 * l.a.getCurDate()),
                        P.appendChild(A)
                    }
                    var I = document.createElement("div");
                    if (I.classList.add("Buttons"),
                    P.appendChild(I),
                    g) {
                        var R = g.b1Text
                          , T = g.b2Text
                          , M = g.b3Text
                          , D = document.createElement("button")
                          , B = document.createElement("button")
                          , U = document.createElement("button");
                        D.classList.add("ButtonOk"),
                        B.classList.add("ButtonsCancel"),
                        U.classList.add("ButtonOther"),
                        D.innerText = R,
                        B.innerText = T,
                        U.innerText = M,
                        I.appendChild(D),
                        I.appendChild(B),
                        I.appendChild(U),
                        D.onclick = function() {
                            return b(!0, "0")
                        }
                        ,
                        U.onclick = function() {
                            return b(!0, "1")
                        }
                        ,
                        U.onclick = function() {
                            return b(!0, "2")
                        }
                    } else {
                        var z = document.createElement("button")
                          , L = document.createElement("button");
                        if (z.classList.add("ButtonOk"),
                        L.classList.add("ButtonsCancel"),
                        z.innerText = i || "确定",
                        L.innerText = a || "取消",
                        I.appendChild(z),
                        I.appendChild(L),
                        z.onclick = function() {
                            return b(!0, "ok")
                        }
                        ,
                        L.onclick = function() {
                            return b(!1, o ? "cancel" : "close")
                        }
                        ,
                        s) {
                            var V = function t(e, n, r) {
                                var i = n <= 0;
                                e.removeAttribute("disabled", !i),
                                e.style.background = i ? "#00bbb8" : "#8c8c8c",
                                e.style.backgroundColor = i ? "#00bbb8" : "#8c8c8c",
                                e.style.border = i ? "#00bbb8" : "#FFFFFF",
                                e.style.color = i ? "#FFFFFF" : "#8c8c8c",
                                e.innerText = i ? r : n,
                                --n || setTimeout((function() {
                                    return t(e, n, r)
                                }
                                ), 1e3)
                            };
                            0 == h ? V(z, s, z.innerText) : 1 == h ? V(L, s, L.innerText) : 2 == h && (V(z, s, z.innerText),
                            V(L, s, L.innerText))
                        }
                    }
                    y(),
                    window.onresize = function() {
                        return y()
                    }
                    ,
                    S.onclick = function() {
                        return b(!1, "close")
                    }
                }
                ))
            }
        }, {
            key: "info",
            value: function(t) {
                if (!d)
                    return this.showDialog({
                        title: "提示",
                        data: t,
                        type: "Info"
                    })
            }
        }, {
            key: "warn",
            value: function(t) {
                if (!d)
                    return this.showDialog({
                        title: "警告",
                        data: t,
                        type: "Warn"
                    })
            }
        }, {
            key: "error",
            value: function(t) {
                if (!d)
                    return this.showDialog({
                        title: "错误",
                        data: t,
                        type: "Error"
                    })
            }
        }, {
            key: "custom",
            value: function(t, e, n, r, i, a, o, s, u, c, l) {
                return d ? Promise.reject() : this.showDialog({
                    title: n,
                    data: e,
                    type: t,
                    okTxt: r,
                    cancelTxt: i,
                    noSendX: a,
                    cdTime: o,
                    cdType: s,
                    noneX: u,
                    buttons: c,
                    timer: l
                })
            }
        }, {
            key: "dialogIsShow",
            get: function() {
                return d
            }
        }]),
        t
    }()
}
, function(t, e, n) {
    t.exports = n(75)(47)
}
, function(t, e) {
    t.exports = function(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
}
, function(t, e, n) {
    var r = n(110)
      , i = {};
    i[n(54)("toStringTag")] = "z",
    i + "" != "[object z]" && n(77)(Object.prototype, "toString", (function() {
        return "[object " + r(this) + "]"
    }
    ), !0)
}
, function(t, e, n) {
    n.d(e, "a", (function() {
        return p
    }
    ));
    var r = n(6)
      , i = n.n(r)
      , a = n(9)
      , o = n.n(a)
      , s = n(1)
      , u = n.n(s)
      , c = n(0)
      , l = n(48)
      , d = "ONLINE_ENVIRON"
      , f = !1
      , h = function() {
        var t = c.a.type
          , e = c.a.uuid
          , n = c.a.test
          , r = c.a.client;
        switch (t) {
        case "1":
            d = p.TEST_ENVIRON;
            break;
        case "0":
            d = p.ONLINE_ENVIRON,
            37 === e.length && "1" === e.charAt(36) && (d = p.CHECK_ENVIRON);
            break;
        case "":
            "pc" === r && (d = p.ONLINE_ENVIRON);
            break;
        default:
            d = p.OTHER_ENVIRON
        }
        return n && (d = p.TEST_ENVIRON,
        f = !0),
        h = function() {
            return d
        }
        ,
        d
    }
      , p = function() {
        function t() {
            i()(this, t)
        }
        return o()(t, null, [{
            key: "runEnviron",
            get: function() {
                return h()
            }
        }, {
            key: "runTest",
            get: function() {
                return h() === t.TEST_ENVIRON
            }
        }, {
            key: "runOnline",
            get: function() {
                return h() === t.ONLINE_ENVIRON
            }
        }, {
            key: "runCheck",
            get: function() {
                return h() === t.CHECK_ENVIRON
            }
        }, {
            key: "runOther",
            get: function() {
                return h() === t.OTHER_ENVIRON
            }
        }, {
            key: "developTest",
            get: function() {
                return f
            }
        }, {
            key: "nonDevelop",
            get: function() {
                return "commit" !== l.a
            }
        }]),
        t
    }();
    u()(p, "TEST_ENVIRON", "TEST_ENVIRON"),
    u()(p, "ONLINE_ENVIRON", "ONLINE_ENVIRON"),
    u()(p, "CHECK_ENVIRON", "CHECK_ENVIRON"),
    u()(p, "OTHER_ENVIRON", "OTHER_ENVIRON")
}
, function(t, e, n) {
    var r = n(186)
      , i = n(187)
      , a = n(188);
    t.exports = function(t, e) {
        return r(t) || i(t, e) || a()
    }
}
, function(t, e, n) {
    n(52);
    var r = {
        getSensitiveWords: function() {
            return []
        },
        typeUnlockRecords: [],
        typePayCount: [],
        typeUnlockChapters: [],
        playBackWheelEvent: !1,
        saveRecordErrorDiffUid: !1,
        isHandleInputEventing: !1,
        getFocus: !0,
        touchDown: !1,
        saveRecordFrom: "",
        mouseStyle: -1,
        setHandCursor: !1,
        filtersType: {
            grey: "grey",
            blur: "blur",
            brightness: "brightness"
        },
        watchAdCount: {},
        currentPlaybackRate: 1,
        isSupportWebp: function() {
            try {
                return document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp") > -1
            } catch (t) {
                return !1
            }
        }(),
        isSupportWebGl: function() {
            try {
                var t = document.createElement("canvas");
                return !(!window.WebGLRenderingContext || !t.getContext("webgl") && !t.getContext("experimental-webgl"))
            } catch (t) {
                return !1
            }
        }(),
        testInviteCode: {}
    };
    e.a = r
}
, function(t, e, n) {
    var r = n(73)
      , i = n(17);
    t.exports = function(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? i(t) : e
    }
}
, function(t, e, n) {
    var r = n(223);
    t.exports = function(t, e) {
        if ("function" != typeof e && null !== e)
            throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }),
        e && r(t, e)
    }
}
, function(t, e, n) {
    n.d(e, "a", (function() {
        return d
    }
    )),
    n(25);
    var r = n(6)
      , i = n.n(r)
      , a = n(9)
      , o = n.n(a)
      , s = n(1)
      , u = n.n(s)
      , c = n(115)
      , l = n.n(c)
      , d = function() {
        function t() {
            i()(this, t)
        }
        return o()(t, null, [{
            key: "getDate",
            value: function() {
                return t.timeStamp + t.passSeconds
            }
        }, {
            key: "format",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                  , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "YYYY-MM-DD HH:mm:ss";
                return l()(t).format(e)
            }
        }, {
            key: "getCurDate",
            value: function() {
                return t.timeOffset + t.getDate()
            }
        }, {
            key: "startlocal",
            value: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , r = l()().unix()
                  , i = n ? 0 : r;
                e = 0 === e ? r : e,
                t.timeOffset = e - i,
                t.passSeconds = 0
            }
        }, {
            key: "updateServerTimeStamp",
            value: function(e) {
                var n = l()().unix();
                t.timeStamp = n,
                e = 0 === e ? n : e,
                t.timeOffset = e - t.timeStamp,
                t.passSeconds = 0
            }
        }]),
        t
    }();
    u()(d, "timeCount", (function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , e = arguments.length > 1 ? arguments[1] : void 0
          , n = arguments.length > 2 ? arguments[2] : void 0
          , r = arguments.length > 3 ? arguments[3] : void 0;
        d.callbacks.push({
            callback: e,
            always: n,
            max: t,
            canback: r,
            pass: d.count
        })
    }
    )),
    u()(d, "update", (function() {
        d.passSeconds++,
        d.count++,
        d.callbacks.forEach((function(t) {
            var e = t.max
              , n = t.callback
              , r = t.always
              , i = t.canback
              , a = t.pass;
            if (d.count) {
                if (r())
                    return void n();
                (d.count - a) % e == 0 && i() && n()
            }
        }
        ))
    }
    )),
    d.timeStamp = l()().unix(),
    d.passSeconds = 0,
    d.timeOffset = 0,
    d.callbacks = [],
    d.count = 0,
    setInterval((function() {
        return d.update()
    }
    ), 1e3)
}
, function(t, e, n) {
    var r = n(45)
      , i = n(97)(0)
      , a = n(91)([].forEach, !0);
    r(r.P + r.F * !a, "Array", {
        forEach: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    n.d(e, "b", (function() {
        return S
    }
    )),
    n.d(e, "a", (function() {
        return P
    }
    )),
    n.d(e, "h", (function() {
        return C
    }
    )),
    n.d(e, "i", (function() {
        return E
    }
    )),
    n.d(e, "l", (function() {
        return j
    }
    )),
    n.d(e, "f", (function() {
        return A
    }
    )),
    n.d(e, "e", (function() {
        return I
    }
    )),
    n.d(e, "d", (function() {
        return R
    }
    )),
    n.d(e, "k", (function() {
        return T
    }
    )),
    n.d(e, "j", (function() {
        return M
    }
    )),
    n.d(e, "g", (function() {
        return B
    }
    )),
    n.d(e, "c", (function() {
        return U
    }
    )),
    n(35),
    n(39),
    n(127),
    n(67),
    n(14),
    n(51),
    n(70),
    n(29),
    n(30),
    n(18);
    var r = n(1)
      , i = n.n(r)
      , a = n(74)
      , o = n.n(a)
      , s = n(83)
      , u = n(103)
      , c = n(7)
      , l = n(10)
      , d = n(3)
      , f = o.a[Object(l.d)([0, 11, 2], 99)]
      , h = f[Object(l.d)([0, 46, 60, 29], 56)]
      , p = f[Object(l.d)([0, 61, 56, 67, 48, 27], 49)]
      , v = o.a[Object(l.d)([1, 0, 11, 9], 100)]
      , g = v[Object(l.d)([1, 0, 1], 66)]
      , m = v[Object(l.d)([0, 1, 3], 66)]
      , y = o.a[Object(l.d)([3, 0, 15], 97)][Object(l.d)([23, 30, 25, 20, 20, 17, 0, 31, 34, 21, 10], 80)]
      , b = o.a[Object(l.d)([18, 4, 0], 65)]
      , w = Object(l.d)([17, 13, 22, 15, 0, 11, 2], 99)
      , x = Object(l.d)([17, 13, 22, 15, 0, 2, 1], 99)
      , k = Object(l.d)([6, 13, 8, 3, 3, 0, 15], 97)
      , _ = Object(l.d)([1, 0, 11, 9], 100)
      , O = Object(l.d)([13, 0], 105);
    function S(t, e) {
        var n;
        if (void 0 === t || "" === t)
            return "";
        var r = 0;
        1 === e ? r = 1 : 2 === e || 3 === e ? r = 2 : e >= 4 && e <= 5 && (r = e - 1);
        var a = Object(c.d)("".concat(r, "_0"))
          , o = Object(c.d)("".concat(r, "_1"))
          , s = h[d.u](a)
          , u = h[d.u](o);
        return b[w](t + "", s, (n = {},
        i()(n, O, u),
        i()(n, _, g),
        i()(n, k, y),
        n)).toString() || ""
    }
    function P(t, e) {
        var n;
        if (void 0 === t || "" === t)
            return "";
        var r = 0;
        1 === e || 2 === e ? r = e : 3 === e || 6 === e ? r = 5 : 4 === e ? r = 6 : 5 === e && (r = 4);
        var a = Object(c.d)("".concat(r, "_0"))
          , o = 4 === e ? "" : Object(c.d)("".concat(r, "_1"))
          , s = h[d.u](a)
          , u = h[d.u](o);
        return b[x](t, s, (n = {},
        i()(n, O, u),
        i()(n, _, 4 !== e ? g : m),
        i()(n, k, y),
        n)).toString(6 == e ? p : h) || ""
    }
    function C(t) {
        return t && s.Base64.encode(t) || ""
    }
    function E(t) {
        return t && s.Base64.decode(t) || ""
    }
    function j(t) {
        return Object(u.inflate)(t, {
            to: "string"
        })
    }
    function A(t) {
        return Object(u.deflate)(t, {
            to: "string"
        })
    }
    function I(t) {
        return s.Base64.btoa(t)
    }
    function R(t) {
        return s.Base64.atob(t)
    }
    function T(t) {
        return JSON.parse(j(R(t)))
    }
    function M(t) {
        return JSON.parse(j(P(t, 6)))
    }
    var D = [102, 114, 111, 109, 67, 104, 97, 114, 67, 111, 100, 101].reduce((function(t, e) {
        return t + Object(l.a)(e)
    }
    ), "");
    function B() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        return t.reduce((function(t, e) {
            return t + String[D](e)
        }
        ), "")
    }
    function U(t) {
        return new Promise((function(e, n) {
            var r = new Blob([t],{
                type: "application/json"
            })
              , i = new FileReader
              , a = function(t) {
                return n(t)
            };
            i.addEventListener("error", a),
            i.addEventListener("abort", a),
            i.onload = function(t) {
                return e(JSON.parse(t.target.result))
            }
            ,
            i.readAsText(r, "UTF-8")
        }
        ))
    }
}
, function(t, e, n) {
    t.exports = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        function e(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            n(t, e)
        }
        function n(t, e) {
            return (n = Object.setPrototypeOf || function(t, e) {
                return t.__proto__ = e,
                t
            }
            )(t, e)
        }
        function r(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }
        var i = function(t) {
            --t;
            for (var e = 1; e < 32; e <<= 1)
                t |= t >> e;
            return t + 1
        }
          , a = function(t, e) {
            return [1, 0, 0, 0, 1, 0, t, e, 1]
        }
          , o = function(t, e) {
            var n = t[0]
              , r = t[1]
              , i = t[2]
              , a = t[3]
              , o = t[4]
              , s = t[5]
              , u = t[6]
              , c = t[7]
              , l = t[8]
              , d = e[0]
              , f = e[1]
              , h = e[2]
              , p = e[3]
              , v = e[4]
              , g = e[5]
              , m = e[6]
              , y = e[7]
              , b = e[8];
            return [n * d + r * p + i * m, n * f + r * v + i * y, n * h + r * g + i * b, a * d + o * p + s * m, a * f + o * v + s * y, a * h + o * g + s * b, u * d + c * p + l * m, u * f + c * v + l * y, u * h + c * g + l * b]
        }
          , s = {
            createCanvas: function(t, e, n, r) {
                void 0 === r && (r = "absolute");
                var i = document.createElement("canvas");
                return i.id = t,
                i.width = e,
                i.height = n,
                i.style.opacity = 0,
                i.style.position = r,
                this.transform(i, -500, -500, 0, 0),
                i
            },
            createDiv: function(t, e, n) {
                var r = document.createElement("div");
                return r.id = t,
                r.style.position = "absolute",
                this.resize(r, e, n),
                r
            },
            resize: function(t, e, n) {
                t.style.width = e + "px",
                t.style.height = n + "px",
                t.style.marginLeft = -e / 2 + "px",
                t.style.marginTop = -n / 2 + "px"
            },
            transform: function(t, e, n, r, i) {
                t.style.willChange = "transform";
                var a = "translate(" + e + "px, " + n + "px) scale(" + r + ") rotate(" + i + "deg)";
                this.css3(t, "transform", a)
            },
            transform3d: function(t, e, n, r, i) {
                t.style.willChange = "transform";
                var a = "translate3d(" + e + "px, " + n + "px, 0) scale(" + r + ") rotate(" + i + "deg)";
                this.css3(t, "backfaceVisibility", "hidden"),
                this.css3(t, "transform", a)
            },
            css3: function(t, e, n) {
                var r = e.charAt(0).toUpperCase() + e.substr(1);
                t.style["Webkit" + r] = n,
                t.style["Moz" + r] = n,
                t.style["O" + r] = n,
                t.style["ms" + r] = n,
                t.style["" + e] = n
            }
        }
          , u = {}
          , c = {}
          , l = 0
          , d = function(t, e, n) {
            var r = "string" == typeof t ? t : t.src;
            if (u[r])
                e(u[r], n);
            else {
                var i = new Image;
                i.onload = function(t) {
                    u[r] = t.target,
                    e(u[r], n)
                }
                ,
                i.src = r
            }
        }
          , f = {
            initValue: function(t, e) {
                return null != t ? t : e
            },
            isArray: function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            },
            emptyArray: function(t) {
                t && (t.length = 0)
            },
            toArray: function(t) {
                return this.isArray(t) ? t : [t]
            },
            getRandFromArray: function(t) {
                return t ? t[Math.floor(t.length * Math.random())] : null
            },
            emptyObject: function(t, e) {
                for (var n in void 0 === e && (e = null),
                t)
                    e && e.indexOf(n) > -1 || delete t[n]
            },
            classApply: function(t, e) {
                return void 0 === e && (e = null),
                e ? new (t.bind.apply(t, [null].concat(e))) : new t
            },
            getImageData: function(t, e, n) {
                return function(t, e, n) {
                    t.drawImage(e, n.x, n.y);
                    var r = t.getImageData(n.x, n.y, n.width, n.height);
                    return t.clearRect(n.x, n.y, n.width, n.height),
                    r
                }(t, e, n)
            },
            destroyAll: function(t, e) {
                void 0 === e && (e = null);
                for (var n = t.length; n--; ) {
                    try {
                        t[n].destroy(e)
                    } catch (t) {}
                    delete t[n]
                }
                t.length = 0
            },
            assign: function(t, e) {
                if ("function" != typeof Object.assign) {
                    for (var n in e)
                        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    return t
                }
                return Object.assign(t, e)
            }
        }
          , h = {}
          , p = {
            _index: 0,
            _cache: {},
            id: function(t) {
                return void 0 !== h[t] && null !== h[t] || (h[t] = 0),
                t + "_" + h[t]++
            },
            getId: function(t) {
                var e = this.getIdFromCache(t);
                return e || (e = "PUID_" + this._index++,
                this._cache[e] = t,
                e)
            },
            getIdFromCache: function(t) {
                var e, n;
                for (n in this._cache) {
                    if ((e = this._cache[n]) === t)
                        return n;
                    if (this.isBody(e, t) && e.src === t.src)
                        return n
                }
                return null
            },
            isBody: function(t, e) {
                return "object" == typeof t && "object" == typeof e && t.isInner && e.isInner
            },
            getTarget: function(t) {
                return this._cache[t]
            }
        }
          , v = function() {
            function t(t) {
                this.total = 0,
                this.cache = {}
            }
            var e = t.prototype;
            return e.get = function(t, e, n) {
                var r;
                return n = n || t.__puid || p.getId(t),
                (r = this.cache[n] && this.cache[n].length > 0 ? this.cache[n].pop() : this.createOrClone(t, e)).__puid = t.__puid || n,
                r
            }
            ,
            e.expire = function(t) {
                return this.getCache(t.__puid).push(t)
            }
            ,
            e.createOrClone = function(t, e) {
                return this.total++,
                this.create ? this.create(t, e) : "function" == typeof t ? f.classApply(t, e) : t.clone()
            }
            ,
            e.getCount = function() {
                var t = 0;
                for (var e in this.cache)
                    t += this.cache[e].length;
                return t++
            }
            ,
            e.destroy = function() {
                for (var t in this.cache)
                    this.cache[t].length = 0,
                    delete this.cache[t]
            }
            ,
            e.getCache = function(t) {
                return void 0 === t && (t = "default"),
                this.cache[t] || (this.cache[t] = []),
                this.cache[t]
            }
            ,
            t
        }()
          , g = function() {
            function t(t) {
                this.proton = t,
                this.container = null,
                this.type = 1,
                this.emitterIndex = 0,
                this.rendererIndex = 0
            }
            var e = t.prototype;
            return e.update = function(t, e) {
                this.add(t, e);
                var n = this.getEmitter()
                  , r = this.getRenderer()
                  , i = "";
                switch (this.type) {
                case 2:
                    i += "emitter:" + this.proton.emitters.length + "<br>",
                    n && (i += "em speed:" + n.emitSpeed + "<br>"),
                    n && (i += "pos:" + this.getEmitterPos(n));
                    break;
                case 3:
                    n && (i += "initializes:" + n.initializes.length + "<br>"),
                    n && (i += '<span style="display:inline-block;">' + this.concatArr(n.initializes) + "</span><br>"),
                    n && (i += "behaviours:" + n.behaviours.length + "<br>"),
                    n && (i += '<span style="display:inline-block;">' + this.concatArr(n.behaviours) + "</span><br>");
                    break;
                case 4:
                    r && (i += r.name + "<br>"),
                    r && (i += "body:" + this.getCreatedNumber(r) + "<br>");
                    break;
                default:
                    i += "particles:" + this.proton.getCount() + "<br>",
                    i += "pool:" + this.proton.pool.getCount() + "<br>",
                    i += "total:" + this.proton.pool.total
                }
                this.container.innerHTML = i
            }
            ,
            e.add = function(t, e) {
                var n = this;
                if (!this.container) {
                    var r, i;
                    switch (this.type = 1,
                    this.container = document.createElement("div"),
                    this.container.style.cssText = ["position:absolute;bottom:0px;left:0;cursor:pointer;", "opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;", "width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),
                    this.container.addEventListener("click", (function(t) {
                        n.type++,
                        n.type > 4 && (n.type = 1)
                    }
                    ), !1),
                    t) {
                    case 2:
                        r = "#201",
                        i = "#f08";
                        break;
                    case 3:
                        r = "#020",
                        i = "#0f0";
                        break;
                    default:
                        r = "#002",
                        i = "#0ff"
                    }
                    this.container.style["background-color"] = r,
                    this.container.style.color = i
                }
                this.container.parentNode || (e = e || this.body || document.body).appendChild(this.container)
            }
            ,
            e.getEmitter = function() {
                return this.proton.emitters[this.emitterIndex]
            }
            ,
            e.getRenderer = function() {
                return this.proton.renderers[this.rendererIndex]
            }
            ,
            e.concatArr = function(t) {
                var e = "";
                if (!t || !t.length)
                    return e;
                for (var n = 0; n < t.length; n++)
                    e += (t[n].name || "").substr(0, 1) + ".";
                return e
            }
            ,
            e.getCreatedNumber = function(t) {
                return t.pool.total || t.cpool && t.cpool.total || 0
            }
            ,
            e.getEmitterPos = function(t) {
                return Math.round(t.p.x) + "," + Math.round(t.p.y)
            }
            ,
            e.destroy = function() {
                this.container && this.container.parentNode && (this.body || document.body).removeChild(this.container),
                this.proton = null,
                this.container = null
            }
            ,
            t
        }()
          , m = function() {
            function t() {
                this._listeners = null
            }
            t.bind = function(e) {
                e.prototype.dispatchEvent = t.prototype.dispatchEvent,
                e.prototype.hasEventListener = t.prototype.hasEventListener,
                e.prototype.addEventListener = t.prototype.addEventListener,
                e.prototype.removeEventListener = t.prototype.removeEventListener,
                e.prototype.removeAllEventListeners = t.prototype.removeAllEventListeners
            }
            ;
            var e = t.prototype;
            return e.addEventListener = function(t, e) {
                return this._listeners ? this.removeEventListener(t, e) : this._listeners = {},
                this._listeners[t] || (this._listeners[t] = []),
                this._listeners[t].push(e),
                e
            }
            ,
            e.removeEventListener = function(t, e) {
                if (this._listeners && this._listeners[t])
                    for (var n = this._listeners[t], r = n.length, i = 0; i < r; i++)
                        if (n[i] === e) {
                            1 === r ? delete this._listeners[t] : n.splice(i, 1);
                            break
                        }
            }
            ,
            e.removeAllEventListeners = function(t) {
                t ? this._listeners && delete this._listeners[t] : this._listeners = null
            }
            ,
            e.dispatchEvent = function(t, e) {
                var n = !1
                  , r = this._listeners;
                if (t && r) {
                    var i, a = r[t];
                    if (!a)
                        return n;
                    for (var o = a.length; o--; )
                        i = a[o],
                        n = n || i(e)
                }
                return !!n
            }
            ,
            e.hasEventListener = function(t) {
                var e = this._listeners;
                return !(!e || !e[t])
            }
            ,
            t
        }()
          , y = 3.1415926
          , b = {
            PI: y,
            PIx2: 2 * y,
            PI_2: y / 2,
            PI_180: y / 180,
            N180_PI: 180 / y,
            Infinity: -999,
            isInfinity: function(t) {
                return t === this.Infinity || 1 / 0 === t
            },
            randomAToB: function(t, e, n) {
                return void 0 === n && (n = !1),
                n ? (Math.random() * (e - t) >> 0) + t : t + Math.random() * (e - t)
            },
            randomFloating: function(t, e, n) {
                return this.randomAToB(t - e, t + e, n)
            },
            randomColor: function() {
                return "#" + ("00000" + (16777216 * Math.random() << 0).toString(16)).slice(-6)
            },
            randomZone: function(t) {},
            floor: function(t, e) {
                void 0 === e && (e = 4);
                var n = Math.pow(10, e);
                return Math.floor(t * n) / n
            },
            degreeTransform: function(t) {
                return t * y / 180
            },
            toColor16: function(t) {
                return "#" + t.toString(16)
            }
        }
          , w = function() {
            function t(t) {
                this.type = t
            }
            var e = t.prototype;
            return e.calculate = function(t, e, n) {
                this.eulerIntegrate(t, e, n)
            }
            ,
            e.eulerIntegrate = function(t, e, n) {
                t.sleep || (t.old.p.copy(t.p),
                t.old.v.copy(t.v),
                t.a.multiplyScalar(1 / t.mass),
                t.v.add(t.a.multiplyScalar(e)),
                t.p.add(t.old.v.multiplyScalar(e)),
                n && t.v.multiplyScalar(n),
                t.a.clear())
            }
            ,
            t
        }()
          , x = function() {
            function e(t) {
                this.emitters = [],
                this.renderers = [],
                this.time = 0,
                this.now = 0,
                this.then = 0,
                this.elapsed = 0,
                this.stats = new g(this),
                this.pool = new v(80),
                this.integrationType = f.initValue(t, e.EULER),
                this.integrator = new w(this.integrationType),
                this._fps = "auto",
                this._interval = e.DEFAULT_INTERVAL
            }
            var n, r, i = e.prototype;
            return i.addRenderer = function(t) {
                t.init(this),
                this.renderers.push(t)
            }
            ,
            i.removeRenderer = function(t) {
                var e = this.renderers.indexOf(t);
                this.renderers.splice(e, 1),
                t.remove(this)
            }
            ,
            i.addEmitter = function(t) {
                this.emitters.push(t),
                t.parent = this,
                this.dispatchEvent(e.EMITTER_ADDED, t)
            }
            ,
            i.removeEmitter = function(t) {
                var n = this.emitters.indexOf(t);
                this.emitters.splice(n, 1),
                t.parent = null,
                this.dispatchEvent(e.EMITTER_REMOVED, t)
            }
            ,
            i.update = function() {
                "auto" === this._fps ? (this.dispatchEvent(e.PROTON_UPDATE),
                e.USE_CLOCK ? (this.then || (this.then = (new Date).getTime()),
                this.now = (new Date).getTime(),
                this.elapsed = .001 * (this.now - this.then),
                this.amendChangeTabsBug(),
                this.elapsed > 0 && this.emittersUpdate(this.elapsed),
                this.then = this.now) : this.emittersUpdate(e.DEFAULT_INTERVAL),
                this.dispatchEvent(e.PROTON_UPDATE_AFTER)) : (this.then || (this.then = (new Date).getTime()),
                this.now = (new Date).getTime(),
                this.elapsed = .001 * (this.now - this.then),
                this.elapsed > this._interval && (this.dispatchEvent(e.PROTON_UPDATE),
                this.emittersUpdate(this._interval),
                this.then = this.now - this.elapsed % this._interval * 1e3,
                this.dispatchEvent(e.PROTON_UPDATE_AFTER)))
            }
            ,
            i.emittersUpdate = function(t) {
                for (var e = this.emitters.length; e--; )
                    this.emitters[e].update(t)
            }
            ,
            i.amendChangeTabsBug = function() {
                e.amendChangeTabsBug && this.elapsed > .5 && (this.then = (new Date).getTime(),
                this.elapsed = 0)
            }
            ,
            i.getCount = function() {
                for (var t = 0, e = this.emitters.length; e--; )
                    t += this.emitters[e].particles.length;
                return t
            }
            ,
            i.getAllParticles = function() {
                for (var t = [], e = this.emitters.length; e--; )
                    t = t.concat(this.emitters[e].particles);
                return t
            }
            ,
            i.destroyAllEmitters = function() {
                f.destroyAll(this.emitters)
            }
            ,
            i.destroy = function(t) {
                var e = this;
                void 0 === t && (t = !1);
                var n = function() {
                    e.time = 0,
                    e.then = 0,
                    e.pool.destroy(),
                    e.stats.destroy(),
                    f.destroyAll(e.emitters),
                    f.destroyAll(e.renderers, e.getAllParticles()),
                    e.integrator = null,
                    e.renderers = null,
                    e.emitters = null,
                    e.stats = null,
                    e.pool = null
                };
                t ? setTimeout(n, 200) : n()
            }
            ,
            n = e,
            (r = [{
                key: "fps",
                get: function() {
                    return this._fps
                },
                set: function(t) {
                    this._fps = t,
                    this._interval = "auto" === t ? e.DEFAULT_INTERVAL : b.floor(1 / t, 7)
                }
            }]) && t(n.prototype, r),
            e
        }();
        x.USE_CLOCK = !1,
        x.MEASURE = 100,
        x.EULER = "euler",
        x.RK2 = "runge-kutta2",
        x.PARTICLE_CREATED = "PARTICLE_CREATED",
        x.PARTICLE_UPDATE = "PARTICLE_UPDATE",
        x.PARTICLE_SLEEP = "PARTICLE_SLEEP",
        x.PARTICLE_DEAD = "PARTICLE_DEAD",
        x.EMITTER_ADDED = "EMITTER_ADDED",
        x.EMITTER_REMOVED = "EMITTER_REMOVED",
        x.PROTON_UPDATE = "PROTON_UPDATE",
        x.PROTON_UPDATE_AFTER = "PROTON_UPDATE_AFTER",
        x.DEFAULT_INTERVAL = .0167,
        x.amendChangeTabsBug = !0,
        m.bind(x);
        var k = function() {
            function t(t, e, n) {
                void 0 === t && (t = 255),
                void 0 === e && (e = 255),
                void 0 === n && (n = 255),
                this.r = t,
                this.g = e,
                this.b = n
            }
            return t.prototype.reset = function() {
                this.r = 255,
                this.g = 255,
                this.b = 255
            }
            ,
            t
        }()
          , _ = {
            hasProp: function(t, e) {
                return !!t && void 0 !== t[e]
            },
            setProp: function(t, e) {
                for (var n in e)
                    t.hasOwnProperty(n) && (t[n] = Span.getSpanValue(e[n]));
                return t
            },
            setVectorVal: function(t, e) {
                void 0 === e && (e = null),
                e && (this.hasProp(e, "x") && (t.p.x = e.x),
                this.hasProp(e, "y") && (t.p.y = e.y),
                this.hasProp(e, "vx") && (t.v.x = e.vx),
                this.hasProp(e, "vy") && (t.v.y = e.vy),
                this.hasProp(e, "ax") && (t.a.x = e.ax),
                this.hasProp(e, "ay") && (t.a.y = e.ay),
                this.hasProp(e, "p") && t.p.copy(e.p),
                this.hasProp(e, "v") && t.v.copy(e.v),
                this.hasProp(e, "a") && t.a.copy(e.a),
                this.hasProp(e, "position") && t.p.copy(e.position),
                this.hasProp(e, "velocity") && t.v.copy(e.velocity),
                this.hasProp(e, "accelerate") && t.a.copy(e.accelerate))
            }
        }
          , O = {
            easeLinear: function(t) {
                return t
            },
            easeInQuad: function(t) {
                return Math.pow(t, 2)
            },
            easeOutQuad: function(t) {
                return -(Math.pow(t - 1, 2) - 1)
            },
            easeInOutQuad: function(t) {
                return (t /= .5) < 1 ? .5 * Math.pow(t, 2) : -.5 * ((t -= 2) * t - 2)
            },
            easeInCubic: function(t) {
                return Math.pow(t, 3)
            },
            easeOutCubic: function(t) {
                return Math.pow(t - 1, 3) + 1
            },
            easeInOutCubic: function(t) {
                return (t /= .5) < 1 ? .5 * Math.pow(t, 3) : .5 * (Math.pow(t - 2, 3) + 2)
            },
            easeInQuart: function(t) {
                return Math.pow(t, 4)
            },
            easeOutQuart: function(t) {
                return -(Math.pow(t - 1, 4) - 1)
            },
            easeInOutQuart: function(t) {
                return (t /= .5) < 1 ? .5 * Math.pow(t, 4) : -.5 * ((t -= 2) * Math.pow(t, 3) - 2)
            },
            easeInSine: function(t) {
                return 1 - Math.cos(t * b.PI_2)
            },
            easeOutSine: function(t) {
                return Math.sin(t * b.PI_2)
            },
            easeInOutSine: function(t) {
                return -.5 * (Math.cos(Math.PI * t) - 1)
            },
            easeInExpo: function(t) {
                return 0 === t ? 0 : Math.pow(2, 10 * (t - 1))
            },
            easeOutExpo: function(t) {
                return 1 === t ? 1 : 1 - Math.pow(2, -10 * t)
            },
            easeInOutExpo: function(t) {
                return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t))
            },
            easeInCirc: function(t) {
                return -(Math.sqrt(1 - t * t) - 1)
            },
            easeOutCirc: function(t) {
                return Math.sqrt(1 - Math.pow(t - 1, 2))
            },
            easeInOutCirc: function(t) {
                return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
            },
            easeInBack: function(t) {
                var e = 1.70158;
                return t * t * ((e + 1) * t - e)
            },
            easeOutBack: function(t) {
                var e = 1.70158;
                return (t -= 1) * t * ((e + 1) * t + e) + 1
            },
            easeInOutBack: function(t) {
                var e = 1.70158;
                return (t /= .5) < 1 ? t * t * ((1 + (e *= 1.525)) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + (e *= 1.525)) * t + e) + 2)
            },
            getEasing: function(t) {
                return "function" == typeof t ? t : this[t] || this.easeLinear
            }
        }
          , S = function() {
            function t(t, e) {
                this.x = t || 0,
                this.y = e || 0
            }
            var e = t.prototype;
            return e.set = function(t, e) {
                return this.x = t,
                this.y = e,
                this
            }
            ,
            e.setX = function(t) {
                return this.x = t,
                this
            }
            ,
            e.setY = function(t) {
                return this.y = t,
                this
            }
            ,
            e.getGradient = function() {
                return 0 !== this.x ? Math.atan2(this.y, this.x) : this.y > 0 ? b.PI_2 : this.y < 0 ? -b.PI_2 : void 0
            }
            ,
            e.copy = function(t) {
                return this.x = t.x,
                this.y = t.y,
                this
            }
            ,
            e.add = function(t, e) {
                return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x,
                this.y += t.y,
                this)
            }
            ,
            e.addXY = function(t, e) {
                return this.x += t,
                this.y += e,
                this
            }
            ,
            e.addVectors = function(t, e) {
                return this.x = t.x + e.x,
                this.y = t.y + e.y,
                this
            }
            ,
            e.sub = function(t, e) {
                return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x,
                this.y -= t.y,
                this)
            }
            ,
            e.subVectors = function(t, e) {
                return this.x = t.x - e.x,
                this.y = t.y - e.y,
                this
            }
            ,
            e.divideScalar = function(t) {
                return 0 !== t ? (this.x /= t,
                this.y /= t) : this.set(0, 0),
                this
            }
            ,
            e.multiplyScalar = function(t) {
                return this.x *= t,
                this.y *= t,
                this
            }
            ,
            e.negate = function() {
                return this.multiplyScalar(-1)
            }
            ,
            e.dot = function(t) {
                return this.x * t.x + this.y * t.y
            }
            ,
            e.lengthSq = function() {
                return this.x * this.x + this.y * this.y
            }
            ,
            e.length = function() {
                return Math.sqrt(this.x * this.x + this.y * this.y)
            }
            ,
            e.normalize = function() {
                return this.divideScalar(this.length())
            }
            ,
            e.distanceTo = function(t) {
                return Math.sqrt(this.distanceToSquared(t))
            }
            ,
            e.rotate = function(t) {
                var e = this.x
                  , n = this.y;
                return this.x = e * Math.cos(t) + n * Math.sin(t),
                this.y = -e * Math.sin(t) + n * Math.cos(t),
                this
            }
            ,
            e.distanceToSquared = function(t) {
                var e = this.x - t.x
                  , n = this.y - t.y;
                return e * e + n * n
            }
            ,
            e.lerp = function(t, e) {
                return this.x += (t.x - this.x) * e,
                this.y += (t.y - this.y) * e,
                this
            }
            ,
            e.equals = function(t) {
                return t.x === this.x && t.y === this.y
            }
            ,
            e.clear = function() {
                return this.x = 0,
                this.y = 0,
                this
            }
            ,
            e.clone = function() {
                return new t(this.x,this.y)
            }
            ,
            t
        }()
          , P = function() {
            function t(t) {
                this.id = "",
                this.old = {},
                this.data = {},
                this.behaviours = [],
                this.p = [],
                this.v = [],
                this.a = [],
                this.rgb = {},
                this.name = "Particle",
                this.id = p.id(this.name),
                this.old = {},
                this.data = {},
                this.behaviours = [],
                this.p = new S,
                this.v = new S,
                this.a = new S,
                this.old.p = new S,
                this.old.v = new S,
                this.old.a = new S,
                this.rgb = new k,
                this.reset(),
                t && _.setProp(this, t)
            }
            var e = t.prototype;
            return e.getDirection = function() {
                return Math.atan2(this.v.x, -this.v.y) * b.N180_PI
            }
            ,
            e.reset = function() {
                return this.life = 1 / 0,
                this.age = 0,
                this.dead = !1,
                this.sleep = !1,
                this.body = null,
                this.sprite = null,
                this.parent = null,
                this.energy = 1,
                this.mass = 1,
                this.radius = 10,
                this.alpha = 1,
                this.scale = 1,
                this.rotation = 0,
                this.color = null,
                this.p.set(0, 0),
                this.v.set(0, 0),
                this.a.set(0, 0),
                this.old.p.set(0, 0),
                this.old.v.set(0, 0),
                this.old.a.set(0, 0),
                this.easing = O.easeLinear,
                this.rgb.reset(),
                f.emptyObject(this.data),
                this.removeAllBehaviours(),
                this
            }
            ,
            e.update = function(t, e) {
                if (this.sleep || (this.age += t,
                this.applyBehaviours(t, e)),
                this.age < this.life) {
                    var n = this.easing(this.age / this.life);
                    this.energy = Math.max(1 - n, 0)
                } else
                    this.destroy()
            }
            ,
            e.applyBehaviours = function(t, e) {
                var n, r = this.behaviours.length;
                for (n = 0; n < r; n++)
                    this.behaviours[n] && this.behaviours[n].applyBehaviour(this, t, e)
            }
            ,
            e.addBehaviour = function(t) {
                this.behaviours.push(t),
                t.hasOwnProperty("parents") && t.parents.push(this),
                t.initialize(this)
            }
            ,
            e.addBehaviours = function(t) {
                var e, n = t.length;
                for (e = 0; e < n; e++)
                    this.addBehaviour(t[e])
            }
            ,
            e.removeBehaviour = function(t) {
                var e = this.behaviours.indexOf(t);
                e > -1 && (this.behaviours.splice(e, 1).parents = null)
            }
            ,
            e.removeAllBehaviours = function() {
                f.emptyArray(this.behaviours)
            }
            ,
            e.destroy = function() {
                this.removeAllBehaviours(),
                this.energy = 0,
                this.dead = !0,
                this.parent = null
            }
            ,
            t
        }()
          , C = {
            hexToRgb: function(t) {
                var e = "#" === t.charAt(0) ? t.substring(1, 7) : t;
                return {
                    r: parseInt(e.substring(0, 2), 16),
                    g: parseInt(e.substring(2, 4), 16),
                    b: parseInt(e.substring(4, 6), 16)
                }
            },
            rgbToHex: function(t) {
                return "rgb(" + t.r + ", " + t.g + ", " + t.b + ")"
            },
            getHex16FromParticle: function(t) {
                return 65536 * Number(t.rgb.r) + 256 * Number(t.rgb.g) + Number(t.rgb.b)
            }
        }
          , E = function() {
            function t(t, e) {
                this.r = Math.abs(t) || 0,
                this.tha = e || 0
            }
            var e = t.prototype;
            return e.set = function(t, e) {
                return this.r = t,
                this.tha = e,
                this
            }
            ,
            e.setR = function(t) {
                return this.r = t,
                this
            }
            ,
            e.setTha = function(t) {
                return this.tha = t,
                this
            }
            ,
            e.copy = function(t) {
                return this.r = t.r,
                this.tha = t.tha,
                this
            }
            ,
            e.toVector = function() {
                return new S(this.getX(),this.getY())
            }
            ,
            e.getX = function() {
                return this.r * Math.sin(this.tha)
            }
            ,
            e.getY = function() {
                return -this.r * Math.cos(this.tha)
            }
            ,
            e.normalize = function() {
                return this.r = 1,
                this
            }
            ,
            e.equals = function(t) {
                return t.r === this.r && t.tha === this.tha
            }
            ,
            e.clear = function() {
                return this.r = 0,
                this.tha = 0,
                this
            }
            ,
            e.clone = function() {
                return new t(this.r,this.tha)
            }
            ,
            t
        }()
          , j = {
            create: function(t) {
                var e = new Float32Array(9);
                return t && this.set(t, e),
                e
            },
            set: function(t, e) {
                for (var n = 0; n < 9; n++)
                    e[n] = t[n];
                return e
            },
            multiply: function(t, e, n) {
                var r = t[0]
                  , i = t[1]
                  , a = t[2]
                  , o = t[3]
                  , s = t[4]
                  , u = t[6]
                  , c = t[7]
                  , l = e[0]
                  , d = e[1]
                  , f = e[2]
                  , h = e[3]
                  , p = e[4]
                  , v = e[6]
                  , g = e[7];
                return n[0] = l * r + d * o,
                n[1] = l * i + d * s,
                n[2] = a * f,
                n[3] = h * r + p * o,
                n[4] = h * i + p * s,
                n[6] = v * r + g * o + u,
                n[7] = v * i + g * s + c,
                n
            },
            inverse: function(t, e) {
                var n, r = t[0], i = t[1], a = t[3], o = t[4], s = t[6], u = t[7], c = o, l = -a, d = u * a - o * s;
                return n = 1 / (r * c + i * l),
                e[0] = c * n,
                e[1] = -i * n,
                e[3] = l * n,
                e[4] = r * n,
                e[6] = d * n,
                e[7] = (-u * r + i * s) * n,
                e
            },
            multiplyVec2: function(t, e, n) {
                var r = e[0]
                  , i = e[1];
                return n[0] = r * t[0] + i * t[3] + t[6],
                n[1] = r * t[1] + i * t[4] + t[7],
                n
            }
        }
          , A = function() {
            function t(t, e, n) {
                f.isArray(t) ? (this.isArray = !0,
                this.a = t) : (this.isArray = !1,
                this.a = f.initValue(t, 1),
                this.b = f.initValue(e, this.a),
                this.center = f.initValue(n, !1))
            }
            return t.prototype.getValue = function(t) {
                return void 0 === t && (t = !1),
                this.isArray ? f.getRandFromArray(this.a) : this.center ? b.randomFloating(this.a, this.b, t) : b.randomAToB(this.a, this.b, t)
            }
            ,
            t.setSpanValue = function(e, n, r) {
                return e instanceof t ? e : void 0 === n ? new t(e) : void 0 === r ? new t(e,n) : new t(e,n,r)
            }
            ,
            t.getSpanValue = function(e) {
                return e instanceof t ? e.getValue() : e
            }
            ,
            t
        }()
          , I = function(t) {
            function n(e) {
                var n;
                return (n = t.call(this) || this)._arr = f.toArray(e),
                n
            }
            return e(n, t),
            n.prototype.getValue = function() {
                var t = f.getRandFromArray(this._arr);
                return "random" === t || "Random" === t ? b.randomColor() : t
            }
            ,
            n.createArraySpan = function(t) {
                return t ? t instanceof n ? t : new n(t) : null
            }
            ,
            n
        }(A)
          , R = function() {
            function t(t, e, n, r) {
                this.x = t,
                this.y = e,
                this.width = n,
                this.height = r,
                this.bottom = this.y + this.height,
                this.right = this.x + this.width
            }
            return t.prototype.contains = function(t, e) {
                return t <= this.right && t >= this.x && e <= this.bottom && e >= this.y
            }
            ,
            t
        }()
          , T = function() {
            function t(t, e) {
                this.numPan = A.setSpanValue(f.initValue(t, 1)),
                this.timePan = A.setSpanValue(f.initValue(e, 1)),
                this.startTime = 0,
                this.nextTime = 0,
                this.init()
            }
            var e = t.prototype;
            return e.init = function() {
                this.startTime = 0,
                this.nextTime = this.timePan.getValue()
            }
            ,
            e.getValue = function(t) {
                return this.startTime += t,
                this.startTime >= this.nextTime ? (this.startTime = 0,
                this.nextTime = this.timePan.getValue(),
                1 === this.numPan.b ? this.numPan.getValue(!1) > .5 ? 1 : 0 : this.numPan.getValue(!0)) : 0
            }
            ,
            t
        }()
          , M = function() {
            function t() {}
            var e = t.prototype;
            return e.reset = function() {}
            ,
            e.init = function(t, e) {
                e ? this.initialize(e) : this.initialize(t)
            }
            ,
            e.initialize = function(t) {}
            ,
            t
        }()
          , D = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this) || this).lifePan = A.setSpanValue(e, n, r),
                i.name = "Life",
                i
            }
            return e(n, t),
            n.prototype.initialize = function(t) {
                this.lifePan.a === 1 / 0 ? t.life = 1 / 0 : t.life = this.lifePan.getValue()
            }
            ,
            n
        }(M)
          , B = function() {
            function t() {
                this.vector = new S(0,0),
                this.random = 0,
                this.crossType = "dead",
                this.alert = !0
            }
            var e = t.prototype;
            return e.getPosition = function() {}
            ,
            e.crossing = function(t) {}
            ,
            e.destroy = function() {
                this.vector = null
            }
            ,
            t
        }()
          , U = function(t) {
            function n(e, n) {
                var r;
                return (r = t.call(this) || this).x = e,
                r.y = n,
                r
            }
            e(n, t);
            var r = n.prototype;
            return r.getPosition = function() {
                return this.vector.x = this.x,
                this.vector.y = this.y,
                this.vector
            }
            ,
            r.crossing = function(t) {
                this.alert && (console.error("Sorry, PointZone does not support crossing method!"),
                this.alert = !1)
            }
            ,
            n
        }(B)
          , z = function(t) {
            function n(e) {
                var n;
                return (n = t.call(this) || this).zone = f.initValue(e, new U),
                n.name = "Position",
                n
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(t) {
                this.zone = f.initValue(t, new U)
            }
            ,
            r.initialize = function(t) {
                this.zone.getPosition(),
                t.p.x = this.zone.vector.x,
                t.p.y = this.zone.vector.y
            }
            ,
            n
        }(M)
          , L = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this) || this).rPan = A.setSpanValue(e),
                i.thaPan = A.setSpanValue(n),
                i.type = f.initValue(r, "vector"),
                i.name = "Velocity",
                i
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(t, e, n) {
                this.rPan = A.setSpanValue(t),
                this.thaPan = A.setSpanValue(e),
                this.type = f.initValue(n, "vector")
            }
            ,
            r.normalizeVelocity = function(t) {
                return t * x.MEASURE
            }
            ,
            r.initialize = function(t) {
                if ("p" === this.type || "P" === this.type || "polar" === this.type) {
                    var e = new E(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue() * b.PI_180);
                    t.v.x = e.getX(),
                    t.v.y = e.getY()
                } else
                    t.v.x = this.normalizeVelocity(this.rPan.getValue()),
                    t.v.y = this.normalizeVelocity(this.thaPan.getValue())
            }
            ,
            n
        }(M)
          , V = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this) || this).massPan = A.setSpanValue(e, n, r),
                i.name = "Mass",
                i
            }
            return e(n, t),
            n.prototype.initialize = function(t) {
                t.mass = this.massPan.getValue()
            }
            ,
            n
        }(M)
          , F = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this) || this).radius = A.setSpanValue(e, n, r),
                i.name = "Radius",
                i
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(t, e, n) {
                this.radius = A.setSpanValue(t, e, n)
            }
            ,
            r.initialize = function(t) {
                t.radius = this.radius.getValue(),
                t.data.oldRadius = t.radius
            }
            ,
            n
        }(M)
          , N = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this) || this).image = i.setSpanValue(e),
                i.w = f.initValue(n, 20),
                i.h = f.initValue(r, i.w),
                i.name = "Body",
                i
            }
            e(n, t);
            var r = n.prototype;
            return r.initialize = function(t) {
                var e = this.image.getValue();
                t.body = "string" == typeof e ? {
                    width: this.w,
                    height: this.h,
                    src: e,
                    isInner: !0,
                    inner: !0
                } : e
            }
            ,
            r.setSpanValue = function(t) {
                return t instanceof I ? t : new I(t)
            }
            ,
            n
        }(M)
          , H = function() {
            function t(e, n) {
                this.life = f.initValue(e, 1 / 0),
                this.easing = O.getEasing(n),
                this.age = 0,
                this.energy = 1,
                this.dead = !1,
                this.parents = [],
                this.id = "Behaviour_" + t.id++,
                this.name = "Behaviour"
            }
            var e = t.prototype;
            return e.reset = function(t, e) {
                this.life = f.initValue(t, 1 / 0),
                this.easing = O.getEasing(e)
            }
            ,
            e.normalizeForce = function(t) {
                return t.multiplyScalar(x.MEASURE)
            }
            ,
            e.normalizeValue = function(t) {
                return t * x.MEASURE
            }
            ,
            e.initialize = function(t) {}
            ,
            e.calculate = function(t, e, n) {
                if (this.age += e,
                this.age >= this.life || this.dead)
                    this.energy = 0,
                    this.dead = !0,
                    this.destroy();
                else {
                    var r = this.easing(t.age / t.life);
                    this.energy = Math.max(1 - r, 0)
                }
            }
            ,
            e.destroy = function() {
                for (var t = this.parents.length; t--; )
                    this.parents[t].removeBehaviour(this);
                this.parents.length = 0
            }
            ,
            t
        }();
        H.id = 0;
        var W = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this, r, i) || this).force = a.normalizeForce(new S(e,n)),
                a.name = "Force",
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i) {
                this.force = this.normalizeForce(new S(e,n)),
                r && t.prototype.reset.call(this, r, i)
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.calculate(t, e, n),
                t.a.add(this.force)
            }
            ,
            n
        }(H)
          , G = function(t) {
            function n(e, n, r, i, a) {
                var o;
                return (o = t.call(this, i, a) || this).targetPosition = f.initValue(e, new S),
                o.radius = f.initValue(r, 1e3),
                o.force = f.initValue(o.normalizeValue(n), 100),
                o.radiusSq = o.radius * o.radius,
                o.attractionForce = new S,
                o.lengthSq = 0,
                o.name = "Attraction",
                o
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i, a) {
                this.targetPosition = f.initValue(e, new S),
                this.radius = f.initValue(r, 1e3),
                this.force = f.initValue(this.normalizeValue(n), 100),
                this.radiusSq = this.radius * this.radius,
                this.attractionForce = new S,
                this.lengthSq = 0,
                i && t.prototype.reset.call(this, i, a)
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.calculate(t, e, n),
                this.attractionForce.copy(this.targetPosition),
                this.attractionForce.sub(t.p),
                this.lengthSq = this.attractionForce.lengthSq(),
                this.lengthSq > 4e-5 && this.lengthSq < this.radiusSq && (this.attractionForce.normalize(),
                this.attractionForce.multiplyScalar(1 - this.lengthSq / this.radiusSq),
                this.attractionForce.multiplyScalar(this.force),
                t.a.add(this.attractionForce))
            }
            ,
            n
        }(H)
          , q = function(t) {
            function n(e, n, r, i, a) {
                var o;
                return (o = t.call(this, i, a) || this).reset(e, n, r),
                o.time = 0,
                o.name = "RandomDrift",
                o
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i, a) {
                this.panFoce = new S(e,n),
                this.panFoce = this.normalizeForce(this.panFoce),
                this.delay = r,
                i && t.prototype.reset.call(this, i, a)
            }
            ,
            r.initialize = function(t) {
                t.data.time = 0
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.calculate(t, e, n),
                t.data.time += e,
                t.data.time >= this.delay && (t.a.addXY(b.randomAToB(-this.panFoce.x, this.panFoce.x), b.randomAToB(-this.panFoce.y, this.panFoce.y)),
                t.data.time = 0)
            }
            ,
            n
        }(H)
          , Y = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this, 0, e, n, r) || this).name = "Gravity",
                i
            }
            return e(n, t),
            n.prototype.reset = function(e, n, r) {
                t.prototype.reset.call(this, 0, e, n, r)
            }
            ,
            n
        }(W)
          , Z = function(t) {
            function n(e, n, r, i, a) {
                var o;
                return (o = t.call(this, i, a) || this).reset(e, n, r),
                o.name = "Collision",
                o
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i, a) {
                this.emitter = f.initValue(e, null),
                this.mass = f.initValue(n, !0),
                this.callback = f.initValue(r, null),
                this.collisionPool = [],
                this.delta = new S,
                i && t.prototype.reset.call(this, i, a)
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                var r, i, a, o, s, u, c, l = this.emitter ? this.emitter.particles.slice(n) : this.pool.slice(n), d = l.length;
                for (c = 0; c < d; c++)
                    if ((r = l[c]) !== t) {
                        this.delta.copy(r.p),
                        this.delta.sub(t.p),
                        i = this.delta.lengthSq();
                        var f = t.radius + r.radius;
                        i <= f * f && (a = f - Math.sqrt(i),
                        a += .5,
                        o = t.mass + r.mass,
                        s = this.mass ? r.mass / o : .5,
                        u = this.mass ? t.mass / o : .5,
                        t.p.add(this.delta.clone().normalize().multiplyScalar(a * -s)),
                        r.p.add(this.delta.normalize().multiplyScalar(a * u)),
                        this.callback && this.callback(t, r))
                    }
            }
            ,
            n
        }(H)
          , J = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this, r, i) || this).reset(e, n),
                a.name = "CrossZone",
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i) {
                this.zone = e,
                this.zone.crossType = f.initValue(n, "dead"),
                r && t.prototype.reset.call(this, r, i)
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.calculate(t, e, n),
                this.zone.crossing(t)
            }
            ,
            n
        }(H)
          , K = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this, r, i) || this).reset(e, n),
                a.name = "Alpha",
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i) {
                this.same = null == n,
                this.a = A.setSpanValue(f.initValue(e, 1)),
                this.b = A.setSpanValue(n),
                r && t.prototype.reset.call(this, r, i)
            }
            ,
            r.initialize = function(t) {
                t.data.alphaA = this.a.getValue(),
                this.same ? t.data.alphaB = t.data.alphaA : t.data.alphaB = this.b.getValue()
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.calculate(t, e, n),
                t.alpha = t.data.alphaB + (t.data.alphaA - t.data.alphaB) * this.energy,
                t.alpha < .001 && (t.alpha = 0)
            }
            ,
            n
        }(H)
          , $ = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this, r, i) || this).reset(e, n),
                a.name = "Scale",
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i) {
                this.same = null == n,
                this.a = A.setSpanValue(f.initValue(e, 1)),
                this.b = A.setSpanValue(n),
                r && t.prototype.reset.call(this, r, i)
            }
            ,
            r.initialize = function(t) {
                t.data.scaleA = this.a.getValue(),
                t.data.oldRadius = t.radius,
                t.data.scaleB = this.same ? t.data.scaleA : this.b.getValue()
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.calculate(t, e, n),
                t.scale = t.data.scaleB + (t.data.scaleA - t.data.scaleB) * this.energy,
                t.scale < 1e-4 && (t.scale = 0),
                t.radius = t.data.oldRadius * t.scale
            }
            ,
            n
        }(H)
          , X = function(t) {
            function n(e, n, r, i, a) {
                var o;
                return (o = t.call(this, i, a) || this).reset(e, n, r),
                o.name = "Rotate",
                o
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i, a) {
                this.same = null == n,
                this.a = A.setSpanValue(f.initValue(e, "Velocity")),
                this.b = A.setSpanValue(f.initValue(n, 0)),
                this.style = f.initValue(r, "to"),
                i && t.prototype.reset.call(this, i, a)
            }
            ,
            r.initialize = function(t) {
                t.rotation = this.a.getValue(),
                t.data.rotationA = this.a.getValue(),
                this.same || (t.data.rotationB = this.b.getValue())
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.calculate(t, e, n),
                this.same ? "V" !== this.a.a && "Velocity" !== this.a.a && "v" !== this.a.a || (t.rotation = t.getDirection()) : "to" === this.style || "TO" === this.style || "_" === this.style ? t.rotation += t.data.rotationB + (t.data.rotationA - t.data.rotationB) * this.energy : t.rotation += t.data.rotationB
            }
            ,
            n
        }(H)
          , Q = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this, r, i) || this).reset(e, n),
                a.name = "Color",
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i) {
                this.a = I.createArraySpan(e),
                this.b = I.createArraySpan(n),
                r && t.prototype.reset.call(this, r, i)
            }
            ,
            r.initialize = function(t) {
                t.color = this.a.getValue(),
                t.data.colorA = C.hexToRgb(t.color),
                this.b && (t.data.colorB = C.hexToRgb(this.b.getValue()))
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                this.b ? (this.calculate(t, e, n),
                t.rgb.r = t.data.colorB.r + (t.data.colorA.r - t.data.colorB.r) * this.energy,
                t.rgb.g = t.data.colorB.g + (t.data.colorA.g - t.data.colorB.g) * this.energy,
                t.rgb.b = t.data.colorB.b + (t.data.colorA.b - t.data.colorB.b) * this.energy,
                t.rgb.r = t.rgb.r << 0,
                t.rgb.g = t.rgb.g << 0,
                t.rgb.b = t.rgb.b << 0) : (t.rgb.r = t.data.colorA.r,
                t.rgb.g = t.data.colorA.g,
                t.rgb.b = t.data.colorA.b)
            }
            ,
            n
        }(H)
          , tt = "changing"
          , et = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this, r, i) || this).setAngleAndForce(e, n),
                a.name = "Cyclone",
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.setAngleAndForce = function(t, e) {
                this.force = tt,
                this.angle = b.PI / 2,
                "right" === t ? this.angle = b.PI / 2 : "left" === t ? this.angle = -b.PI / 2 : "random" === t ? this.angle = "random" : t instanceof A ? (this.angle = "span",
                this.span = t) : t && (this.angle = t),
                "changing" === String(e).toLowerCase() || "chang" === String(e).toLowerCase() || "auto" === String(e).toLowerCase() ? this.force = tt : e && (this.force = e)
            }
            ,
            r.reset = function(e, n, r, i) {
                this.angle = b.PI / 2,
                this.setAngleAndForce(e, n),
                r && t.prototype.reset.call(this, r, i)
            }
            ,
            r.initialize = function(t) {
                "random" === this.angle ? t.data.cangle = b.randomAToB(-b.PI, b.PI) : "span" === this.angle && (t.data.cangle = this.span.getValue()),
                t.data.cyclone = new S(0,0)
            }
            ,
            r.applyBehaviour = function(t, e, n) {
                var r;
                this.calculate(t, e, n);
                var i = t.v.getGradient();
                "random" === this.angle || "span" === this.angle ? i += t.data.cangle : i += this.angle,
                r = this.force === tt ? t.v.length() / 100 : this.force,
                t.data.cyclone.x = r * Math.cos(i),
                t.data.cyclone.y = r * Math.sin(i),
                t.data.cyclone = this.normalizeForce(t.data.cyclone),
                t.a.add(t.data.cyclone)
            }
            ,
            n
        }(H)
          , nt = function(t) {
            function n(e, n, r, i, a) {
                var o;
                return (o = t.call(this, e, n, r, i, a) || this).force *= -1,
                o.name = "Repulsion",
                o
            }
            return e(n, t),
            n.prototype.reset = function(e, n, r, i, a) {
                t.prototype.reset.call(this, e, n, r, i, a),
                this.force *= -1
            }
            ,
            n
        }(G)
          , rt = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this, r, i) || this).distanceVec = new S,
                a.centerPoint = f.initValue(e, new S),
                a.force = f.initValue(a.normalizeValue(n), 100),
                a.name = "GravityWell",
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(e, n, r, i) {
                this.distanceVec = new S,
                this.centerPoint = f.initValue(e, new S),
                this.force = f.initValue(this.normalizeValue(n), 100),
                r && t.prototype.reset.call(this, r, i)
            }
            ,
            r.initialize = function(t) {}
            ,
            r.applyBehaviour = function(t, e, n) {
                this.distanceVec.set(this.centerPoint.x - t.p.x, this.centerPoint.y - t.p.y);
                var r = this.distanceVec.lengthSq();
                if (0 !== r) {
                    var i = this.distanceVec.length()
                      , a = this.force * e / (r * i);
                    t.v.x += a * this.distanceVec.x,
                    t.v.y += a * this.distanceVec.y
                }
            }
            ,
            n
        }(H)
          , it = {
            initialize: function(t, e, n) {
                var r, i = n.length;
                for (r = 0; r < i; r++)
                    n[r]instanceof M ? n[r].init(t, e) : this.init(t, e, n[r]);
                this.bindEmitter(t, e)
            },
            init: function(t, e, n) {
                _.setProp(e, n),
                _.setVectorVal(e, n)
            },
            bindEmitter: function(t, e) {
                t.bindEmitter && (e.p.add(t.p),
                e.v.add(t.v),
                e.a.add(t.a),
                e.v.rotate(b.degreeTransform(t.rotation)))
            }
        }
          , at = function(t) {
            function n(e) {
                var n;
                return void 0 === e && (e = {}),
                (n = t.call(this, e) || this).particles = [],
                n.behaviours = [],
                n.initializes = [],
                n.emitTime = 0,
                n.emitSpeed = 0,
                n.totalTime = -1,
                n.damping = .006,
                n.bindEmitter = !0,
                n.rate = new T(1,.1),
                n.name = "Emitter",
                n.id = p.id(n.name),
                n
            }
            e(n, t);
            var r = n.prototype;
            return r.emit = function(t, e) {
                this.stoped = !1,
                this.emitTime = 0,
                this.totalTime = f.initValue(t, 1 / 0),
                !0 === e || "life" === e || "destroy" === e ? this.life = "once" === t ? 1 : this.totalTime : isNaN(e) || (this.life = e),
                this.rate.init()
            }
            ,
            r.stop = function() {
                this.totalTime = -1,
                this.emitTime = 0,
                this.stoped = !0
            }
            ,
            r.preEmit = function(t) {
                var e = this.stoped
                  , n = this.emitTime
                  , r = this.totalTime;
                this.stoped = !1,
                this.emitTime = 0,
                this.totalTime = t,
                this.rate.init();
                for (var i = .0167; t > i; )
                    t -= i,
                    this.update(i);
                this.stoped = e,
                this.emitTime = n + Math.max(t, 0),
                this.totalTime = r
            }
            ,
            r.removeAllParticles = function() {
                for (var t = this.particles.length; t--; )
                    this.particles[t].dead = !0
            }
            ,
            r.addSelfInitialize = function(t) {
                t.init ? t.init(this) : this.initAll()
            }
            ,
            r.addInitialize = function() {
                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                    e[n] = arguments[n];
                for (var r = e.length; r--; )
                    this.initializes.push(e[r])
            }
            ,
            r.removeInitialize = function(t) {
                var e = this.initializes.indexOf(t);
                e > -1 && this.initializes.splice(e, 1)
            }
            ,
            r.removeAllInitializers = function() {
                f.emptyArray(this.initializes)
            }
            ,
            r.addBehaviour = function() {
                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                    e[n] = arguments[n];
                for (var r = arguments.length; r--; ) {
                    var i = e[r];
                    this.behaviours.push(i),
                    i.parents && i.parents.push(this)
                }
            }
            ,
            r.removeBehaviour = function(t) {
                var e = this.behaviours.indexOf(t);
                return this.behaviours.splice(e, 1),
                t.parents && (e = t.parents.indexOf(t),
                t.parents.splice(e, 1)),
                e
            }
            ,
            r.removeAllBehaviours = function() {
                f.emptyArray(this.behaviours)
            }
            ,
            r.update = function(t) {
                this.age += t,
                (this.age >= this.life || this.dead) && this.destroy(),
                this.emitting(t),
                this.integrate(t)
            }
            ,
            r.integrate = function(t) {
                if (this.parent) {
                    var e, n, r = 1 - this.damping;
                    for (this.parent.integrator.calculate(this, t, r),
                    e = this.particles.length - 1; e >= 0; e--)
                        (n = this.particles[e]).update(t, e),
                        this.parent.integrator.calculate(n, t, r),
                        this.dispatch("PARTICLE_UPDATE", n),
                        n.dead && (this.dispatch("PARTICLE_DEAD", n),
                        this.parent.pool.expire(n),
                        this.particles.splice(e, 1))
                }
            }
            ,
            r.dispatch = function(t, e) {
                this.parent && this.parent.dispatchEvent(t, e),
                this.bindEvent && this.dispatchEvent(t, e)
            }
            ,
            r.emitting = function(t) {
                if ("once" === this.totalTime) {
                    var e, n = this.rate.getValue(99999);
                    for (n > 0 && (this.emitSpeed = n),
                    e = 0; e < n; e++)
                        this.createParticle();
                    this.totalTime = "none"
                } else if (this.emitTime += t,
                this.emitTime < this.totalTime) {
                    var r, i = this.rate.getValue(t);
                    for (i > 0 && (this.emitSpeed = i),
                    r = 0; r < i; r++)
                        this.createParticle()
                }
            }
            ,
            r.createParticle = function(t, e) {
                var n = this.parent.pool.get(P);
                return this.setupParticle(n, t, e),
                this.dispatch("PARTICLE_CREATED", n),
                n
            }
            ,
            r.setupParticle = function(t, e, n) {
                var r = this.initializes
                  , i = this.behaviours;
                e && (r = f.toArray(e)),
                n && (i = f.toArray(n)),
                t.reset(),
                it.initialize(this, t, r),
                t.addBehaviours(i),
                t.parent = this,
                this.particles.push(t)
            }
            ,
            r.remove = function() {
                this.stop(),
                f.destroyAll(this.particles)
            }
            ,
            r.destroy = function() {
                this.dead = !0,
                this.remove(),
                this.removeAllInitializers(),
                this.removeAllBehaviours(),
                this.parent && this.parent.removeEmitter(this),
                this.rate = null,
                this.old = null,
                this.rgb = null,
                this.v = null,
                this.a = null,
                this.p = null
            }
            ,
            n
        }(P);
        m.bind(at);
        var ot, st = function(t) {
            function n(e) {
                var n;
                return (n = t.call(this, e) || this).selfBehaviours = [],
                n
            }
            e(n, t);
            var r = n.prototype;
            return r.addSelfBehaviour = function() {
                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                    e[n] = arguments[n];
                var r, i = e.length;
                for (r = 0; r < i; r++) {
                    var a = e[r];
                    this.selfBehaviours.push(a),
                    a.initialize(this)
                }
            }
            ,
            r.removeSelfBehaviour = function(t) {
                var e = this.selfBehaviours.indexOf(t);
                e > -1 && this.selfBehaviours.splice(e, 1)
            }
            ,
            r.update = function(e) {
                if (t.prototype.update.call(this, e),
                !this.sleep) {
                    var n, r = this.selfBehaviours.length;
                    for (n = 0; n < r; n++)
                        this.selfBehaviours[n].applyBehaviour(this, e, n)
                }
            }
            ,
            n
        }(at), ut = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this, r) || this).mouseTarget = f.initValue(e, window),
                i.ease = f.initValue(n, .7),
                i._allowEmitting = !1,
                i.initEventHandler(),
                i
            }
            e(n, t);
            var r = n.prototype;
            return r.initEventHandler = function() {
                var t = this;
                this.mousemoveHandler = function(e) {
                    return t.mousemove.call(t, e)
                }
                ,
                this.mousedownHandler = function(e) {
                    return t.mousedown.call(t, e)
                }
                ,
                this.mouseupHandler = function(e) {
                    return t.mouseup.call(t, e)
                }
                ,
                this.mouseTarget.addEventListener("mousemove", this.mousemoveHandler, !1)
            }
            ,
            r.emit = function() {
                this._allowEmitting = !0
            }
            ,
            r.stop = function() {
                this._allowEmitting = !1
            }
            ,
            r.mousemove = function(e) {
                e.layerX || 0 === e.layerX ? (this.p.x += (e.layerX - this.p.x) * this.ease,
                this.p.y += (e.layerY - this.p.y) * this.ease) : (e.offsetX || 0 === e.offsetX) && (this.p.x += (e.offsetX - this.p.x) * this.ease,
                this.p.y += (e.offsetY - this.p.y) * this.ease),
                this._allowEmitting && t.prototype.emit.call(this, "once")
            }
            ,
            r.destroy = function() {
                t.prototype.destroy.call(this),
                this.mouseTarget.removeEventListener("mousemove", this.mousemoveHandler, !1)
            }
            ,
            n
        }(at), ct = function(t) {
            if (!t)
                return !1;
            if (t.__isImage)
                return !0;
            var e = ("" + t.tagName).toUpperCase();
            return ("IMG" === ("" + t.nodeName).toUpperCase() || "IMG" === e) && (t.__isImage = !0,
            !0)
        }, lt = function(t) {
            return "string" == typeof t
        }, dt = function() {
            function t(t, e) {
                this.pool = new v,
                this.element = t,
                this.stroke = e,
                this.circleConf = {
                    isCircle: !0
                },
                this.initEventHandler(),
                this.name = "BaseRenderer"
            }
            var e = t.prototype;
            return e.setStroke = function(t, e) {
                void 0 === t && (t = "#000000"),
                void 0 === e && (e = 1),
                this.stroke = {
                    color: t,
                    thinkness: e
                }
            }
            ,
            e.initEventHandler = function() {
                var t = this;
                this._protonUpdateHandler = function() {
                    t.onProtonUpdate.call(t)
                }
                ,
                this._protonUpdateAfterHandler = function() {
                    t.onProtonUpdateAfter.call(t)
                }
                ,
                this._emitterAddedHandler = function(e) {
                    t.onEmitterAdded.call(t, e)
                }
                ,
                this._emitterRemovedHandler = function(e) {
                    t.onEmitterRemoved.call(t, e)
                }
                ,
                this._particleCreatedHandler = function(e) {
                    t.onParticleCreated.call(t, e)
                }
                ,
                this._particleUpdateHandler = function(e) {
                    t.onParticleUpdate.call(t, e)
                }
                ,
                this._particleDeadHandler = function(e) {
                    t.onParticleDead.call(t, e)
                }
            }
            ,
            e.init = function(t) {
                this.parent = t,
                t.addEventListener("PROTON_UPDATE", this._protonUpdateHandler),
                t.addEventListener("PROTON_UPDATE_AFTER", this._protonUpdateAfterHandler),
                t.addEventListener("EMITTER_ADDED", this._emitterAddedHandler),
                t.addEventListener("EMITTER_REMOVED", this._emitterRemovedHandler),
                t.addEventListener("PARTICLE_CREATED", this._particleCreatedHandler),
                t.addEventListener("PARTICLE_UPDATE", this._particleUpdateHandler),
                t.addEventListener("PARTICLE_DEAD", this._particleDeadHandler)
            }
            ,
            e.resize = function(t, e) {}
            ,
            e.destroy = function() {
                this.remove(),
                this.pool.destroy(),
                this.pool = null,
                this.element = null,
                this.stroke = null
            }
            ,
            e.remove = function(t) {
                this.parent.removeEventListener("PROTON_UPDATE", this._protonUpdateHandler),
                this.parent.removeEventListener("PROTON_UPDATE_AFTER", this._protonUpdateAfterHandler),
                this.parent.removeEventListener("EMITTER_ADDED", this._emitterAddedHandler),
                this.parent.removeEventListener("EMITTER_REMOVED", this._emitterRemovedHandler),
                this.parent.removeEventListener("PARTICLE_CREATED", this._particleCreatedHandler),
                this.parent.removeEventListener("PARTICLE_UPDATE", this._particleUpdateHandler),
                this.parent.removeEventListener("PARTICLE_DEAD", this._particleDeadHandler),
                this.parent = null
            }
            ,
            e.onProtonUpdate = function() {}
            ,
            e.onProtonUpdateAfter = function() {}
            ,
            e.onEmitterAdded = function(t) {}
            ,
            e.onEmitterRemoved = function(t) {}
            ,
            e.onParticleCreated = function(t) {}
            ,
            e.onParticleUpdate = function(t) {}
            ,
            e.onParticleDead = function(t) {}
            ,
            t
        }(), ft = function(t) {
            function n(e) {
                var n;
                return (n = t.call(this, e) || this).stroke = null,
                n.context = n.element.getContext("2d"),
                n.bufferCache = {},
                n.name = "CanvasRenderer",
                n
            }
            e(n, t);
            var r = n.prototype;
            return r.resize = function(t, e) {
                this.element.width = t,
                this.element.height = e
            }
            ,
            r.onProtonUpdate = function() {
                this.context.clearRect(0, 0, this.element.width, this.element.height)
            }
            ,
            r.onParticleCreated = function(t) {
                t.body ? d(t.body, this.addImg2Body, t) : t.color = t.color || "#ff0000"
            }
            ,
            r.onParticleUpdate = function(t) {
                t.body ? ct(t.body) && this.drawImage(t) : this.drawCircle(t)
            }
            ,
            r.onParticleDead = function(t) {
                t.body = null
            }
            ,
            r.addImg2Body = function(t, e) {
                e.body = t
            }
            ,
            r.drawImage = function(t) {
                var e = t.body.width * t.scale | 0
                  , n = t.body.height * t.scale | 0
                  , r = t.p.x - e / 2
                  , i = t.p.y - n / 2;
                if (t.color) {
                    t.data.buffer || (t.data.buffer = this.createBuffer(t.body));
                    var a = t.data.buffer.getContext("2d");
                    a.clearRect(0, 0, t.data.buffer.width, t.data.buffer.height),
                    a.globalAlpha = t.alpha,
                    a.drawImage(t.body, 0, 0),
                    a.globalCompositeOperation = "source-atop",
                    a.fillStyle = C.rgbToHex(t.rgb),
                    a.fillRect(0, 0, t.data.buffer.width, t.data.buffer.height),
                    a.globalCompositeOperation = "source-over",
                    a.globalAlpha = 1,
                    this.context.drawImage(t.data.buffer, 0, 0, t.data.buffer.width, t.data.buffer.height, r, i, e, n)
                } else
                    this.context.save(),
                    this.context.globalAlpha = t.alpha,
                    this.context.translate(t.p.x, t.p.y),
                    this.context.rotate(b.degreeTransform(t.rotation)),
                    this.context.translate(-t.p.x, -t.p.y),
                    this.context.drawImage(t.body, 0, 0, t.body.width, t.body.height, r, i, e, n),
                    this.context.globalAlpha = 1,
                    this.context.restore()
            }
            ,
            r.drawCircle = function(t) {
                t.rgb ? this.context.fillStyle = "rgba(" + t.rgb.r + "," + t.rgb.g + "," + t.rgb.b + "," + t.alpha + ")" : this.context.fillStyle = t.color,
                this.context.beginPath(),
                this.context.arc(t.p.x, t.p.y, t.radius, 0, 2 * Math.PI, !0),
                this.stroke && (this.context.strokeStyle = this.stroke.color,
                this.context.lineWidth = this.stroke.thinkness,
                this.context.stroke()),
                this.context.closePath(),
                this.context.fill()
            }
            ,
            r.createBuffer = function(t) {
                if (ct(t)) {
                    var e = t.width + "_" + t.height
                      , n = this.bufferCache[e];
                    return n || ((n = document.createElement("canvas")).width = t.width,
                    n.height = t.height,
                    this.bufferCache[e] = n),
                    n
                }
            }
            ,
            r.destroy = function() {
                t.prototype.destroy.call(this),
                this.stroke = null,
                this.context = null,
                this.bufferCache = null
            }
            ,
            n
        }(dt), ht = function(t) {
            function n(e) {
                var n;
                return (n = t.call(this, e) || this).stroke = null,
                n.transform3d = !1,
                n.pool.create = function(t, e) {
                    return n.createBody(t, e)
                }
                ,
                n.addImg2Body = n.addImg2Body.bind(r(n)),
                n.name = "DomRenderer",
                n
            }
            e(n, t);
            var i = n.prototype;
            return i.onParticleCreated = function(t) {
                t.body ? d(t.body, this.addImg2Body, t) : (t.body = this.pool.get(this.circleConf, t),
                this.element.appendChild(t.body))
            }
            ,
            i.onParticleUpdate = function(t) {
                this.bodyReady(t) && (this.transform3d ? s.transform3d(t.body, t.p.x, t.p.y, t.scale, t.rotation) : s.transform(t.body, t.p.x, t.p.y, t.scale, t.rotation),
                t.body.style.opacity = t.alpha,
                t.body.isCircle && (t.body.style.backgroundColor = t.color || "#ff0000"))
            }
            ,
            i.onParticleDead = function(t) {
                this.bodyReady(t) && (this.element.removeChild(t.body),
                this.pool.expire(t.body),
                t.body = null)
            }
            ,
            i.bodyReady = function(t) {
                return "object" == typeof t.body && t.body && !t.body.isInner
            }
            ,
            i.addImg2Body = function(t, e) {
                e.dead || (e.body = this.pool.get(t, e),
                s.resize(e.body, t.width, t.height),
                this.element.appendChild(e.body))
            }
            ,
            i.createBody = function(t, e) {
                return t.isCircle ? this.createCircle(e) : this.createSprite(t, e)
            }
            ,
            i.createCircle = function(t) {
                var e = s.createDiv(t.id + "_dom", 2 * t.radius, 2 * t.radius);
                return e.style.borderRadius = t.radius + "px",
                this.stroke && (e.style.borderColor = this.stroke.color,
                e.style.borderWidth = this.stroke.thinkness + "px"),
                e.isCircle = !0,
                e
            }
            ,
            i.createSprite = function(t, e) {
                var n = "string" == typeof t ? t : t.src
                  , r = s.createDiv(e.id + "_dom", t.width, t.height);
                return r.style.backgroundImage = "url(" + n + ")",
                r
            }
            ,
            i.destroy = function() {
                t.prototype.destroy.call(this),
                this.stroke = null
            }
            ,
            n
        }(dt), pt = function(t) {
            function n(e, n) {
                var r;
                return (r = t.call(this, e) || this).stroke = n,
                r.name = "EaselRenderer",
                r
            }
            e(n, t);
            var r = n.prototype;
            return r.onParticleCreated = function(t) {
                t.body ? this.createSprite(t) : this.createCircle(t),
                this.element.addChild(t.body)
            }
            ,
            r.onParticleUpdate = function(t) {
                t.body && (t.body.x = t.p.x,
                t.body.y = t.p.y,
                t.body.alpha = t.alpha,
                t.body.scaleX = t.body.scaleY = t.scale,
                t.body.rotation = t.rotation)
            }
            ,
            r.onParticleDead = function(t) {
                t.body && (t.body.parent && t.body.parent.removeChild(t.body),
                this.pool.expire(t.body),
                t.body = null),
                t.graphics && this.pool.expire(t.graphics)
            }
            ,
            r.createSprite = function(t) {
                t.body = this.pool.get(t.body),
                t.body.parent || t.body.image && (t.body.regX = t.body.image.width / 2,
                t.body.regY = t.body.image.height / 2)
            }
            ,
            r.createCircle = function(t) {
                var e = this.pool.get(createjs.Graphics);
                this.stroke && (lt(this.stroke) ? e.beginStroke(this.stroke) : e.beginStroke("#000000")),
                e.beginFill(t.color || "#ff0000").drawCircle(0, 0, t.radius);
                var n = this.pool.get(createjs.Shape, [e]);
                t.body = n,
                t.graphics = e
            }
            ,
            r.destroy = function() {
                t.prototype.destroy.call(this),
                this.stroke = null
            }
            ,
            n
        }(dt), vt = function(t) {
            function n(e, n) {
                var r;
                return (r = t.call(this, e) || this).context = r.element.getContext("2d"),
                r.imageData = null,
                r.rectangle = n,
                r.createImageData(n),
                r.name = "PixelRenderer",
                r
            }
            e(n, t);
            var r = n.prototype;
            return r.resize = function(t, e) {
                this.element.width = t,
                this.element.height = e
            }
            ,
            r.createImageData = function(t) {
                this.rectangle = t || new R(0,0,this.element.width,this.element.height),
                this.imageData = this.context.createImageData(this.rectangle.width, this.rectangle.height),
                this.context.putImageData(this.imageData, this.rectangle.x, this.rectangle.y)
            }
            ,
            r.onProtonUpdate = function() {
                this.context.clearRect(this.rectangle.x, this.rectangle.y, this.rectangle.width, this.rectangle.height),
                this.imageData = this.context.getImageData(this.rectangle.x, this.rectangle.y, this.rectangle.width, this.rectangle.height)
            }
            ,
            r.onProtonUpdateAfter = function() {
                this.context.putImageData(this.imageData, this.rectangle.x, this.rectangle.y)
            }
            ,
            r.onParticleCreated = function(t) {}
            ,
            r.onParticleUpdate = function(t) {
                this.imageData && this.setPixel(this.imageData, t.p.x - this.rectangle.x >> 0, t.p.y - this.rectangle.y >> 0, t)
            }
            ,
            r.setPixel = function(t, e, n, r) {
                var i = r.rgb;
                if (!(e < 0 || e > this.element.width || n < 0 || n > this.elementwidth)) {
                    var a = 4 * ((n >> 0) * t.width + (e >> 0));
                    t.data[a] = i.r,
                    t.data[a + 1] = i.g,
                    t.data[a + 2] = i.b,
                    t.data[a + 3] = 255 * r.alpha
                }
            }
            ,
            r.onParticleDead = function(t) {}
            ,
            r.destroy = function() {
                t.prototype.destroy.call(this),
                this.stroke = null,
                this.context = null,
                this.imageData = null,
                this.rectangle = null
            }
            ,
            n
        }(dt), gt = function(t) {
            function n(e, n) {
                var r;
                return (r = t.call(this, e) || this).stroke = n,
                r.color = !1,
                r.setColor = !1,
                r.blendMode = null,
                r.pool.create = function(t, e) {
                    return r.createBody(t, e)
                }
                ,
                r.setPIXI(window.PIXI),
                r.name = "PixiRenderer",
                r
            }
            e(n, t);
            var r = n.prototype;
            return r.setPIXI = function(t) {
                try {
                    ot = t || {
                        Sprite: {}
                    },
                    this.createFromImage = ot.Sprite.from || ot.Sprite.fromImage
                } catch (t) {}
            }
            ,
            r.onProtonUpdate = function() {}
            ,
            r.onParticleCreated = function(t) {
                t.body ? t.body = this.pool.get(t.body, t) : t.body = this.pool.get(this.circleConf, t),
                this.blendMode && (t.body.blendMode = this.blendMode),
                this.element.addChild(t.body)
            }
            ,
            r.onParticleUpdate = function(t) {
                this.transform(t, t.body),
                !0 !== this.setColor && !0 !== this.color || (t.body.tint = C.getHex16FromParticle(t))
            }
            ,
            r.onParticleDead = function(t) {
                this.element.removeChild(t.body),
                this.pool.expire(t.body),
                t.body = null
            }
            ,
            r.transform = function(t, e) {
                e.x = t.p.x,
                e.y = t.p.y,
                e.alpha = t.alpha,
                e.scale.x = t.scale,
                e.scale.y = t.scale,
                e.rotation = t.rotation * b.PI_180
            }
            ,
            r.createBody = function(t, e) {
                return t.isCircle ? this.createCircle(e) : this.createSprite(t)
            }
            ,
            r.createSprite = function(t) {
                var e = t.isInner ? this.createFromImage(t.src) : new ot.Sprite(t);
                return e.anchor.x = .5,
                e.anchor.y = .5,
                e
            }
            ,
            r.createCircle = function(t) {
                var e = new ot.Graphics;
                if (this.stroke) {
                    var n = lt(this.stroke) ? this.stroke : 0;
                    e.beginStroke(n)
                }
                return e.beginFill(t.color || 36077),
                e.drawCircle(0, 0, t.radius),
                e.endFill(),
                e
            }
            ,
            r.destroy = function(e) {
                t.prototype.destroy.call(this);
                for (var n = e.length; n--; ) {
                    var r = e[n];
                    r.body && this.element.removeChild(r.body)
                }
            }
            ,
            n
        }(dt), mt = function() {
            function t() {
                this.mats = [],
                this.size = 0;
                for (var t = 0; t < 20; t++)
                    this.mats.push(j.create([0, 0, 0, 0, 0, 0, 0, 0, 0]))
            }
            var e = t.prototype;
            return e.set = function(t, e) {
                0 === e ? j.set(t, this.mats[0]) : j.multiply(this.mats[e - 1], t, this.mats[e]),
                this.size = Math.max(this.size, e + 1)
            }
            ,
            e.push = function(t) {
                0 === this.size ? j.set(t, this.mats[0]) : j.multiply(this.mats[this.size - 1], t, this.mats[this.size]),
                this.size++
            }
            ,
            e.pop = function() {
                this.size > 0 && this.size--
            }
            ,
            e.top = function() {
                return this.mats[this.size - 1]
            }
            ,
            t
        }(), yt = function(t) {
            function n(e) {
                var n;
                return (n = t.call(this, e) || this).gl = n.element.getContext("experimental-webgl", {
                    antialias: !0,
                    stencil: !1,
                    depth: !1
                }),
                n.gl || alert("Sorry your browser do not suppest WebGL!"),
                n.initVar(),
                n.setMaxRadius(),
                n.initShaders(),
                n.initBuffers(),
                n.gl.blendEquation(n.gl.FUNC_ADD),
                n.gl.blendFunc(n.gl.SRC_ALPHA, n.gl.ONE_MINUS_SRC_ALPHA),
                n.gl.enable(n.gl.BLEND),
                n.addImg2Body = n.addImg2Body.bind(r(n)),
                n.name = "WebGLRenderer",
                n
            }
            e(n, t);
            var u = n.prototype;
            return u.init = function(e) {
                t.prototype.init.call(this, e),
                this.resize(this.element.width, this.element.height)
            }
            ,
            u.resize = function(t, e) {
                this.umat[4] = -2,
                this.umat[7] = 1,
                this.smat[0] = 1 / t,
                this.smat[4] = 1 / e,
                this.mstack.set(this.umat, 0),
                this.mstack.set(this.smat, 1),
                this.gl.viewport(0, 0, t, e),
                this.element.width = t,
                this.element.height = e
            }
            ,
            u.setMaxRadius = function(t) {
                this.circleCanvasURL = this.createCircle(t)
            }
            ,
            u.getVertexShader = function() {
                return ["uniform vec2 viewport;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 tMat;", "varying vec2 vTextureCoord;", "varying float alpha;", "void main() {", "vec3 v = tMat * vec3(aVertexPosition, 1.0);", "gl_Position = vec4(v.x, v.y, 0, 1);", "vTextureCoord = aTextureCoord;", "alpha = tMat[0][2];", "}"].join("\n")
            }
            ,
            u.getFragmentShader = function() {
                return ["precision mediump float;", "varying vec2 vTextureCoord;", "varying float alpha;", "uniform sampler2D uSampler;", "uniform vec4 color;", "uniform bool useTexture;", "uniform vec3 uColor;", "void main() {", "vec4 textureColor = texture2D(uSampler, vTextureCoord);", "gl_FragColor = textureColor * vec4(uColor, 1.0);", "gl_FragColor.w *= alpha;", "}"].join("\n")
            }
            ,
            u.initVar = function() {
                this.mstack = new mt,
                this.umat = j.create([2, 0, 1, 0, -2, 0, -1, 1, 1]),
                this.smat = j.create([.01, 0, 1, 0, .01, 0, 0, 0, 1]),
                this.texturebuffers = {}
            }
            ,
            u.blendEquation = function(t) {
                this.gl.blendEquation(this.gl[t])
            }
            ,
            u.blendFunc = function(t, e) {
                this.gl.blendFunc(this.gl[t], this.gl[e])
            }
            ,
            u.getShader = function(t, e, n) {
                var r = n ? t.createShader(t.FRAGMENT_SHADER) : t.createShader(t.VERTEX_SHADER);
                return t.shaderSource(r, e),
                t.compileShader(r),
                t.getShaderParameter(r, t.COMPILE_STATUS) ? r : (alert(t.getShaderInfoLog(r)),
                null)
            }
            ,
            u.initShaders = function() {
                var t = this.getShader(this.gl, this.getFragmentShader(), !0)
                  , e = this.getShader(this.gl, this.getVertexShader(), !1);
                this.sprogram = this.gl.createProgram(),
                this.gl.attachShader(this.sprogram, e),
                this.gl.attachShader(this.sprogram, t),
                this.gl.linkProgram(this.sprogram),
                this.gl.getProgramParameter(this.sprogram, this.gl.LINK_STATUS) || alert("Could not initialise shaders"),
                this.gl.useProgram(this.sprogram),
                this.sprogram.vpa = this.gl.getAttribLocation(this.sprogram, "aVertexPosition"),
                this.sprogram.tca = this.gl.getAttribLocation(this.sprogram, "aTextureCoord"),
                this.gl.enableVertexAttribArray(this.sprogram.tca),
                this.gl.enableVertexAttribArray(this.sprogram.vpa),
                this.sprogram.tMatUniform = this.gl.getUniformLocation(this.sprogram, "tMat"),
                this.sprogram.samplerUniform = this.gl.getUniformLocation(this.sprogram, "uSampler"),
                this.sprogram.useTex = this.gl.getUniformLocation(this.sprogram, "useTexture"),
                this.sprogram.color = this.gl.getUniformLocation(this.sprogram, "uColor"),
                this.gl.uniform1i(this.sprogram.useTex, 1)
            }
            ,
            u.initBuffers = function() {
                var t, e;
                this.unitIBuffer = this.gl.createBuffer(),
                this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitIBuffer),
                this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 3, 1, 0, 2, 3]), this.gl.STATIC_DRAW);
                var n = [];
                for (e = 0; e < 100; e++)
                    n.push(e);
                for (t = new Uint16Array(n),
                this.unitI33 = this.gl.createBuffer(),
                this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitI33),
                this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, t, this.gl.STATIC_DRAW),
                n = [],
                e = 0; e < 100; e++)
                    n.push(e, e + 1, e + 2);
                t = new Uint16Array(n),
                this.stripBuffer = this.gl.createBuffer(),
                this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.stripBuffer),
                this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, t, this.gl.STATIC_DRAW)
            }
            ,
            u.createCircle = function(t) {
                this.circleCanvasRadius = i(f.initValue(t, 32));
                var e = s.createCanvas("circle_canvas", 2 * this.circleCanvasRadius, 2 * this.circleCanvasRadius)
                  , n = e.getContext("2d");
                return n.beginPath(),
                n.arc(this.circleCanvasRadius, this.circleCanvasRadius, this.circleCanvasRadius, 0, 2 * Math.PI, !0),
                n.closePath(),
                n.fillStyle = "#FFF",
                n.fill(),
                e.toDataURL()
            }
            ,
            u.drawImg2Canvas = function(t) {
                var e = t.body.width
                  , n = t.body.height
                  , r = i(t.body.width)
                  , a = i(t.body.height)
                  , o = t.body.width / r
                  , s = t.body.height / a;
                this.texturebuffers[t.data.src] || (this.texturebuffers[t.data.src] = [this.gl.createTexture(), this.gl.createBuffer(), this.gl.createBuffer()]),
                t.data.texture = this.texturebuffers[t.data.src][0],
                t.data.vcBuffer = this.texturebuffers[t.data.src][1],
                t.data.tcBuffer = this.texturebuffers[t.data.src][2],
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, t.data.tcBuffer),
                this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([0, 0, o, 0, 0, s, s, s]), this.gl.STATIC_DRAW),
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, t.data.vcBuffer),
                this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([0, 0, e, 0, 0, n, e, n]), this.gl.STATIC_DRAW);
                var u = t.data.canvas.getContext("2d").getImageData(0, 0, r, a);
                this.gl.bindTexture(this.gl.TEXTURE_2D, t.data.texture),
                this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, u),
                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR),
                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_NEAREST),
                this.gl.generateMipmap(this.gl.TEXTURE_2D),
                t.data.textureLoaded = !0,
                t.data.textureWidth = e,
                t.data.textureHeight = n
            }
            ,
            u.onProtonUpdate = function() {}
            ,
            u.onParticleCreated = function(t) {
                t.data.textureLoaded = !1,
                t.data.tmat = j.create(),
                t.data.tmat[8] = 1,
                t.data.imat = j.create(),
                t.data.imat[8] = 1,
                t.body ? d(t.body, this.addImg2Body, t) : (d(this.circleCanvasURL, this.addImg2Body, t),
                t.data.oldScale = t.radius / this.circleCanvasRadius)
            }
            ,
            u.addImg2Body = function(t, e) {
                e.dead || (e.body = t,
                e.data.src = t.src,
                e.data.canvas = function(t, e, n) {
                    var r = t.src;
                    if (!c[r]) {
                        var a = i(t.width)
                          , o = i(t.height)
                          , u = s.createCanvas("proton_canvas_cache_" + ++l, a, o);
                        u.getContext("2d").drawImage(t, 0, 0, t.width, t.height),
                        c[r] = u
                    }
                    return e && e(c[r], n),
                    c[r]
                }(t),
                e.data.oldScale = 1,
                this.drawImg2Canvas(e))
            }
            ,
            u.onParticleUpdate = function(t) {
                t.data.textureLoaded && (this.updateMatrix(t),
                this.gl.uniform3f(this.sprogram.color, t.rgb.r / 255, t.rgb.g / 255, t.rgb.b / 255),
                this.gl.uniformMatrix3fv(this.sprogram.tMatUniform, !1, this.mstack.top()),
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, t.data.vcBuffer),
                this.gl.vertexAttribPointer(this.sprogram.vpa, 2, this.gl.FLOAT, !1, 0, 0),
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, t.data.tcBuffer),
                this.gl.vertexAttribPointer(this.sprogram.tca, 2, this.gl.FLOAT, !1, 0, 0),
                this.gl.bindTexture(this.gl.TEXTURE_2D, t.data.texture),
                this.gl.uniform1i(this.sprogram.samplerUniform, 0),
                this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitIBuffer),
                this.gl.drawElements(this.gl.TRIANGLES, 6, this.gl.UNSIGNED_SHORT, 0),
                this.mstack.pop())
            }
            ,
            u.onParticleDead = function(t) {}
            ,
            u.updateMatrix = function(t) {
                var e = a(-t.data.textureWidth / 2, -t.data.textureHeight / 2)
                  , n = a(t.p.x, t.p.y)
                  , r = function(t) {
                    var e = Math.cos(t)
                      , n = Math.sin(t);
                    return [e, -n, 0, n, e, 0, 0, 0, 1]
                }(t.rotation * b.PI_180)
                  , i = t.scale * t.data.oldScale
                  , s = function(t, e) {
                    return [t, 0, 0, 0, e, 0, 0, 0, 1]
                }(i, i)
                  , u = o(e, s);
                u = o(u, r),
                u = o(u, n),
                j.inverse(u, t.data.imat),
                u[2] = t.alpha,
                this.mstack.push(u)
            }
            ,
            u.destroy = function() {
                t.prototype.destroy.call(this),
                this.gl = null,
                this.mstack = null,
                this.umat = null,
                this.smat = null,
                this.texturebuffers = null
            }
            ,
            n
        }(dt), bt = function(t) {
            function n(e) {
                var n;
                return (n = t.call(this, e) || this).name = "CustomRenderer",
                n
            }
            return e(n, t),
            n
        }(dt), wt = function(t) {
            function n(e, n, r, i, a) {
                var o;
                return o = t.call(this) || this,
                r - e >= 0 ? (o.x1 = e,
                o.y1 = n,
                o.x2 = r,
                o.y2 = i) : (o.x1 = r,
                o.y1 = i,
                o.x2 = e,
                o.y2 = n),
                o.dx = o.x2 - o.x1,
                o.dy = o.y2 - o.y1,
                o.minx = Math.min(o.x1, o.x2),
                o.miny = Math.min(o.y1, o.y2),
                o.maxx = Math.max(o.x1, o.x2),
                o.maxy = Math.max(o.y1, o.y2),
                o.dot = o.x2 * o.y1 - o.x1 * o.y2,
                o.xxyy = o.dx * o.dx + o.dy * o.dy,
                o.gradient = o.getGradient(),
                o.length = o.getLength(),
                o.direction = f.initValue(a, ">"),
                o
            }
            e(n, t);
            var r = n.prototype;
            return r.getPosition = function() {
                return this.random = Math.random(),
                this.vector.x = this.x1 + this.random * this.length * Math.cos(this.gradient),
                this.vector.y = this.y1 + this.random * this.length * Math.sin(this.gradient),
                this.vector
            }
            ,
            r.getDirection = function(t, e) {
                var n = this.dy
                  , r = -this.dx;
                return (n * t + r * e + this.dot) * (0 === r ? 1 : r) > 0
            }
            ,
            r.getDistance = function(t, e) {
                return (this.dy * t + -this.dx * e + this.dot) / Math.sqrt(this.xxyy)
            }
            ,
            r.getSymmetric = function(t) {
                var e = t.getGradient()
                  , n = 2 * (this.getGradient() - e)
                  , r = t.x
                  , i = t.y;
                return t.x = r * Math.cos(n) - i * Math.sin(n),
                t.y = r * Math.sin(n) + i * Math.cos(n),
                t
            }
            ,
            r.getGradient = function() {
                return Math.atan2(this.dy, this.dx)
            }
            ,
            r.rangeOut = function(t) {
                if (Math.abs(this.getGradient()) <= b.PI / 4) {
                    if (t.p.x <= this.maxx && t.p.x >= this.minx)
                        return !0
                } else if (t.p.y <= this.maxy && t.p.y >= this.miny)
                    return !0;
                return !1
            }
            ,
            r.getLength = function() {
                return Math.sqrt(this.dx * this.dx + this.dy * this.dy)
            }
            ,
            r.crossing = function(t) {
                if ("dead" === this.crossType)
                    if (">" === this.direction || "R" === this.direction || "right" === this.direction || "down" === this.direction) {
                        if (!this.rangeOut(t))
                            return;
                        this.getDirection(t.p.x, t.p.y) && (t.dead = !0)
                    } else {
                        if (!this.rangeOut(t))
                            return;
                        this.getDirection(t.p.x, t.p.y) || (t.dead = !0)
                    }
                else if ("bound" === this.crossType) {
                    if (!this.rangeOut(t))
                        return;
                    this.getDistance(t.p.x, t.p.y) <= t.radius && (0 === this.dx ? t.v.x *= -1 : 0 === this.dy ? t.v.y *= -1 : this.getSymmetric(t.v))
                } else
                    "cross" === this.crossType && this.alert && (console.error("Sorry, LineZone does not support cross method!"),
                    this.alert = !1)
            }
            ,
            n
        }(B), xt = function(t) {
            function n(e, n, r) {
                var i;
                return (i = t.call(this) || this).x = e,
                i.y = n,
                i.radius = r,
                i.angle = 0,
                i.center = {
                    x: e,
                    y: n
                },
                i
            }
            e(n, t);
            var r = n.prototype;
            return r.getPosition = function() {
                return this.angle = b.PIx2 * Math.random(),
                this.randomRadius = Math.random() * this.radius,
                this.vector.x = this.x + this.randomRadius * Math.cos(this.angle),
                this.vector.y = this.y + this.randomRadius * Math.sin(this.angle),
                this.vector
            }
            ,
            r.setCenter = function(t, e) {
                this.center.x = t,
                this.center.y = e
            }
            ,
            r.crossing = function(t) {
                var e = t.p.distanceTo(this.center);
                "dead" === this.crossType ? e - t.radius > this.radius && (t.dead = !0) : "bound" === this.crossType ? e + t.radius >= this.radius && this.getSymmetric(t) : "cross" === this.crossType && this.alert && (console.error("Sorry, CircleZone does not support cross method!"),
                this.alert = !1)
            }
            ,
            r.getSymmetric = function(t) {
                var e = t.v.getGradient()
                  , n = 2 * (this.getGradient(t) - e)
                  , r = t.v.x
                  , i = t.v.y;
                t.v.x = r * Math.cos(n) - i * Math.sin(n),
                t.v.y = r * Math.sin(n) + i * Math.cos(n)
            }
            ,
            r.getGradient = function(t) {
                return -b.PI_2 + Math.atan2(t.p.y - this.center.y, t.p.x - this.center.x)
            }
            ,
            n
        }(B), kt = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this) || this).x = e,
                a.y = n,
                a.width = r,
                a.height = i,
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.getPosition = function() {
                return this.vector.x = this.x + Math.random() * this.width,
                this.vector.y = this.y + Math.random() * this.height,
                this.vector
            }
            ,
            r.crossing = function(t) {
                "dead" === this.crossType ? ((t.p.x + t.radius < this.x || t.p.x - t.radius > this.x + this.width) && (t.dead = !0),
                (t.p.y + t.radius < this.y || t.p.y - t.radius > this.y + this.height) && (t.dead = !0)) : "bound" === this.crossType ? (t.p.x - t.radius < this.x ? (t.p.x = this.x + t.radius,
                t.v.x *= -1) : t.p.x + t.radius > this.x + this.width && (t.p.x = this.x + this.width - t.radius,
                t.v.x *= -1),
                t.p.y - t.radius < this.y ? (t.p.y = this.y + t.radius,
                t.v.y *= -1) : t.p.y + t.radius > this.y + this.height && (t.p.y = this.y + this.height - t.radius,
                t.v.y *= -1)) : "cross" === this.crossType && (t.p.x + t.radius < this.x && t.v.x <= 0 ? t.p.x = this.x + this.width + t.radius : t.p.x - t.radius > this.x + this.width && t.v.x >= 0 && (t.p.x = this.x - t.radius),
                t.p.y + t.radius < this.y && t.v.y <= 0 ? t.p.y = this.y + this.height + t.radius : t.p.y - t.radius > this.y + this.height && t.v.y >= 0 && (t.p.y = this.y - t.radius))
            }
            ,
            n
        }(B), _t = function(t) {
            function n(e, n, r, i) {
                var a;
                return (a = t.call(this) || this).reset(e, n, r, i),
                a
            }
            e(n, t);
            var r = n.prototype;
            return r.reset = function(t, e, n, r) {
                this.imageData = t,
                this.x = f.initValue(e, 0),
                this.y = f.initValue(n, 0),
                this.d = f.initValue(r, 2),
                this.vectors = [],
                this.setVectors()
            }
            ,
            r.setVectors = function() {
                var t, e, n = this.imageData.width, r = this.imageData.height;
                for (t = 0; t < n; t += this.d)
                    for (e = 0; e < r; e += this.d) {
                        var i = 4 * ((e >> 0) * n + (t >> 0));
                        this.imageData.data[i + 3] > 0 && this.vectors.push({
                            x: t + this.x,
                            y: e + this.y
                        })
                    }
                return this.vector
            }
            ,
            r.getBound = function(t, e) {
                var n = 4 * ((e >> 0) * this.imageData.width + (t >> 0));
                return this.imageData.data[n + 3] > 0
            }
            ,
            r.getPosition = function() {
                var t = f.getRandFromArray(this.vectors);
                return this.vector.copy(t)
            }
            ,
            r.getColor = function(t, e) {
                t -= this.x;
                var n = 4 * (((e -= this.y) >> 0) * this.imageData.width + (t >> 0));
                return {
                    r: this.imageData.data[n],
                    g: this.imageData.data[n + 1],
                    b: this.imageData.data[n + 2],
                    a: this.imageData.data[n + 3]
                }
            }
            ,
            r.crossing = function(t) {
                "dead" === this.crossType ? this.getBound(t.p.x - this.x, t.p.y - this.y) ? t.dead = !0 : t.dead = !1 : "bound" === this.crossType && (this.getBound(t.p.x - this.x, t.p.y - this.y) || t.v.negate())
            }
            ,
            r.destroy = function() {
                t.prototype.destroy.call(this),
                this.imageData = null
            }
            ,
            n
        }(B), Ot = {
            addEventListener: function(t, e) {
                t.addEventListener("PROTON_UPDATE_AFTER", (function() {
                    return e()
                }
                ))
            },
            getStyle: function(t) {
                void 0 === t && (t = "#ff0000");
                var e = C.hexToRgb(t);
                return "rgba(" + e.r + ", " + e.g + ", " + e.b + ", 0.5)"
            },
            drawZone: function(t, e, n, r) {
                var i = e.getContext("2d")
                  , a = this.getStyle();
                this.addEventListener(t, (function() {
                    r && i.clearRect(0, 0, e.width, e.height),
                    n instanceof U ? (i.beginPath(),
                    i.fillStyle = a,
                    i.arc(n.x, n.y, 10, 0, 2 * Math.PI, !0),
                    i.fill(),
                    i.closePath()) : n instanceof wt ? (i.beginPath(),
                    i.strokeStyle = a,
                    i.moveTo(n.x1, n.y1),
                    i.lineTo(n.x2, n.y2),
                    i.stroke(),
                    i.closePath()) : n instanceof kt ? (i.beginPath(),
                    i.strokeStyle = a,
                    i.drawRect(n.x, n.y, n.width, n.height),
                    i.stroke(),
                    i.closePath()) : n instanceof xt && (i.beginPath(),
                    i.strokeStyle = a,
                    i.arc(n.x, n.y, n.radius, 0, 2 * Math.PI, !0),
                    i.stroke(),
                    i.closePath())
                }
                ))
            },
            drawEmitter: function(t, e, n, r) {
                var i = e.getContext("2d")
                  , a = this.getStyle();
                this.addEventListener(t, (function() {
                    r && i.clearRect(0, 0, e.width, e.height),
                    i.beginPath(),
                    i.fillStyle = a,
                    i.arc(n.p.x, n.p.y, 10, 0, 2 * Math.PI, !0),
                    i.fill(),
                    i.closePath()
                }
                ))
            }
        };
        return x.Particle = P,
        x.Pool = v,
        x.Util = f,
        x.ColorUtil = C,
        x.MathUtil = b,
        x.Vector2D = x.Vector = S,
        x.Polar2D = x.Polar = E,
        x.ArraySpan = I,
        x.Rectangle = R,
        x.Rate = T,
        x.ease = O,
        x.Span = A,
        x.Mat3 = j,
        x.getSpan = function(t, e, n) {
            return new A(t,e,n)
        }
        ,
        x.createArraySpan = I.createArraySpan,
        x.Initialize = x.Init = M,
        x.Life = x.L = D,
        x.Position = x.P = z,
        x.Velocity = x.V = L,
        x.Mass = x.M = V,
        x.Radius = x.R = F,
        x.Body = x.B = N,
        x.Behaviour = H,
        x.Force = x.F = W,
        x.Attraction = x.A = G,
        x.RandomDrift = x.RD = q,
        x.Gravity = x.G = Y,
        x.Collision = Z,
        x.CrossZone = J,
        x.Alpha = K,
        x.Scale = x.S = $,
        x.Rotate = X,
        x.Color = Q,
        x.Repulsion = nt,
        x.Cyclone = et,
        x.GravityWell = rt,
        x.Emitter = at,
        x.BehaviourEmitter = st,
        x.FollowEmitter = ut,
        x.Zone = B,
        x.LineZone = wt,
        x.CircleZone = xt,
        x.PointZone = U,
        x.RectZone = kt,
        x.ImageZone = _t,
        x.CanvasRenderer = ft,
        x.DomRenderer = ht,
        x.EaselRenderer = pt,
        x.PixiRenderer = gt,
        x.PixelRenderer = vt,
        x.WebGLRenderer = x.WebGlRenderer = yt,
        x.CustomRenderer = bt,
        x.Debug = Ot,
        f.assign(x, O),
        x
    }()
}
, function(t, e, n) {
    var r = n(113)
      , i = n(191)
      , a = n(105)
      , o = n(92);
    t.exports = n(159)(Array, "Array", (function(t, e) {
        this._t = o(t),
        this._i = 0,
        this._k = e
    }
    ), (function() {
        var t = this._t
          , e = this._k
          , n = this._i++;
        return !t || n >= t.length ? (this._t = void 0,
        i(1)) : i(0, "keys" == e ? n : "values" == e ? t[n] : [n, t[n]])
    }
    ), "values"),
    a.Arguments = a.Array,
    r("keys"),
    r("values"),
    r("entries")
}
, function(t, e, n) {
    n(190);
    var r = n(60)
      , i = n(120)
      , a = n(61)
      , o = "toString"
      , s = /./.toString
      , u = function(t) {
        n(77)(RegExp.prototype, o, t, !0)
    };
    n(57)((function() {
        return "/a/b" != s.call({
            source: "a",
            flags: "b"
        })
    }
    )) ? u((function() {
        var t = r(this);
        return "/".concat(t.source, "/", "flags"in t ? t.flags : !a && t instanceof RegExp ? i.call(t) : void 0)
    }
    )) : s.name != o && u((function() {
        return s.call(this)
    }
    ))
}
, function(t, e, n) {
    var r = Date.prototype
      , i = "Invalid Date"
      , a = r.toString
      , o = r.getTime;
    new Date(NaN) + "" != i && n(77)(r, "toString", (function() {
        var t = o.call(this);
        return t == t ? a.call(this) : i
    }
    ))
}
, function(t, e, n) {
    for (var r = n(28), i = n(107), a = n(77), o = n(53), s = n(76), u = n(105), c = n(54), l = c("iterator"), d = c("toStringTag"), f = u.Array, h = {
        CSSRuleList: !0,
        CSSStyleDeclaration: !1,
        CSSValueList: !1,
        ClientRectList: !1,
        DOMRectList: !1,
        DOMStringList: !1,
        DOMTokenList: !0,
        DataTransferItemList: !1,
        FileList: !1,
        HTMLAllCollection: !1,
        HTMLCollection: !1,
        HTMLFormElement: !1,
        HTMLSelectElement: !1,
        MediaList: !0,
        MimeTypeArray: !1,
        NamedNodeMap: !1,
        NodeList: !0,
        PaintRequestList: !1,
        Plugin: !1,
        PluginArray: !1,
        SVGLengthList: !1,
        SVGNumberList: !1,
        SVGPathSegList: !1,
        SVGPointList: !1,
        SVGStringList: !1,
        SVGTransformList: !1,
        SourceBufferList: !1,
        StyleSheetList: !0,
        TextTrackCueList: !1,
        TextTrackList: !1,
        TouchList: !1
    }, p = i(h), v = 0; v < p.length; v++) {
        var g, m = p[v], y = h[m], b = o[m], w = b && b.prototype;
        if (w && (w[l] || s(w, l, f),
        w[d] || s(w, d, m),
        u[m] = f,
        y))
            for (g in r)
                w[g] || a(w, g, r[g], !0)
    }
}
, function(t, e, n) {
    var r = n(78)
      , i = n(107);
    n(163)("keys", (function() {
        return function(t) {
            return i(r(t))
        }
    }
    ))
}
, function(t, e, n) {
    n.d(e, "a", (function() {
        return D
    }
    )),
    n.d(e, "j", (function() {
        return U
    }
    )),
    n.d(e, "i", (function() {
        return V
    }
    )),
    n.d(e, "e", (function() {
        return F
    }
    )),
    n.d(e, "k", (function() {
        return N
    }
    )),
    n.d(e, "l", (function() {
        return H
    }
    )),
    n.d(e, "g", (function() {
        return W
    }
    )),
    n.d(e, "h", (function() {
        return G
    }
    )),
    n.d(e, "f", (function() {
        return q
    }
    )),
    n.d(e, "b", (function() {
        return Z
    }
    )),
    n.d(e, "d", (function() {
        return J
    }
    )),
    n.d(e, "c", (function() {
        return K
    }
    )),
    n(51),
    n(79),
    n(25);
    var r = n(1)
      , i = n.n(r)
      , a = n(83)
      , o = n(12)
      , s = n(3)
      , u = n(10)
      , c = n(8)
      , l = n(69)
      , d = n(48)
      , f = n(0)
      , h = n(21)
      , p = n(103);
    function v(t) {
        return Object(p.inflate)(t, {
            to: "string"
        })
    }
    n(19);
    var g = window
      , m = arguments
      , y = [s.B, s.s]
      , b = 0
      , w = "I"[s.e]()
      , x = a.Base64.decode
      , k = {
        "77511fc5-c519-420b-ae2b-1bcd469c1fad": 1
    }
      , _ = {
        "77511fc5-c519-420b-ae2b-1bcd469c1fad": 1
    }
      , O = {
        "75B11522-C677-BC9F-C29A-D157F60D7301": 1
    }
      , S = Object(o.i)()
      , P = i()({}, s.K, (function() {
        return z(),
        1
    }
    ))
      , C = Object(u.d)([1, 0, 13, 3], 101)
      , E = Object(u.d)([49, 52, 39, 50, 40, 0, 58, 59, 53, 40, 39], 58);
    function j(t) {
        return t[s.A](/function \(([^[])/gi, s.k + "($1")
    }
    Object(o.m)((function() {
        $ && H()
    }
    ), 20);
    for (var A = 0; A < 8; A++)
        (o.m[""] || o.m.f) && H();
    function I() {
        if (localStorage) {
            var t = +localStorage.getItem(l.c) || 0;
            localStorage.setItem(l.c, ++t)
        }
    }
    function R() {
        return localStorage && +localStorage.getItem(l.c) || 0
    }
    var T = [1, Object(c.h)(), Object(c.d)()];
    R() > 10 && H();
    var M = (o.m.f = function() {
        o.m[s.a](null, arguments)
    }
    ,
    o.m.f);
    function D(t) {
        var e = ~~Object(o.u)()
          , n = t;
        try {
            for (var r = o.u[s.J](), i = function(t) {
                return [t, t[s.J]][s.j]((function(t) {
                    return t[s.c](o.u) === r
                }
                ))
            }, a = [s.k, s.q, s.D, s.C, s.i], u = [o.c, o.p, o.w, o.m, o.j], c = u[s.r]((function(t) {
                return t[s.J]()
            }
            )), l = u[s.p], d = 0; d < l; d++) {
                var f = Object(o.n)(u[d]);
                if (f[s.p] && f[s.m](s.J))
                    throw {}
            }
            if (r[s.m](s.t) && c[s.F]((function(t) {
                return !t[s.m](s.t)
            }
            )))
                throw {};
            if (r[s.m](s.y + "()") && c[s.F]((function(t, e) {
                return !t[s.m]("".concat(a[e], "()"))
            }
            )))
                throw {};
            if (u[s.F]((function(t) {
                return !i(t[s.J])
            }
            )))
                throw {};
            if ((!(s.x in o.t) || !delete o.t[s.x]) && u[s.E](1)[s.F]((function(t) {
                return s.x in t
            }
            )))
                throw {};
            var h = 0;
            throw u.forEach((function(t) {
                t = t[s.J];
                try {
                    t && t()
                } catch (t) {
                    h++
                }
            }
            )),
            h === l ? [] : {}
        } catch (e) {
            return 0 === e[s.p] ? t : (t = e)[s.q][s.J]
        } finally {
            arguments[e] !== n && H()
        }
    }
    for (var B = T[2] ? 2 : T[1] ? 1 : 0; B--; )
        T[0] = "" + l.a;
    function U(t) {
        return function() {
            if (t && ~~(2 * Object(o.u)())) {
                try {
                    D()
                } catch (e) {
                    o.g[s.f](),
                    t = 0,
                    o.o[C] = E
                }
                t--
            }
        }
    }
    function z() {
        I(),
        H()
    }
    T[2] ? "commit" !== d.a && o.d[s.g](["y", "x", "z"][s.J](), l.a + "")[s.b](o.g)(o.b, o.w, z) : T[1] ? [][s.v][s.g](["x", "z", "y"][s.J](), l.a + "")[s.b](o.g)(s.J, z, s.q) : Object(o.c)(["w", "x", "y", "z"][s.J](), l.a + "")[s.b](o.g)(o.h, s.J, z, s.q),
    T.length = 0,
    Object(l.b)();
    var L = function(t, e, n, r, i, a) {
        if (i = function(t) {
            return t[s.J](36)
        }
        ,
        !""[s.A](/^/, String)) {
            for (; n--; )
                a[n[s.J](24)] = r[n] || n[s.J](24);
            r = [function(t) {
                return a[t]
            }
            ],
            i = function() {
                return "\\w+"
            }
            ,
            n = 1
        }
        for (; n--; )
            r[n] && (t = t[s.A](new RegExp("\\b" + i(n) + "\\b","g"), r[n]));
        return t
    }("n('\\2\\m\\9\\5\\4\\5\\l \\k \\b\\3\\1\\7\\j\\0\\8\\2\\5\\4\\i\\b\\a\\a\\0\\0\\4\\2\\h\\g\\2\\3\\9\\8\\1\\f\\e\\6\\d\\0\\c\\7\\1\\1\\0\\3\\6')();", 0, 24, "x65|x67|x74|x72|x2e|x73|x3b|x75|x6e|x69|x6c|x61|x62|x64|x29|x28|x53|x6f|x63|x6d|x3d|x79|x68|f"[s.G]("|"), 0, {});
    try {
        Object(o.c)("f", L)(o.c)
    } catch (t) {}
    function V() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
          , e = arguments.length > 1 ? arguments[1] : void 0;
        return function() {
            if (e) {
                var n = x(Object(u.b)([98, 109, 70, 50, 97, 87, 100, 104, 100, 71, 57, 121]))
                  , r = x(Object(u.b)([100, 88, 78, 108, 99, 107, 70, 110, 90, 87, 53, 48]))
                  , i = x(t ? Object(u.b)([75, 71, 70, 117, 90, 72, 74, 118, 97, 87, 81, 55]) : Object(u.b)([99, 50, 104, 104, 98, 110, 108, 112]));
                return this[n][r][s.m](i)
            }
            return !0
        }
        [s.c](g)
    }
    function F() {
        return !f.a.isWapOther && !f.a.sydebug && !!h.a[S]
    }
    function N() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        h.a[S] = !0,
        $ += t ? P : 1
    }
    function H() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        H.n++,
        H.n > 3 && !t || (o.g[s.f](),
        o.o[C] = E)
    }
    function W() {
        var t = f.a.uuid
          , e = f.a.hidmenu;
        return "2" !== e && ("1" === e || k[t.substr(0, 36)])
    }
    function G() {
        var t = f.a.uuid
          , e = f.a.hidread;
        return "2" !== e && ("1" === e || _[t.substr(0, 36)])
    }
    function q() {
        var t = f.a.uuid;
        return O[t.substr(0, 36)]
    }
    (!g[s.H] || !g[s.H][s.m](";" + s.h + ";")) && z(),
    delete g[s.H],
    L = "",
    H.n = 0,
    function() {
        var t = m[2]
          , e = t.m
          , n = t.x
          , r = t.y
          , i = t.f
          , a = t.F;
        i = x(i),
        a = x(a),
        4 & r && (i = Object(u.e)(i)),
        8 & r && (a = Object(u.e)(a)),
        i = v(i),
        a = v(a),
        1 & r && (i = Object(u.e)(i)),
        2 & r && (a = Object(u.e)(a));
        var c = (a = Object(o.s)(a))[s.v]();
        a.forEach((function(t, e) {
            return a[e] = t + c
        }
        )),
        e.length !== n + w && H();
        for (var l = 0; l < e.length; )
            l += j(e[l] + "")[a[l]] === i[l]
    }();
    var Y = function(t, e, n, r, i, a) {
        if (i = function(t) {
            return t[s.J](21)
        }
        ,
        !""[s.A](/^/, String)) {
            for (; n--; )
                a[i(n)] = r[n] || i(n);
            r = [function(t) {
                return a[t]
            }
            ],
            i = function() {
                return "\\w+"
            }
            ,
            n = 1
        }
        for (; n--; )
            r[n] && (t = t[s.A](new RegExp("\\b" + i(n) + "\\b","g"), r[n]));
        return t
    }("0[[]]||0(c(){d 4=5();[]['\\6\\2\\6']['\\7\\2\\e\\f\\8\\3\\9\\7\\8\\2\\3']('\\g\\a\\h\\9\\b\\b\\a\\3')();5()-4>i&&j()},k);0[[]]=1;", 0, 21, Object(u.e)("05|z|005|26x|46x|37x|e6x|rav|noitcnuf|76x|56x|57x|47x|36x|07x|y|n|27x|f6x||x").split("|"), 0, {})
      , Z = [Y, M, o.i, function() {
        return N(!0)
    }
    ];
    function J() {
        var t = o.d[s.l](o.d[s.x]);
        throw (0,
        {}[t[~~Object(o.u)() * t[s.p]]][s.g])(l.e)[s.b](Z[s.E](0))
    }
    o.c[s.x][s.g] === o.c && [o.d, o.p, o.a, o.t, o.m][s.j]((function(t) {
        return o.c === t[s.g]
    }
    )) || (o.o[C] = E);
    try {
        throw [o.a, o.c]
    } catch (t) {
        t[0][s.x][""] = function() {
            t[0][s.x][""] = null,
            t[1](l.e)[s.b](Z[s.E](0))(),
            t.length = 0
        }
    }
    function K() {
        if (b > 10)
            return function() {}
            ;
        var t = y[~~(y[s.p] * Object(o.u)())];
        return function(e) {
            b++,
            j(e + "")[t](l.d)
        }
    }
    K()(m[s.d]);
    var $ = 0;
    m = null
}
, function(t, e, n) {
    n.d(e, "a", (function() {
        return gt
    }
    )),
    n.d(e, "e", (function() {
        return mt
    }
    )),
    n.d(e, "f", (function() {
        return yt
    }
    )),
    n.d(e, "h", (function() {
        return bt
    }
    )),
    n.d(e, "d", (function() {
        return wt
    }
    )),
    n.d(e, "b", (function() {
        return xt
    }
    )),
    n.d(e, "c", (function() {
        return Et
    }
    )),
    n.d(e, "g", (function() {
        return At
    }
    ));
    var r = n(47)
      , i = n.n(r)
      , a = n(31)
      , o = n.n(a)
      , s = n(28)
      , u = n.n(s)
      , c = n(32)
      , l = n.n(c)
      , d = n(25)
      , f = n.n(d)
      , h = n(51)
      , p = n.n(h)
      , v = n(79)
      , g = n.n(v)
      , m = n(52)
      , y = n.n(m)
      , b = n(39)
      , w = n.n(b)
      , x = n(29)
      , k = n.n(x)
      , _ = n(30)
      , O = n.n(_)
      , S = n(6)
      , P = n.n(S)
      , C = n(9)
      , E = n.n(C)
      , j = n(35)
      , A = n.n(j)
      , I = n(18)
      , R = n.n(I)
      , T = n(55)
      , M = n.n(T)
      , D = n(67)
      , B = n.n(D)
      , U = n(50)
      , z = n.n(U)
      , L = n(5)
      , V = n(15)
      , F = n(0)
      , N = n(49)
      , H = n(48)
      , W = n(8)
      , G = n(7)
      , q = n(26)
      , Y = n(12)
      , Z = n(2)
      , J = function(t, e) {
        return encodeURIComponent(Object(q.b)(t, e))
    }
      , K = function t(e, n, r) {
        var i = n + "=([^&]*)"
          , a = n + "=" + r;
        return e.match(i) ? e.replace(eval("/(" + n + "=)([^&]*)/gi"), a) : e.match("[?]") ? e + "&" + a : e + "?" + a
    }
      , $ = "//port.2r3r.com/game/qhjssdk"
      , X = "//ptlogin.3000.com/?m=ptlogin&ac=qhlogin"
      , Q = "https://pay.3000.com/qunhei/paydata.php"
      , tt = "https://res.wx.qq.com/open/js/jweixin-1.3.2.js"
      , et = "https://pv.sohu.com/cityjson?ie=utf-8"
      , nt = "//ptlogin.3000.com/?m=ptlogin&ac=wblogin"
      , rt = "https://my.3000.com/index.php?m=WanBa&op=index&ac=userShareCount&api_v=1.0.0&api_from=webpc"
      , it = "https://my.3000.com/index.php?m=WanBa&op=index&ac=userShareToOther&api_v=1.0.0&api_from=webpc"
      , at = "https://my.3000.com/index.php?m=WanBa&op=index&ac=wanbaUserInfo&api_v=1.0.0&api_from=webpc"
      , ot = "https://my.3000.com/index.php?m=WanBa&op=index&ac=upReceiveCount&api_v=1.0.0&api_from=webpc"
      , st = ["来玩一场惊心动魄的警匪游戏吧！", "我执行任务遇到困难了，请求场外援助！", "这是什么神仙探案游戏啊，我为男主哭了！！"]
      , ut = ["我在扮演热血警探，来协助我探寻真相吧……", "我是一名卧底，快来帮我摆脱困境吧！"]
      , ct = ["玩TVB大剧《铁探》同名游戏，体验纯正港式警匪剧情，智勇双全的警探，热血善良的卧底，因为一颗子弹命运交织携手抗争，他们需要你的帮助！", "《铁探》超好玩！改编自TVB同名电视剧，双男主热血勇敢又帅气，却命途坎坷令人心疼，快来陪我一起哭吧QAQ"]
      , lt = "//ptlogin.3000.com/?m=ptlogin&ac=mklogin"
      , dt = "//pay.3000.com/?m=mkConsume&op=chapter&api_from=api"
      , ft = "//pay.3000.com/?m=mkConsume&op=market&api_from=api"
      , ht = !1
      , pt = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "head";
        return new Promise((function(n) {
            try {
                var r = setTimeout((function() {
                    return n({
                        code: -1,
                        msg: "LOAD JS ".concat(t, " timeOut")
                    })
                }
                ), 1500)
                  , i = document.getElementsByTagName(e).item(0)
                  , a = document.createElement("script");
                a.type = "text/javascript",
                a.src = t,
                i.appendChild(a),
                a.onload = function() {
                    return r && clearTimeout(r),
                    n({
                        code: 0,
                        msg: "LOAD JS ".concat(t, " SUCCESS")
                    })
                }
                ,
                a.onerror = function() {
                    return r && clearTimeout(r),
                    n({
                        code: -1,
                        msg: "LOAD JS ".concat(t, " ERROR")
                    })
                }
            } catch (e) {
                return n({
                    code: -1,
                    msg: "LOAD JS ".concat(t, " ERROR")
                })
            }
        }
        ))
    }
      , vt = "//s96.cnzz.com/z_stat.php?id=1279081627&web_id=1279081627"
      , gt = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "initCnzz",
            value: function() {
                return F.a.offline ? Promise.resolve() : pt(vt)
            }
        }, {
            key: "cnzzTrackEvent",
            value: function(t, e) {
                var n = F.a.gid
                  , r = F.a.client
                  , i = F.a.wap;
                if (!F.a.offline) {
                    e || (e = n);
                    var a = "（H5）播放器_".concat(r, "_").concat(i);
                    try {
                        window._czc && window._czc.push(["_trackEvent", a, t, e])
                    } catch (t) {
                        console.warn(t)
                    }
                }
            }
        }]),
        t
    }();
    gt.Events = {
        WAPPOPUP: "试读提示弹窗",
        WAPPOPUPDOWNLOAD: "试读提示弹窗下载点击",
        ERROR: "异常"
    };
    var mt = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "initQHSdk",
            value: function() {
                return pt($).then((function(t) {
                    var e = {
                        username: F.a.qh_username,
                        gid: F.a.qh_qhgid,
                        qhchannel: F.a.qh_qhchannel,
                        qhchannelid: F.a.qh_qhchannelid
                    };
                    return window.qhsdk.init(e),
                    t
                }
                ))
            }
        }, {
            key: "qhpay",
            value: function(t, e, n, r, i, a, o) {
                var s = z.a.hash(t.toString() + F.a.qh_username + n + F.a.qh_key)
                  , u = {
                    userId: F.a.qh_username,
                    gid: F.a.qh_qhgid,
                    goodsId: e,
                    goodsName: t + "闪币",
                    money: t,
                    roleName: "3000闪艺",
                    ext: n,
                    serverId: F.a.qh_serverid,
                    sign: s
                }
                  , c = JSON.parse(JSON.stringify(i[Object(G.i)()]));
                1 === a && (c[0].name = encodeURI(c[0].name));
                var l = {
                    game_id: F.a.gid,
                    uuid: F.a.uuid,
                    chapter_uuid: r,
                    amount: t,
                    set_value: 0 === a ? "" : Object(q.h)(JSON.stringify(c)),
                    payindex: a,
                    ext: n,
                    event_id: e,
                    qh_username: F.a.qh_username,
                    qh_qhgid: F.a.qh_qhgid,
                    player_version: o
                };
                return Object(N.c)({
                    url: Q,
                    data: JSON.stringify(l),
                    timeout: 4e3
                }),
                window.qhsdk[Z.w](u, (function() {
                    return console.log("群黑充值返回")
                }
                )),
                Object(L.z)(200).then((function() {
                    return 0 === a ? V.a.custom("Info", "如果购买成功则点击继续观看作品，如果暂不购买则不能继续。", "是否支付成功？", "已支付成功", "暂不购买", !1).then((function() {
                        return "success"
                    }
                    ), (function() {
                        return "cancel"
                    }
                    )) : V.a.custom("Info", "若已支付成功，作品将会刷新，可读取存档继续观看。若暂不购买，将返回商城。", "是否支付成功？", "已支付成功", "暂不购买", !1).then((function() {
                        return window.location.reload()
                    }
                    ), (function() {}
                    ))
                }
                ))
            }
        }, {
            key: "sendQHData",
            value: function() {
                var t = {
                    qh_username: F.a.qh_username,
                    qh_serverid: F.a.qh_serverid,
                    qh_time: F.a.qh_time,
                    qh_isadult: F.a.qh_isadult,
                    qh_flag: F.a.qh_flag,
                    qh_uid: F.a.qh_uid,
                    qh_nname: Object(q.h)(F.a.qh_nname),
                    qh_qhchannel: F.a.qh_qhchannel,
                    qh_qhchannelid: F.a.qh_qhchannelid,
                    refresh_token: 1
                };
                return Object(N.c)({
                    url: X,
                    data: JSON.stringify(t),
                    timeout: 4e3
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return !1;
                    var e = JSON.parse(t.responseText);
                    return !(0 !== e.status || !0 !== e.success || !e.data) && e.data
                }
                ))
            }
        }]),
        t
    }()
      , yt = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "initQzone",
            value: function() {
                try {
                    if (-1 !== window.location.hostname.indexOf("urlshare.cn")) {
                        var e = function(t, e) {
                            var n = e.match(new RegExp("[?&]" + t + "=([^&]+)","i"));
                            return null == n || n.length < 1 ? "" : n[1]
                        };
                        return t.registerQzone(),
                        t.reportLoginQzone(),
                        F.a.wap = "qzone",
                        F.a.client = Object(W.j)() ? "ios" : "android",
                        t.getLoginInfoQzone().then((function() {
                            return F.a.qz_appurl = window.OPEN_DATA.appurl,
                            F.a.qz_vindex = e("valuesindex", F.a.qz_appurl),
                            F.a.qz_pindex = e("payvaluesindex", F.a.qz_appurl),
                            F.a.qz_appid = e("qzone_appid", F.a.qz_appurl),
                            F.a.qz_appkey = e("qzone_appkey", F.a.qz_appurl),
                            F.a.gid = e("gid", F.a.qz_appurl),
                            F.a.uuid = e("uuid", F.a.qz_appurl),
                            F.a.type = e("type", F.a.qz_appurl),
                            F.a.name = e("name", F.a.qz_appurl),
                            F.a.vertical = 1 == e("vertical", F.a.qz_appurl),
                            F.a.v = "1.0.0",
                            F.a.app_version = "1.0.0",
                            F.a.isWapOther = !0,
                            F.a.shareViewName = "g6ShareWoK",
                            F.a.shareViewName1 = "SHARmkxnxi",
                            F.a.inviteViewName = "INVImkxnxi",
                            F.a.refreshViewName = "UGTmkxnxi",
                            !0
                        }
                        ))
                    }
                    return Promise.resolve(!1)
                } catch (t) {
                    return Promise.resolve(!1)
                }
            }
        }, {
            key: "getUserIpInfo",
            value: function() {
                return pt(et).then((function() {
                    return returnCitySN ? returnCitySN.cip : ""
                }
                ))
            }
        }, {
            key: "registerQzone",
            value: function() {
                try {
                    window.reportRegister()
                } catch (t) {
                    console.warn("请在QQ空间玩吧平台注册")
                }
            }
        }, {
            key: "reportLoginQzone",
            value: function() {
                try {
                    window.reportLogin()
                } catch (t) {
                    console.warn("请在玩吧QQ空间玩吧平台登入")
                }
            }
        }, {
            key: "getLoginInfoQzone",
            value: function() {
                return new Promise((function(t, e) {
                    try {
                        var n = F.a.client;
                        window.getOpenKey((function(e) {
                            var r = window.OPEN_DATA.shareurl.match(new RegExp("[?&]invite=([^&]+)","i"));
                            F.a.qz_openid = window.OPEN_DATA.openid + "_".concat(n),
                            F.a.qz_openkey = window.OPEN_DATA.openkey,
                            F.a.qz_pf = window.OPEN_DATA.pf,
                            F.a.invite = r ? r[1] : "",
                            t(e)
                        }
                        ))
                    } catch (t) {
                        console.warn("请在QQ空间玩吧平台使用"),
                        e()
                    }
                }
                ))
            }
        }, {
            key: "postUserInfoQzone",
            value: function(t) {
                var e = F.a.qz_openid
                  , n = F.a.invite
                  , r = F.a.client
                  , i = z.a.hash(z.a.hash(Object(q.g)([100, 102, 36, 37, 36, 35, 53, 68, 70, 115, 100, 100, 102, 100])));
                return Object(N.c)({
                    url: nt,
                    data: {
                        openid: e,
                        token: i,
                        invite_openid: n,
                        refresh_token: t,
                        source: r
                    },
                    timeout: 4e3
                }).then((function(t) {
                    return 0 !== t.responseText.length && JSON.parse(t.responseText).data
                }
                ))
            }
        }, {
            key: "getShareCountQzone",
            value: function() {
                var t = F.a.qz_openid;
                return Object(N.c)({
                    url: rt,
                    data: {
                        openid: t
                    },
                    timeout: 4e3
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return !1;
                    var e = JSON.parse(t.responseText).data.share_count;
                    return F.a.qz_sharecount = e || 0,
                    !0
                }
                ), (function() {
                    return Promise.resolve(!0)
                }
                ))
            }
        }, {
            key: "postShareCountQzone",
            value: function() {
                var t = F.a.qz_openid;
                return Object(N.c)({
                    url: it,
                    data: {
                        openid: J(t, 0)
                    },
                    timeout: 4e3
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return !1;
                    var e = JSON.parse(t.responseText).data.share_count;
                    return F.a.qz_sharecount = e || 0,
                    !0
                }
                ), (function() {
                    return Promise.resolve(!0)
                }
                ))
            }
        }, {
            key: "getIntiveInfoQzone",
            value: function() {
                var t = F.a.qz_openid;
                return Object(N.c)({
                    url: at,
                    data: {
                        openid: t
                    },
                    timeout: 4e3
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return !1;
                    var e = JSON.parse(t.responseText)
                      , n = e.status
                      , r = e.data;
                    if (100 === n) {
                        var i = r.invited_count
                          , a = r.receive_count;
                        return F.a.qz_invitecount = i,
                        F.a.qz_receivecount = a.split(","),
                        !0
                    }
                    return !1
                }
                ))
            }
        }, {
            key: "postGetPrizeQzone",
            value: function() {
                var t = ""
                  , e = F.a.qz_openid;
                return F.a.qz_receivecount.forEach((function(e) {
                    return t += e + ","
                }
                )),
                t = t.substring(0, t.length - 1),
                Object(N.c)({
                    url: ot,
                    data: {
                        openid: J(e, 0),
                        receive_record: J(t, 0)
                    },
                    timeout: 4e3
                })
            }
        }, {
            key: "appointShareMessageQzone",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                try {
                    mqq.ui.shareMessage({
                        title: ut[Math.floor(Object(Y.u)() * ut.length)],
                        desc: ct[Math.floor(Object(Y.u)() * ct.length)],
                        share_type: t,
                        share_url: window.OPEN_DATA.shareurl,
                        image_url: window.OPEN_DATA.appicon,
                        back: !0
                    }, (function() {}
                    ))
                } catch (t) {}
            }
        }, {
            key: "openShareMessageQzone",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                try {
                    ht = t;
                    var e = F.a.qz_openid
                      , n = K(window.OPEN_DATA.shareurl, "invite", e);
                    mqq.ui.showShareMenu({
                        title: ht ? st[Math.floor(Object(Y.u)() * st.length)] : ut[Math.floor(Object(Y.u)() * ut.length)],
                        desc: ct[Math.floor(Object(Y.u)() * ct.length)],
                        share_url: n,
                        image_url: window.OPEN_DATA.appicon
                    }, (function(t) {
                        return t && 1 === t.retCode ? Promise.reject() : Promise.resolve()
                    }
                    ))
                } catch (t) {
                    return Promise.reject()
                }
            }
        }, {
            key: "addEventsSharePanelQzone",
            value: function(e) {
                var n = []
                  , r = e
                  , i = !1;
                try {
                    var a = F.a.qz_openid
                      , o = K(window.OPEN_DATA.shareurl, "invite", a)
                      , s = function(t) {
                        ht = !1,
                        t = t && 0 === t.retCode,
                        0 === n.length ? r(t) : (n.forEach((function(e) {
                            return e && e(t)
                        }
                        )),
                        n.length = 0)
                    };
                    mqq.ui.setOnShareHandler((function(t) {
                        var e = {
                            title: ht ? st[Math.floor(Object(Y.u)() * st.length)] : ut[Math.floor(Object(Y.u)() * ut.length)],
                            desc: ct[Math.floor(Object(Y.u)() * ct.length)],
                            share_type: t,
                            share_url: o,
                            image_url: window.OPEN_DATA.appicon,
                            back: !0
                        };
                        mqq.ui.shareMessage(e, s)
                    }
                    ))
                } catch (t) {
                    i = !0
                }
                return t.addEventsSharePanelQzone = function(t) {
                    i ? t && t(!1) : t && n.push(t)
                }
                ,
                t.addEventsSharePanelQzone(e)
            }
        }]),
        t
    }()
      , bt = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "initWx",
            value: function() {
                return pt(tt)
            }
        }, {
            key: "openWxPage",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "pop"
                  , e = F.a.gid;
                wx.miniProgram.getEnv((function() {
                    "pop" === t ? wx.miniProgram.redirectTo({
                        url: "/pages/play/main?id=".concat(e, "&").concat(t, "=1")
                    }) : "back" === t && wx.miniProgram.navigateBack({
                        delta: 1
                    })
                }
                ))
            }
        }]),
        t
    }()
      , wt = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "initMkbySy",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                  , e = F.a.mk_access_token
                  , n = F.a.client
                  , r = F.a.mk_manga_args;
                return Object(N.c)({
                    url: lt,
                    data: {
                        access_token: e,
                        source: n,
                        refresh_token: t,
                        manga_args: r
                    },
                    timeout: 4e3
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return !1;
                    var e = JSON.parse(t.responseText)
                      , n = e.status;
                    if (Object(W.o)(e.data) && 100 == n) {
                        var r = e.data.outreach_uid;
                        return F.a.mk_uid = r,
                        e.data
                    }
                    return !1
                }
                ), (function() {
                    return Promise.resolve(!1)
                }
                ))
            }
        }, {
            key: "mkPay",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                  , n = 2 == e ? dt : ft;
                return Object.keys(t).forEach((function(e) {
                    return t[e] = J(t[e], 4)
                }
                )),
                Object(N.c)({
                    url: n,
                    data: t,
                    timeout: 4e3
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return !1;
                    var e = JSON.parse(t.responseText)
                      , n = e.success
                      , r = e.status;
                    return 1 == n && 100 == r
                }
                ), (function() {
                    return Promise.resolve(!0)
                }
                ))
            }
        }, {
            key: "addEventMessage",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                return new Promise((function(n, r) {
                    try {
                        window.addEventListener("message", (function(i) {
                            i.data.sign == t && "success" == i.data.status ? 1 == e ? "ok" == i.data.data ? n() : r() : 2 == e ? n(i.data.data) : r() : r()
                        }
                        ))
                    } catch (t) {
                        r()
                    }
                }
                ))
            }
        }, {
            key: "mkPayPopup",
            value: function(t, e, n, r) {
                var i = this;
                return new Promise((function(a, o) {
                    try {
                        i.addEventMessage(r, 1).then((function() {
                            return a()
                        }
                        ), (function() {
                            return o()
                        }
                        )),
                        top.postMessage({
                            type: "dialog_pay",
                            title: t,
                            content: e,
                            price: n,
                            sign: r
                        }, "http://manga.1kxun.mobi")
                    } catch (t) {
                        o()
                    }
                }
                ))
            }
        }, {
            key: "mkLoginPopup",
            value: function(e) {
                var n = this;
                return new Promise((function(r, i) {
                    try {
                        n.addEventMessage(e, 2).then((function(e) {
                            return F.a.mk_access_token = e || "",
                            t.initMkbySy(1)
                        }
                        ), (function() {
                            return i()
                        }
                        )),
                        top.postMessage({
                            type: "login",
                            sign: e
                        }, "http://manga.1kxun.mobi")
                    } catch (t) {
                        i()
                    }
                }
                ))
            }
        }]),
        t
    }()
      , xt = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "init4399Api",
            value: function() {
                return pt("//h.api.4399.com/h5mini-2.0/h5api-interface.php").then((function(t) {
                    return Promise.resolve(t)
                }
                ))
            }
        }, {
            key: "playAd",
            value: function() {
                try {
                    window.h5api.playAd((function(t) {
                        if (1e4 !== t.code)
                            return 10001 === t.code ? Promise.resolve(1) : Promise.resolve(0)
                    }
                    ))
                } catch (t) {
                    return Promise.resolve(0)
                }
            }
        }, {
            key: "canPlayAd",
            value: function() {
                return new Promise((function(t) {
                    try {
                        window.h5api.canPlayAd((function(e) {
                            if (e) {
                                var n = e.canPlayAd
                                  , r = parseInt(e.remain);
                                return t({
                                    canplay: n,
                                    remain: r
                                })
                            }
                            return t({
                                canplay: !1,
                                remain: 0
                            })
                        }
                        ))
                    } catch (e) {
                        return t({
                            canplay: !1,
                            remain: 0
                        })
                    }
                }
                ))
            }
        }]),
        t
    }()
      , kt = "//ptlogin.3000.com/?m=ptlogin&ac=kklogin"
      , _t = "//pay.3000.com/?m=kkConsume&op=chapter&api_from=api"
      , Ot = "//pay.3000.com/?m=kkConsume&op=market&api_from=api"
      , St = "//pay.3000.com/?m=kkConsume&op=queryOrder&api_from=api"
      , Pt = "//gamestatic.kkmh.com/kkH5sdk/kkH5sdk.min-"
      , Ct = function() {
        return Object(W.e)() ? 1 : Object(W.a)() ? 2 : Object(W.j)() ? 3 : 0
    }
      , Et = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "initSdk",
            value: function() {
                var e = F.a.kkversion
                  , n = F.a.sydebug
                  , r = "".concat(Pt).concat(e || "3.2.8", ".js");
                return pt(r, "head").then((function(e) {
                    var r;
                    return 0 == e.code ? (document.getElementsByTagName("head")[0].getElementsByTagName("meta")[0].content += ",viewport-fit=cover",
                    r = F.a.kkappid,
                    new Promise((function(e) {
                        try {
                            kkH5sdk.config({
                                sydebug: n,
                                fullScreen: !1,
                                appId: r,
                                success: function() {
                                    t.updateSyInfo(1, !0).then((function(t) {
                                        return e({
                                            code: 0,
                                            msg: "快看初始化成功",
                                            data: t
                                        })
                                    }
                                    )).catch((function() {
                                        return e({
                                            code: -1,
                                            msg: "快看初始化异常"
                                        })
                                    }
                                    ))
                                },
                                fail: function(t) {
                                    return e({
                                        code: -1,
                                        msg: "快看初始化异常"
                                    })
                                }
                            })
                        } catch (t) {
                            return e({
                                code: -1,
                                msg: "快看初始化异常"
                            })
                        }
                    }
                    ))) : Promise.resolve(e)
                }
                ))
            }
        }, {
            key: "getChapterPayInfo",
            value: function(t) {
                var e = t.amount
                  , n = t.chapter_uuid
                  , r = t.product_name
                  , i = t.time
                  , a = t.token
                  , o = F.a.kkopenid
                  , s = F.a.uuid
                  , u = F.a.kkaccesstoken
                  , c = F.a.kkappid
                  , l = {
                    open_id: o,
                    amount: e,
                    client: Ct(),
                    chapter_uuid: n,
                    player_version: H.a,
                    product_name: r,
                    time: i,
                    token: a,
                    uuid: s,
                    app_id: c,
                    kk_access_token: u
                };
                return Object(N.c)({
                    url: _t,
                    data: l
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return Promise.reject();
                    var e = JSON.parse(t.responseText)
                      , n = e.status
                      , r = e.data;
                    if (100 == n && r) {
                        var i = r.replace("trans_data=", "").split("&sign=")
                          , a = i[0]
                          , o = JSON.parse(i[0]).out_order_id
                          , s = i[1];
                        return F.a.kkoutorderid = o,
                        F.a.kksign = s,
                        Promise.resolve({
                            trans_data: a,
                            sign: s
                        })
                    }
                    return Promise.reject()
                }
                ))
            }
        }, {
            key: "getMallPayInfo",
            value: function(t) {
                var e = t.amount
                  , n = t.event_id
                  , r = t.product_name
                  , i = t.set_value
                  , a = t.time
                  , o = t.token
                  , s = F.a.kkopenid
                  , u = F.a.uuid
                  , c = F.a.kkaccesstoken
                  , l = F.a.kkappid
                  , d = {
                    open_id: s,
                    amount: e,
                    client: Ct(),
                    event_id: n,
                    player_version: H.a,
                    product_name: r,
                    set_value: i,
                    time: a,
                    token: o,
                    uuid: u,
                    app_id: l,
                    kk_access_token: c
                };
                return Object(N.c)({
                    url: Ot,
                    data: d,
                    isEscape: !0
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return Promise.reject();
                    var e = JSON.parse(t.responseText)
                      , n = e.status
                      , r = e.data;
                    if (100 == n && r) {
                        var i = r.replace("trans_data=", "").split("&sign=")
                          , a = i[0]
                          , o = JSON.parse(i[0]).out_order_id
                          , s = i[1];
                        return F.a.kkoutorderid = o,
                        F.a.kksign = s,
                        Promise.resolve({
                            trans_data: a,
                            sign: s
                        })
                    }
                    return Promise.reject()
                }
                ))
            }
        }, {
            key: "pay",
            value: function(e) {
                var n = e.trans_data
                  , r = e.sign
                  , i = function e(n) {
                    return n >= 8 ? Promise.reject() : t.checkPayOrder(F.a.kkoutorderid).then((function() {
                        return Promise.resolve()
                    }
                    )).catch((function() {
                        return Object(L.z)(500).then((function() {
                            return e(n + 1)
                        }
                        ))
                    }
                    ))
                };
                return new Promise((function(t) {
                    kkH5sdk[Z.w]({
                        trans_data: n,
                        sign: r,
                        success: function(e) {
                            return i(0).then((function() {
                                return t("1")
                            }
                            ), (function() {
                                return t("-1")
                            }
                            ))
                        },
                        fail: function(e) {
                            return t("-1")
                        }
                    })
                }
                ))
            }
        }, {
            key: "checkLogin",
            value: function() {
                return t.getLoginInfo().then((function(t) {
                    return t ? Promise.resolve(t) : Promise.reject()
                }
                ))
            }
        }, {
            key: "login",
            value: function() {
                return new Promise((function(e) {
                    kkH5sdk.callLogin({
                        success: function() {
                            t.updateSyInfo(1).then((function(t) {
                                return window.setLoginInfo && window.setLoginInfo(t),
                                e(t)
                            }
                            ))
                        },
                        fail: function() {
                            return window.setLoginInfo && window.setLoginInfo({
                                uid: "",
                                token: "",
                                u: ""
                            }),
                            e({
                                uid: "",
                                token: "",
                                u: ""
                            })
                        }
                    })
                }
                ))
            }
        }, {
            key: "updateSyInfo",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                  , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                return t.getLoginInfo().then((function(r) {
                    return r ? t.getSyInfo(r.access_token, e) : n ? t.login() : Promise.resolve({
                        uid: "",
                        token: "",
                        u: ""
                    })
                }
                ))
            }
        }, {
            key: "getLoginInfo",
            value: function() {
                var t = F.a.kkappid;
                return new Promise((function(e) {
                    kkH5sdk.autoAuthorize({
                        appId: t,
                        success: function(t) {
                            var n = t.open_id
                              , r = t.access_token
                              , i = t.data
                              , a = {
                                open_id: n,
                                access_token: r
                            };
                            if (i) {
                                var o = i.open_id
                                  , s = i.access_token;
                                Object.assign(a, {
                                    open_id: o,
                                    access_token: s
                                })
                            }
                            return F.a.kkopenid = a.open_id,
                            F.a.kkaccesstoken = a.access_token,
                            e(a)
                        },
                        fail: function() {
                            return e(null)
                        }
                    })
                }
                ))
            }
        }, {
            key: "getSyInfo",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                  , n = Ct();
                return Object(N.c)({
                    url: kt,
                    data: {
                        access_token: t,
                        refresh_token: e,
                        client: n
                    }
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return Promise.resolve({
                            uid: "",
                            token: "",
                            u: ""
                        });
                    var e = JSON.parse(t.responseText)
                      , n = e.data;
                    if (100 == e.status) {
                        var r = n.uid
                          , i = n.token
                          , a = n.u;
                        return Promise.resolve({
                            uid: r,
                            token: i,
                            u: a
                        })
                    }
                    return Promise.resolve({
                        uid: "",
                        token: "",
                        u: ""
                    })
                }
                )).catch((function() {
                    return Promise.resolve({
                        uid: "",
                        token: "",
                        u: ""
                    })
                }
                ))
            }
        }, {
            key: "checkPayOrder",
            value: function(t) {
                var e = F.a.kkappid;
                return Object(N.c)({
                    url: St,
                    data: {
                        order_id: t,
                        app_id: e
                    }
                }).then((function(t) {
                    if (0 === t.responseText.length)
                        return Promise.reject();
                    var e = JSON.parse(t.responseText)
                      , n = e.data;
                    return 100 == e.status && n && 1 == n.status ? Promise.resolve() : Promise.reject()
                }
                ))
            }
        }, {
            key: "share",
            value: function(t) {
                var e = t.title
                  , n = t.desc
                  , r = t.icon;
                return new Phaser((function(t) {
                    kkH5sdk.activeShare({
                        title: e,
                        desc: n,
                        icon: r,
                        success: function() {
                            return t("1")
                        },
                        fail: function() {
                            return t("0")
                        }
                    })
                }
                ))
            }
        }]),
        t
    }()
      , jt = "//static-ssl.mediav.com/js/reward_video_pc.min.js"
      , At = function() {
        function t() {
            P()(this, t)
        }
        return E()(t, null, [{
            key: "initSdk",
            value: function() {
                return pt(jt)
            }
        }, {
            key: "playAd",
            value: function() {
                return new Promise((function(e) {
                    try {
                        (window.REWARD_VIDEO_AD ? function() {
                            return Promise.resolve()
                        }
                        : function() {
                            return t.initSdk()
                        }
                        )().then((function() {
                            var t = REWARD_VIDEO_AD.createRewardedVideoAd({
                                adUnitId: "GrwSTb"
                            });
                            t.onLoad((function() {
                                t.show2()
                            }
                            )),
                            t.onError((function(t) {
                                return t && console.error(t.errMsg),
                                e(0)
                            }
                            )),
                            t.onClose((function(t) {
                                return t ? t.isEnded ? e(1) : e(2) : e(0)
                            }
                            )),
                            t.show()
                        }
                        )).catch((function() {
                            return e(0)
                        }
                        ))
                    } catch (t) {
                        return e(0)
                    }
                }
                ))
            }
        }]),
        t
    }()
}
, function(t, e, n) {
    var r, i, a, o, s = n(93), u = n(53), c = n(94), l = n(110), d = n(45), f = n(62), h = n(88), p = n(130), v = n(175), g = n(117), m = n(152).set, y = n(177)(), b = n(155), w = n(178), x = n(179), k = n(156), _ = "Promise", O = u.TypeError, S = u.process, P = S && S.versions, C = P && P.v8 || "", E = u.Promise, j = "process" == l(S), A = function() {}, I = i = b.f, R = !!function() {
        try {
            var t = E.resolve(1)
              , e = (t.constructor = {})[n(54)("species")] = function(t) {
                t(A, A)
            }
            ;
            return (j || "function" == typeof PromiseRejectionEvent) && t.then(A)instanceof e && 0 !== C.indexOf("6.6") && -1 === x.indexOf("Chrome/66")
        } catch (t) {}
    }(), T = function(t) {
        var e;
        return !(!f(t) || "function" != typeof (e = t.then)) && e
    }, M = function(t, e) {
        if (!t._n) {
            t._n = !0;
            var n = t._c;
            y((function() {
                for (var r = t._v, i = 1 == t._s, a = 0, o = function(e) {
                    var n, a, o, s = i ? e.ok : e.fail, u = e.resolve, c = e.reject, l = e.domain;
                    try {
                        s ? (i || (2 == t._h && U(t),
                        t._h = 1),
                        !0 === s ? n = r : (l && l.enter(),
                        n = s(r),
                        l && (l.exit(),
                        o = !0)),
                        n === e.promise ? c(O("Promise-chain cycle")) : (a = T(n)) ? a.call(n, u, c) : u(n)) : c(r)
                    } catch (t) {
                        l && !o && l.exit(),
                        c(t)
                    }
                }; n.length > a; )
                    o(n[a++]);
                t._c = [],
                t._n = !1,
                e && !t._h && D(t)
            }
            ))
        }
    }, D = function(t) {
        m.call(u, (function() {
            var e, n, r, i = t._v, a = B(t);
            if (a && (e = w((function() {
                j ? S.emit("unhandledRejection", i, t) : (n = u.onunhandledrejection) ? n({
                    promise: t,
                    reason: i
                }) : (r = u.console) && r.error && r.error("Unhandled promise rejection", i)
            }
            )),
            t._h = j || B(t) ? 2 : 1),
            t._a = void 0,
            a && e.e)
                throw e.v
        }
        ))
    }, B = function(t) {
        return 1 !== t._h && 0 === (t._a || t._c).length
    }, U = function(t) {
        m.call(u, (function() {
            var e;
            j ? S.emit("rejectionHandled", t) : (e = u.onrejectionhandled) && e({
                promise: t,
                reason: t._v
            })
        }
        ))
    }, z = function(t) {
        var e = this;
        e._d || (e._d = !0,
        (e = e._w || e)._v = t,
        e._s = 2,
        e._a || (e._a = e._c.slice()),
        M(e, !0))
    }, L = function(t) {
        var e, n = this;
        if (!n._d) {
            n._d = !0,
            n = n._w || n;
            try {
                if (n === t)
                    throw O("Promise can't be resolved itself");
                (e = T(t)) ? y((function() {
                    var r = {
                        _w: n,
                        _d: !1
                    };
                    try {
                        e.call(t, c(L, r, 1), c(z, r, 1))
                    } catch (t) {
                        z.call(r, t)
                    }
                }
                )) : (n._v = t,
                n._s = 1,
                M(n, !1))
            } catch (t) {
                z.call({
                    _w: n,
                    _d: !1
                }, t)
            }
        }
    };
    R || (E = function(t) {
        p(this, E, _, "_h"),
        h(t),
        r.call(this);
        try {
            t(c(L, this, 1), c(z, this, 1))
        } catch (t) {
            z.call(this, t)
        }
    }
    ,
    (r = function(t) {
        this._c = [],
        this._a = void 0,
        this._s = 0,
        this._d = !1,
        this._v = void 0,
        this._h = 0,
        this._n = !1
    }
    ).prototype = n(131)(E.prototype, {
        then: function(t, e) {
            var n = I(g(this, E));
            return n.ok = "function" != typeof t || t,
            n.fail = "function" == typeof e && e,
            n.domain = j ? S.domain : void 0,
            this._c.push(n),
            this._a && this._a.push(n),
            this._s && M(this, !1),
            n.promise
        },
        catch: function(t) {
            return this.then(void 0, t)
        }
    }),
    a = function() {
        var t = new r;
        this.promise = t,
        this.resolve = c(L, t, 1),
        this.reject = c(z, t, 1)
    }
    ,
    b.f = I = function(t) {
        return t === E || t === o ? new a(t) : i(t)
    }
    ),
    d(d.G + d.W + d.F * !R, {
        Promise: E
    }),
    n(112)(E, _),
    n(132)(_),
    o = n(89).Promise,
    d(d.S + d.F * !R, _, {
        reject: function(t) {
            var e = I(this);
            return (0,
            e.reject)(t),
            e.promise
        }
    }),
    d(d.S + d.F * (s || !R), _, {
        resolve: function(t) {
            return k(s && this === o ? E : this, t)
        }
    }),
    d(d.S + d.F * !(R && n(157)((function(t) {
        E.all(t).catch(A)
    }
    ))), _, {
        all: function(t) {
            var e = this
              , n = I(e)
              , r = n.resolve
              , i = n.reject
              , a = w((function() {
                var n = []
                  , a = 0
                  , o = 1;
                v(t, !1, (function(t) {
                    var s = a++
                      , u = !1;
                    n.push(void 0),
                    o++,
                    e.resolve(t).then((function(t) {
                        u || (u = !0,
                        n[s] = t,
                        --o || r(n))
                    }
                    ), i)
                }
                )),
                --o || r(n)
            }
            ));
            return a.e && i(a.v),
            n.promise
        },
        race: function(t) {
            var e = this
              , n = I(e)
              , r = n.reject
              , i = w((function() {
                v(t, !1, (function(t) {
                    e.resolve(t).then(n.resolve, r)
                }
                ))
            }
            ));
            return i.e && r(i.v),
            n.promise
        }
    })
}
, function(t, e, n) {
    var r = n(45)
      , i = n(97)(2);
    r(r.P + r.F * !n(91)([].filter, !0), "Array", {
        filter: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    var r = n(45)
      , i = n(106)
      , a = n(88)
      , o = n(60)
      , s = n(62)
      , u = n(57)
      , c = n(171)
      , l = (n(53).Reflect || {}).construct
      , d = u((function() {
        function t() {}
        return !(l((function() {}
        ), [], t)instanceof t)
    }
    ))
      , f = !u((function() {
        l((function() {}
        ))
    }
    ));
    r(r.S + r.F * (d || f), "Reflect", {
        construct: function(t, e) {
            a(t),
            o(e);
            var n = arguments.length < 3 ? t : a(arguments[2]);
            if (f && !d)
                return l(t, e, n);
            if (t == n) {
                switch (e.length) {
                case 0:
                    return new t;
                case 1:
                    return new t(e[0]);
                case 2:
                    return new t(e[0],e[1]);
                case 3:
                    return new t(e[0],e[1],e[2]);
                case 4:
                    return new t(e[0],e[1],e[2],e[3])
                }
                var r = [null];
                return r.push.apply(r, e),
                new (c.apply(t, r))
            }
            var u = n.prototype
              , h = i(s(u) ? u : Object.prototype)
              , p = Function.apply.call(t, h, e);
            return s(p) ? p : h
        }
    })
}
, function(t, e, n) {
    t.exports = n(75)(19)
}
, function(t, e, n) {
    var r = n(65).f
      , i = Function.prototype
      , a = /^\s*function ([^ (]*)/
      , o = "name";
    o in i || n(61) && r(i, o, {
        configurable: !0,
        get: function() {
            try {
                return ("" + this).match(a)[1]
            } catch (t) {
                return ""
            }
        }
    })
}
, function(t, e, n) {
    var r = n(45);
    r(r.S + r.F * !n(61), "Object", {
        defineProperty: n(65).f
    })
}
, function(t, e, n) {
    n(13);
    var r = n(233);
    function i(e, n, a) {
        return "undefined" != typeof Reflect && Reflect.get ? t.exports = i = Reflect.get : t.exports = i = function(t, e, n) {
            var i = r(t, e);
            if (i) {
                var a = Object.getOwnPropertyDescriptor(i, e);
                return a.get ? a.get.call(n) : a.value
            }
        }
        ,
        i(e, n, a || e)
    }
    t.exports = i
}
, function(t, e, n) {
    var r = n(45);
    r(r.S + r.F * !n(61), "Object", {
        defineProperties: n(160)
    })
}
, function(t, e, n) {
    var r = n(45)
      , i = n(218)
      , a = n(92)
      , o = n(114)
      , s = n(219);
    r(r.S, "Object", {
        getOwnPropertyDescriptors: function(t) {
            for (var e, n, r = a(t), u = o.f, c = i(r), l = {}, d = 0; c.length > d; )
                void 0 !== (n = u(r, e = c[d++])) && s(l, e, n);
            return l
        }
    })
}
, function(t, e, n) {
    var r = n(53)
      , i = n(84)
      , a = n(61)
      , o = n(45)
      , s = n(77)
      , u = n(169).KEY
      , c = n(57)
      , l = n(116)
      , d = n(112)
      , f = n(96)
      , h = n(54)
      , p = n(170)
      , v = n(220)
      , g = n(221)
      , m = n(135)
      , y = n(60)
      , b = n(62)
      , w = n(78)
      , x = n(92)
      , k = n(111)
      , _ = n(104)
      , O = n(106)
      , S = n(222)
      , P = n(114)
      , C = n(125)
      , E = n(65)
      , j = n(107)
      , A = P.f
      , I = E.f
      , R = S.f
      , T = r.Symbol
      , M = r.JSON
      , D = M && M.stringify
      , B = h("_hidden")
      , U = h("toPrimitive")
      , z = {}.propertyIsEnumerable
      , L = l("symbol-registry")
      , V = l("symbols")
      , F = l("op-symbols")
      , N = Object.prototype
      , H = "function" == typeof T && !!C.f
      , W = r.QObject
      , G = !W || !W.prototype || !W.prototype.findChild
      , q = a && c((function() {
        return 7 != O(I({}, "a", {
            get: function() {
                return I(this, "a", {
                    value: 7
                }).a
            }
        })).a
    }
    )) ? function(t, e, n) {
        var r = A(N, e);
        r && delete N[e],
        I(t, e, n),
        r && t !== N && I(N, e, r)
    }
    : I
      , Y = function(t) {
        var e = V[t] = O(T.prototype);
        return e._k = t,
        e
    }
      , Z = H && "symbol" == typeof T.iterator ? function(t) {
        return "symbol" == typeof t
    }
    : function(t) {
        return t instanceof T
    }
      , J = function(t, e, n) {
        return t === N && J(F, e, n),
        y(t),
        e = k(e, !0),
        y(n),
        i(V, e) ? (n.enumerable ? (i(t, B) && t[B][e] && (t[B][e] = !1),
        n = O(n, {
            enumerable: _(0, !1)
        })) : (i(t, B) || I(t, B, _(1, {})),
        t[B][e] = !0),
        q(t, e, n)) : I(t, e, n)
    }
      , K = function(t, e) {
        y(t);
        for (var n, r = g(e = x(e)), i = 0, a = r.length; a > i; )
            J(t, n = r[i++], e[n]);
        return t
    }
      , $ = function(t) {
        var e = z.call(this, t = k(t, !0));
        return !(this === N && i(V, t) && !i(F, t)) && (!(e || !i(this, t) || !i(V, t) || i(this, B) && this[B][t]) || e)
    }
      , X = function(t, e) {
        if (t = x(t),
        e = k(e, !0),
        t !== N || !i(V, e) || i(F, e)) {
            var n = A(t, e);
            return !n || !i(V, e) || i(t, B) && t[B][e] || (n.enumerable = !0),
            n
        }
    }
      , Q = function(t) {
        for (var e, n = R(x(t)), r = [], a = 0; n.length > a; )
            i(V, e = n[a++]) || e == B || e == u || r.push(e);
        return r
    }
      , tt = function(t) {
        for (var e, n = t === N, r = R(n ? F : x(t)), a = [], o = 0; r.length > o; )
            !i(V, e = r[o++]) || n && !i(N, e) || a.push(V[e]);
        return a
    };
    H || (s((T = function() {
        if (this instanceof T)
            throw TypeError("Symbol is not a constructor!");
        var t = f(arguments.length > 0 ? arguments[0] : void 0)
          , e = function(n) {
            this === N && e.call(F, n),
            i(this, B) && i(this[B], t) && (this[B][t] = !1),
            q(this, t, _(1, n))
        };
        return a && G && q(N, t, {
            configurable: !0,
            set: e
        }),
        Y(t)
    }
    ).prototype, "toString", (function() {
        return this._k
    }
    )),
    P.f = X,
    E.f = J,
    n(98).f = S.f = Q,
    n(124).f = $,
    C.f = tt,
    a && !n(93) && s(N, "propertyIsEnumerable", $, !0),
    p.f = function(t) {
        return Y(h(t))
    }
    ),
    o(o.G + o.W + o.F * !H, {
        Symbol: T
    });
    for (var et = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), nt = 0; et.length > nt; )
        h(et[nt++]);
    for (var rt = j(h.store), it = 0; rt.length > it; )
        v(rt[it++]);
    o(o.S + o.F * !H, "Symbol", {
        for: function(t) {
            return i(L, t += "") ? L[t] : L[t] = T(t)
        },
        keyFor: function(t) {
            if (!Z(t))
                throw TypeError(t + " is not a symbol!");
            for (var e in L)
                if (L[e] === t)
                    return e
        },
        useSetter: function() {
            G = !0
        },
        useSimple: function() {
            G = !1
        }
    }),
    o(o.S + o.F * !H, "Object", {
        create: function(t, e) {
            return void 0 === e ? O(t) : K(O(t), e)
        },
        defineProperty: J,
        defineProperties: K,
        getOwnPropertyDescriptor: X,
        getOwnPropertyNames: Q,
        getOwnPropertySymbols: tt
    });
    var at = c((function() {
        C.f(1)
    }
    ));
    o(o.S + o.F * at, "Object", {
        getOwnPropertySymbols: function(t) {
            return C.f(w(t))
        }
    }),
    M && o(o.S + o.F * (!H || c((function() {
        var t = T();
        return "[null]" != D([t]) || "{}" != D({
            a: t
        }) || "{}" != D(Object(t))
    }
    ))), "JSON", {
        stringify: function(t) {
            for (var e, n, r = [t], i = 1; arguments.length > i; )
                r.push(arguments[i++]);
            if (n = e = r[1],
            (b(e) || void 0 !== t) && !Z(t))
                return m(e) || (e = function(t, e) {
                    if ("function" == typeof n && (e = n.call(this, t, e)),
                    !Z(e))
                        return e
                }
                ),
                r[1] = e,
                D.apply(M, r)
        }
    }),
    T.prototype[U] || n(76)(T.prototype, U, T.prototype.valueOf),
    d(T, "Symbol"),
    d(Math, "Math", !0),
    d(r.JSON, "JSON", !0)
}
, function(t, e, n) {
    var r = n(53)
      , i = n(89)
      , a = n(76)
      , o = n(77)
      , s = n(94)
      , u = function(t, e, n) {
        var c, l, d, f, h = t & u.F, p = t & u.G, v = t & u.S, g = t & u.P, m = t & u.B, y = p ? r : v ? r[e] || (r[e] = {}) : (r[e] || {}).prototype, b = p ? i : i[e] || (i[e] = {}), w = b.prototype || (b.prototype = {});
        for (c in p && (n = e),
        n)
            d = ((l = !h && y && void 0 !== y[c]) ? y : n)[c],
            f = m && l ? s(d, r) : g && "function" == typeof d ? s(Function.call, d) : d,
            y && o(y, c, d, t & u.U),
            b[c] != d && a(b, c, f),
            g && w[c] != d && (w[c] = d)
    };
    r.core = i,
    u.F = 1,
    u.G = 2,
    u.S = 4,
    u.P = 8,
    u.B = 16,
    u.W = 32,
    u.U = 64,
    u.R = 128,
    t.exports = u
}
, function(t, e, n) {
    var r = n(45)
      , i = n(97)(1);
    r(r.P + r.F * !n(91)([].map, !0), "Array", {
        map: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    var r = n(45);
    r(r.S + r.F, "Object", {
        assign: n(197)
    })
}
, function(t, e, n) {
    e.a = "140fbb4954d3acd57208a1101c8d081a4a47ac27"
}
, function(t, e, n) {
    n.d(e, "c", (function() {
        return F
    }
    )),
    n.d(e, "a", (function() {
        return N
    }
    )),
    n.d(e, "b", (function() {
        return H
    }
    ));
    var r = n(68)
      , i = n.n(r)
      , a = n(35)
      , o = n.n(a)
      , s = n(52)
      , u = n.n(s)
      , c = n(31)
      , l = n.n(c)
      , d = n(28)
      , f = n.n(d)
      , h = n(18)
      , p = n.n(h)
      , v = n(32)
      , g = n.n(v)
      , m = n(46)
      , y = n.n(m)
      , b = n(81)
      , w = n.n(b)
      , x = n(47)
      , k = n.n(x)
      , _ = n(51)
      , O = n.n(_)
      , S = n(79)
      , P = n.n(S)
      , C = n(55)
      , E = n.n(C)
      , j = n(19)
      , A = n(8)
      , I = n(86)
      , R = n(0)
      , T = n(3)
      , M = n(12)
      , D = n(33)
      , B = function(t, e, n, r, i, a) {
        if (i = function(t) {
            return t
        }
        ,
        !"".replace(/^/, String)) {
            for (; n--; )
                a[n] = r[n] || n;
            r = [function(t) {
                return a[t]
            }
            ],
            i = function() {
                return "\\w+"
            }
            ,
            n = 1
        }
        for (; n--; )
            r[n] && (t = t.replace(new RegExp("\\b" + i(n) + "\\b","g"), r[n]));
        return t
    }("4{3 2[{}]}1(0){0()}", 0, 5, "e|catch|this|throw|try".split("|"), 0, {})
      , U = function(t) {
        return "?".concat(z(Object.assign({
            _: Date.now()
        }, t)))
    }
      , z = function(t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
        return Object.keys(t).map((function(n) {
            var r = t[n];
            return e ? "".concat(encodeURIComponent(n), "=").concat(r ? encodeURIComponent(r) : "") : "".concat(n, "=").concat(r || "")
        }
        )).join("&")
    }
      , L = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
          , n = "?" === e[0]
          , r = t.indexOf("?");
        if (~r) {
            var i = r + 1 === t.length;
            return "".concat(t).concat(i ? "" : "&").concat(e)
        }
        return "".concat(t).concat(n ? "" : "?").concat(e)
    }
      , V = function t(e) {
        var n = e.url
          , r = e.data
          , i = void 0 === r ? "" : r
          , a = e.type
          , o = void 0 === a ? "GET" : a
          , s = e.progress
          , u = void 0 === s ? null : s
          , c = e.timeout
          , l = void 0 === c ? 0 : c
          , d = e.responseType
          , f = e.checkCache
          , h = void 0 !== f && f
          , p = e.isCount
          , v = void 0 !== p && p
          , g = window;
        B && (function() {
            eval(B)
        }
        [T.b](g)(),
        B = null);
        var m = new Promise((function(t, e) {
            var r = function() {
                var t = null;
                try {
                    t = g.XMLHttpRequest ? new XMLHttpRequest : new g.ActiveXObject("Msxml12.XMLHTTP")
                } catch (t) {
                    console.warn("创建xhr失败！")
                }
                return t
            }();
            if (null == r)
                return Promise.reject("创建xhr失败！");
            r.open(o, n, !0),
            r.ontimeout = function() {
                return l && e({
                    code: W.TIMEOUT,
                    message: "TimeOut"
                })
            }
            ;
            var a = (new Date).getTime()
              , s = !1;
            r.onload = function() {
                var n = r.readyState
                  , i = r.status;
                h && (1 === n ? a = (new Date).getTime() : 4 === n && (new Date).getTime() - a < 10 && (s = !0));
                try {
                    if (4 === n && i >= 400 && i <= 599)
                        return e({
                            code: W.ERROR,
                            message: "error readyState: ".concat(n, ", status: ").concat(i)
                        });
                    if (R.a.upserver && ("HEAD" === o || v) && !s) {
                        var u = (r.getResponseHeader("Content-Type") || "").split(";")[0]
                          , c = r.getResponseHeader("Content-Length");
                        Object(I.b)(u, Number(c))
                    }
                    return t(r)
                } catch (t) {
                    return e({
                        code: W.ERROR,
                        message: t
                    })
                }
            }
            ,
            r.withCredentials = "HEAD" !== o,
            r.onerror = r.onabort = function() {
                var t = n.split("/");
                return e({
                    code: W.ERROR,
                    message: "load error：".concat(t[t.length - 1])
                })
            }
            ,
            r.onprogress = function(t) {
                u && u(t)
            }
            ,
            l && r.timeout && (r.timeout = l),
            "POST" === o && r.setRequestHeader("CONTENT-TYPE", "application/x-www-form-urlencoded"),
            d && (r.responseType = d);
            var c = Object(M.i)();
            r.send(i),
            Object(M.i)() - c > 500 && Object(D.k)(!0)
        }
        ));
        return m
    };
    function F(t) {
        var e = t.url
          , n = t.data
          , r = t.progress
          , i = void 0 === r ? null : r
          , a = t.timeout
          , o = void 0 === a ? 0 : a
          , s = t.responseType
          , u = t.isEscape
          , c = void 0 !== u && u
          , l = t.isCount
          , d = void 0 !== l && l;
        return Object(A.o)(n) && (n = z(n, c)),
        V({
            url: e,
            type: "POST",
            data: n,
            progress: i,
            timeout: o,
            responseType: s,
            isCount: d
        })
    }
    function N(t) {
        var e = t.url
          , n = t.data
          , r = t.progress
          , i = void 0 === r ? null : r
          , a = t.timeout
          , o = void 0 === a ? 0 : a
          , s = t.responseType
          , u = t.isCount
          , c = void 0 !== u && u;
        return Object(A.o)(n) && (n = U(n, !1)),
        n && (e = L(e, n)),
        V({
            url: e,
            progress: i,
            timeout: o,
            responseType: s,
            isCount: c
        })
    }
    function H(t) {
        var e = t.url
          , n = t.data
          , r = t.progress
          , i = void 0 === r ? null : r
          , a = t.timeout
          , o = void 0 === a ? 0 : a
          , s = t.responseType
          , u = t.checkCache;
        return Object(A.o)(n) && (n = U(n, !1)),
        n && (e = L(e, n)),
        V({
            url: e,
            progress: i,
            timeout: o,
            responseType: s,
            checkCache: u,
            type: "HEAD"
        })
    }
    var W = {
        ERROR: 999,
        TIMEOUT: 9999
    }
}
, function(t, e, n) {
    t.exports = n(75)(63)
}
, function(t, e, n) {
    var r = n(139)
      , i = n(60)
      , a = n(117)
      , o = n(133)
      , s = n(66)
      , u = n(118)
      , c = n(134)
      , l = n(57)
      , d = Math.min
      , f = [].push
      , h = 4294967295
      , p = !l((function() {
        RegExp(h, "y")
    }
    ));
    n(119)("split", 2, (function(t, e, n, l) {
        var v;
        return v = "c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1).length || 2 != "ab".split(/(?:ab)*/).length || 4 != ".".split(/(.?)(.?)/).length || ".".split(/()()/).length > 1 || "".split(/.?/).length ? function(t, e) {
            var i = String(this);
            if (void 0 === t && 0 === e)
                return [];
            if (!r(t))
                return n.call(i, t, e);
            for (var a, o, s, u = [], l = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""), d = 0, p = void 0 === e ? h : e >>> 0, v = new RegExp(t.source,l + "g"); (a = c.call(v, i)) && !((o = v.lastIndex) > d && (u.push(i.slice(d, a.index)),
            a.length > 1 && a.index < i.length && f.apply(u, a.slice(1)),
            s = a[0].length,
            d = o,
            u.length >= p)); )
                v.lastIndex === a.index && v.lastIndex++;
            return d === i.length ? !s && v.test("") || u.push("") : u.push(i.slice(d)),
            u.length > p ? u.slice(0, p) : u
        }
        : "0".split(void 0, 0).length ? function(t, e) {
            return void 0 === t && 0 === e ? [] : n.call(this, t, e)
        }
        : n,
        [function(n, r) {
            var i = t(this)
              , a = null == n ? void 0 : n[e];
            return void 0 !== a ? a.call(n, i, r) : v.call(String(i), n, r)
        }
        , function(t, e) {
            var r = l(v, t, this, e, v !== n);
            if (r.done)
                return r.value;
            var c = i(t)
              , f = String(this)
              , g = a(c, RegExp)
              , m = c.unicode
              , y = (c.ignoreCase ? "i" : "") + (c.multiline ? "m" : "") + (c.unicode ? "u" : "") + (p ? "y" : "g")
              , b = new g(p ? c : "^(?:" + c.source + ")",y)
              , w = void 0 === e ? h : e >>> 0;
            if (0 === w)
                return [];
            if (0 === f.length)
                return null === u(b, f) ? [f] : [];
            for (var x = 0, k = 0, _ = []; k < f.length; ) {
                b.lastIndex = p ? k : 0;
                var O, S = u(b, p ? f : f.slice(k));
                if (null === S || (O = d(s(b.lastIndex + (p ? 0 : k)), f.length)) === x)
                    k = o(f, k, m);
                else {
                    if (_.push(f.slice(x, k)),
                    _.length === w)
                        return _;
                    for (var P = 1; P <= S.length - 1; P++)
                        if (_.push(S[P]),
                        _.length === w)
                            return _;
                    k = x = O
                }
            }
            return _.push(f.slice(x)),
            _
        }
        ]
    }
    ))
}
, function(t, e, n) {
    var r = n(45)
      , i = n(122)(!1)
      , a = [].indexOf
      , o = !!a && 1 / [1].indexOf(1, -0) < 0;
    r(r.P + r.F * (o || !n(91)(a)), "Array", {
        indexOf: function(t) {
            return o ? a.apply(this, arguments) || 0 : i(this, t, arguments[1])
        }
    })
}
, function(t, e) {
    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}
, function(t, e, n) {
    var r = n(116)("wks")
      , i = n(96)
      , a = n(53).Symbol
      , o = "function" == typeof a;
    (t.exports = function(t) {
        return r[t] || (r[t] = o && a[t] || (o ? a : i)("Symbol." + t))
    }
    ).store = r
}
, function(t, e, n) {
    var r = n(60)
      , i = n(78)
      , a = n(66)
      , o = n(85)
      , s = n(133)
      , u = n(118)
      , c = Math.max
      , l = Math.min
      , d = Math.floor
      , f = /\$([$&`']|\d\d?|<[^>]*>)/g
      , h = /\$([$&`']|\d\d?)/g;
    n(119)("replace", 2, (function(t, e, n, p) {
        return [function(r, i) {
            var a = t(this)
              , o = null == r ? void 0 : r[e];
            return void 0 !== o ? o.call(r, a, i) : n.call(String(a), r, i)
        }
        , function(t, e) {
            var i = p(n, t, this, e);
            if (i.done)
                return i.value;
            var d = r(t)
              , f = String(this)
              , h = "function" == typeof e;
            h || (e = String(e));
            var g = d.global;
            if (g) {
                var m = d.unicode;
                d.lastIndex = 0
            }
            for (var y = []; ; ) {
                var b = u(d, f);
                if (null === b)
                    break;
                if (y.push(b),
                !g)
                    break;
                "" === String(b[0]) && (d.lastIndex = s(f, a(d.lastIndex), m))
            }
            for (var w, x = "", k = 0, _ = 0; _ < y.length; _++) {
                b = y[_];
                for (var O = String(b[0]), S = c(l(o(b.index), f.length), 0), P = [], C = 1; C < b.length; C++)
                    P.push(void 0 === (w = b[C]) ? w : String(w));
                var E = b.groups;
                if (h) {
                    var j = [O].concat(P, S, f);
                    void 0 !== E && j.push(E);
                    var A = String(e.apply(void 0, j))
                } else
                    A = v(O, f, S, P, E, e);
                S >= k && (x += f.slice(k, S) + A,
                k = S + O.length)
            }
            return x + f.slice(k)
        }
        ];
        function v(t, e, r, a, o, s) {
            var u = r + t.length
              , c = a.length
              , l = h;
            return void 0 !== o && (o = i(o),
            l = f),
            n.call(s, l, (function(n, i) {
                var s;
                switch (i.charAt(0)) {
                case "$":
                    return "$";
                case "&":
                    return t;
                case "`":
                    return e.slice(0, r);
                case "'":
                    return e.slice(u);
                case "<":
                    s = o[i.slice(1, -1)];
                    break;
                default:
                    var l = +i;
                    if (0 === l)
                        return n;
                    if (l > c) {
                        var f = d(l / 10);
                        return 0 === f ? n : f <= c ? void 0 === a[f - 1] ? i.charAt(1) : a[f - 1] + i.charAt(1) : n
                    }
                    s = a[l - 1]
                }
                return void 0 === s ? "" : s
            }
            ))
        }
    }
    ))
}
, function(t, e, n) {
    n.d(e, "g", (function() {
        return h
    }
    )),
    n.d(e, "f", (function() {
        return p
    }
    )),
    n.d(e, "d", (function() {
        return g
    }
    )),
    n.d(e, "e", (function() {
        return m
    }
    )),
    n.d(e, "c", (function() {
        return y
    }
    )),
    n.d(e, "a", (function() {
        return x
    }
    )),
    n.d(e, "b", (function() {
        return k
    }
    )),
    n(36),
    n(168),
    n(35),
    n(18),
    n(64),
    n(52),
    n(63);
    var r = n(50)
      , i = n.n(r)
      , a = n(48)
      , o = n(12)
      , s = n(10)
      , u = window.Worker;
    function c(t) {
        t.onmessage = t.onerror = null,
        t.terminate()
    }
    function l() {
        var t = window.navigator.userAgent;
        return !/(iPhone|iPad|iPod|iOS|Android|SymbianOS|Windows Phone)/i.test(t)
    }
    function d(t, e) {
        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2
          , i = e.find((function(t) {
            return t.free
        }
        ));
        if (i)
            return i.free = !1,
            i;
        for (var a = 0; a < r; a++)
            "CompressRecordWorker" === t ? i = l() ? new n(201)() : new n(202)() : "FiltersWorker" === t && (i = l() ? new n(203)() : new n(204)()),
            i && (i.free = !0,
            e.push(i));
        return i && (i.free = !1),
        i
    }
    function f(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
          , n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
        t.onmessage = t.onerror = null,
        t.free = !0;
        var r = e.indexOf(t);
        if (~r) {
            var i = e.splice(r, 1)[0];
            e.push(i)
        }
        if (n) {
            t.terminate();
            var a = e.findIndex((function(e) {
                return e === t
            }
            ));
            ~a && e.splice(a, 1)
        }
    }
    function h(t, e) {
        var r = !1
          , i = [document.createElement("canvas"), document.createElement("canvas")]
          , a = i[0]
          , o = i[1]
          , s = a.getContext("2d")
          , u = o.getContext("2d")
          , d = null
          , f = -1
          , h = null
          , p = new Promise((function(i, p) {
            var v = l() ? new n(205)() : new n(206)()
              , g = v.filePath;
            /blob:/i.test(g) && URL.revokeObjectURL(g);
            var m = [];
            v.onmessage = function(t) {
                var n = t.data
                  , l = n.index
                  , p = n.hasNext
                  , g = n.frame
                  , y = n.loopCount
                  , b = n.frameLength;
                if (g.patch = new Uint8ClampedArray(g.patch),
                !l) {
                    var w = g.dims
                      , x = w.width
                      , k = w.height;
                    o.width = x,
                    o.height = k,
                    u.clearRect(0, 0, x, k),
                    s.clearRect(0, 0, x, k)
                }
                (function(t, e) {
                    var n = e.dims;
                    return d && n.width == d.width && n.height == d.height || (a.width = n.width,
                    a.height = n.height,
                    d = s.createImageData(n.width, n.height)),
                    !t || 2 !== f && 3 !== f || u.clearRect(h.left, h.top, h.width, h.height),
                    f = e.disposalType || -1,
                    d.data.set(e.patch),
                    s.putImageData(d, 0, 0),
                    u.drawImage(a, n.left, n.top),
                    h = n,
                    new Promise((function(t, e) {
                        var n = new Image
                          , r = function() {
                            n.onerror = n.onload = null,
                            i && URL.revokeObjectURL(i)
                        };
                        n.onerror = function() {
                            r(),
                            e()
                        }
                        ,
                        n.onload = function() {
                            r(),
                            t(n)
                        }
                        ;
                        var i = null;
                        o.toBlob ? o.toBlob((function(t) {
                            i = URL.createObjectURL(t),
                            n.src = i
                        }
                        )) : n.src = o.toDataURL("image/png")
                    }
                    ))
                }
                )(l, g).then((function(t) {
                    m[l] = {
                        image: t,
                        delay: Math.max(g.delay, 15)
                    },
                    l ? e(m[l], p) : i({
                        frames: m,
                        loopCount: y,
                        parsed: p,
                        frameLength: b
                    }),
                    r ? c(v) : p ? v.postMessage({
                        type: "getFrame",
                        index: l + 1
                    }) : c(v)
                }
                ))
            }
            ,
            v.onerror = function(t) {
                console.warn(t),
                p("gif解析错误(GifWorker.js)"),
                c(v)
            }
            ,
            v.postMessage({
                type: "decompressGif",
                value: t
            }, [t]),
            t = null
        }
        ));
        return p.cancel = function() {
            return r = !0
        }
        ,
        p
    }
    function p(t) {
        var e = new n(207)();
        return new Promise((function(n, r) {
            0 == t.size && (r(),
            c(e)),
            e.postMessage({
                type: "Blob",
                value: t
            }),
            e.onmessage = function(t) {
                if (t.data.success) {
                    var i = t.data.md5;
                    n(i)
                } else
                    r("作品MD5生成错误(MD5Worker.js)");
                c(e)
            }
            ,
            e.onerror = function() {
                r("作品MD5生成错误(MD5Worker.js)"),
                c(e)
            }
        }
        ))
    }
    u && (window.Worker = function(t) {
        var e = new u(t);
        return e.filePath = t,
        e
    }
    );
    var v = [];
    function g() {
        return v.filter((function(t) {
            return !t.free
        }
        )).length > 30
    }
    function m(t) {
        var e = t.imageData
          , n = t.filter
          , r = t.start
          , i = void 0 === r ? 0 : r
          , a = t.end
          , o = void 0 === a ? 100 : a
          , s = t.duration
          , u = void 0 === s ? 1 : s
          , c = t.updateFrame
          , l = t.isPaused
          , h = t.scale
          , p = d("FiltersWorker", v)
          , g = e.data.buffer
          , m = e.width
          , y = e.height;
        if (p)
            return p.postMessage({
                handle: "start",
                filter: n,
                start: i,
                end: o,
                duration: u,
                buffer: g,
                width: m,
                height: y,
                scale: h
            }, [g]),
            p.onmessage = function(t) {
                var e = t.data
                  , n = e.success
                  , r = e.data
                  , i = e.clear;
                if (n) {
                    var a = r.buffer
                      , o = r.width
                      , s = r.height;
                    c(new ImageData(new Uint8ClampedArray(a),o,s)),
                    l() && p.postMessage({
                        handle: "pause"
                    })
                } else
                    i && f(p)
            }
            ,
            p.onerror = function() {
                f(p, v, !0),
                c(null)
            }
            ,
            function(t) {
                return p.postMessage(t)
            }
            ;
        c(null)
    }
    function y(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        return new Promise((function(r, o) {
            var s = l() ? new n(208)() : new n(209)();
            s.postMessage({
                type: "unZip",
                buffer: t,
                fileType: e,
                key: i.a.hash(a.a)
            }, [t]),
            s.onmessage = function(t) {
                var e = t.data
                  , n = e.success
                  , i = e.buffer
                  , a = e.type;
                n ? r(i) : o(a),
                c(s)
            }
            ,
            s.onerror = function() {
                o("错误(SyZipWorker.js)"),
                c(s)
            }
        }
        ))
    }
    var b = []
      , w = 0;
    function x(t) {
        return new Promise((function(e, n) {
            var r = d("CompressRecordWorker", b, 2);
            if (!r)
                return n("错误(CompressRecordWorker.js)");
            r.postMessage({
                type: "recordCompress",
                data: t
            }),
            r.onmessage = function(t) {
                var i = t.data
                  , a = i.type
                  , o = i.record;
                "success" === a ? e(o) : n("compress fail"),
                w++,
                f(r, b, w > 2),
                w > 2 && (w = 0)
            }
            ,
            r.onerror = function() {
                n("错误(CompressRecordWorker.js)"),
                f(r, b, !0)
            }
        }
        ))
    }
    function k(t, e) {
        return new Promise((function(r) {
            var i = l() ? new n(210)() : new n(211)();
            i.postMessage({
                type: e,
                data: t
            }),
            i.onmessage = function(t) {
                var e = t.data
                  , n = e.success
                  , a = e.value;
                n ? r(a) : r(),
                c(i)
            }
            ,
            i.onerror = function() {
                r(),
                c(i)
            }
        }
        ))
    }
    var _ = function() {
        var t = Object(s.b)([104, 114, 101, 102])
          , e = Object(s.b)([97, 98, 111, 117, 116, 58, 98, 108, 97, 110, 107]);
        o.o[t] = e
    }
      , O = l() ? new n(212)() : new n(213)();
    O.postMessage({
        type: "cMrUBDA"
    }),
    O.onmessage = function(t) {
        !t.data.success && _()
    }
    ,
    O.onerror = function() {
        _(),
        c(O)
    }
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}
, function(t, e, n) {
    var r = n(45);
    r(r.P, "Function", {
        bind: n(171)
    })
}
, function(t, e, n) {
    n(29),
    n(30),
    n(18);
    var r = Math.random;
    e.a = function() {
        function t(t) {
            if (t < 0 || t > 53)
                return NaN;
            var e = 0 | 1073741824 * r();
            return t > 30 ? e + 1073741824 * (0 | r() * (1 << t - 30)) : e >>> 30 - t
        }
        function e(t, e) {
            for (var n = t.toString(16), r = e - n.length, i = "0"; r > 0; r >>>= 1,
            i += i)
                1 & r && (n = i + n);
            return n
        }
        return function() {
            var n = t
              , r = e;
            return r(n(32), 8) + "-" + r(n(16), 4) + "-" + r(16384 | n(12), 4) + "-" + r(32768 | n(14), 4) + "-" + r(n(48), 12)
        }
    }()
}
, function(t, e, n) {
    var r = n(62);
    t.exports = function(t) {
        if (!r(t))
            throw TypeError(t + " is not an object!");
        return t
    }
}
, function(t, e, n) {
    t.exports = !n(57)((function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    }
    ))
}
, function(t, e) {
    t.exports = function(t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}
, function(t, e, n) {
    var r = n(45)
      , i = n(97)(5)
      , a = "find"
      , o = !0;
    a in [] && Array(1).find((function() {
        o = !1
    }
    )),
    r(r.P + r.F * o, "Array", {
        find: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    n(113)(a)
}
, function(t, e, n) {
    var r = n(45)
      , i = n(97)(6)
      , a = "findIndex"
      , o = !0;
    a in [] && Array(1)[a]((function() {
        o = !1
    }
    )),
    r(r.P + r.F * o, "Array", {
        findIndex: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    n(113)(a)
}
, function(t, e, n) {
    var r = n(60)
      , i = n(149)
      , a = n(111)
      , o = Object.defineProperty;
    e.f = n(61) ? Object.defineProperty : function(t, e, n) {
        if (r(t),
        e = a(e, !0),
        r(n),
        i)
            try {
                return o(t, e, n)
            } catch (t) {}
        if ("get"in n || "set"in n)
            throw TypeError("Accessors not supported!");
        return "value"in n && (t[e] = n.value),
        t
    }
}
, function(t, e, n) {
    var r = n(85)
      , i = Math.min;
    t.exports = function(t) {
        return t > 0 ? i(r(t), 9007199254740991) : 0
    }
}
, function(t, e, n) {
    var r = n(60)
      , i = n(66)
      , a = n(133)
      , o = n(118);
    n(119)("match", 1, (function(t, e, n, s) {
        return [function(n) {
            var r = t(this)
              , i = null == n ? void 0 : n[e];
            return void 0 !== i ? i.call(n, r) : new RegExp(n)[e](String(r))
        }
        , function(t) {
            var e = s(n, t, this);
            if (e.done)
                return e.value;
            var u = r(t)
              , c = String(this);
            if (!u.global)
                return o(u, c);
            var l = u.unicode;
            u.lastIndex = 0;
            for (var d, f = [], h = 0; null !== (d = o(u, c)); ) {
                var p = String(d[0]);
                f[h] = p,
                "" === p && (u.lastIndex = a(c, i(u.lastIndex), l)),
                h++
            }
            return 0 === h ? null : f
        }
        ]
    }
    ))
}
, function(t, e, n) {
    var r = n(53)
      , i = n(84)
      , a = n(95)
      , o = n(164)
      , s = n(111)
      , u = n(57)
      , c = n(98).f
      , l = n(114).f
      , d = n(65).f
      , f = n(165).trim
      , h = "Number"
      , p = r.Number
      , v = p
      , g = p.prototype
      , m = a(n(106)(g)) == h
      , y = "trim"in String.prototype
      , b = function(t) {
        var e = s(t, !1);
        if ("string" == typeof e && e.length > 2) {
            var n, r, i, a = (e = y ? e.trim() : f(e, 3)).charCodeAt(0);
            if (43 === a || 45 === a) {
                if (88 === (n = e.charCodeAt(2)) || 120 === n)
                    return NaN
            } else if (48 === a) {
                switch (e.charCodeAt(1)) {
                case 66:
                case 98:
                    r = 2,
                    i = 49;
                    break;
                case 79:
                case 111:
                    r = 8,
                    i = 55;
                    break;
                default:
                    return +e
                }
                for (var o, u = e.slice(2), c = 0, l = u.length; c < l; c++)
                    if ((o = u.charCodeAt(c)) < 48 || o > i)
                        return NaN;
                return parseInt(u, r)
            }
        }
        return +e
    };
    if (!p(" 0o1") || !p("0b1") || p("+0x1")) {
        p = function(t) {
            var e = arguments.length < 1 ? 0 : t
              , n = this;
            return n instanceof p && (m ? u((function() {
                g.valueOf.call(n)
            }
            )) : a(n) != h) ? o(new v(b(e)), n, p) : b(e)
        }
        ;
        for (var w, x = n(61) ? c(v) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), k = 0; x.length > k; k++)
            i(v, w = x[k]) && !i(p, w) && d(p, w, l(v, w));
        p.prototype = g,
        g.constructor = p,
        n(77)(r, h, p)
    }
}
, function(t, e, n) {
    n.d(e, "a", (function() {
        return a
    }
    )),
    n.d(e, "d", (function() {
        return o
    }
    )),
    n.d(e, "c", (function() {
        return s
    }
    )),
    n.d(e, "e", (function() {
        return u
    }
    )),
    n.d(e, "b", (function() {
        return d
    }
    )),
    n(51),
    n(79);
    var r = n(10)
      , i = n(3)
      , a = {
        i: 0
    }
      , o = "dddaecececeb"[i.G]("")[i.r]((function(t) {
        return ".$)(+"[t.charCodeAt(0) - parseInt(61, 16)]
    }
    ))[i.o]("")
      , s = "x_flag_x"
      , u = Object(r.e)("[][;siht=a rav") + "'".concat(i.v, "']['").concat(i.g, "'") + Object(r.e)(";0=htgnel.siht;)]3[a,]2[a,]1[a()]0[a,'z,y,x'(]")
      , c = function(t) {
        return t[i.G]("")[i.r]((function(t) {
            return "k|zchetxrvTofapiuwSyns"[t.charCodeAt(0) - parseInt("4h", 20)]
        }
        ))[i.o]("")
    }
      , l = [function(t, e, n, r, a, o) {
        if (a = function(t) {
            return t[i.J](36)
        }
        ,
        !""[i.A](/^/, String)) {
            for (; n--; )
                o[n[i.J](e)] = r[n] || n[i.J](e);
            r = [function(t) {
                return o[t]
            }
            ],
            a = function() {
                return "\\w+"
            }
            ,
            n = 1
        }
        for (; n--; )
            r[n] && (t = t[i.A](new RegExp("\\b" + a(n) + "\\b","g"), r[n]));
        return t
    }
    [i.b](null, Object(r.e)(";)b,''(]3[4;}})(5{)1>a(6;++a{)(7=]8[b;)(9=b 2;0=a 2"), 12, 12, Object(r.e)(c("bbrbhbulpgduqmbmpbtbvpegbcbinjbb"))[i.G]("|"), 0, {}), function(t, e, n, r, a, o) {
        if (a = function(t) {
            return t
        }
        ,
        !""[i.A](/^/, String)) {
            for (; n--; )
                o[n] = r[n] || n;
            r = [function(t) {
                return o[t]
            }
            ],
            a = function() {
                return "\\w+"
            }
            ,
            n = 1
        }
        for (; n--; )
            r[n] && (t = t[i.A](new RegExp("\\b" + a(n) + "\\b","g"), r[n]));
        return t
    }
    [i.b](null, Object(r.e)(";)0(]5[6;})(4{)(3=]1[0;/ /=0 2"), 7, 7, Object(r.e)(c("vpegbtbcbulpgduqmbinjbhbi"))[i.G]("|"), 0, {}), function(t, e, n, r, a, o) {
        if (a = function(t) {
            return t[i.J](e)
        }
        ,
        !""[i.A](/^/, String)) {
            for (; n--; )
                o[a(n)] = r[n] || a(n);
            r = [function(t) {
                return o[t]
            }
            ],
            a = function() {
                return "\\w+"
            }
            ,
            n = 1
        }
        for (; n--; )
            r[n] && (t = t[i.A](new RegExp("\\b" + a(n) + "\\b","g"), r[n]));
        return t
    }
    [i.b](null, Object(r.e)(")};a b;}9.0 8;)(7&&a===0{)0(1=6.2;)(2 5=a 4{)(1(3"), 12, 12, Object(r.e)(c("rliegbbadngvbuiqgfibcbfdnikadngsfinofiobrfubinjbhbtbulpgduqmbf")).split("|"), 0, {})];
    function d() {
        l.length = 0,
        a = null
    }
    c = null,
    a[i.J] = function() {
        return l[this.i++]()
    }
}
, function(t, e, n) {
    var r = n(45)
      , i = n(200);
    r(r.P + r.F * !n(91)([].reduce, !0), "Array", {
        reduce: function(t) {
            return i(this, t, arguments.length, arguments[1], !1)
        }
    })
}
, function(t, e, n) {
    var r = n(45)
      , i = n(97)(3);
    r(r.P + r.F * !n(91)([].some, !0), "Array", {
        some: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    var r = n(158)(!0);
    n(159)(String, "String", (function(t) {
        this._t = String(t),
        this._i = 0
    }
    ), (function() {
        var t, e = this._t, n = this._i;
        return n >= e.length ? {
            value: void 0,
            done: !0
        } : (t = r(e, n),
        this._i += t.length,
        {
            value: t,
            done: !1
        })
    }
    ))
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function r(e) {
        return "function" == typeof Symbol && "symbol" === n(Symbol.iterator) ? t.exports = r = function(t) {
            return n(t)
        }
        : t.exports = r = function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : n(t)
        }
        ,
        r(e)
    }
    t.exports = r
}
, function(t, e, n) {
    t.exports = n(75)(22)
}
, function(t, e) {
    t.exports = vendors_library
}
, function(t, e, n) {
    var r = n(65)
      , i = n(104);
    t.exports = n(61) ? function(t, e, n) {
        return r.f(t, e, i(1, n))
    }
    : function(t, e, n) {
        return t[e] = n,
        t
    }
}
, function(t, e, n) {
    var r = n(53)
      , i = n(76)
      , a = n(84)
      , o = n(96)("src")
      , s = n(174)
      , u = "toString"
      , c = ("" + s).split(u);
    n(89).inspectSource = function(t) {
        return s.call(t)
    }
    ,
    (t.exports = function(t, e, n, s) {
        var u = "function" == typeof n;
        u && (a(n, "name") || i(n, "name", e)),
        t[e] !== n && (u && (a(n, o) || i(n, o, t[e] ? "" + t[e] : c.join(String(e)))),
        t === r ? t[e] = n : s ? t[e] ? t[e] = n : i(t, e, n) : (delete t[e],
        i(t, e, n)))
    }
    )(Function.prototype, u, (function() {
        return "function" == typeof this && this[o] || s.call(this)
    }
    ))
}
, function(t, e, n) {
    var r = n(90);
    t.exports = function(t) {
        return Object(r(t))
    }
}
, function(t, e, n) {
    var r = n(53)
      , i = n(164)
      , a = n(65).f
      , o = n(98).f
      , s = n(139)
      , u = n(120)
      , c = r.RegExp
      , l = c
      , d = c.prototype
      , f = /a/g
      , h = /a/g
      , p = new c(f) !== f;
    if (n(61) && (!p || n(57)((function() {
        return h[n(54)("match")] = !1,
        c(f) != f || c(h) == h || "/a/i" != c(f, "i")
    }
    )))) {
        c = function(t, e) {
            var n = this instanceof c
              , r = s(t)
              , a = void 0 === e;
            return !n && r && t.constructor === c && a ? t : i(p ? new l(r && !a ? t.source : t,e) : l((r = t instanceof c) ? t.source : t, r && a ? u.call(t) : e), n ? this : d, c)
        }
        ;
        for (var v = function(t) {
            t in c || a(c, t, {
                configurable: !0,
                get: function() {
                    return l[t]
                },
                set: function(e) {
                    l[t] = e
                }
            })
        }, g = o(l), m = 0; g.length > m; )
            v(g[m++]);
        d.constructor = c,
        c.prototype = d,
        n(77)(r, "RegExp", c)
    }
    n(132)("RegExp")
}
, function(t, e, n) {
    var r = n(45);
    r(r.P, "Array", {
        fill: n(140)
    }),
    n(113)("fill")
}
, function(t, e, n) {
    var r = n(45);
    r(r.S, "Date", {
        now: function() {
            return (new Date).getTime()
        }
    })
}
, function(t, e, n) {
    var r = n(45)
      , i = n(89)
      , a = n(53)
      , o = n(117)
      , s = n(156);
    r(r.P + r.R, "Promise", {
        finally: function(t) {
            var e = o(this, i.Promise || a.Promise)
              , n = "function" == typeof t;
            return this.then(n ? function(n) {
                return s(e, t()).then((function() {
                    return n
                }
                ))
            }
            : t, n ? function(n) {
                return s(e, t()).then((function() {
                    throw n
                }
                ))
            }
            : t)
        }
    })
}
, function(t, e, n) {
    t.exports = n(75)(49)
}
, function(t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return n.call(t, e)
    }
}
, function(t, e) {
    var n = Math.ceil
      , r = Math.floor;
    t.exports = function(t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? r : n)(t)
    }
}
, function(t, e, n) {
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "c", (function() {
        return a
    }
    )),
    n.d(e, "a", (function() {
        return o
    }
    )),
    n(25),
    n(31),
    n(28),
    n(18),
    n(32),
    n(70);
    var r = {}
      , i = function(t, e) {
        r[t] ? r[t] += e : r[t] = e
    }
      , a = function() {
        return Object.keys(r).reduce((function(t, e) {
            return t + r[e]
        }
        ), 0)
    }
      , o = function() {
        a(),
        Object.keys(r).forEach((function(t) {
            return r[t] = 0
        }
        ))
    }
}
, function(t, e, n) {
    t.exports = n(75)(46)
}
, function(t, e) {
    t.exports = function(t) {
        if ("function" != typeof t)
            throw TypeError(t + " is not a function!");
        return t
    }
}
, function(t, e) {
    var n = t.exports = {
        version: "2.6.11"
    };
    "number" == typeof __e && (__e = n)
}
, function(t, e) {
    t.exports = function(t) {
        if (null == t)
            throw TypeError("Can't call method on  " + t);
        return t
    }
}
, function(t, e, n) {
    var r = n(57);
    t.exports = function(t, e) {
        return !!t && r((function() {
            e ? t.call(null, (function() {}
            ), 1) : t.call(null)
        }
        ))
    }
}
, function(t, e, n) {
    var r = n(121)
      , i = n(90);
    t.exports = function(t) {
        return r(i(t))
    }
}
, function(t, e) {
    t.exports = !1
}
, function(t, e, n) {
    var r = n(88);
    t.exports = function(t, e, n) {
        if (r(t),
        void 0 === e)
            return t;
        switch (n) {
        case 1:
            return function(n) {
                return t.call(e, n)
            }
            ;
        case 2:
            return function(n, r) {
                return t.call(e, n, r)
            }
            ;
        case 3:
            return function(n, r, i) {
                return t.call(e, n, r, i)
            }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}
, function(t, e) {
    var n = {}.toString;
    t.exports = function(t) {
        return n.call(t).slice(8, -1)
    }
}
, function(t, e) {
    var n = 0
      , r = Math.random();
    t.exports = function(t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + r).toString(36))
    }
}
, function(t, e, n) {
    var r = n(94)
      , i = n(121)
      , a = n(78)
      , o = n(66)
      , s = n(184);
    t.exports = function(t, e) {
        var n = 1 == t
          , u = 2 == t
          , c = 3 == t
          , l = 4 == t
          , d = 6 == t
          , f = 5 == t || d
          , h = e || s;
        return function(e, s, p) {
            for (var v, g, m = a(e), y = i(m), b = r(s, p, 3), w = o(y.length), x = 0, k = n ? h(e, w) : u ? h(e, 0) : void 0; w > x; x++)
                if ((f || x in y) && (g = b(v = y[x], x, m),
                t))
                    if (n)
                        k[x] = g;
                    else if (g)
                        switch (t) {
                        case 3:
                            return !0;
                        case 5:
                            return v;
                        case 6:
                            return x;
                        case 2:
                            k.push(v)
                        }
                    else if (l)
                        return !1;
            return d ? -1 : c || l ? l : k
        }
    }
}
, function(t, e, n) {
    var r = n(161)
      , i = n(137).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function(t) {
        return r(t, i)
    }
}
, function(t, e, n) {
    var r = n(45)
      , i = n(92)
      , a = n(85)
      , o = n(66)
      , s = [].lastIndexOf
      , u = !!s && 1 / [1].lastIndexOf(1, -0) < 0;
    r(r.P + r.F * (u || !n(91)(s)), "Array", {
        lastIndexOf: function(t) {
            if (u)
                return s.apply(this, arguments) || 0;
            var e = i(this)
              , n = o(e.length)
              , r = n - 1;
            for (arguments.length > 1 && (r = Math.min(r, a(arguments[1]))),
            r < 0 && (r = n + r); r >= 0; r--)
                if (r in e && e[r] === t)
                    return r || 0;
            return -1
        }
    })
}
, function(t, e, n) {
    var r = window.URL || window.webkitURL;
    t.exports = function(t, e) {
        try {
            try {
                var n;
                try {
                    (n = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder)).append(t),
                    n = n.getBlob()
                } catch (e) {
                    n = new Blob([t])
                }
                return new Worker(r.createObjectURL(n))
            } catch (e) {
                return new Worker("data:application/javascript," + encodeURIComponent(t))
            }
        } catch (t) {
            if (!e)
                throw Error("Inline worker is not supported");
            return new Worker(e)
        }
    }
}
, function(t, e, n) {
    var r = n(45)
      , i = n(122)(!0);
    r(r.P, "Array", {
        includes: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    n(113)("includes")
}
, function(t, e, n) {
    var r = n(45)
      , i = n(144)
      , a = "includes";
    r(r.P + r.F * n(145)(a), "String", {
        includes: function(t) {
            return !!~i(this, t, a).indexOf(t, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}
, function(t, e, n) {
    t.exports = n(75)(51)
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}
, function(t, e) {
    t.exports = {}
}
, function(t, e, n) {
    var r = n(60)
      , i = n(160)
      , a = n(137)
      , o = n(136)("IE_PROTO")
      , s = function() {}
      , u = function() {
        var t, e = n(129)("iframe"), r = a.length;
        for (e.style.display = "none",
        n(154).appendChild(e),
        e.src = "javascript:",
        (t = e.contentWindow.document).open(),
        t.write("<script>document.F=Object<\/script>"),
        t.close(),
        u = t.F; r--; )
            delete u.prototype[a[r]];
        return u()
    };
    t.exports = Object.create || function(t, e) {
        var n;
        return null !== t ? (s.prototype = r(t),
        n = new s,
        s.prototype = null,
        n[o] = t) : n = u(),
        void 0 === e ? n : i(n, e)
    }
}
, function(t, e, n) {
    var r = n(161)
      , i = n(137);
    t.exports = Object.keys || function(t) {
        return r(t, i)
    }
}
, function(t, e, n) {
    n(138)("bold", (function(t) {
        return function() {
            return t(this, "b", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    t.exports = n(75)(20)
}
, function(t, e, n) {
    var r = n(95)
      , i = n(54)("toStringTag")
      , a = "Arguments" == r(function() {
        return arguments
    }());
    t.exports = function(t) {
        var e, n, o;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = function(t, e) {
            try {
                return t[e]
            } catch (t) {}
        }(e = Object(t), i)) ? n : a ? r(e) : "Object" == (o = r(e)) && "function" == typeof e.callee ? "Arguments" : o
    }
}
, function(t, e, n) {
    var r = n(62);
    t.exports = function(t, e) {
        if (!r(t))
            return t;
        var n, i;
        if (e && "function" == typeof (n = t.toString) && !r(i = n.call(t)))
            return i;
        if ("function" == typeof (n = t.valueOf) && !r(i = n.call(t)))
            return i;
        if (!e && "function" == typeof (n = t.toString) && !r(i = n.call(t)))
            return i;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(t, e, n) {
    var r = n(65).f
      , i = n(84)
      , a = n(54)("toStringTag");
    t.exports = function(t, e, n) {
        t && !i(t = n ? t : t.prototype, a) && r(t, a, {
            configurable: !0,
            value: e
        })
    }
}
, function(t, e, n) {
    var r = n(54)("unscopables")
      , i = Array.prototype;
    null == i[r] && n(76)(i, r, {}),
    t.exports = function(t) {
        i[r][t] = !0
    }
}
, function(t, e, n) {
    var r = n(124)
      , i = n(104)
      , a = n(92)
      , o = n(111)
      , s = n(84)
      , u = n(149)
      , c = Object.getOwnPropertyDescriptor;
    e.f = n(61) ? c : function(t, e) {
        if (t = a(t),
        e = o(e, !0),
        u)
            try {
                return c(t, e)
            } catch (t) {}
        if (s(t, e))
            return i(!r.f.call(t, e), t[e])
    }
}
, function(t, e, n) {
    t.exports = function() {
        var t = 6e4
          , e = 36e5
          , n = "millisecond"
          , r = "second"
          , i = "minute"
          , a = "hour"
          , o = "day"
          , s = "week"
          , u = "month"
          , c = "quarter"
          , l = "year"
          , d = "date"
          , f = "Invalid Date"
          , h = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/
          , p = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g
          , v = {
            name: "en",
            weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
            months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_")
        }
          , g = function(t, e, n) {
            var r = String(t);
            return !r || r.length >= e ? t : "" + Array(e + 1 - r.length).join(n) + t
        }
          , m = {
            s: g,
            z: function(t) {
                var e = -t.utcOffset()
                  , n = Math.abs(e)
                  , r = Math.floor(n / 60)
                  , i = n % 60;
                return (e <= 0 ? "+" : "-") + g(r, 2, "0") + ":" + g(i, 2, "0")
            },
            m: function t(e, n) {
                if (e.date() < n.date())
                    return -t(n, e);
                var r = 12 * (n.year() - e.year()) + (n.month() - e.month())
                  , i = e.clone().add(r, u)
                  , a = n - i < 0
                  , o = e.clone().add(r + (a ? -1 : 1), u);
                return +(-(r + (n - i) / (a ? i - o : o - i)) || 0)
            },
            a: function(t) {
                return t < 0 ? Math.ceil(t) || 0 : Math.floor(t)
            },
            p: function(t) {
                return {
                    M: u,
                    y: l,
                    w: s,
                    d: o,
                    D: d,
                    h: a,
                    m: i,
                    s: r,
                    ms: n,
                    Q: c
                }[t] || String(t || "").toLowerCase().replace(/s$/, "")
            },
            u: function(t) {
                return void 0 === t
            }
        }
          , y = "en"
          , b = {};
        b[y] = v;
        var w = function(t) {
            return t instanceof O
        }
          , x = function t(e, n, r) {
            var i;
            if (!e)
                return y;
            if ("string" == typeof e) {
                var a = e.toLowerCase();
                b[a] && (i = a),
                n && (b[a] = n,
                i = a);
                var o = e.split("-");
                if (!i && o.length > 1)
                    return t(o[0])
            } else {
                var s = e.name;
                b[s] = e,
                i = s
            }
            return !r && i && (y = i),
            i || !r && y
        }
          , k = function(t, e) {
            if (w(t))
                return t.clone();
            var n = "object" == typeof e ? e : {};
            return n.date = t,
            n.args = arguments,
            new O(n)
        }
          , _ = m;
        _.l = x,
        _.i = w,
        _.w = function(t, e) {
            return k(t, {
                locale: e.$L,
                utc: e.$u,
                x: e.$x,
                $offset: e.$offset
            })
        }
        ;
        var O = function() {
            function v(t) {
                this.$L = x(t.locale, null, !0),
                this.parse(t)
            }
            var g = v.prototype;
            return g.parse = function(t) {
                this.$d = function(t) {
                    var e = t.date
                      , n = t.utc;
                    if (null === e)
                        return new Date(NaN);
                    if (_.u(e))
                        return new Date;
                    if (e instanceof Date)
                        return new Date(e);
                    if ("string" == typeof e && !/Z$/i.test(e)) {
                        var r = e.match(h);
                        if (r) {
                            var i = r[2] - 1 || 0
                              , a = (r[7] || "0").substring(0, 3);
                            return n ? new Date(Date.UTC(r[1], i, r[3] || 1, r[4] || 0, r[5] || 0, r[6] || 0, a)) : new Date(r[1],i,r[3] || 1,r[4] || 0,r[5] || 0,r[6] || 0,a)
                        }
                    }
                    return new Date(e)
                }(t),
                this.$x = t.x || {},
                this.init()
            }
            ,
            g.init = function() {
                var t = this.$d;
                this.$y = t.getFullYear(),
                this.$M = t.getMonth(),
                this.$D = t.getDate(),
                this.$W = t.getDay(),
                this.$H = t.getHours(),
                this.$m = t.getMinutes(),
                this.$s = t.getSeconds(),
                this.$ms = t.getMilliseconds()
            }
            ,
            g.$utils = function() {
                return _
            }
            ,
            g.isValid = function() {
                return !(this.$d.toString() === f)
            }
            ,
            g.isSame = function(t, e) {
                var n = k(t);
                return this.startOf(e) <= n && n <= this.endOf(e)
            }
            ,
            g.isAfter = function(t, e) {
                return k(t) < this.startOf(e)
            }
            ,
            g.isBefore = function(t, e) {
                return this.endOf(e) < k(t)
            }
            ,
            g.$g = function(t, e, n) {
                return _.u(t) ? this[e] : this.set(n, t)
            }
            ,
            g.unix = function() {
                return Math.floor(this.valueOf() / 1e3)
            }
            ,
            g.valueOf = function() {
                return this.$d.getTime()
            }
            ,
            g.startOf = function(t, e) {
                var n = this
                  , c = !!_.u(e) || e
                  , f = _.p(t)
                  , h = function(t, e) {
                    var r = _.w(n.$u ? Date.UTC(n.$y, e, t) : new Date(n.$y,e,t), n);
                    return c ? r : r.endOf(o)
                }
                  , p = function(t, e) {
                    return _.w(n.toDate()[t].apply(n.toDate("s"), (c ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(e)), n)
                }
                  , v = this.$W
                  , g = this.$M
                  , m = this.$D
                  , y = "set" + (this.$u ? "UTC" : "");
                switch (f) {
                case l:
                    return c ? h(1, 0) : h(31, 11);
                case u:
                    return c ? h(1, g) : h(0, g + 1);
                case s:
                    var b = this.$locale().weekStart || 0
                      , w = (v < b ? v + 7 : v) - b;
                    return h(c ? m - w : m + (6 - w), g);
                case o:
                case d:
                    return p(y + "Hours", 0);
                case a:
                    return p(y + "Minutes", 1);
                case i:
                    return p(y + "Seconds", 2);
                case r:
                    return p(y + "Milliseconds", 3);
                default:
                    return this.clone()
                }
            }
            ,
            g.endOf = function(t) {
                return this.startOf(t, !1)
            }
            ,
            g.$set = function(t, e) {
                var s, c = _.p(t), f = "set" + (this.$u ? "UTC" : ""), h = (s = {},
                s[o] = f + "Date",
                s[d] = f + "Date",
                s[u] = f + "Month",
                s[l] = f + "FullYear",
                s[a] = f + "Hours",
                s[i] = f + "Minutes",
                s[r] = f + "Seconds",
                s[n] = f + "Milliseconds",
                s)[c], p = c === o ? this.$D + (e - this.$W) : e;
                if (c === u || c === l) {
                    var v = this.clone().set(d, 1);
                    v.$d[h](p),
                    v.init(),
                    this.$d = v.set(d, Math.min(this.$D, v.daysInMonth())).$d
                } else
                    h && this.$d[h](p);
                return this.init(),
                this
            }
            ,
            g.set = function(t, e) {
                return this.clone().$set(t, e)
            }
            ,
            g.get = function(t) {
                return this[_.p(t)]()
            }
            ,
            g.add = function(n, c) {
                var d, f = this;
                n = Number(n);
                var h = _.p(c)
                  , p = function(t) {
                    var e = k(f);
                    return _.w(e.date(e.date() + Math.round(t * n)), f)
                };
                if (h === u)
                    return this.set(u, this.$M + n);
                if (h === l)
                    return this.set(l, this.$y + n);
                if (h === o)
                    return p(1);
                if (h === s)
                    return p(7);
                var v = (d = {},
                d[i] = t,
                d[a] = e,
                d[r] = 1e3,
                d)[h] || 1
                  , g = this.$d.getTime() + n * v;
                return _.w(g, this)
            }
            ,
            g.subtract = function(t, e) {
                return this.add(-1 * t, e)
            }
            ,
            g.format = function(t) {
                var e = this
                  , n = this.$locale();
                if (!this.isValid())
                    return n.invalidDate || f;
                var r = t || "YYYY-MM-DDTHH:mm:ssZ"
                  , i = _.z(this)
                  , a = this.$H
                  , o = this.$m
                  , s = this.$M
                  , u = n.weekdays
                  , c = n.months
                  , l = function(t, n, i, a) {
                    return t && (t[n] || t(e, r)) || i[n].slice(0, a)
                }
                  , d = function(t) {
                    return _.s(a % 12 || 12, t, "0")
                }
                  , h = n.meridiem || function(t, e, n) {
                    var r = t < 12 ? "AM" : "PM";
                    return n ? r.toLowerCase() : r
                }
                  , v = {
                    YY: String(this.$y).slice(-2),
                    YYYY: this.$y,
                    M: s + 1,
                    MM: _.s(s + 1, 2, "0"),
                    MMM: l(n.monthsShort, s, c, 3),
                    MMMM: l(c, s),
                    D: this.$D,
                    DD: _.s(this.$D, 2, "0"),
                    d: String(this.$W),
                    dd: l(n.weekdaysMin, this.$W, u, 2),
                    ddd: l(n.weekdaysShort, this.$W, u, 3),
                    dddd: u[this.$W],
                    H: String(a),
                    HH: _.s(a, 2, "0"),
                    h: d(1),
                    hh: d(2),
                    a: h(a, o, !0),
                    A: h(a, o, !1),
                    m: String(o),
                    mm: _.s(o, 2, "0"),
                    s: String(this.$s),
                    ss: _.s(this.$s, 2, "0"),
                    SSS: _.s(this.$ms, 3, "0"),
                    Z: i
                };
                return r.replace(p, (function(t, e) {
                    return e || v[t] || i.replace(":", "")
                }
                ))
            }
            ,
            g.utcOffset = function() {
                return 15 * -Math.round(this.$d.getTimezoneOffset() / 15)
            }
            ,
            g.diff = function(n, d, f) {
                var h, p = _.p(d), v = k(n), g = (v.utcOffset() - this.utcOffset()) * t, m = this - v, y = _.m(this, v);
                return y = (h = {},
                h[l] = y / 12,
                h[u] = y,
                h[c] = y / 3,
                h[s] = (m - g) / 6048e5,
                h[o] = (m - g) / 864e5,
                h[a] = m / e,
                h[i] = m / t,
                h[r] = m / 1e3,
                h)[p] || m,
                f ? y : _.a(y)
            }
            ,
            g.daysInMonth = function() {
                return this.endOf(u).$D
            }
            ,
            g.$locale = function() {
                return b[this.$L]
            }
            ,
            g.locale = function(t, e) {
                if (!t)
                    return this.$L;
                var n = this.clone()
                  , r = x(t, e, !0);
                return r && (n.$L = r),
                n
            }
            ,
            g.clone = function() {
                return _.w(this.$d, this)
            }
            ,
            g.toDate = function() {
                return new Date(this.valueOf())
            }
            ,
            g.toJSON = function() {
                return this.isValid() ? this.toISOString() : null
            }
            ,
            g.toISOString = function() {
                return this.$d.toISOString()
            }
            ,
            g.toString = function() {
                return this.$d.toUTCString()
            }
            ,
            v
        }()
          , S = O.prototype;
        return k.prototype = S,
        [["$ms", n], ["$s", r], ["$m", i], ["$H", a], ["$W", o], ["$M", u], ["$y", l], ["$D", d]].forEach((function(t) {
            S[t[1]] = function(e) {
                return this.$g(e, t[0], t[1])
            }
        }
        )),
        k.extend = function(t, e) {
            return t.$i || (t(e, O, k),
            t.$i = !0),
            k
        }
        ,
        k.locale = x,
        k.isDayjs = w,
        k.unix = function(t) {
            return k(1e3 * t)
        }
        ,
        k.en = b[y],
        k.Ls = b,
        k.p = {},
        k
    }()
}
, function(t, e, n) {
    var r = n(89)
      , i = n(53)
      , a = "__core-js_shared__"
      , o = i[a] || (i[a] = {});
    (t.exports = function(t, e) {
        return o[t] || (o[t] = void 0 !== e ? e : {})
    }
    )("versions", []).push({
        version: r.version,
        mode: n(93) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}
, function(t, e, n) {
    var r = n(60)
      , i = n(88)
      , a = n(54)("species");
    t.exports = function(t, e) {
        var n, o = r(t).constructor;
        return void 0 === o || null == (n = r(o)[a]) ? e : i(n)
    }
}
, function(t, e, n) {
    var r = n(110)
      , i = RegExp.prototype.exec;
    t.exports = function(t, e) {
        var n = t.exec;
        if ("function" == typeof n) {
            var a = n.call(t, e);
            if ("object" != typeof a)
                throw new TypeError("RegExp exec method returned something other than an Object or null");
            return a
        }
        if ("RegExp" !== r(t))
            throw new TypeError("RegExp#exec called on incompatible receiver");
        return i.call(t, e)
    }
}
, function(t, e, n) {
    n(183);
    var r = n(77)
      , i = n(76)
      , a = n(57)
      , o = n(90)
      , s = n(54)
      , u = n(134)
      , c = s("species")
      , l = !a((function() {
        var t = /./;
        return t.exec = function() {
            var t = [];
            return t.groups = {
                a: "7"
            },
            t
        }
        ,
        "7" !== "".replace(t, "$<a>")
    }
    ))
      , d = function() {
        var t = /(?:)/
          , e = t.exec;
        t.exec = function() {
            return e.apply(this, arguments)
        }
        ;
        var n = "ab".split(t);
        return 2 === n.length && "a" === n[0] && "b" === n[1]
    }();
    t.exports = function(t, e, n) {
        var f = s(t)
          , h = !a((function() {
            var e = {};
            return e[f] = function() {
                return 7
            }
            ,
            7 != ""[t](e)
        }
        ))
          , p = h ? !a((function() {
            var e = !1
              , n = /a/;
            return n.exec = function() {
                return e = !0,
                null
            }
            ,
            "split" === t && (n.constructor = {},
            n.constructor[c] = function() {
                return n
            }
            ),
            n[f](""),
            !e
        }
        )) : void 0;
        if (!h || !p || "replace" === t && !l || "split" === t && !d) {
            var v = /./[f]
              , g = n(o, f, ""[t], (function(t, e, n, r, i) {
                return e.exec === u ? h && !i ? {
                    done: !0,
                    value: v.call(e, n, r)
                } : {
                    done: !0,
                    value: t.call(n, e, r)
                } : {
                    done: !1
                }
            }
            ))
              , m = g[0]
              , y = g[1];
            r(String.prototype, t, m),
            i(RegExp.prototype, f, 2 == e ? function(t, e) {
                return y.call(t, this, e)
            }
            : function(t) {
                return y.call(t, this)
            }
            )
        }
    }
}
, function(t, e, n) {
    var r = n(60);
    t.exports = function() {
        var t = r(this)
          , e = "";
        return t.global && (e += "g"),
        t.ignoreCase && (e += "i"),
        t.multiline && (e += "m"),
        t.unicode && (e += "u"),
        t.sticky && (e += "y"),
        e
    }
}
, function(t, e, n) {
    var r = n(95);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
        return "String" == r(t) ? t.split("") : Object(t)
    }
}
, function(t, e, n) {
    var r = n(92)
      , i = n(66)
      , a = n(123);
    t.exports = function(t) {
        return function(e, n, o) {
            var s, u = r(e), c = i(u.length), l = a(o, c);
            if (t && n != n) {
                for (; c > l; )
                    if ((s = u[l++]) != s)
                        return !0
            } else
                for (; c > l; l++)
                    if ((t || l in u) && u[l] === n)
                        return t || l || 0;
            return !t && -1
        }
    }
}
, function(t, e, n) {
    var r = n(85)
      , i = Math.max
      , a = Math.min;
    t.exports = function(t, e) {
        return (t = r(t)) < 0 ? i(t + e, 0) : a(t, e)
    }
}
, function(t, e) {
    e.f = {}.propertyIsEnumerable
}
, function(t, e) {
    e.f = Object.getOwnPropertySymbols
}
, function(t, e, n) {
    var r = n(45);
    r(r.S, "Array", {
        isArray: n(135)
    })
}
, function(t, e, n) {
    n(141)("Uint8", 1, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    t.exports = function() {
        return function() {
            for (var t = ["ms", "moz", "webkit", "o"], e = 0; e < t.length && !window.requestAnimationFrame; ++e)
                window.requestAnimationFrame = window[t[e] + "RequestAnimationFrame"],
                window.cancelAnimationFrame = window[t[e] + "CancelAnimationFrame"] || window[t[e] + "CancelRequestAnimationFrame"]
        }(),
        {
            timer: 0,
            state: "stop",
            animations: [],
            add: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 60
                  , n = {
                    callback: t,
                    fps: e,
                    n: 60 / e,
                    param: arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                    i: 0
                };
                return this.animations.push(n),
                this.animations.length >= 1 && this.start(),
                this
            },
            getIndex: function(t) {
                for (var e = 0; e < this.animations.length; e++)
                    if (this.animations[e].callback === t)
                        return e;
                return -1
            },
            remove: function(t) {
                if (!(this.getIndex(t) < 0))
                    return this.deleteMap(t),
                    0 === this.animations.length && this.stop(),
                    this
            },
            deleteMap: function(t) {
                var e = this.getIndex(t)
                  , n = this.animations[e];
                for (var r in n)
                    delete n[r];
                this.animations.splice(e, 1)
            },
            start: function() {
                if ("start" !== this.state)
                    return this.state = "start",
                    this.tick(),
                    this
            },
            stop: function() {
                if ("stop" !== this.state)
                    return this.state = "stop",
                    cancelAnimationFrame(this.timer),
                    this
            },
            tick: function() {
                var t = this;
                this.timer = requestAnimationFrame((function() {
                    t.tick()
                }
                ));
                for (var e = 0; e < this.animations.length; e++) {
                    var n = this.animations[e]
                      , r = n.callback
                      , i = n.param;
                    n.i++,
                    n.i >= n.n && (r(i),
                    n.i = 0)
                }
            }
        }
    }()
}
, function(t, e, n) {
    var r = n(62)
      , i = n(53).document
      , a = r(i) && r(i.createElement);
    t.exports = function(t) {
        return a ? i.createElement(t) : {}
    }
}
, function(t, e) {
    t.exports = function(t, e, n, r) {
        if (!(t instanceof e) || void 0 !== r && r in t)
            throw TypeError(n + ": incorrect invocation!");
        return t
    }
}
, function(t, e, n) {
    var r = n(77);
    t.exports = function(t, e, n) {
        for (var i in e)
            r(t, i, e[i], n);
        return t
    }
}
, function(t, e, n) {
    var r = n(53)
      , i = n(65)
      , a = n(61)
      , o = n(54)("species");
    t.exports = function(t) {
        var e = r[t];
        a && e && !e[o] && i.f(e, o, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, function(t, e, n) {
    var r = n(158)(!0);
    t.exports = function(t, e, n) {
        return e + (n ? r(t, e).length : 1)
    }
}
, function(t, e, n) {
    var r, i, a = n(120), o = RegExp.prototype.exec, s = String.prototype.replace, u = o, c = (r = /a/,
    i = /b*/g,
    o.call(r, "a"),
    o.call(i, "a"),
    0 !== r.lastIndex || 0 !== i.lastIndex), l = void 0 !== /()??/.exec("")[1];
    (c || l) && (u = function(t) {
        var e, n, r, i, u = this;
        return l && (n = new RegExp("^" + u.source + "$(?!\\s)",a.call(u))),
        c && (e = u.lastIndex),
        r = o.call(u, t),
        c && r && (u.lastIndex = u.global ? r.index + r[0].length : e),
        l && r && r.length > 1 && s.call(r[0], n, (function() {
            for (i = 1; i < arguments.length - 2; i++)
                void 0 === arguments[i] && (r[i] = void 0)
        }
        )),
        r
    }
    ),
    t.exports = u
}
, function(t, e, n) {
    var r = n(95);
    t.exports = Array.isArray || function(t) {
        return "Array" == r(t)
    }
}
, function(t, e, n) {
    var r = n(116)("keys")
      , i = n(96);
    t.exports = function(t) {
        return r[t] || (r[t] = i(t))
    }
}
, function(t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}
, function(t, e, n) {
    var r = n(45)
      , i = n(57)
      , a = n(90)
      , o = /"/g
      , s = function(t, e, n, r) {
        var i = String(a(t))
          , s = "<" + e;
        return "" !== n && (s += " " + n + '="' + String(r).replace(o, "&quot;") + '"'),
        s + ">" + i + "</" + e + ">"
    };
    t.exports = function(t, e) {
        var n = {};
        n[t] = e(s),
        r(r.P + r.F * i((function() {
            var e = ""[t]('"');
            return e !== e.toLowerCase() || e.split('"').length > 3
        }
        )), "String", n)
    }
}
, function(t, e, n) {
    var r = n(62)
      , i = n(95)
      , a = n(54)("match");
    t.exports = function(t) {
        var e;
        return r(t) && (void 0 !== (e = t[a]) ? !!e : "RegExp" == i(t))
    }
}
, function(t, e, n) {
    var r = n(78)
      , i = n(123)
      , a = n(66);
    t.exports = function(t) {
        for (var e = r(this), n = a(e.length), o = arguments.length, s = i(o > 1 ? arguments[1] : void 0, n), u = o > 2 ? arguments[2] : void 0, c = void 0 === u ? n : i(u, n); c > s; )
            e[s++] = t;
        return e
    }
}
, function(t, e, n) {
    if (n(61)) {
        var r = n(93)
          , i = n(53)
          , a = n(57)
          , o = n(45)
          , s = n(166)
          , u = n(198)
          , c = n(94)
          , l = n(130)
          , d = n(104)
          , f = n(76)
          , h = n(131)
          , p = n(85)
          , v = n(66)
          , g = n(167)
          , m = n(123)
          , y = n(111)
          , b = n(84)
          , w = n(110)
          , x = n(62)
          , k = n(78)
          , _ = n(150)
          , O = n(106)
          , S = n(162)
          , P = n(98).f
          , C = n(151)
          , E = n(96)
          , j = n(54)
          , A = n(97)
          , I = n(122)
          , R = n(117)
          , T = n(28)
          , M = n(105)
          , D = n(157)
          , B = n(132)
          , U = n(140)
          , z = n(199)
          , L = n(65)
          , V = n(114)
          , F = L.f
          , N = V.f
          , H = i.RangeError
          , W = i.TypeError
          , G = i.Uint8Array
          , q = "ArrayBuffer"
          , Y = "SharedArrayBuffer"
          , Z = "BYTES_PER_ELEMENT"
          , J = Array.prototype
          , K = u.ArrayBuffer
          , $ = u.DataView
          , X = A(0)
          , Q = A(2)
          , tt = A(3)
          , et = A(4)
          , nt = A(5)
          , rt = A(6)
          , it = I(!0)
          , at = I(!1)
          , ot = T.values
          , st = T.keys
          , ut = T.entries
          , ct = J.lastIndexOf
          , lt = J.reduce
          , dt = J.reduceRight
          , ft = J.join
          , ht = J.sort
          , pt = J.slice
          , vt = J.toString
          , gt = J.toLocaleString
          , mt = j("iterator")
          , yt = j("toStringTag")
          , bt = E("typed_constructor")
          , wt = E("def_constructor")
          , xt = s.CONSTR
          , kt = s.TYPED
          , _t = s.VIEW
          , Ot = "Wrong length!"
          , St = A(1, (function(t, e) {
            return At(R(t, t[wt]), e)
        }
        ))
          , Pt = a((function() {
            return 1 === new G(new Uint16Array([1]).buffer)[0]
        }
        ))
          , Ct = !!G && !!G.prototype.set && a((function() {
            new G(1).set({})
        }
        ))
          , Et = function(t, e) {
            var n = p(t);
            if (n < 0 || n % e)
                throw H("Wrong offset!");
            return n
        }
          , jt = function(t) {
            if (x(t) && kt in t)
                return t;
            throw W(t + " is not a typed array!")
        }
          , At = function(t, e) {
            if (!x(t) || !(bt in t))
                throw W("It is not a typed array constructor!");
            return new t(e)
        }
          , It = function(t, e) {
            return Rt(R(t, t[wt]), e)
        }
          , Rt = function(t, e) {
            for (var n = 0, r = e.length, i = At(t, r); r > n; )
                i[n] = e[n++];
            return i
        }
          , Tt = function(t, e, n) {
            F(t, e, {
                get: function() {
                    return this._d[n]
                }
            })
        }
          , Mt = function(t) {
            var e, n, r, i, a, o, s = k(t), u = arguments.length, l = u > 1 ? arguments[1] : void 0, d = void 0 !== l, f = C(s);
            if (null != f && !_(f)) {
                for (o = f.call(s),
                r = [],
                e = 0; !(a = o.next()).done; e++)
                    r.push(a.value);
                s = r
            }
            for (d && u > 2 && (l = c(l, arguments[2], 2)),
            e = 0,
            n = v(s.length),
            i = At(this, n); n > e; e++)
                i[e] = d ? l(s[e], e) : s[e];
            return i
        }
          , Dt = function() {
            for (var t = 0, e = arguments.length, n = At(this, e); e > t; )
                n[t] = arguments[t++];
            return n
        }
          , Bt = !!G && a((function() {
            gt.call(new G(1))
        }
        ))
          , Ut = function() {
            return gt.apply(Bt ? pt.call(jt(this)) : jt(this), arguments)
        }
          , zt = {
            copyWithin: function(t, e) {
                return z.call(jt(this), t, e, arguments.length > 2 ? arguments[2] : void 0)
            },
            every: function(t) {
                return et(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            fill: function(t) {
                return U.apply(jt(this), arguments)
            },
            filter: function(t) {
                return It(this, Q(jt(this), t, arguments.length > 1 ? arguments[1] : void 0))
            },
            find: function(t) {
                return nt(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            findIndex: function(t) {
                return rt(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            forEach: function(t) {
                X(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            indexOf: function(t) {
                return at(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            includes: function(t) {
                return it(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            join: function(t) {
                return ft.apply(jt(this), arguments)
            },
            lastIndexOf: function(t) {
                return ct.apply(jt(this), arguments)
            },
            map: function(t) {
                return St(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            reduce: function(t) {
                return lt.apply(jt(this), arguments)
            },
            reduceRight: function(t) {
                return dt.apply(jt(this), arguments)
            },
            reverse: function() {
                for (var t, e = this, n = jt(e).length, r = Math.floor(n / 2), i = 0; i < r; )
                    t = e[i],
                    e[i++] = e[--n],
                    e[n] = t;
                return e
            },
            some: function(t) {
                return tt(jt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            sort: function(t) {
                return ht.call(jt(this), t)
            },
            subarray: function(t, e) {
                var n = jt(this)
                  , r = n.length
                  , i = m(t, r);
                return new (R(n, n[wt]))(n.buffer,n.byteOffset + i * n.BYTES_PER_ELEMENT,v((void 0 === e ? r : m(e, r)) - i))
            }
        }
          , Lt = function(t, e) {
            return It(this, pt.call(jt(this), t, e))
        }
          , Vt = function(t) {
            jt(this);
            var e = Et(arguments[1], 1)
              , n = this.length
              , r = k(t)
              , i = v(r.length)
              , a = 0;
            if (i + e > n)
                throw H(Ot);
            for (; a < i; )
                this[e + a] = r[a++]
        }
          , Ft = {
            entries: function() {
                return ut.call(jt(this))
            },
            keys: function() {
                return st.call(jt(this))
            },
            values: function() {
                return ot.call(jt(this))
            }
        }
          , Nt = function(t, e) {
            return x(t) && t[kt] && "symbol" != typeof e && e in t && String(+e) == String(e)
        }
          , Ht = function(t, e) {
            return Nt(t, e = y(e, !0)) ? d(2, t[e]) : N(t, e)
        }
          , Wt = function(t, e, n) {
            return !(Nt(t, e = y(e, !0)) && x(n) && b(n, "value")) || b(n, "get") || b(n, "set") || n.configurable || b(n, "writable") && !n.writable || b(n, "enumerable") && !n.enumerable ? F(t, e, n) : (t[e] = n.value,
            t)
        };
        xt || (V.f = Ht,
        L.f = Wt),
        o(o.S + o.F * !xt, "Object", {
            getOwnPropertyDescriptor: Ht,
            defineProperty: Wt
        }),
        a((function() {
            vt.call({})
        }
        )) && (vt = gt = function() {
            return ft.call(this)
        }
        );
        var Gt = h({}, zt);
        h(Gt, Ft),
        f(Gt, mt, Ft.values),
        h(Gt, {
            slice: Lt,
            set: Vt,
            constructor: function() {},
            toString: vt,
            toLocaleString: Ut
        }),
        Tt(Gt, "buffer", "b"),
        Tt(Gt, "byteOffset", "o"),
        Tt(Gt, "byteLength", "l"),
        Tt(Gt, "length", "e"),
        F(Gt, yt, {
            get: function() {
                return this[kt]
            }
        }),
        t.exports = function(t, e, n, u) {
            var c = t + ((u = !!u) ? "Clamped" : "") + "Array"
              , d = "get" + t
              , h = "set" + t
              , p = i[c]
              , m = p || {}
              , y = p && S(p)
              , b = !p || !s.ABV
              , k = {}
              , _ = p && p.prototype
              , C = function(t, n) {
                F(t, n, {
                    get: function() {
                        return function(t, n) {
                            var r = t._d;
                            return r.v[d](n * e + r.o, Pt)
                        }(this, n)
                    },
                    set: function(t) {
                        return function(t, n, r) {
                            var i = t._d;
                            u && (r = (r = Math.round(r)) < 0 ? 0 : r > 255 ? 255 : 255 & r),
                            i.v[h](n * e + i.o, r, Pt)
                        }(this, n, t)
                    },
                    enumerable: !0
                })
            };
            b ? (p = n((function(t, n, r, i) {
                l(t, p, c, "_d");
                var a, o, s, u, d = 0, h = 0;
                if (x(n)) {
                    if (!(n instanceof K || (u = w(n)) == q || u == Y))
                        return kt in n ? Rt(p, n) : Mt.call(p, n);
                    a = n,
                    h = Et(r, e);
                    var m = n.byteLength;
                    if (void 0 === i) {
                        if (m % e)
                            throw H(Ot);
                        if ((o = m - h) < 0)
                            throw H(Ot)
                    } else if ((o = v(i) * e) + h > m)
                        throw H(Ot);
                    s = o / e
                } else
                    s = g(n),
                    a = new K(o = s * e);
                for (f(t, "_d", {
                    b: a,
                    o: h,
                    l: o,
                    e: s,
                    v: new $(a)
                }); d < s; )
                    C(t, d++)
            }
            )),
            _ = p.prototype = O(Gt),
            f(_, "constructor", p)) : a((function() {
                p(1)
            }
            )) && a((function() {
                new p(-1)
            }
            )) && D((function(t) {
                new p,
                new p(null),
                new p(1.5),
                new p(t)
            }
            ), !0) || (p = n((function(t, n, r, i) {
                var a;
                return l(t, p, c),
                x(n) ? n instanceof K || (a = w(n)) == q || a == Y ? void 0 !== i ? new m(n,Et(r, e),i) : void 0 !== r ? new m(n,Et(r, e)) : new m(n) : kt in n ? Rt(p, n) : Mt.call(p, n) : new m(g(n))
            }
            )),
            X(y !== Function.prototype ? P(m).concat(P(y)) : P(m), (function(t) {
                t in p || f(p, t, m[t])
            }
            )),
            p.prototype = _,
            r || (_.constructor = p));
            var E = _[mt]
              , j = !!E && ("values" == E.name || null == E.name)
              , A = Ft.values;
            f(p, bt, !0),
            f(_, kt, c),
            f(_, _t, !0),
            f(_, wt, p),
            (u ? new p(1)[yt] == c : yt in _) || F(_, yt, {
                get: function() {
                    return c
                }
            }),
            k[c] = p,
            o(o.G + o.W + o.F * (p != m), k),
            o(o.S, c, {
                BYTES_PER_ELEMENT: e
            }),
            o(o.S + o.F * a((function() {
                m.of.call(p, 1)
            }
            )), c, {
                from: Mt,
                of: Dt
            }),
            Z in _ || f(_, Z, e),
            o(o.P, c, zt),
            B(c),
            o(o.P + o.F * Ct, c, {
                set: Vt
            }),
            o(o.P + o.F * !j, c, Ft),
            r || _.toString == vt || (_.toString = vt),
            o(o.P + o.F * a((function() {
                new p(1).slice()
            }
            )), c, {
                slice: Lt
            }),
            o(o.P + o.F * (a((function() {
                return [1, 2].toLocaleString() != new p([1, 2]).toLocaleString()
            }
            )) || !a((function() {
                _.toLocaleString.call([1, 2])
            }
            ))), c, {
                toLocaleString: Ut
            }),
            M[c] = j ? E : A,
            r || j || f(_, mt, A)
        }
    } else
        t.exports = function() {}
}
, function(t, e, n) {
    var r = n(62)
      , i = n(169).onFreeze;
    n(163)("freeze", (function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(60)
      , i = n(214)
      , a = n(118);
    n(119)("search", 1, (function(t, e, n, o) {
        return [function(n) {
            var r = t(this)
              , i = null == n ? void 0 : n[e];
            return void 0 !== i ? i.call(n, r) : new RegExp(n)[e](String(r))
        }
        , function(t) {
            var e = o(n, t, this);
            if (e.done)
                return e.value;
            var s = r(t)
              , u = String(this)
              , c = s.lastIndex;
            i(c, 0) || (s.lastIndex = 0);
            var l = a(s, u);
            return i(s.lastIndex, c) || (s.lastIndex = c),
            null === l ? -1 : l.index
        }
        ]
    }
    ))
}
, function(t, e, n) {
    var r = n(139)
      , i = n(90);
    t.exports = function(t, e, n) {
        if (r(e))
            throw TypeError("String#" + n + " doesn't accept regex!");
        return String(i(t))
    }
}
, function(t, e, n) {
    var r = n(54)("match");
    t.exports = function(t) {
        var e = /./;
        try {
            "/./"[t](e)
        } catch (n) {
            try {
                return e[r] = !1,
                !"/./"[t](e)
            } catch (t) {}
        }
        return !0
    }
}
, function(t, e, n) {
    var r = n(45)
      , i = n(66)
      , a = n(144)
      , o = "startsWith"
      , s = "".startsWith;
    r(r.P + r.F * n(145)(o), "String", {
        startsWith: function(t) {
            var e = a(this, t, o)
              , n = i(Math.min(arguments.length > 1 ? arguments[1] : void 0, e.length))
              , r = String(t);
            return s ? s.call(e, r, n) : e.slice(n, n + r.length) === r
        }
    })
}
, function(t, e, n) {
    var r = n(45);
    r(r.P, "String", {
        repeat: n(237)
    })
}
, function(t, e, n) {
    var r = n(45);
    r(r.S, "Object", {
        create: n(106)
    })
}
, function(t, e, n) {
    t.exports = !n(61) && !n(57)((function() {
        return 7 != Object.defineProperty(n(129)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    }
    ))
}
, function(t, e, n) {
    var r = n(105)
      , i = n(54)("iterator")
      , a = Array.prototype;
    t.exports = function(t) {
        return void 0 !== t && (r.Array === t || a[i] === t)
    }
}
, function(t, e, n) {
    var r = n(110)
      , i = n(54)("iterator")
      , a = n(105);
    t.exports = n(89).getIteratorMethod = function(t) {
        if (null != t)
            return t[i] || t["@@iterator"] || a[r(t)]
    }
}
, function(t, e, n) {
    var r, i, a, o = n(94), s = n(153), u = n(154), c = n(129), l = n(53), d = l.process, f = l.setImmediate, h = l.clearImmediate, p = l.MessageChannel, v = l.Dispatch, g = 0, m = {}, y = function() {
        var t = +this;
        if (m.hasOwnProperty(t)) {
            var e = m[t];
            delete m[t],
            e()
        }
    }, b = function(t) {
        y.call(t.data)
    };
    f && h || (f = function(t) {
        for (var e = [], n = 1; arguments.length > n; )
            e.push(arguments[n++]);
        return m[++g] = function() {
            s("function" == typeof t ? t : Function(t), e)
        }
        ,
        r(g),
        g
    }
    ,
    h = function(t) {
        delete m[t]
    }
    ,
    "process" == n(95)(d) ? r = function(t) {
        d.nextTick(o(y, t, 1))
    }
    : v && v.now ? r = function(t) {
        v.now(o(y, t, 1))
    }
    : p ? (a = (i = new p).port2,
    i.port1.onmessage = b,
    r = o(a.postMessage, a, 1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ? (r = function(t) {
        l.postMessage(t + "", "*")
    }
    ,
    l.addEventListener("message", b, !1)) : r = "onreadystatechange"in c("script") ? function(t) {
        u.appendChild(c("script")).onreadystatechange = function() {
            u.removeChild(this),
            y.call(t)
        }
    }
    : function(t) {
        setTimeout(o(y, t, 1), 0)
    }
    ),
    t.exports = {
        set: f,
        clear: h
    }
}
, function(t, e) {
    t.exports = function(t, e, n) {
        var r = void 0 === n;
        switch (e.length) {
        case 0:
            return r ? t() : t.call(n);
        case 1:
            return r ? t(e[0]) : t.call(n, e[0]);
        case 2:
            return r ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
        case 3:
            return r ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
        case 4:
            return r ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3])
        }
        return t.apply(n, e)
    }
}
, function(t, e, n) {
    var r = n(53).document;
    t.exports = r && r.documentElement
}
, function(t, e, n) {
    var r = n(88);
    function i(t) {
        var e, n;
        this.promise = new t((function(t, r) {
            if (void 0 !== e || void 0 !== n)
                throw TypeError("Bad Promise constructor");
            e = t,
            n = r
        }
        )),
        this.resolve = r(e),
        this.reject = r(n)
    }
    t.exports.f = function(t) {
        return new i(t)
    }
}
, function(t, e, n) {
    var r = n(60)
      , i = n(62)
      , a = n(155);
    t.exports = function(t, e) {
        if (r(t),
        i(e) && e.constructor === t)
            return e;
        var n = a.f(t);
        return (0,
        n.resolve)(e),
        n.promise
    }
}
, function(t, e, n) {
    var r = n(54)("iterator")
      , i = !1;
    try {
        var a = [7][r]();
        a.return = function() {
            i = !0
        }
        ,
        Array.from(a, (function() {
            throw 2
        }
        ))
    } catch (t) {}
    t.exports = function(t, e) {
        if (!e && !i)
            return !1;
        var n = !1;
        try {
            var a = [7]
              , o = a[r]();
            o.next = function() {
                return {
                    done: n = !0
                }
            }
            ,
            a[r] = function() {
                return o
            }
            ,
            t(a)
        } catch (t) {}
        return n
    }
}
, function(t, e, n) {
    var r = n(85)
      , i = n(90);
    t.exports = function(t) {
        return function(e, n) {
            var a, o, s = String(i(e)), u = r(n), c = s.length;
            return u < 0 || u >= c ? t ? "" : void 0 : (a = s.charCodeAt(u)) < 55296 || a > 56319 || u + 1 === c || (o = s.charCodeAt(u + 1)) < 56320 || o > 57343 ? t ? s.charAt(u) : a : t ? s.slice(u, u + 2) : o - 56320 + (a - 55296 << 10) + 65536
        }
    }
}
, function(t, e, n) {
    var r = n(93)
      , i = n(45)
      , a = n(77)
      , o = n(76)
      , s = n(105)
      , u = n(192)
      , c = n(112)
      , l = n(162)
      , d = n(54)("iterator")
      , f = !([].keys && "next"in [].keys())
      , h = "keys"
      , p = "values"
      , v = function() {
        return this
    };
    t.exports = function(t, e, n, g, m, y, b) {
        u(n, e, g);
        var w, x, k, _ = function(t) {
            if (!f && t in C)
                return C[t];
            switch (t) {
            case h:
            case p:
                return function() {
                    return new n(this,t)
                }
            }
            return function() {
                return new n(this,t)
            }
        }, O = e + " Iterator", S = m == p, P = !1, C = t.prototype, E = C[d] || C["@@iterator"] || m && C[m], j = E || _(m), A = m ? S ? _("entries") : j : void 0, I = "Array" == e && C.entries || E;
        if (I && (k = l(I.call(new t))) !== Object.prototype && k.next && (c(k, O, !0),
        r || "function" == typeof k[d] || o(k, d, v)),
        S && E && E.name !== p && (P = !0,
        j = function() {
            return E.call(this)
        }
        ),
        r && !b || !f && !P && C[d] || o(C, d, j),
        s[e] = j,
        s[O] = v,
        m)
            if (w = {
                values: S ? j : _(p),
                keys: y ? j : _(h),
                entries: A
            },
            b)
                for (x in w)
                    x in C || a(C, x, w[x]);
            else
                i(i.P + i.F * (f || P), e, w);
        return w
    }
}
, function(t, e, n) {
    var r = n(65)
      , i = n(60)
      , a = n(107);
    t.exports = n(61) ? Object.defineProperties : function(t, e) {
        i(t);
        for (var n, o = a(e), s = o.length, u = 0; s > u; )
            r.f(t, n = o[u++], e[n]);
        return t
    }
}
, function(t, e, n) {
    var r = n(84)
      , i = n(92)
      , a = n(122)(!1)
      , o = n(136)("IE_PROTO");
    t.exports = function(t, e) {
        var n, s = i(t), u = 0, c = [];
        for (n in s)
            n != o && r(s, n) && c.push(n);
        for (; e.length > u; )
            r(s, n = e[u++]) && (~a(c, n) || c.push(n));
        return c
    }
}
, function(t, e, n) {
    var r = n(84)
      , i = n(78)
      , a = n(136)("IE_PROTO")
      , o = Object.prototype;
    t.exports = Object.getPrototypeOf || function(t) {
        return t = i(t),
        r(t, a) ? t[a] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? o : null
    }
}
, function(t, e, n) {
    var r = n(45)
      , i = n(89)
      , a = n(57);
    t.exports = function(t, e) {
        var n = (i.Object || {})[t] || Object[t]
          , o = {};
        o[t] = e(n),
        r(r.S + r.F * a((function() {
            n(1)
        }
        )), "Object", o)
    }
}
, function(t, e, n) {
    var r = n(62)
      , i = n(193).set;
    t.exports = function(t, e, n) {
        var a, o = e.constructor;
        return o !== n && "function" == typeof o && (a = o.prototype) !== n.prototype && r(a) && i && i(t, a),
        t
    }
}
, function(t, e, n) {
    var r = n(45)
      , i = n(90)
      , a = n(57)
      , o = n(194)
      , s = "[" + o + "]"
      , u = RegExp("^" + s + s + "*")
      , c = RegExp(s + s + "*$")
      , l = function(t, e, n) {
        var i = {}
          , s = a((function() {
            return !!o[t]() || "​" != "​"[t]()
        }
        ))
          , u = i[t] = s ? e(d) : o[t];
        n && (i[n] = u),
        r(r.P + r.F * s, "String", i)
    }
      , d = l.trim = function(t, e) {
        return t = String(i(t)),
        1 & e && (t = t.replace(u, "")),
        2 & e && (t = t.replace(c, "")),
        t
    }
    ;
    t.exports = l
}
, function(t, e, n) {
    for (var r, i = n(53), a = n(76), o = n(96), s = o("typed_array"), u = o("view"), c = !(!i.ArrayBuffer || !i.DataView), l = c, d = 0, f = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); d < 9; )
        (r = i[f[d++]]) ? (a(r.prototype, s, !0),
        a(r.prototype, u, !0)) : l = !1;
    t.exports = {
        ABV: c,
        CONSTR: l,
        TYPED: s,
        VIEW: u
    }
}
, function(t, e, n) {
    var r = n(85)
      , i = n(66);
    t.exports = function(t) {
        if (void 0 === t)
            return 0;
        var e = r(t)
          , n = i(e);
        if (e !== n)
            throw RangeError("Wrong length!");
        return n
    }
}
, function(t, e, n) {
    n(141)("Uint8", 1, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ), !0)
}
, function(t, e, n) {
    var r = n(96)("meta")
      , i = n(62)
      , a = n(84)
      , o = n(65).f
      , s = 0
      , u = Object.isExtensible || function() {
        return !0
    }
      , c = !n(57)((function() {
        return u(Object.preventExtensions({}))
    }
    ))
      , l = function(t) {
        o(t, r, {
            value: {
                i: "O" + ++s,
                w: {}
            }
        })
    }
      , d = t.exports = {
        KEY: r,
        NEED: !1,
        fastKey: function(t, e) {
            if (!i(t))
                return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!a(t, r)) {
                if (!u(t))
                    return "F";
                if (!e)
                    return "E";
                l(t)
            }
            return t[r].i
        },
        getWeak: function(t, e) {
            if (!a(t, r)) {
                if (!u(t))
                    return !0;
                if (!e)
                    return !1;
                l(t)
            }
            return t[r].w
        },
        onFreeze: function(t) {
            return c && d.NEED && u(t) && !a(t, r) && l(t),
            t
        }
    }
}
, function(t, e, n) {
    e.f = n(54)
}
, function(t, e, n) {
    var r = n(88)
      , i = n(62)
      , a = n(153)
      , o = [].slice
      , s = {}
      , u = function(t, e, n) {
        if (!(e in s)) {
            for (var r = [], i = 0; i < e; i++)
                r[i] = "a[" + i + "]";
            s[e] = Function("F,a", "return new F(" + r.join(",") + ")")
        }
        return s[e](t, n)
    };
    t.exports = Function.bind || function(t) {
        var e = r(this)
          , n = o.call(arguments, 1)
          , s = function() {
            var r = n.concat(o.call(arguments));
            return this instanceof s ? u(e, r.length, r) : a(e, r, t)
        };
        return i(e.prototype) && (s.prototype = e.prototype),
        s
    }
}
, function(t, e, n) {
    t.exports = n.p + "7fbc0d53318c1752b34c3e59b40dc7e0.eot"
}
, function(t, e, n) {
    var r = n(45)
      , i = n(88)
      , a = n(78)
      , o = n(57)
      , s = [].sort
      , u = [1, 2, 3];
    r(r.P + r.F * (o((function() {
        u.sort(void 0)
    }
    )) || !o((function() {
        u.sort(null)
    }
    )) || !n(91)(s)), "Array", {
        sort: function(t) {
            return void 0 === t ? s.call(a(this)) : s.call(a(this), i(t))
        }
    })
}
, function(t, e, n) {
    t.exports = n(116)("native-function-to-string", Function.toString)
}
, function(t, e, n) {
    var r = n(94)
      , i = n(176)
      , a = n(150)
      , o = n(60)
      , s = n(66)
      , u = n(151)
      , c = {}
      , l = {};
    (e = t.exports = function(t, e, n, d, f) {
        var h, p, v, g, m = f ? function() {
            return t
        }
        : u(t), y = r(n, d, e ? 2 : 1), b = 0;
        if ("function" != typeof m)
            throw TypeError(t + " is not iterable!");
        if (a(m)) {
            for (h = s(t.length); h > b; b++)
                if ((g = e ? y(o(p = t[b])[0], p[1]) : y(t[b])) === c || g === l)
                    return g
        } else
            for (v = m.call(t); !(p = v.next()).done; )
                if ((g = i(v, y, p.value, e)) === c || g === l)
                    return g
    }
    ).BREAK = c,
    e.RETURN = l
}
, function(t, e, n) {
    var r = n(60);
    t.exports = function(t, e, n, i) {
        try {
            return i ? e(r(n)[0], n[1]) : e(n)
        } catch (e) {
            var a = t.return;
            throw void 0 !== a && r(a.call(t)),
            e
        }
    }
}
, function(t, e, n) {
    var r = n(53)
      , i = n(152).set
      , a = r.MutationObserver || r.WebKitMutationObserver
      , o = r.process
      , s = r.Promise
      , u = "process" == n(95)(o);
    t.exports = function() {
        var t, e, n, c = function() {
            var r, i;
            for (u && (r = o.domain) && r.exit(); t; ) {
                i = t.fn,
                t = t.next;
                try {
                    i()
                } catch (r) {
                    throw t ? n() : e = void 0,
                    r
                }
            }
            e = void 0,
            r && r.enter()
        };
        if (u)
            n = function() {
                o.nextTick(c)
            }
            ;
        else if (!a || r.navigator && r.navigator.standalone)
            if (s && s.resolve) {
                var l = s.resolve(void 0);
                n = function() {
                    l.then(c)
                }
            } else
                n = function() {
                    i.call(r, c)
                }
                ;
        else {
            var d = !0
              , f = document.createTextNode("");
            new a(c).observe(f, {
                characterData: !0
            }),
            n = function() {
                f.data = d = !d
            }
        }
        return function(r) {
            var i = {
                fn: r,
                next: void 0
            };
            e && (e.next = i),
            t || (t = i,
            n()),
            e = i
        }
    }
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}
, function(t, e, n) {
    var r = n(53).navigator;
    t.exports = r && r.userAgent || ""
}
, function(t, e) {
    t.exports = function(t) {
        if (Array.isArray(t)) {
            for (var e = 0, n = new Array(t.length); e < t.length; e++)
                n[e] = t[e];
            return n
        }
    }
}
, function(t, e) {
    t.exports = function(t) {
        if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t))
            return Array.from(t)
    }
}
, function(t, e) {
    t.exports = function() {
        throw new TypeError("Invalid attempt to spread non-iterable instance")
    }
}
, function(t, e, n) {
    var r = n(134);
    n(45)({
        target: "RegExp",
        proto: !0,
        forced: r !== /./.exec
    }, {
        exec: r
    })
}
, function(t, e, n) {
    var r = n(185);
    t.exports = function(t, e) {
        return new (r(t))(e)
    }
}
, function(t, e, n) {
    var r = n(62)
      , i = n(135)
      , a = n(54)("species");
    t.exports = function(t) {
        var e;
        return i(t) && ("function" != typeof (e = t.constructor) || e !== Array && !i(e.prototype) || (e = void 0),
        r(e) && null === (e = e[a]) && (e = void 0)),
        void 0 === e ? Array : e
    }
}
, function(t, e) {
    t.exports = function(t) {
        if (Array.isArray(t))
            return t
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        var n = []
          , r = !0
          , i = !1
          , a = void 0;
        try {
            for (var o, s = t[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value),
            !e || n.length !== e); r = !0)
                ;
        } catch (t) {
            i = !0,
            a = t
        } finally {
            try {
                r || null == s.return || s.return()
            } finally {
                if (i)
                    throw a
            }
        }
        return n
    }
}
, function(t, e) {
    t.exports = function() {
        throw new TypeError("Invalid attempt to destructure non-iterable instance")
    }
}
, function(t, e) {}
, function(t, e, n) {
    n(61) && "g" != /./g.flags && n(65).f(RegExp.prototype, "flags", {
        configurable: !0,
        get: n(120)
    })
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}
, function(t, e, n) {
    var r = n(106)
      , i = n(104)
      , a = n(112)
      , o = {};
    n(76)(o, n(54)("iterator"), (function() {
        return this
    }
    )),
    t.exports = function(t, e, n) {
        t.prototype = r(o, {
            next: i(1, n)
        }),
        a(t, e + " Iterator")
    }
}
, function(t, e, n) {
    var r = n(62)
      , i = n(60)
      , a = function(t, e) {
        if (i(t),
        !r(e) && null !== e)
            throw TypeError(e + ": can't set as prototype!")
    };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__"in {} ? function(t, e, r) {
            try {
                (r = n(94)(Function.call, n(114).f(Object.prototype, "__proto__").set, 2))(t, []),
                e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function(t, n) {
                return a(t, n),
                e ? t.__proto__ = n : r(t, n),
                t
            }
        }({}, !1) : void 0),
        check: a
    }
}
, function(t, e) {
    t.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"
}
, function(t, e, n) {
    n(138)("anchor", (function(t) {
        return function(e) {
            return t(this, "a", "name", e)
        }
    }
    ))
}
, function(t, e, n) {
    n(165)("trim", (function(t) {
        return function() {
            return t(this, 3)
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(61)
      , i = n(107)
      , a = n(125)
      , o = n(124)
      , s = n(78)
      , u = n(121)
      , c = Object.assign;
    t.exports = !c || n(57)((function() {
        var t = {}
          , e = {}
          , n = Symbol()
          , r = "abcdefghijklmnopqrst";
        return t[n] = 7,
        r.split("").forEach((function(t) {
            e[t] = t
        }
        )),
        7 != c({}, t)[n] || Object.keys(c({}, e)).join("") != r
    }
    )) ? function(t, e) {
        for (var n = s(t), c = arguments.length, l = 1, d = a.f, f = o.f; c > l; )
            for (var h, p = u(arguments[l++]), v = d ? i(p).concat(d(p)) : i(p), g = v.length, m = 0; g > m; )
                h = v[m++],
                r && !f.call(p, h) || (n[h] = p[h]);
        return n
    }
    : c
}
, function(t, e, n) {
    var r = n(53)
      , i = n(61)
      , a = n(93)
      , o = n(166)
      , s = n(76)
      , u = n(131)
      , c = n(57)
      , l = n(130)
      , d = n(85)
      , f = n(66)
      , h = n(167)
      , p = n(98).f
      , v = n(65).f
      , g = n(140)
      , m = n(112)
      , y = "ArrayBuffer"
      , b = "DataView"
      , w = "Wrong index!"
      , x = r.ArrayBuffer
      , k = r.DataView
      , _ = r.Math
      , O = r.RangeError
      , S = r.Infinity
      , P = x
      , C = _.abs
      , E = _.pow
      , j = _.floor
      , A = _.log
      , I = _.LN2
      , R = "buffer"
      , T = "byteLength"
      , M = "byteOffset"
      , D = i ? "_b" : R
      , B = i ? "_l" : T
      , U = i ? "_o" : M;
    function z(t, e, n) {
        var r, i, a, o = new Array(n), s = 8 * n - e - 1, u = (1 << s) - 1, c = u >> 1, l = 23 === e ? E(2, -24) - E(2, -77) : 0, d = 0, f = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for ((t = C(t)) != t || t === S ? (i = t != t ? 1 : 0,
        r = u) : (r = j(A(t) / I),
        t * (a = E(2, -r)) < 1 && (r--,
        a *= 2),
        (t += r + c >= 1 ? l / a : l * E(2, 1 - c)) * a >= 2 && (r++,
        a /= 2),
        r + c >= u ? (i = 0,
        r = u) : r + c >= 1 ? (i = (t * a - 1) * E(2, e),
        r += c) : (i = t * E(2, c - 1) * E(2, e),
        r = 0)); e >= 8; o[d++] = 255 & i,
        i /= 256,
        e -= 8)
            ;
        for (r = r << e | i,
        s += e; s > 0; o[d++] = 255 & r,
        r /= 256,
        s -= 8)
            ;
        return o[--d] |= 128 * f,
        o
    }
    function L(t, e, n) {
        var r, i = 8 * n - e - 1, a = (1 << i) - 1, o = a >> 1, s = i - 7, u = n - 1, c = t[u--], l = 127 & c;
        for (c >>= 7; s > 0; l = 256 * l + t[u],
        u--,
        s -= 8)
            ;
        for (r = l & (1 << -s) - 1,
        l >>= -s,
        s += e; s > 0; r = 256 * r + t[u],
        u--,
        s -= 8)
            ;
        if (0 === l)
            l = 1 - o;
        else {
            if (l === a)
                return r ? NaN : c ? -S : S;
            r += E(2, e),
            l -= o
        }
        return (c ? -1 : 1) * r * E(2, l - e)
    }
    function V(t) {
        return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0]
    }
    function F(t) {
        return [255 & t]
    }
    function N(t) {
        return [255 & t, t >> 8 & 255]
    }
    function H(t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
    }
    function W(t) {
        return z(t, 52, 8)
    }
    function G(t) {
        return z(t, 23, 4)
    }
    function q(t, e, n) {
        v(t.prototype, e, {
            get: function() {
                return this[n]
            }
        })
    }
    function Y(t, e, n, r) {
        var i = h(+n);
        if (i + e > t[B])
            throw O(w);
        var a = t[D]._b
          , o = i + t[U]
          , s = a.slice(o, o + e);
        return r ? s : s.reverse()
    }
    function Z(t, e, n, r, i, a) {
        var o = h(+n);
        if (o + e > t[B])
            throw O(w);
        for (var s = t[D]._b, u = o + t[U], c = r(+i), l = 0; l < e; l++)
            s[u + l] = c[a ? l : e - l - 1]
    }
    if (o.ABV) {
        if (!c((function() {
            x(1)
        }
        )) || !c((function() {
            new x(-1)
        }
        )) || c((function() {
            return new x,
            new x(1.5),
            new x(NaN),
            x.name != y
        }
        ))) {
            for (var J, K = (x = function(t) {
                return l(this, x),
                new P(h(t))
            }
            ).prototype = P.prototype, $ = p(P), X = 0; $.length > X; )
                (J = $[X++])in x || s(x, J, P[J]);
            a || (K.constructor = x)
        }
        var Q = new k(new x(2))
          , tt = k.prototype.setInt8;
        Q.setInt8(0, 2147483648),
        Q.setInt8(1, 2147483649),
        !Q.getInt8(0) && Q.getInt8(1) || u(k.prototype, {
            setInt8: function(t, e) {
                tt.call(this, t, e << 24 >> 24)
            },
            setUint8: function(t, e) {
                tt.call(this, t, e << 24 >> 24)
            }
        }, !0)
    } else
        x = function(t) {
            l(this, x, y);
            var e = h(t);
            this._b = g.call(new Array(e), 0),
            this[B] = e
        }
        ,
        k = function(t, e, n) {
            l(this, k, b),
            l(t, x, b);
            var r = t[B]
              , i = d(e);
            if (i < 0 || i > r)
                throw O("Wrong offset!");
            if (i + (n = void 0 === n ? r - i : f(n)) > r)
                throw O("Wrong length!");
            this[D] = t,
            this[U] = i,
            this[B] = n
        }
        ,
        i && (q(x, T, "_l"),
        q(k, R, "_b"),
        q(k, T, "_l"),
        q(k, M, "_o")),
        u(k.prototype, {
            getInt8: function(t) {
                return Y(this, 1, t)[0] << 24 >> 24
            },
            getUint8: function(t) {
                return Y(this, 1, t)[0]
            },
            getInt16: function(t) {
                var e = Y(this, 2, t, arguments[1]);
                return (e[1] << 8 | e[0]) << 16 >> 16
            },
            getUint16: function(t) {
                var e = Y(this, 2, t, arguments[1]);
                return e[1] << 8 | e[0]
            },
            getInt32: function(t) {
                return V(Y(this, 4, t, arguments[1]))
            },
            getUint32: function(t) {
                return V(Y(this, 4, t, arguments[1])) >>> 0
            },
            getFloat32: function(t) {
                return L(Y(this, 4, t, arguments[1]), 23, 4)
            },
            getFloat64: function(t) {
                return L(Y(this, 8, t, arguments[1]), 52, 8)
            },
            setInt8: function(t, e) {
                Z(this, 1, t, F, e)
            },
            setUint8: function(t, e) {
                Z(this, 1, t, F, e)
            },
            setInt16: function(t, e) {
                Z(this, 2, t, N, e, arguments[2])
            },
            setUint16: function(t, e) {
                Z(this, 2, t, N, e, arguments[2])
            },
            setInt32: function(t, e) {
                Z(this, 4, t, H, e, arguments[2])
            },
            setUint32: function(t, e) {
                Z(this, 4, t, H, e, arguments[2])
            },
            setFloat32: function(t, e) {
                Z(this, 4, t, G, e, arguments[2])
            },
            setFloat64: function(t, e) {
                Z(this, 8, t, W, e, arguments[2])
            }
        });
    m(x, y),
    m(k, b),
    s(k.prototype, o.VIEW, !0),
    e.ArrayBuffer = x,
    e.DataView = k
}
, function(t, e, n) {
    var r = n(78)
      , i = n(123)
      , a = n(66);
    t.exports = [].copyWithin || function(t, e) {
        var n = r(this)
          , o = a(n.length)
          , s = i(t, o)
          , u = i(e, o)
          , c = arguments.length > 2 ? arguments[2] : void 0
          , l = Math.min((void 0 === c ? o : i(c, o)) - u, o - s)
          , d = 1;
        for (u < s && s < u + l && (d = -1,
        u += l - 1,
        s += l - 1); l-- > 0; )
            u in n ? n[s] = n[u] : delete n[s],
            s += d,
            u += d;
        return n
    }
}
, function(t, e, n) {
    var r = n(88)
      , i = n(78)
      , a = n(121)
      , o = n(66);
    t.exports = function(t, e, n, s, u) {
        r(e);
        var c = i(t)
          , l = a(c)
          , d = o(c.length)
          , f = u ? d - 1 : 0
          , h = u ? -1 : 1;
        if (n < 2)
            for (; ; ) {
                if (f in l) {
                    s = l[f],
                    f += h;
                    break
                }
                if (f += h,
                u ? f < 0 : d <= f)
                    throw TypeError("Reduce of empty array with no initial value")
            }
        for (; u ? f >= 0 : d > f; f += h)
            f in l && (s = e(s, l[f], f, c));
        return s
    }
}
, function(t, e, n) {
    t.exports = function() {
        return new Worker(n.p + "a5cfcaafc1b35726f505.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return n(100)('!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=123)}([function(t,e,n){var r=n(95),i=n(96),a=n(97);t.exports=function(t){return r(t)||i(t)||a()}},function(t,e,n){var r=n(4),i=n(18),a=n(8),o=n(9),s=n(54),u=function(t,e,n){var c,f,l,h,d=t&u.F,p=t&u.G,g=t&u.S,v=t&u.P,_=t&u.B,b=p?r:g?r[e]||(r[e]={}):(r[e]||{}).prototype,m=p?i:i[e]||(i[e]={}),y=m.prototype||(m.prototype={});for(c in p&&(n=e),n)l=((f=!d&&b&&void 0!==b[c])?b:n)[c],h=_&&f?s(l,r):v&&"function"==typeof l?s(Function.call,l):l,b&&o(b,c,l,t&u.U),m[c]!=l&&a(m,c,h),v&&y[c]!=l&&(y[c]=l)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(26)("wks"),i=n(20),a=n(4).Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=r},function(t,e,n){t.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(6),i=n(52),a=n(38),o=Object.defineProperty;e.f=n(3)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(5),i=n(19);t.exports=n(3)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(4),i=n(8),a=n(14),o=n(20)("src"),s=n(80),u="toString",c=(""+s).split(u);n(18).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(a(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(a(n,o)||i(n,o,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(t,e,n){var r=n(39),i=n(29);t.exports=function(t){return r(i(t))}},function(t,e,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){var e,n,r,i,a,o;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)a=t[e],o.set(a,i),i+=a.length;return o}},o={arraySet:function(t,e,n,r,i){for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,a)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(29);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(57),i=n(41);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(21),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(44),i=n(98),a=n(45),o=n(10);t.exports=n(99)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(65),i={};i[n(2)("toStringTag")]="z",i+""!="[object z]"&&n(9)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(1),i=n(32)(0),a=n(33)([].forEach,!0);r(r.P+r.F*!a,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){t.exports=function(){var t=6e4,e=36e5,n="millisecond",r="second",i="minute",a="hour",o="day",s="week",u="month",c="quarter",f="year",l="date",h="Invalid Date",d=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,p=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},_={s:v,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),a=n-i<0,o=e.clone().add(r+(a?-1:1),u);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:f,w:s,d:o,D:l,h:a,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",m={};m[b]=g;var y=function(t){return t instanceof S},w=function t(e,n,r){var i;if(!e)return b;if("string"==typeof e){var a=e.toLowerCase();m[a]&&(i=a),n&&(m[a]=n,i=a);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var s=e.name;m[s]=e,i=s}return!r&&i&&(b=i),i||!r&&b},k=function(t,e){if(y(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},x=_;x.l=w,x.i=y,x.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function g(t){this.$L=w(t.locale,null,!0),this.parse(t)}var v=g.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return x},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(t,e){var n=k(t);return this.startOf(e)<=n&&n<=this.endOf(e)},v.isAfter=function(t,e){return k(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<k(t)},v.$g=function(t,e,n){return x.u(t)?this[e]:this.set(n,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,e){var n=this,c=!!x.u(e)||e,h=x.p(t),d=function(t,e){var r=x.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(o)},p=function(t,e){return x.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,v=this.$M,_=this.$D,b="set"+(this.$u?"UTC":"");switch(h){case f:return c?d(1,0):d(31,11);case u:return c?d(1,v):d(0,v+1);case s:var m=this.$locale().weekStart||0,y=(g<m?g+7:g)-m;return d(c?_-y:_+(6-y),v);case o:case l:return p(b+"Hours",0);case a:return p(b+"Minutes",1);case i:return p(b+"Seconds",2);case r:return p(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,e){var s,c=x.p(t),h="set"+(this.$u?"UTC":""),d=(s={},s[o]=h+"Date",s[l]=h+"Date",s[u]=h+"Month",s[f]=h+"FullYear",s[a]=h+"Hours",s[i]=h+"Minutes",s[r]=h+"Seconds",s[n]=h+"Milliseconds",s)[c],p=c===o?this.$D+(e-this.$W):e;if(c===u||c===f){var g=this.clone().set(l,1);g.$d[d](p),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[x.p(t)]()},v.add=function(n,c){var l,h=this;n=Number(n);var d=x.p(c),p=function(t){var e=k(h);return x.w(e.date(e.date()+Math.round(t*n)),h)};if(d===u)return this.set(u,this.$M+n);if(d===f)return this.set(f,this.$y+n);if(d===o)return p(1);if(d===s)return p(7);var g=(l={},l[i]=t,l[a]=e,l[r]=1e3,l)[d]||1,v=this.$d.getTime()+n*g;return x.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),a=this.$H,o=this.$m,s=this.$M,u=n.weekdays,c=n.months,f=function(t,n,i,a){return t&&(t[n]||t(e,r))||i[n].slice(0,a)},l=function(t){return x.s(a%12||12,t,"0")},d=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:x.s(s+1,2,"0"),MMM:f(n.monthsShort,s,c,3),MMMM:f(c,s),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:f(n.weekdaysMin,this.$W,u,2),ddd:f(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(a),HH:x.s(a,2,"0"),h:l(1),hh:l(2),a:d(a,o,!0),A:d(a,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:i};return r.replace(p,(function(t,e){return e||g[t]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,l,h){var d,p=x.p(l),g=k(n),v=(g.utcOffset()-this.utcOffset())*t,_=this-g,b=x.m(this,g);return b=(d={},d[f]=b/12,d[u]=b,d[c]=b/3,d[s]=(_-v)/6048e5,d[o]=(_-v)/864e5,d[a]=_/e,d[i]=_/t,d[r]=_/1e3,d)[p]||_,h?b:x.a(b)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return m[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},v.clone=function(){return x.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),O=S.prototype;return k.prototype=O,[["$ms",n],["$s",r],["$m",i],["$H",a],["$W",o],["$M",u],["$y",f],["$D",l]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,S,k),t.$i=!0),k},k.locale=w,k.isDayjs=y,k.unix=function(t){return k(1e3*t)},k.en=m[b],k.Ls=m,k.p={},k}()},function(t,e,n){var r=n(18),i=n(4),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(27)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(54),i=n(39),a=n(15),o=n(17),s=n(93);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,d=e||s;return function(e,s,p){for(var g,v,_=a(e),b=i(_),m=r(s,p,3),y=o(b.length),w=0,k=n?d(e,y):u?d(e,0):void 0;y>w;w++)if((h||w in b)&&(v=m(g=b[w],w,_),t))if(n)k[w]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:k.push(g)}else if(f)return!1;return l?-1:c||f?f:k}}},function(t,e,n){var r=n(7);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){for(var r=n(22),i=n(16),a=n(9),o=n(4),s=n(8),u=n(45),c=n(2),f=c("iterator"),l=c("toStringTag"),h=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),g=0;g<p.length;g++){var v,_=p[g],b=d[_],m=o[_],y=m&&m.prototype;if(y&&(y[f]||s(y,f,h),y[l]||s(y,l,_),u[_]=h,b))for(v in r)y[v]||a(y,v,r[v],!0)}},function(t,e,n){var r=n(15),i=n(16);n(102)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,e,n){var r=n(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(26)("keys"),i=n(20);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(57),i=n(41).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(5).f,i=n(14),a=n(2)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,n){var r=n(2)("unscopables"),i=Array.prototype;null==i[r]&&n(8)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports={}},function(t,e,n){n(103);var r=n(6),i=n(47),a=n(3),o="toString",s=/./.toString,u=function(t){n(9)(RegExp.prototype,o,t,!0)};n(7)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)})):s.name!=o&&u((function(){return s.call(this)}))},function(t,e,n){var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=Date.prototype,i="Invalid Date",a=r.toString,o=r.getTime;new Date(NaN)+""!=i&&n(9)(r,"toString",(function(){var t=o.call(this);return t==t?a.call(this):i}))},function(t,e,n){var r=n(104),i=n(6),a=n(105),o=n(66),s=n(17),u=n(67),c=n(50),f=n(7),l=Math.min,h=[].push,d=4294967295,p=!f((function(){RegExp(d,"y")}));n(68)("split",2,(function(t,e,n,f){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var a,o,s,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,p=void 0===e?d:e>>>0,g=new RegExp(t.source,f+"g");(a=c.call(g,i))&&!((o=g.lastIndex)>l&&(u.push(i.slice(l,a.index)),a.length>1&&a.index<i.length&&h.apply(u,a.slice(1)),s=a[0].length,l=o,u.length>=p));)g.lastIndex===a.index&&g.lastIndex++;return l===i.length?!s&&g.test("")||u.push(""):u.push(i.slice(l)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=f(g,t,this,e,g!==n);if(r.done)return r.value;var c=i(t),h=String(this),v=a(c,RegExp),_=c.unicode,b=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),m=new v(p?c:"^(?:"+c.source+")",b),y=void 0===e?d:e>>>0;if(0===y)return[];if(0===h.length)return null===u(m,h)?[h]:[];for(var w=0,k=0,x=[];k<h.length;){m.lastIndex=p?k:0;var S,O=u(m,p?h:h.slice(k));if(null===O||(S=l(s(m.lastIndex+(p?0:k)),h.length))===w)k=o(h,k,_);else{if(x.push(h.slice(w,k)),x.length===y)return x;for(var j=1;j<=O.length-1;j++)if(x.push(O[j]),x.length===y)return x;k=w=S}}return x.push(h.slice(w)),x}]}))},function(t,e,n){var r,i,a=n(47),o=RegExp.prototype.exec,s=String.prototype.replace,u=o,c=(r=/a/,i=/b*/g,o.call(r,"a"),o.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(u=function(t){var e,n,r,i,u=this;return f&&(n=new RegExp("^"+u.source+"$(?!\\\\s)",a.call(u))),c&&(e=u.lastIndex),r=o.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),f&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=u},function(t,e,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){t.exports=!n(3)&&!n(7)((function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(13),i=n(4).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(55);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(5),i=n(6),a=n(16);t.exports=n(3)?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),s=o.length,u=0;s>u;)r.f(t,n=o[u++],e[n]);return t}},function(t,e,n){var r=n(14),i=n(10),a=n(82)(!1),o=n(40)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var r=n(21),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):a(t,e)}},function(t,e,n){var r=n(31),i=n(19),a=n(10),o=n(38),s=n(14),u=n(52),c=Object.getOwnPropertyDescriptor;e.f=n(3)?c:function(t,e){if(t=a(t),e=o(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){e.f=n(2)},function(t,e,n){var r=n(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(6),i=n(56),a=n(41),o=n(40)("IE_PROTO"),s=function(){},u=function(){var t,e=n(53)("iframe"),r=a.length;for(e.style.display="none",n(90).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\\/script>"),t.close(),u=t.F;r--;)delete u.prototype[a[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(1),i=n(32)(1);r(r.P+r.F*!n(33)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(1),i=n(32)(5),a="find",o=!0;a in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(44)(a)},function(t,e,n){var r=n(28),i=n(2)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){var r=n(106)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(65),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){n(107);var r=n(9),i=n(8),a=n(7),o=n(29),s=n(2),u=n(50),c=s("species"),f=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=s(t),d=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=d?!a((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!e})):void 0;if(!d||!p||"replace"===t&&!f||"split"===t&&!l){var g=/./[h],v=n(o,h,""[t],(function(t,e,n,r,i){return e.exec===u?d&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),_=v[0],b=v[1];r(String.prototype,t,_),i(RegExp.prototype,h,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},function(t,e,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(108)})},function(t,e,n){var r=n(6),i=n(15),a=n(17),o=n(21),s=n(66),u=n(67),c=Math.max,f=Math.min,l=Math.floor,h=/\\$([$&`\']|\\d\\d?|<[^>]*>)/g,d=/\\$([$&`\']|\\d\\d?)/g;n(68)("replace",2,(function(t,e,n,p){return[function(r,i){var a=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var l=r(t),h=String(this),d="function"==typeof e;d||(e=String(e));var v=l.global;if(v){var _=l.unicode;l.lastIndex=0}for(var b=[];;){var m=u(l,h);if(null===m)break;if(b.push(m),!v)break;""===String(m[0])&&(l.lastIndex=s(h,a(l.lastIndex),_))}for(var y,w="",k=0,x=0;x<b.length;x++){m=b[x];for(var S=String(m[0]),O=c(f(o(m.index),h.length),0),j=[],A=1;A<m.length;A++)j.push(void 0===(y=m[A])?y:String(y));var E=m.groups;if(d){var z=[S].concat(j,O,h);void 0!==E&&z.push(E);var C=String(e.apply(void 0,z))}else C=g(S,h,O,j,E,e);O>=k&&(w+=h.slice(k,O)+C,k=O+S.length)}return w+h.slice(k)}];function g(t,e,r,a,o,s){var u=r+t.length,c=a.length,f=d;return void 0!==o&&(o=i(o),f=h),n.call(s,f,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"\'":return e.slice(u);case"<":s=o[i.slice(1,-1)];break;default:var f=+i;if(0===f)return n;if(f>c){var h=l(f/10);return 0===h?n:h<=c?void 0===a[h-1]?i.charAt(1):a[h-1]+i.charAt(1):n}s=a[f-1]}return void 0===s?"":s}))}}))},function(t,e,n){t.exports=function(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+e[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(t,e,n){var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var a=r,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},function(t,e,n){var r=n(11),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,e.string2buf=function(t){var e,n,i,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),o=0,a=0;o<u;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,a,s=e||t.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)c[r++]=i;else if((a=o[i])>4)c[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&t[n++],a--;a>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return u(c,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e}},function(t,e,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(110),i=Object.prototype.hasOwnProperty,a=Array.prototype.splice,o=Object.prototype.toString;function s(t){return o.call(t).slice(8,-1)}var u=Object.assign||function(t,e){return c(e).forEach((function(n){i.call(e,n)&&(t[n]=e[n])})),t},c="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function f(t){return Array.isArray(t)?u(t.constructor(t.length),t):"Map"===s(t)?new Map(t):"Set"===s(t)?new Set(t):t&&"object"==typeof t?u(Object.create(Object.getPrototypeOf(t)),t):t}var l=function(){function t(){this.commands=u({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var n=this,a="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(a)||r(!Array.isArray(a),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),r("object"==typeof a&&null!==a,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var o=t;return c(a).forEach((function(e){if(i.call(n.commands,e)){var r=t===o;o=n.commands[e](a[e],o,a,t),r&&n.isEquals(o,t)&&(o=t)}else{var u="Map"===s(t)?n.update(t.get(e),a[e]):n.update(t[e],a[e]),c="Map"===s(o)?o.get(e):o[e];n.isEquals(u,c)&&(void 0!==u||i.call(t,e))||(o===t&&(o=f(t)),"Map"===s(o)?o.set(e,u):o[e]=u)}})),o},t}();e.Context=l;var h={$push:function(t,e,n){return p(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return p(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,i){return function(t,e){r(Array.isArray(t),"Expected $splice target to be an array; got %s",t),v(e.$splice)}(e,n),t.forEach((function(t){v(t),e===i&&t.length&&(e=f(i)),a.apply(e,t)})),e},$set:function(t,e,n){return function(t){r(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}(n),t},$toggle:function(t,e){g(t,"$toggle");var n=t.length?f(e):e;return t.forEach((function(t){n[t]=!e[t]})),n},$unset:function(t,e,n,r){return g(t,"$unset"),t.forEach((function(t){Object.hasOwnProperty.call(e,t)&&(e===r&&(e=f(r)),delete e[t])})),e},$add:function(t,e,n,r){return _(e,"$add"),g(t,"$add"),"Map"===s(e)?t.forEach((function(t){var n=t[0],i=t[1];e===r&&e.get(n)!==i&&(e=f(r)),e.set(n,i)})):t.forEach((function(t){e!==r||e.has(t)||(e=f(r)),e.add(t)})),e},$remove:function(t,e,n,r){return _(e,"$remove"),g(t,"$remove"),t.forEach((function(t){e===r&&e.has(t)&&(e=f(r)),e.delete(t)})),e},$merge:function(t,e,n,i){var a,o;return a=e,r((o=t)&&"object"==typeof o,"update(): $merge expects a spec of type \'object\'; got %s",o),r(a&&"object"==typeof a,"update(): $merge expects a target of type \'object\'; got %s",a),c(t).forEach((function(n){t[n]!==e[n]&&(e===i&&(e=f(i)),e[n]=t[n])})),e},$apply:function(t,e){var n;return r("function"==typeof(n=t),"update(): expected spec of $apply to be a function; got %s.",n),t(e)}},d=new l;function p(t,e,n){r(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t),g(e[n],n)}function g(t,e){r(Array.isArray(t),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",e,t)}function v(t){r(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function _(t,e){var n=s(t);r("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",e,n)}e.isEquals=d.update.isEquals,e.extend=d.extend,e.default=d.update,e.default.default=t.exports=u(e.default,e)},function(t,e,n){var r={};(0,n(11).assign)(r,n(114),n(117),n(75)),t.exports=r},function(t,e,n){(function(n){var r,i;!function(e,n){t.exports=n(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:this,(function(n){var a=n.Base64,o="2.5.0",s;if(t.exports)try{s=eval("require(\'buffer\').Buffer")}catch(t){s=void 0}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(u),f=String.fromCharCode,l=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?f(192|e>>>6)+f(128|63&e):f(224|e>>>12&15)+f(128|e>>>6&63)+f(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return f(240|e>>>18&7)+f(128|e>>>12&63)+f(128|e>>>6&63)+f(128|63&e)},h=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g,d=function(t){return t.replace(h,l)},p=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[u.charAt(n>>>18),u.charAt(n>>>12&63),e>=2?"=":u.charAt(n>>>6&63),e>=1?"=":u.charAt(63&n)].join("")},g=n.btoa?function(t){return n.btoa(t)}:function(t){return t.replace(/[\\s\\S]{1,3}/g,p)},v=s?s.from&&Uint8Array&&s.from!==Uint8Array.from?function(t){return(t.constructor===s.constructor?t:s.from(t)).toString("base64")}:function(t){return(t.constructor===s.constructor?t:new s(t)).toString("base64")}:function(t){return g(d(t))},_=function(t,e){return e?v(String(t)).replace(/[+\\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,""):v(String(t))},b=function(t){return _(t,!0)},m=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),y=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return f(55296+(e>>>10))+f(56320+(1023&e));case 3:return f((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return f((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},w=function(t){return t.replace(m,y)},k=function(t){var e=t.length,n=e%4,r=(e>0?c[t.charAt(0)]<<18:0)|(e>1?c[t.charAt(1)]<<12:0)|(e>2?c[t.charAt(2)]<<6:0)|(e>3?c[t.charAt(3)]:0),i=[f(r>>>16),f(r>>>8&255),f(255&r)];return i.length-=[0,0,2,1][n],i.join("")},x=n.atob?function(t){return n.atob(t)}:function(t){return t.replace(/\\S{1,4}/g,k)},S=function(t){return x(String(t).replace(/[^A-Za-z0-9\\+\\/]/g,""))},O=s?s.from&&Uint8Array&&s.from!==Uint8Array.from?function(t){return(t.constructor===s.constructor?t:s.from(t,"base64")).toString()}:function(t){return(t.constructor===s.constructor?t:new s(t,"base64")).toString()}:function(t){return w(x(t))},j=function(t){return O(String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\\+\\/]/g,""))},A=function(){var t=n.Base64;return n.Base64=a,t};if(n.Base64={VERSION:o,atob:S,btoa:g,fromBase64:j,toBase64:_,utob:d,encode:_,encodeURI:b,btou:w,decode:j,noConflict:A,__buffer__:s},"function"==typeof Object.defineProperty){var E=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",E((function(){return j(this)}))),Object.defineProperty(String.prototype,"toBase64",E((function(t){return _(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",E((function(){return _(this,!0)})))}}return n.Meteor&&(Base64=n.Base64),t.exports?t.exports.Base64=n.Base64:(r=[],i=function(){return n.Base64}.apply(e,r),void 0===i||(t.exports=i)),{Base64:n.Base64}}))}).call(this,n(122))},function(t,e,n){var r=n(1);r(r.S+r.F*!n(3),"Object",{defineProperty:n(5).f})},function(t,e,n){t.exports=n(26)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(1);r(r.S+r.F*!n(3),"Object",{defineProperties:n(56)})},function(t,e,n){var r=n(10),i=n(17),a=n(58);t.exports=function(t){return function(e,n,o){var s,u=r(e),c=i(u.length),f=a(o,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(1),i=n(84),a=n(10),o=n(59),s=n(85);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),u=o.f,c=i(r),f={},l=0;c.length>l;)void 0!==(n=u(r,e=c[l++]))&&s(f,e,n);return f}})},function(t,e,n){var r=n(42),i=n(30),a=n(6),o=n(4).Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(5),i=n(19);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(4),i=n(14),a=n(3),o=n(1),s=n(9),u=n(87).KEY,c=n(7),f=n(26),l=n(43),h=n(20),d=n(2),p=n(60),g=n(88),v=n(89),_=n(61),b=n(6),m=n(13),y=n(15),w=n(10),k=n(38),x=n(19),S=n(62),O=n(91),j=n(59),A=n(30),E=n(5),z=n(16),C=j.f,$=E.f,M=O.f,D=r.Symbol,B=r.JSON,I=B&&B.stringify,P=d("_hidden"),T=d("toPrimitive"),U={}.propertyIsEnumerable,N=f("symbol-registry"),F=f("symbols"),R=f("op-symbols"),L=Object.prototype,Z="function"==typeof D&&!!A.f,H=r.QObject,V=!H||!H.prototype||!H.prototype.findChild,Y=a&&c((function(){return 7!=S($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=C(L,e);r&&delete L[e],$(t,e,n),r&&t!==L&&$(L,e,r)}:$,J=function(t){var e=F[t]=S(D.prototype);return e._k=t,e},K=Z&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},W=function(t,e,n){return t===L&&W(R,e,n),b(t),e=k(e,!0),b(n),i(F,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=S(n,{enumerable:x(0,!1)})):(i(t,P)||$(t,P,x(1,{})),t[P][e]=!0),Y(t,e,n)):$(t,e,n)},G=function(t,e){b(t);for(var n,r=v(e=w(e)),i=0,a=r.length;a>i;)W(t,n=r[i++],e[n]);return t},q=function(t){var e=U.call(this,t=k(t,!0));return!(this===L&&i(F,t)&&!i(R,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,P)&&this[P][t])||e)},Q=function(t,e){if(t=w(t),e=k(e,!0),t!==L||!i(F,e)||i(R,e)){var n=C(t,e);return!n||!i(F,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=M(w(t)),r=[],a=0;n.length>a;)i(F,e=n[a++])||e==P||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===L,r=M(n?R:w(t)),a=[],o=0;r.length>o;)!i(F,e=r[o++])||n&&!i(L,e)||a.push(F[e]);return a};Z||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(R,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),Y(this,t,x(1,n))};return a&&V&&Y(L,t,{configurable:!0,set:e}),J(t)}).prototype,"toString",(function(){return this._k})),j.f=Q,E.f=W,n(42).f=O.f=X,n(31).f=q,A.f=tt,a&&!n(27)&&s(L,"propertyIsEnumerable",q,!0),p.f=function(t){return J(d(t))}),o(o.G+o.W+o.F*!Z,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=z(d.store),it=0;rt.length>it;)g(rt[it++]);o(o.S+o.F*!Z,"Symbol",{for:function(t){return i(N,t+="")?N[t]:N[t]=D(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!Z,"Object",{create:function(t,e){return void 0===e?S(t):G(S(t),e)},defineProperty:W,defineProperties:G,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:tt});var at=c((function(){A.f(1)}));o(o.S+o.F*at,"Object",{getOwnPropertySymbols:function(t){return A.f(y(t))}}),B&&o(o.S+o.F*(!Z||c((function(){var t=D();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(m(e)||void 0!==t)&&!K(t))return _(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),r[1]=e,I.apply(B,r)}}),D.prototype[T]||n(8)(D.prototype,T,D.prototype.valueOf),l(D,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(20)("meta"),i=n(13),a=n(14),o=n(5).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(7)((function(){return u(Object.preventExtensions({}))})),f=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&l.NEED&&u(t)&&!a(t,r)&&f(t),t}}},function(t,e,n){var r=n(4),i=n(18),a=n(27),o=n(60),s=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(16),i=n(30),a=n(31);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var o,s=n(t),u=a.f,c=0;s.length>c;)u.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,n){var r=n(4).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(10),i=n(42).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(1),i=n(32)(2);r(r.P+r.F*!n(33)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(94);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(13),i=n(61),a=n(2)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(27),i=n(1),a=n(9),o=n(8),s=n(45),u=n(100),c=n(43),f=n(101),l=n(2)("iterator"),h=!([].keys&&"next"in[].keys()),d="keys",p="values",g=function(){return this};t.exports=function(t,e,n,v,_,b,m){u(n,e,v);var y,w,k,x=function(t){if(!h&&t in A)return A[t];switch(t){case d:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",O=_==p,j=!1,A=t.prototype,E=A[l]||A["@@iterator"]||_&&A[_],z=E||x(_),C=_?O?x("entries"):z:void 0,$="Array"==e&&A.entries||E;if($&&(k=f($.call(new t)))!==Object.prototype&&k.next&&(c(k,S,!0),r||"function"==typeof k[l]||o(k,l,g)),O&&E&&E.name!==p&&(j=!0,z=function(){return E.call(this)}),r&&!m||!h&&!j&&A[l]||o(A,l,z),s[e]=z,s[S]=g,_)if(y={values:O?z:x(p),keys:b?z:x(d),entries:C},m)for(w in y)w in A||a(A,w,y[w]);else i(i.P+i.F*(h||j),e,y);return y}},function(t,e,n){var r=n(62),i=n(19),a=n(43),o={};n(8)(o,n(2)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var r=n(14),i=n(15),a=n(40)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var r=n(1),i=n(18),a=n(7);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}},function(t,e,n){n(3)&&"g"!=/./g.flags&&n(5).f(RegExp.prototype,"flags",{configurable:!0,get:n(47)})},function(t,e,n){var r=n(13),i=n(28),a=n(2)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(6),i=n(55),a=n(2)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||null==(n=r(o)[a])?e:i(n)}},function(t,e,n){var r=n(21),i=n(29);t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},function(t,e,n){var r=n(50);n(1)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){var r=n(3),i=n(16),a=n(30),o=n(31),s=n(15),u=n(39),c=Object.assign;t.exports=!c||n(7)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=s(t),c=arguments.length,f=1,l=a.f,h=o.f;c>f;)for(var d,p=u(arguments[f++]),g=l?i(p).concat(l(p)):i(p),v=g.length,_=0;v>_;)d=g[_++],r&&!h.call(p,d)||(n[d]=p[d]);return n}:c},function(t,e,n){var r=n(5).f,i=Function.prototype,a=/^\\s*function ([^ (]*)/,o="name";o in i||n(3)&&r(i,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,n){t.exports=function(t,e,n,r,i,a,o,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],f=0;(u=new Error(e.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){var r=n(1);r(r.P,"Array",{fill:n(112)}),n(44)("fill")},function(t,e,n){var r=n(15),i=n(58),a=n(17);t.exports=function(t){for(var e=r(this),n=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(1),i=n(10),a=n(21),o=n(17),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(33)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=o(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,a(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(115),i=n(11),a=n(73),o=n(51),s=n(74),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(o[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,f)))throw new Error(o[n]);this._dict_set=!0}}function f(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}c.prototype.push=function(t,e){var n,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=c,e.deflate=f,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},function(t,e,n){var r,i=n(11),a=n(116),o=n(71),s=n(72),u=n(51),c=-2,f=258,l=262,h=103,d=113,p=666;function g(t,e){return t.msg=u[e],e}function v(t){return(t<<1)-(t>4?9:0)}function _(t){for(var e=t.length;--e>=0;)t[e]=0}function b(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function m(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,b(t.strm)}function y(t,e){t.pending_buf[t.pending++]=e}function w(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function k(t,e){var n,r,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-l?t.strstart-(t.w_size-l):0,c=t.window,h=t.w_mask,d=t.prev,p=t.strstart+f,g=c[a+o-1],v=c[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+o]===v&&c[n+o-1]===g&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<p);if(r=f-(p-a),a=p-f,r>o){if(t.match_start=e,o=r,r>=s)break;g=c[a+o-1],v=c[a+o]}}}while((e=d[e&h])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead}function x(t){var e,n,r,a,u,c,f,h,d,p,g=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-l)){i.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=g?r-g:0}while(--n);e=n=g;do{r=t.prev[--e],t.prev[e]=r>=g?r-g:0}while(--n);a+=g}if(0===t.strm.avail_in)break;if(c=t.strm,f=t.window,h=t.strstart+t.lookahead,d=a,p=void 0,(p=c.avail_in)>d&&(p=d),n=0===p?0:(c.avail_in-=p,i.arraySet(f,c.input,c.next_in,p,h),1===c.state.wrap?c.adler=o(c.adler,f,p,h):2===c.state.wrap&&(c.adler=s(c.adler,f,p,h)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<l&&0!==t.strm.avail_in)}function S(t,e){for(var n,r;;){if(t.lookahead<l){if(x(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-l&&(t.match_length=k(t,n)),t.match_length>=3)if(r=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function O(t,e){for(var n,r,i;;){if(t.lookahead<l){if(x(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-l&&(t.match_length=k(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(m(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=a._tr_tally(t,0,t.window[t.strstart-1]))&&m(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function j(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),_(this.dyn_ltree),_(this.dyn_dtree),_(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),_(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),_(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):g(t,c)}function z(t){var e,n=E(t);return 0===n&&((e=t.state).window_size=2*e.w_size,_(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function C(t,e,n,r,a,o){if(!t)return c;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||e<0||e>9||o<0||o>4)return g(t,c);8===r&&(r=9);var u=new A;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=n,z(t)}r=[new j(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(x(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,m(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-l&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(m(t,!1),t.strm.avail_out),1)})),new j(4,4,8,4,S),new j(4,5,16,8,S),new j(4,6,32,32,S),new j(4,4,16,16,O),new j(8,16,32,32,O),new j(8,16,128,128,O),new j(8,32,128,256,O),new j(32,128,258,1024,O),new j(32,258,258,4096,O)],e.deflateInit=function(t,e){return C(t,e,8,15,8,0)},e.deflateInit2=C,e.deflateReset=z,e.deflateResetKeep=E,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?c:(t.state.gzhead=e,0):c},e.deflate=function(t,e){var n,i,o,u;if(!t||!t.state||e>5||e<0)return t?g(t,c):c;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===p&&4!==e)return g(t,0===t.avail_out?-5:c);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,y(i,31),y(i,139),y(i,8),i.gzhead?(y(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),y(i,255&i.gzhead.time),y(i,i.gzhead.time>>8&255),y(i,i.gzhead.time>>16&255),y(i,i.gzhead.time>>24&255),y(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),y(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(y(i,255&i.gzhead.extra.length),y(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(y(i,0),y(i,0),y(i,0),y(i,0),y(i,0),y(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),y(i,3),i.status=d);else{var l=8+(i.w_bits-8<<4)<<8;l|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(l|=32),l+=31-l%31,i.status=d,w(i,l),0!==i.strstart&&(w(i,t.adler>>>16),w(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),b(t),o=i.pending,i.pending!==i.pending_buf_size));)y(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),b(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),b(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=h)}else i.status=h;if(i.status===h&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&b(t),i.pending+2<=i.pending_buf_size&&(y(i,255&t.adler),y(i,t.adler>>8&255),t.adler=0,i.status=d)):i.status=d),0!==i.pending){if(b(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&v(e)<=v(n)&&4!==e)return g(t,-5);if(i.status===p&&0!==t.avail_in)return g(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==p){var k=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(x(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=f){if(x(t),t.lookahead<=f&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=t.strstart+f;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=f-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==k&&4!==k||(i.status=p),1===k||3===k)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===k&&(1===e?a._tr_align(i):5!==e&&(a._tr_stored_block(i,0,0,!1),3===e&&(_(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),b(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(y(i,255&t.adler),y(i,t.adler>>8&255),y(i,t.adler>>16&255),y(i,t.adler>>24&255),y(i,255&t.total_in),y(i,t.total_in>>8&255),y(i,t.total_in>>16&255),y(i,t.total_in>>24&255)):(w(i,t.adler>>>16),w(i,65535&t.adler)),b(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==h&&e!==d&&e!==p?g(t,c):(t.state=null,e===d?g(t,-3):0):c},e.deflateSetDictionary=function(t,e){var n,r,a,s,u,f,l,h,d=e.length;if(!t||!t.state)return c;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return c;for(1===s&&(t.adler=o(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(_(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,e,d-n.w_size,n.w_size,0),e=h,d=n.w_size),u=t.avail_in,f=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,x(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=f,t.input=l,t.avail_in=u,n.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){var r=n(11);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var f=new Array(60);i(f);var l=new Array(512);i(l);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,g,v,_=new Array(30);function b(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function y(t){return t<256?l[t]:l[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function k(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function x(t,e,n){k(t,n[2*e],n[2*e+1])}function S(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function O(t,e,n){var r,i,a=new Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=S(a[s]++,s))}}function j(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function A(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function E(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]}function z(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&E(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!E(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function C(t,e,n){var r,i,s,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?x(t,i,e):(x(t,(s=h[i])+256+1,e),0!==(u=a[s])&&k(t,i-=d[s],u),x(t,s=y(--r),n),0!==(u=o[s])&&k(t,r-=_[s],u))}while(c<t.last_lit);x(t,256,e)}function $(t,e){var n,r,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)z(t,a,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],z(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,z(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,a,o,s,u=e.dyn_tree,c=e.max_code,f=e.stat_desc.static_tree,l=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(a=p,g++),u[2*r+1]=a,r>c||(t.bl_count[a]++,o=0,r>=d&&(o=h[r-d]),s=u[2*r],t.opt_len+=s*(a+o),l&&(t.static_len+=s*(f[2*r+1]+o)));if(0!==g){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(r=t.bl_count[a];0!==r;)(i=t.heap[--n])>c||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(t,e),O(a,c,t.bl_count)}function M(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++s<u&&i===o||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))}function D(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++s<u&&i===o)){if(s<c)do{x(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(x(t,i,t.bl_tree),s--),x(t,16,t.bl_tree),k(t,s-3,2)):s<=10?(x(t,17,t.bl_tree),k(t,s-3,3)):(x(t,18,t.bl_tree),k(t,s-11,7));s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}}i(_);var B=!1;function I(t,e,n,i){k(t,0+(i?1:0),3),function(t,e,n,i){A(t),w(t,n),w(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}e._tr_init=function(t){B||(function(){var t,e,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<a[r];t++)h[n++]=r;for(h[n-1]=r,i=0,r=0;r<16;r++)for(_[r]=i,t=0;t<1<<o[r];t++)l[i++]=r;for(i>>=7;r<30;r++)for(_[r]=i<<7,t=0;t<1<<o[r]-7;t++)l[256+i++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(O(c,287,u),t=0;t<30;t++)f[2*t+1]=5,f[2*t]=S(t,5);p=new b(c,a,257,286,15),g=new b(f,o,0,30,15),v=new b(new Array(0),s,0,19,7)}(),B=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,j(t)},e._tr_stored_block=I,e._tr_flush_block=function(t,e,n,r){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),$(t,t.l_desc),$(t,t.d_desc),o=function(t){var e;for(M(t,t.dyn_ltree,t.l_desc.max_code),M(t,t.dyn_dtree,t.d_desc.max_code),$(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?I(t,e,n,r):4===t.strategy||a===i?(k(t,2+(r?1:0),3),C(t,c,f)):(k(t,4+(r?1:0),3),function(t,e,n,r){var i;for(k(t,e-257,5),k(t,n-1,5),k(t,r-4,4),i=0;i<r;i++)k(t,t.bl_tree[2*u[i]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),C(t,t.dyn_ltree,t.dyn_dtree)),j(t),r&&A(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(h[n]+256+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){k(t,2,3),x(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){var r=n(118),i=n(11),a=n(73),o=n(75),s=n(51),u=n(74),c=n(121),f=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[n])}function h(t,e){var n=new l(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}l.prototype.push=function(t,e){var n,s,u,c,l,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?h.input=a.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(h.output,h.next_out),c=h.next_out-u,l=a.buf2string(h.output,u),h.next_out=c,h.avail_out=d-c,c&&i.arraySet(h.output,h.output,u,c,0),this.onData(l)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),h.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=l,e.inflate=h,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},e.ungzip=h},function(t,e,n){var r=n(11),i=n(71),a=n(72),o=n(119),s=n(120),u=-2,c=12,f=30;function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):u}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,d(t)):u}function g(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?u:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,p(t))):u}function v(t,e){var n,r;return t?(r=new h,t.state=r,r.window=null,0!==(n=g(t,e))&&(t.state=null),n):u}var _,b,m=!0;function y(t){if(m){var e;for(_=new r.Buf32(512),b=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,b,0,t.work,{bits:5}),m=!1}t.lencode=_,t.lenbits=9,t.distcode=b,t.distbits=5}function w(t,e,n,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,e,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}e.inflateReset=p,e.inflateReset2=g,e.inflateResetKeep=d,e.inflateInit=function(t){return v(t,15)},e.inflateInit2=v,e.inflate=function(t,e){var n,h,d,p,g,v,_,b,m,k,x,S,O,j,A,E,z,C,$,M,D,B,I,P,T=0,U=new r.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return u;(n=t.state).mode===c&&(n.mode=13),g=t.next_out,d=t.output,_=t.avail_out,p=t.next_in,h=t.input,v=t.avail_in,b=n.hold,m=n.bits,k=v,x=_,B=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(2&n.wrap&&35615===b){n.check=0,U[0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0),b=0,m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",n.mode=f;break}if(8!=(15&b)){t.msg="unknown compression method",n.mode=f;break}if(m-=4,D=8+(15&(b>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){t.msg="invalid window size",n.mode=f;break}n.dmax=1<<D,t.adler=n.check=1,n.mode=512&b?10:c,b=0,m=0;break;case 2:for(;m<16;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(n.flags=b,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=f;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=f;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0)),b=0,m=0,n.mode=3;case 3:for(;m<32;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}n.head&&(n.head.time=b),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,U[2]=b>>>16&255,U[3]=b>>>24&255,n.check=a(n.check,U,4,0)),b=0,m=0,n.mode=4;case 4:for(;m<16;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0)),b=0,m=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0)),b=0,m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>v&&(S=v),S&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,p,S,D)),512&n.flags&&(n.check=a(n.check,h,S,p)),v-=S,p+=S,n.length-=S),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break t;S=0;do{D=h[p+S++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D))}while(D&&S<v);if(512&n.flags&&(n.check=a(n.check,h,S,p)),v-=S,p+=S,D)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break t;S=0;do{D=h[p+S++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D))}while(D&&S<v);if(512&n.flags&&(n.check=a(n.check,h,S,p)),v-=S,p+=S,D)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(b!==(65535&n.check)){t.msg="header crc mismatch",n.mode=f;break}b=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=c;break;case 10:for(;m<32;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}t.adler=n.check=l(b),b=0,m=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=g,t.avail_out=_,t.next_in=p,t.avail_in=v,n.hold=b,n.bits=m,2;t.adler=n.check=1,n.mode=c;case c:if(5===e||6===e)break t;case 13:if(n.last){b>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}switch(n.last=1&b,m-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===e){b>>>=2,m-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=f}b>>>=2,m-=2;break;case 14:for(b>>>=7&m,m-=7&m;m<32;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",n.mode=f;break}if(n.length=65535&b,b=0,m=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(S=n.length){if(S>v&&(S=v),S>_&&(S=_),0===S)break t;r.arraySet(d,h,p,S,g),v-=S,p+=S,_-=S,g+=S,n.length-=S;break}n.mode=c;break;case 17:for(;m<14;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(n.nlen=257+(31&b),b>>>=5,m-=5,n.ndist=1+(31&b),b>>>=5,m-=5,n.ncode=4+(15&b),b>>>=4,m-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=f;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}n.lens[N[n.have++]]=7&b,b>>>=3,m-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},B=s(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,B){t.msg="invalid code lengths set",n.mode=f;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(T=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,z=65535&T,!((A=T>>>24)<=m);){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(z<16)b>>>=A,m-=A,n.lens[n.have++]=z;else{if(16===z){for(P=A+2;m<P;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(b>>>=A,m-=A,0===n.have){t.msg="invalid bit length repeat",n.mode=f;break}D=n.lens[n.have-1],S=3+(3&b),b>>>=2,m-=2}else if(17===z){for(P=A+3;m<P;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}m-=A,D=0,S=3+(7&(b>>>=A)),b>>>=3,m-=3}else{for(P=A+7;m<P;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}m-=A,D=0,S=11+(127&(b>>>=A)),b>>>=7,m-=7}if(n.have+S>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=f;break}for(;S--;)n.lens[n.have++]=D}}if(n.mode===f)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=f;break}if(n.lenbits=9,I={bits:n.lenbits},B=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,B){t.msg="invalid literal/lengths set",n.mode=f;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},B=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,B){t.msg="invalid distances set",n.mode=f;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(v>=6&&_>=258){t.next_out=g,t.avail_out=_,t.next_in=p,t.avail_in=v,n.hold=b,n.bits=m,o(t,x),g=t.next_out,d=t.output,_=t.avail_out,p=t.next_in,h=t.input,v=t.avail_in,b=n.hold,m=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;E=(T=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,z=65535&T,!((A=T>>>24)<=m);){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(E&&0==(240&E)){for(C=A,$=E,M=z;E=(T=n.lencode[M+((b&(1<<C+$)-1)>>C)])>>>16&255,z=65535&T,!(C+(A=T>>>24)<=m);){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}b>>>=C,m-=C,n.back+=C}if(b>>>=A,m-=A,n.back+=A,n.length=z,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=c;break}if(64&E){t.msg="invalid literal/length code",n.mode=f;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(P=n.extra;m<P;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(T=n.distcode[b&(1<<n.distbits)-1])>>>16&255,z=65535&T,!((A=T>>>24)<=m);){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(0==(240&E)){for(C=A,$=E,M=z;E=(T=n.distcode[M+((b&(1<<C+$)-1)>>C)])>>>16&255,z=65535&T,!(C+(A=T>>>24)<=m);){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}b>>>=C,m-=C,n.back+=C}if(b>>>=A,m-=A,n.back+=A,64&E){t.msg="invalid distance code",n.mode=f;break}n.offset=z,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(P=n.extra;m<P;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=f;break}n.mode=25;case 25:if(0===_)break t;if(S=x-_,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=f;break}S>n.wnext?(S-=n.wnext,O=n.wsize-S):O=n.wnext-S,S>n.length&&(S=n.length),j=n.window}else j=d,O=g-n.offset,S=n.length;S>_&&(S=_),_-=S,n.length-=S;do{d[g++]=j[O++]}while(--S);0===n.length&&(n.mode=21);break;case 26:if(0===_)break t;d[g++]=n.length,_--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===v)break t;v--,b|=h[p++]<<m,m+=8}if(x-=_,t.total_out+=x,n.total+=x,x&&(t.adler=n.check=n.flags?a(n.check,d,x,g-x):i(n.check,d,x,g-x)),x=_,(n.flags?b:l(b))!==n.check){t.msg="incorrect data check",n.mode=f;break}b=0,m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===v)break t;v--,b+=h[p++]<<m,m+=8}if(b!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=f;break}b=0,m=0}n.mode=29;case 29:B=1;break t;case f:B=-3;break t;case 31:return-4;case 32:default:return u}return t.next_out=g,t.avail_out=_,t.next_in=p,t.avail_in=v,n.hold=b,n.bits=m,(n.wsize||x!==t.avail_out&&n.mode<f&&(n.mode<27||4!==e))&&w(t,t.output,t.next_out,x-t.avail_out)?(n.mode=31,-4):(k-=t.avail_in,x-=t.avail_out,t.total_in+=k,t.total_out+=x,n.total+=x,n.wrap&&x&&(t.adler=n.check=n.flags?a(n.check,d,x,t.next_out-x):i(n.check,d,x,t.next_out-x)),t.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===x||4===e)&&0===B&&(B=-5),B)},e.inflateEnd=function(t){if(!t||!t.state)return u;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?u:(n.head=e,e.done=!1,0):u},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,e,r,0)!==n.check?-3:w(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){t.exports=function(t,e){var n,r,i,a,o,s,u,c,f,l,h,d,p,g,v,_,b,m,y,w,k,x,S,O,j;n=t.state,r=t.next_in,O=t.input,i=r+(t.avail_in-5),a=t.next_out,j=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=n.dmax,c=n.wsize,f=n.whave,l=n.wnext,h=n.window,d=n.hold,p=n.bits,g=n.lencode,v=n.distcode,_=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{p<15&&(d+=O[r++]<<p,p+=8,d+=O[r++]<<p,p+=8),m=g[d&_];e:for(;;){if(d>>>=y=m>>>24,p-=y,0==(y=m>>>16&255))j[a++]=65535&m;else{if(!(16&y)){if(0==(64&y)){m=g[(65535&m)+(d&(1<<y)-1)];continue e}if(32&y){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&m,(y&=15)&&(p<y&&(d+=O[r++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=O[r++]<<p,p+=8,d+=O[r++]<<p,p+=8),m=v[d&b];n:for(;;){if(d>>>=y=m>>>24,p-=y,!(16&(y=m>>>16&255))){if(0==(64&y)){m=v[(65535&m)+(d&(1<<y)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&m,p<(y&=15)&&(d+=O[r++]<<p,(p+=8)<y&&(d+=O[r++]<<p,p+=8)),(k+=d&(1<<y)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=y,p-=y,k>(y=a-o)){if((y=k-y)>f&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(x=0,S=h,0===l){if(x+=c-y,y<w){w-=y;do{j[a++]=h[x++]}while(--y);x=a-k,S=j}}else if(l<y){if(x+=c+l-y,(y-=l)<w){w-=y;do{j[a++]=h[x++]}while(--y);if(x=0,l<w){w-=y=l;do{j[a++]=h[x++]}while(--y);x=a-k,S=j}}}else if(x+=l-y,y<w){w-=y;do{j[a++]=h[x++]}while(--y);x=a-k,S=j}for(;w>2;)j[a++]=S[x++],j[a++]=S[x++],j[a++]=S[x++],w-=3;w&&(j[a++]=S[x++],w>1&&(j[a++]=S[x++]))}else{x=a-k;do{j[a++]=j[x++],j[a++]=j[x++],j[a++]=j[x++],w-=3}while(w>2);w&&(j[a++]=j[x++],w>1&&(j[a++]=j[x++]))}break}}break}}while(r<i&&a<s);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=p}},function(t,e,n){var r=n(11),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,c,f,l,h){var d,p,g,v,_,b,m,y,w,k=h.bits,x=0,S=0,O=0,j=0,A=0,E=0,z=0,C=0,$=0,M=0,D=null,B=0,I=new r.Buf16(16),P=new r.Buf16(16),T=null,U=0;for(x=0;x<=15;x++)I[x]=0;for(S=0;S<u;S++)I[e[n+S]]++;for(A=k,j=15;j>=1&&0===I[j];j--);if(A>j&&(A=j),0===j)return c[f++]=20971520,c[f++]=20971520,h.bits=1,0;for(O=1;O<j&&0===I[O];O++);for(A<O&&(A=O),C=1,x=1;x<=15;x++)if(C<<=1,(C-=I[x])<0)return-1;if(C>0&&(0===t||1!==j))return-1;for(P[1]=0,x=1;x<15;x++)P[x+1]=P[x]+I[x];for(S=0;S<u;S++)0!==e[n+S]&&(l[P[e[n+S]]++]=S);if(0===t?(D=T=l,b=19):1===t?(D=i,B-=257,T=a,U-=257,b=256):(D=o,T=s,b=-1),M=0,S=0,x=O,_=f,E=A,z=0,g=-1,v=($=1<<A)-1,1===t&&$>852||2===t&&$>592)return 1;for(;;){m=x-z,l[S]<b?(y=0,w=l[S]):l[S]>b?(y=T[U+l[S]],w=D[B+l[S]]):(y=96,w=0),d=1<<x-z,O=p=1<<E;do{c[_+(M>>z)+(p-=d)]=m<<24|y<<16|w|0}while(0!==p);for(d=1<<x-1;M&d;)d>>=1;if(0!==d?(M&=d-1,M+=d):M=0,S++,0==--I[x]){if(x===j)break;x=e[n+l[S]]}if(x>A&&(M&v)!==g){for(0===z&&(z=A),_+=O,C=1<<(E=x-z);E+z<j&&!((C-=I[E+z])<=0);)E++,C<<=1;if($+=1<<E,1===t&&$>852||2===t&&$>592)return 1;c[g=M&v]=A<<24|E<<16|_-f|0}}return 0!==M&&(c[_+M]=x-z<<24|64<<16|0),h.bits=A,0}},function(t,e,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){n.r(e),n(79),n(81),n(83),n(86),n(92);var r=n(0),i=n.n(r),a=n(12),o=n.n(a),s=(n(63),n(34),n(22),n(35),n(64),n(46),n(48),n(23),n(24),n(49),n(69),n(36)),u=n.n(s),c=n(37),f=n.n(c),l=(n(109),n(76),Math.random),h=function(){function t(t){if(t<0||t>53)return NaN;var e=0|1073741824*l();return t>30?e+1073741824*(0|l()*(1<<t-30)):e>>>30-t}function e(t,e){for(var n=t.toString(16),r=e-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}return function(){var n=t,r=e;return r(n(32),8)+"-"+r(n(16),4)+"-"+r(16384|n(12),4)+"-"+r(32768|n(14),4)+"-"+r(n(48),12)}}(),d=(n(70),"re8e".replace(/\\d/,"plac")),p="fro1ode"[d]("1","mCharC"),g="j2n"[d]("2","oi"),v="re0se"[d]("0","ver"),_=("s1t"[d]("1","pli"),"4ap"[d]("4","m")),b=("ch9t"[d]("9","arCodeA"),function(t){return t[_]((function(t){return String[p](t)}))[g]("")}),m=String[p];function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[v](),t=t[_]((function(t){return t+e})),b(t)}y([0,11,20,15,10,15,10,13,11],101),y([1,0,1],111),y([15,12,17,0,18,15,17,16,11,12,0],99),y([37,23,31,19,0,43,38,36,23,34,33,36,2,32,41,1,38,23,25],78),y([9,0,3,15],101),y([48,40,49,29,34,33,0,48,42,33,50,33,46,44],68),y([16,3,5,5,19,0,3,2],98),y([0,8,5],103),y([20,27,22,31,33,0,28,33],83),y([69,68,79,67,0,69,86,73,84,65,78],32),y([7,2,17,0,4,18],97);var w,k=y([2,0,18,1,2,15],99),x=(y([7,2,19,0,12],97),y([43,43,0,39,34,51,32,44],65),y([4,4,11,11,0,2],97),y([11,0,3,7,10],105),y([5,0,6,1],105),y([4,2,0,11,15,4,17],97),y([15,0,12],97)),S=(y([34,33,44,0,47,30,37,0,42,44,47,35],67),y([51,0,36,35,46,2,49,32,39,34],65)),O=(y([32,33,27,17,25,21,0,32,17,31],84),y([40,41,35,46,29,40,47,0],70),y([35,24,45,41,28,43,37,0,43,28,42],73),y([17,0,4,11,2],97),y([11,0,21,4],97),y([12,14,3,13,0,17],97),y([11,11,0,2],97),y([24,11,15,15,0],97),y([2,12,7,0],98),y([16,2,1,18,9,0,11,6],99),y([0,8,10,14],101),y([20,13,0,17,0],101),y([6,0],115),y([2,0,6,9,16],99),y([3,15,2,9,0,7],101),y([23,0,22,38,29,18,39],79),y([23,0,41,22,21,31,26],79),y([4,18,17,0,15],97),y([0,54,65,48],49),y([0,53,64,47],50),y([18,6,17,0],97),y([11,0,5,0],105),y([4,20,11,0,21],97),y([18,4,20,11,0,21],97),y([0,11,20,15],101),y([11,0,17,4,19,8,11],97),y([9,10,4,14,14,0,13,11,19,0],101),y([14,15,9,0,17,0],101),y([15,31,22,11,0,35,11,26],86),y([15,31,22,11,0,14,15,32,11,29],86),y([15,31,22,11,0,34,15,14,24,19],86)),j=(y([8,0,15,14,20,14],101),y([15,31,22,11,0,23,15,30,29,35,29],86)),A=(y([4,6,13,0,17],97),y([2,0,11,2,15,2,3,2,15],99),y([0,7,2,11,13,12],103),y([15,31,22,11,0,17,24,19,28,30,29],86),y([15,31,22,11,0,30,29,19,22],86),y([4,6,0,17,4,21,0],97),y([13,8,0,19,13,14,2],97),y([17,16,11,12,0],99),y([24,13,32,27,0,26,21,27,15],84),y([24,13,32,27,0,30,13,32,31],84),y([12,13,7,18,19,0,7,16,18,12,13,1],98),y([35,33,44,31,42,31,0,44,39,45,33,56],66),y([31,32,17,23,15,21,0,25],84),y([24,13,32,27,0,17,24,27,30],84),y([24,13,32,27,0,17,30,13,20,31],84),y([53,29,0,33,46,29,36,47],68),y([18,13,0,5],97),y([0,5,17],100),y([35,33,44,31,42,31,0,44,39,45,33],66),y([3,4,19,8,17,14,21,0,5],97),y([0,1,18,14,1,15,1,14],100),y([0,1,19,11,8,8,11,2],100),y([15,31,22,11,0,30,15,29],86),y([24,0,15],97),y([17,11,2,17,11,12,0],99),y([2,1,12,0],99),y([38,29,37,0,48,24,39],73),function(t,e,n,r){!t||r[t]&&("spine"!==e||r[t])||(n.push({url:t,type:e}),r[t]=e)}),E=[h(),h()];w={},o()(w,E[0],null),o()(w,E[1],null);var z={},C=function(){function t(){u()(this,t)}return f()(t,null,[{key:"getAssets",value:function(t){var e={},n=[],r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image";return A(t,r,n,e)},i=t.cover||{},a=i.music,o=i.background;return a&&r(a.url,"audio"),o&&r(o.url),n}},{key:"getFirstChapter",value:function(t){return function t(e){for(var n=e.length,r=0;r<n;r++){var i=e[r],a=i.plots,o=void 0===a?[]:a,s=i.md5;if(o.length||s)return i;if(i.subchapters.length){var u=t(i.subchapters);if(u)return u}}}(t.chapters)}},{key:"getChapterByUUID",value:function(e,n){var r={};return e.chapters.forEach((function t(e){r[e.uuid]=e,e.subchapters.length>0&&e.subchapters.forEach((function(t){return t.parentChapterUuid=e.uuid})),(e.subchapters||[]).forEach(t)})),t.getChapterByUUID=function(t,e){return r[e]},t.getChapterByUUID(e,n)}},{key:"getRecordChapterNameByUUID",value:function(e,n){if(!n)return"";var r=t.getChapterByUUID(e,n),i="";if(r)if(r.parentChapterUuid){var a=t.getChapterByUUID(e,r.parentChapterUuid);i=a?a.name+"-"+r.name:r.name}else i=r.name;return i}},{key:"fix",value:function(t){if(t.valueVer)return t;var e=j+"s";return t[e]=t[e]||[],t[e]=t[e][x]((function(n,r){return t[e][r]?Object.assign({},n,t[e][r]):n})),t[e=O+"s"]=t[e]||[],t}},{key:"getJumpAndInsertChapterUuids",value:function(t){var e={},n=function t(n){for(var r=0,i=n.length;r<i;r++){var a=n[r],o=a.type,s=a.args;if("insert"===o||"jump"===o)e[s[0]]=o;else if("options"===o||"conditionOptions"===o)for(var u=0,c=s.length;u<c;u++)t(s[u].commands)}};return function t(r){for(var i=0,a=r.length;i<a;i++){var o=r[i],s=o.jump,u=o.insert,c=o.commands,f=o.options,l=void 0===f?[]:f,h=o.condition_options,d=void 0===h?[]:h;if(c)n(c);else{s&&(e[s]="jump"),u&&(e[u]="insert");for(var p=0,g=l.length;p<g;p++)t(l[p].plots);for(var v=0,_=d.length;v<_;v++)t(d[v].plots)}}}(t.plots),Object.keys(e)}},{key:"getChapterRefMap",value:function(t){var e=t.chapter,n=t.plots,r=t.commands,i=t.mark,a={},o=!i,s=function(t){return o&&(a[t]=(a[t]||0)+1)},u=function t(e){for(var n=0,r=e.length;n<r;n++){var a=e[n],u=a.type,c=a.args,f=a.uuid;if(i&&!o&&(o=i===f),"insert"===u||"jump"===u)s(c[0]);else if("options"===u||"conditionOptions"===u)for(var l=0,h=c.length;l<h;l++)t(c[l].commands)}},c=function t(e){for(var n=0,r=e.length;n<r;n++){var a=e[n],c=a.uuid,f=a.jump,l=a.insert,h=a.commands,d=a.options,p=void 0===d?[]:d,g=a.condition_options,v=void 0===g?[]:g;if(i&&!o&&(o=i===c),h)u(h);else{f&&s(f),l&&s(l);for(var _=0,b=p.length;_<b;_++)t(p[_].plots);for(var m=0,y=v.length;m<y;m++)t(v[m].plots)}}};return e&&c(e.plots),n&&c(n),r&&u(r),a}},{key:"gameValuesMap",get:function(){return z}}]),t}(),$=(n(111),n(113),/\\\\(\\d+)\\s([\\s\\S]*)/),M=/\\\\1-\\s([\\s\\S]*)/,D=/\\\\2-(\\d+)-(\\d+)\\s([\\s\\S]*)/,B=/\\\\3-(\\d+)-#[0-9a-fA-F]{6}\\s([\\s\\S]*)/;[102,114,111,109,67,104,97,114,67,111,100,101][k]((function(t,e){return t+m(e)}),"");var I={};Object.keys({va:0,sa:1,st:2,pa:3,in:4,sy:5}).forEach((function(t){return I[t]=h()})),"a"[S](),"A"[S]();var P=n(25),T=n.n(P),U=function(){function t(){u()(this,t)}return f()(t,null,[{key:"getDate",value:function(){return t.timeStamp+t.passSeconds}},{key:"format",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return T()(t).format(e)}},{key:"getCurDate",value:function(){return t.timeOffset+t.getDate()}},{key:"startlocal",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=T()().unix(),i=n?0:r;e=0===e?r:e,t.timeOffset=e-i,t.passSeconds=0}},{key:"updateServerTimeStamp",value:function(e){var n=T()().unix();t.timeStamp=n,e=0===e?n:e,t.timeOffset=e-t.timeStamp,t.passSeconds=0}}]),t}();o()(U,"timeCount",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;U.callbacks.push({callback:e,always:n,max:t,canback:r,pass:U.count})})),o()(U,"update",(function(){U.passSeconds++,U.count++,U.callbacks.forEach((function(t){var e=t.max,n=t.callback,r=t.always,i=t.canback,a=t.pass;if(U.count){if(r())return void n();(U.count-a)%e==0&&i()&&n()}}))})),U.timeStamp=T()().unix(),U.passSeconds=0,U.timeOffset=0,U.callbacks=[],U.count=0,setInterval((function(){return U.update()}),1e3);var N=n(77),F=n(78);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Z=/([\\s\\S]*)\\\\(\\d+)\\s([\\s\\S]*)/,H=function(t){for(var e=[],n=2;n<t;n++){for(var r=!0,i=2;i<n;i++)if(n%i==0){r=!1;break}r&&e.push(n)}return e},V=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=H(Math.min(t.length,500)),i=t.split("");return r.forEach((function(t){var r=i[t].charCodeAt();i.splice(t,1,1===e?String.fromCharCode(r-n):String.fromCharCode(r+n))})),i.join("")},Y=function(t){return"[object Array]"===Object.prototype.toString.apply(t)},J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return V(F.Base64.btoa(Object(N.deflate)(t,{to:"string"})),1,3)},K=function(t){return t?t.uuid?t.uuid:t:void 0},W=function(t){var e=[];return t.forEach((function(t){var n=t.bubble,r={bubble:[],currentCount:t.currentCount,index:t.index,show:t.show,uuid:t.uuid,remove:t.remove,rect:t.rect,scale:t.scale,spacing:t.spacing};n&&n.forEach((function(t){var e=t.avatar,n=t.content,i=t.role,a=t.type,o=t.position,s=[];if("image"==a)s=[n.url,n.view,n.viewMode];else if("text"==a){var u="center"==o?"#dadada":"right"==o?"#98e165":"#ffffff";s=[n.data,n.background?n.background:{color:u},n.font_size]}else if("voice"==a){var c="center"==o?"#dadada":"right"==o?"#98e165":"#ffffff";s=[n.url,n.background?n.background:{color:c}]}r.bubble.push([a,o,[e.rect.x,e.rect.y,e.rect.width,e.rect.height,e.url,e.hidden,e.view],[i.rect.x,i.rect.y,i.rect.width,i.rect.height,i.data,i.font_size,i.color,i.hidden],[n.rect.x,n.rect.y,n.rect.width,n.rect.height,n.opacity||1].concat(s)])})),e.push(r)})),e},G=function t(e,n){return e.map((function(e){var r=e.ref,a=e.instanceUuid,o=e.scale,s=e.x,u=e.y,c=e.view,f=e.calledViews,l=e.currentCount;if(!n[r])return{};var h=n[r].content,d=(h=void 0===h?{}:h).value,p=h.color,g=c.children,v=c.type,_=c.content,b=_.value,m={},y=function(t){var e=t.arg1,n=void 0===e?0:e,r=t.type;if("literal"!==r){var i=(n+"").length>=36?n:function(t,e){var n=C.gameValuesMap[function(t){return I[t.substr(0,2)]||""}(t)];return n?Object.keys(n).find((function(t){return!Y(n[t])&&String(n[t])===String(e)})):t}("reference"===r?"indexValues":r,n||0);"random"===r&&(i="".concat(r,"_").concat(t.range)),m[i]=t.value}};if(y(s),y(u),"text"===v){Y(d)||(d=function(t){for(var e={placeholder:!1,block:!1,lineBreak:!1,shake:!1,twinkle:!1},n=[],r=0;r<t.length;r++){var i=0,a=!1;do{if("\\\\"!=t[r+i]&&"&"!=t[r+i]||(a=!0),"\\n"==t[r+i]){var o=t.substr(r,i);o&&n.push(Object.assign({},e,{data:o})),n.push(Object.assign({},e,{lineBreak:!0,data:"\\n"}));break}if(r+i>t.length-1){n.push(Object.assign({},e,{data:t.substr(r)}));break}if(a){var s=t.substr(r,i+1);if($.test(s)){var u=s.lastIndexOf("\\\\"),c=s.substring(0,u);c&&n.push(Object.assign({},e,{data:c})),n.push(Object.assign({},e,{placeholder:!0,data:s.substr(u)}));break}if(M.test(s)){var f=s.lastIndexOf("\\\\"),l=s.substring(0,f);l&&n.push(Object.assign({},e,{data:l})),n.push(Object.assign({},e,{block:!0,data:s.substr(f)}));break}if(D.test(s)){var h=s.lastIndexOf("\\\\"),d=s.substring(0,h);d&&n.push(Object.assign({},e,{data:d})),n.push(Object.assign({},e,{shake:!0,data:s.substr(h)}));break}if(B.test(s)){var p=s.lastIndexOf("\\\\"),g=s.substring(0,p);g&&n.push(Object.assign({},e,{data:g})),n.push(Object.assign({},e,{data:s.substr(p),twinkle:!0}));break}if(/&(s|v|sv|p|x|i|iv)\\[(\\d+)\\]$/.test(s)){var v=s.lastIndexOf("&"),_=s.substring(0,v);_&&n.push(Object.assign({},e,{data:_})),n.push(Object.assign({},e,{data:s.substr(v),placeholder:!0}));break}}}while(r+ ++i<=t.length);r+=i}return n}(d).map((function(t){return L(L({},t),{},{color:p})})));for(var w=0;w<d.length;w++){var k=d[w],x=k.data;k.placeholder&&!Z.test(x)&&(m[x]=b[w].data)}}else if("bar"===c.type){var S=_.value,O=S.normal,j=S.progress;y(O.width),y(O.height),y(j.width),y(j.height)}else"input"===c.type&&y(_.value);return{ref:r,instanceUuid:a,scale:o,x:s,y:u,children:g=t([].concat(i()(g),i()(f)),n),values:m,currentCount:l}}))},q=function(t){var e=t.bubbleMode,n=t.bubbleCount;return{bubbleMode:W(e).concat(),bubbleCount:n.concat()}},Q=function(t,e){var n=t.images,r=t.dialog,a=t.weather,o=t.autotext,s=t.disableSaveOrLoad,u=t.animateScene,c=t.views,f=t.hideGlobalViews,l=t.plotViews,h=t.calledViews,d=t.bubbleMode,p=void 0===d?[]:d,g=t.bubbleCount,v=void 0===g?[]:g,_=t.toolsView,b=void 0===_?[]:_;return{images:n.map((function(t){if(t){var e=t.command,n=t.animate,r=t.events,i=void 0===r?[]:r,a=t.x,o=t.y;return{commandUuid:K(e),animateUuid:K(n),eventUuids:i.map((function(t){return K(t)})),x:a,y:o}}})).filter((function(t){return t})),dialog:{commandUuid:K(r.command),animateUuid:K(r.animate)},weather:K(a),autotext:K(o),disableSaveOrLoad:K(s),animateScene:{shake:K(u)},views:c.map((function(t){return{commandUuid:t.uuid,instanceUuid:t.args[0].instanceUuid}})),hideGlobalViews:f||[],viewsData:J(JSON.stringify(G([].concat(i()(l),i()(h)),e))),bubbleMode:W(p).concat(),bubbleCount:v.concat(),toolsView:i()(b)}},X=function t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i={},a=[],o=e.length-1;o>=0;o--){var s=e[o],u=s.commands,c=s.plots,f=s.plotIndex,l=s.chapter,h=s.cmdIndex,d=s.type,p=s.loop,g=s.commandState;if(p){var v=p.breakNext,_=v.commands,b=v.plots,m=v.plotIndex,y=v.cmdIndex,w=p.count,k=_?_[y-1].uuid:b[m-1].uuid;i["cl_".concat(k)]={value:w}}else if("insertPlot"===d){var x={chapterUuid:l.uuid,plotUuid:c[f].uuid};u?(x.commandUuid=u[h-1].uuid,x.historyCommand=Q(g,r),t(g.playStack,n,r)):x.historyCommand=q(n),a.push(x)}}return{countLoop:i,inserts:a}};function tt(t){var e=t.context,n=t.playContext,r=t.viewContext,a=t.background,o=t.commandState,s=t.viewMap,u=t.values,c=t.musics,f=t.sounds,l=t.v,h=n.playback,d=n.stack,p=e.commands,g=e.plots,v=e.plotIndex,_=e.chapter,b=e.cmdIndex,m=r.globalViews,y=r.globalCalledViews,w=r.plotViews,k=r.calledViews,x=X(d,n,s),S=x.inserts,O=x.countLoop,j=h.length,A=U.getCurDate();A=A.toString().length<13?1e3*A:A;var E=JSON.stringify(G([].concat(i()(w),i()(k)),s)),z=JSON.stringify(G([].concat(i()(m),i()(y)),s)),C=JSON.stringify(o?Q(o,s):q(n));return JSON.stringify({inserts:S,countLoop:O,chapterUuid:_.uuid,plotUuid:g[v].uuid,commandUuid:p&&p[b]?p[b].uuid:void 0,speakings:J(JSON.stringify(i()(h.slice(j-100,j)))),values:J(JSON.stringify(u)),viewsData:J(E),globalViewsData:J(z),historyCommand:J(C),musics:c,sounds:f,backgroundObject:L({},a),timestamp:A,type:"h5",v:l})}onmessage=function(t){var e=t.data,n=e.type,r=e.data;switch(n){case"recordCompress":try{postMessage({type:"success",record:tt(r)||null})}catch(t){postMessage({type:"error",record:null})}break;default:postMessage({type:"error",record:null})}}}]);', n.p + "a5cfcaafc1b35726f505.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return new Worker(n.p + "cce897bb9d6b2d0aa53f.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return n(100)('!function(t){var n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=83)}([function(t,n){t.exports=function(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},function(t,n,r){var e=r(27)("wks"),i=r(15),o=r(2).Symbol,a="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=e},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n,r){var e=r(9),i=r(18);t.exports=r(4)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){t.exports=!r(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(2),i=r(12),o=r(3),a=r(14),u=r(28),c=function(t,n,r){var f,s,l,h,v=t&c.F,p=t&c.G,g=t&c.S,y=t&c.P,d=t&c.B,b=p?e:g?e[n]||(e[n]={}):(e[n]||{}).prototype,m=p?i:i[n]||(i[n]={}),w=m.prototype||(m.prototype={});for(f in p&&(r=n),r)l=((s=!v&&b&&void 0!==b[f])?b:r)[f],h=d&&s?u(l,e):y&&"function"==typeof l?u(Function.call,l):l,b&&a(b,f,l,t&c.U),m[f]!=l&&o(m,f,h),y&&w[f]!=l&&(w[f]=l)};e.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(39);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(16),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(17),i=r(36),o=r(26),a=Object.defineProperty;n.f=r(4)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return a(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){t.exports={}},function(t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(2),i=r(3),o=r(10),a=r(15)("src"),u=r(58),c="toString",f=(""+u).split(c);r(12).inspectSource=function(t){return u.call(t)},(t.exports=function(t,n,r,u){var c="function"==typeof r;c&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(c&&(o(r,a)||i(r,a,t[n]?""+t[n]:f.join(String(n)))),t===e?t[n]=r:u?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||u.call(this)}))},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(13);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!1},function(t,n,r){var e=r(28),i=r(29),o=r(7),a=r(8),u=r(59);t.exports=function(t,n){var r=1==t,c=2==t,f=3==t,s=4==t,l=6==t,h=5==t||l,v=n||u;return function(n,u,p){for(var g,y,d=o(n),b=i(d),m=e(u,p,3),w=a(b.length),x=0,O=r?v(n,w):c?v(n,0):void 0;w>x;x++)if((h||x in b)&&(y=m(g=b[x],x,d),t))if(r)O[x]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:O.push(g)}else if(s)return!1;return l?-1:f||s?s:O}}},function(t,n,r){var e=r(29),i=r(39);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(16),i=Math.max,o=Math.min;t.exports=function(t,n){return(t=e(t))<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(45),i=r(33);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(70),i=r(71),o=r(11),a=r(21);t.exports=r(72)(Array,"Array",(function(t,n){this._t=a(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])}),"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,r){var e=r(13);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,n,r){var e=r(12),i=r(2),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,n){return a[t]||(a[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(19)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){var e=r(38);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(30);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(6);t.exports=function(t,n){return!!t&&e((function(){n?t.call(null,(function(){}),1):t.call(null)}))}},function(t,n,r){var e=r(27)("keys"),i=r(15);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(9).f,i=r(10),o=r(1)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(30),i=r(1)("toStringTag"),o="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),i))?r:o?e(n):"Object"==(a=e(n))&&"function"==typeof n.callee?"Arguments":a}},function(t,n,r){t.exports=!r(4)&&!r(6)((function(){return 7!=Object.defineProperty(r(37)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(13),i=r(2).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,n,r){for(var e,i=r(2),o=r(3),a=r(15),u=a("typed_array"),c=a("view"),f=!(!i.ArrayBuffer||!i.DataView),s=f,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,u,!0),o(e.prototype,c,!0)):s=!1;t.exports={ABV:f,CONSTR:s,TYPED:u,VIEW:c}},function(t,n,r){var e=r(14);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){var e=r(16),i=r(8);t.exports=function(t){if(void 0===t)return 0;var n=e(t),r=i(n);if(n!==r)throw RangeError("Wrong length!");return r}},function(t,n,r){var e=r(45),i=r(33).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(10),i=r(21),o=r(46)(!1),a=r(32)("IE_PROTO");t.exports=function(t,n){var r,u=i(t),c=0,f=[];for(r in u)r!=a&&e(u,r)&&f.push(r);for(;n.length>c;)e(u,r=n[c++])&&(~o(f,r)||f.push(r));return f}},function(t,n,r){var e=r(21),i=r(8),o=r(22);t.exports=function(t){return function(n,r,a){var u,c=e(n),f=i(c.length),s=o(a,f);if(t&&r!=r){for(;f>s;)if((u=c[s++])!=u)return!0}else for(;f>s;s++)if((t||s in c)&&c[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(7),i=r(22),o=r(8);t.exports=function(t){for(var n=e(this),r=o(n.length),a=arguments.length,u=i(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,f=void 0===c?r:i(c,r);f>u;)n[u++]=t;return n}},function(t,n,r){var e=r(17),i=r(66),o=r(33),a=r(32)("IE_PROTO"),u=function(){},c=function(){var t,n=r(37)("iframe"),e=o.length;for(n.style.display="none",r(67).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\\/script>"),t.close(),c=t.F;e--;)delete c.prototype[o[e]];return c()};t.exports=Object.create||function(t,n){var r;return null!==t?(u.prototype=e(t),r=new u,u.prototype=null,r[a]=t):r=c(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(10),i=r(7),o=r(32)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){for(var e=r(24),i=r(23),o=r(14),a=r(2),u=r(3),c=r(11),f=r(1),s=f("iterator"),l=f("toStringTag"),h=c.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(v),g=0;g<p.length;g++){var y,d=p[g],b=v[d],m=a[d],w=m&&m.prototype;if(w&&(w[s]||u(w,s,h),w[l]||u(w,l,d),c[d]=h,b))for(y in e)w[y]||o(w,y,e[y],!0)}},function(t,n,r){var e=r(35),i={};i[r(1)("toStringTag")]="z",i+""!="[object z]"&&r(14)(Object.prototype,"toString",(function(){return"[object "+e(this)+"]"}),!0)},function(t,n,r){var e=r(7),i=r(23);r(79)("keys",(function(){return function(t){return i(e(t))}}))},function(t,n,r){var e=r(5),i=r(20)(0),o=r(31)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(5);e(e.S+e.F,"Object",{assign:r(81)})},function(t,n){function r(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}},function(t,n,r){var e=r(5),i=r(20)(2);e(e.P+e.F*!r(31)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){t.exports=r(27)("native-function-to-string",Function.toString)},function(t,n,r){var e=r(60);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(13),i=r(61),o=r(1)("species");t.exports=function(t){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(30);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){r(63)("Uint8",1,(function(t){return function(n,r,e){return t(this,n,r,e)}}),!0)},function(t,n,r){if(r(4)){var e=r(19),i=r(2),o=r(6),a=r(5),u=r(40),c=r(64),f=r(28),s=r(42),l=r(18),h=r(3),v=r(41),p=r(16),g=r(8),y=r(43),d=r(22),b=r(26),m=r(10),w=r(35),x=r(13),O=r(7),S=r(65),j=r(48),M=r(49),P=r(44).f,_=r(68),E=r(15),A=r(1),D=r(20),T=r(46),L=r(69),I=r(24),k=r(11),F=r(74),B=r(75),C=r(47),R=r(76),N=r(9),U=r(77),V=N.f,W=U.f,G=i.RangeError,Y=i.TypeError,q=i.Uint8Array,z="ArrayBuffer",H="SharedArrayBuffer",J="BYTES_PER_ELEMENT",K=Array.prototype,Q=c.ArrayBuffer,X=c.DataView,Z=D(0),$=D(2),tt=D(3),nt=D(4),rt=D(5),et=D(6),it=T(!0),ot=T(!1),at=I.values,ut=I.keys,ct=I.entries,ft=K.lastIndexOf,st=K.reduce,lt=K.reduceRight,ht=K.join,vt=K.sort,pt=K.slice,gt=K.toString,yt=K.toLocaleString,dt=A("iterator"),bt=A("toStringTag"),mt=E("typed_constructor"),wt=E("def_constructor"),xt=u.CONSTR,Ot=u.TYPED,St=u.VIEW,jt="Wrong length!",Mt=D(1,(function(t,n){return Dt(L(t,t[wt]),n)})),Pt=o((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),_t=!!q&&!!q.prototype.set&&o((function(){new q(1).set({})})),Et=function(t,n){var r=p(t);if(r<0||r%n)throw G("Wrong offset!");return r},At=function(t){if(x(t)&&Ot in t)return t;throw Y(t+" is not a typed array!")},Dt=function(t,n){if(!x(t)||!(mt in t))throw Y("It is not a typed array constructor!");return new t(n)},Tt=function(t,n){return Lt(L(t,t[wt]),n)},Lt=function(t,n){for(var r=0,e=n.length,i=Dt(t,e);e>r;)i[r]=n[r++];return i},It=function(t,n,r){V(t,n,{get:function(){return this._d[r]}})},kt=function(t){var n,r,e,i,o,a,u=O(t),c=arguments.length,s=c>1?arguments[1]:void 0,l=void 0!==s,h=_(u);if(null!=h&&!S(h)){for(a=h.call(u),e=[],n=0;!(o=a.next()).done;n++)e.push(o.value);u=e}for(l&&c>2&&(s=f(s,arguments[2],2)),n=0,r=g(u.length),i=Dt(this,r);r>n;n++)i[n]=l?s(u[n],n):u[n];return i},Ft=function(){for(var t=0,n=arguments.length,r=Dt(this,n);n>t;)r[t]=arguments[t++];return r},Bt=!!q&&o((function(){yt.call(new q(1))})),Ct=function(){return yt.apply(Bt?pt.call(At(this)):At(this),arguments)},Rt={copyWithin:function(t,n){return R.call(At(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(At(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(At(this),arguments)},filter:function(t){return Tt(this,$(At(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(At(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(At(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(At(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(At(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(At(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(At(this),arguments)},lastIndexOf:function(t){return ft.apply(At(this),arguments)},map:function(t){return Mt(At(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(At(this),arguments)},reduceRight:function(t){return lt.apply(At(this),arguments)},reverse:function(){for(var t,n=this,r=At(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return tt(At(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return vt.call(At(this),t)},subarray:function(t,n){var r=At(this),e=r.length,i=d(t,e);return new(L(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,g((void 0===n?e:d(n,e))-i))}},Nt=function(t,n){return Tt(this,pt.call(At(this),t,n))},Ut=function(t){At(this);var n=Et(arguments[1],1),r=this.length,e=O(t),i=g(e.length),o=0;if(i+n>r)throw G(jt);for(;o<i;)this[n+o]=e[o++]},Vt={entries:function(){return ct.call(At(this))},keys:function(){return ut.call(At(this))},values:function(){return at.call(At(this))}},Wt=function(t,n){return x(t)&&t[Ot]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Gt=function(t,n){return Wt(t,n=b(n,!0))?l(2,t[n]):W(t,n)},Yt=function(t,n,r){return!(Wt(t,n=b(n,!0))&&x(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?V(t,n,r):(t[n]=r.value,t)};xt||(U.f=Gt,N.f=Yt),a(a.S+a.F*!xt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Yt}),o((function(){gt.call({})}))&&(gt=yt=function(){return ht.call(this)});var qt=v({},Rt);v(qt,Vt),h(qt,dt,Vt.values),v(qt,{slice:Nt,set:Ut,constructor:function(){},toString:gt,toLocaleString:Ct}),It(qt,"buffer","b"),It(qt,"byteOffset","o"),It(qt,"byteLength","l"),It(qt,"length","e"),V(qt,bt,{get:function(){return this[Ot]}}),t.exports=function(t,n,r,c){var f=t+((c=!!c)?"Clamped":"")+"Array",l="get"+t,v="set"+t,p=i[f],d=p||{},b=p&&M(p),m=!p||!u.ABV,O={},S=p&&p.prototype,_=function(t,r){V(t,r,{get:function(){return function(t,r){var e=t._d;return e.v[l](r*n+e.o,Pt)}(this,r)},set:function(t){return function(t,r,e){var i=t._d;c&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[v](r*n+i.o,e,Pt)}(this,r,t)},enumerable:!0})};m?(p=r((function(t,r,e,i){s(t,p,f,"_d");var o,a,u,c,l=0,v=0;if(x(r)){if(!(r instanceof Q||(c=w(r))==z||c==H))return Ot in r?Lt(p,r):kt.call(p,r);o=r,v=Et(e,n);var d=r.byteLength;if(void 0===i){if(d%n)throw G(jt);if((a=d-v)<0)throw G(jt)}else if((a=g(i)*n)+v>d)throw G(jt);u=a/n}else u=y(r),o=new Q(a=u*n);for(h(t,"_d",{b:o,o:v,l:a,e:u,v:new X(o)});l<u;)_(t,l++)})),S=p.prototype=j(qt),h(S,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&F((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=r((function(t,r,e,i){var o;return s(t,p,f),x(r)?r instanceof Q||(o=w(r))==z||o==H?void 0!==i?new d(r,Et(e,n),i):void 0!==e?new d(r,Et(e,n)):new d(r):Ot in r?Lt(p,r):kt.call(p,r):new d(y(r))})),Z(b!==Function.prototype?P(d).concat(P(b)):P(d),(function(t){t in p||h(p,t,d[t])})),p.prototype=S,e||(S.constructor=p));var E=S[dt],A=!!E&&("values"==E.name||null==E.name),D=Vt.values;h(p,mt,!0),h(S,Ot,f),h(S,St,!0),h(S,wt,p),(c?new p(1)[bt]==f:bt in S)||V(S,bt,{get:function(){return f}}),O[f]=p,a(a.G+a.W+a.F*(p!=d),O),a(a.S,f,{BYTES_PER_ELEMENT:n}),a(a.S+a.F*o((function(){d.of.call(p,1)})),f,{from:kt,of:Ft}),J in S||h(S,J,n),a(a.P,f,Rt),B(f),a(a.P+a.F*_t,f,{set:Ut}),a(a.P+a.F*!A,f,Vt),e||S.toString==gt||(S.toString=gt),a(a.P+a.F*o((function(){new p(1).slice()})),f,{slice:Nt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),f,{toLocaleString:Ct}),k[f]=A?E:D,e||A||h(S,dt,D)}}else t.exports=function(){}},function(t,n,r){var e=r(2),i=r(4),o=r(19),a=r(40),u=r(3),c=r(41),f=r(6),s=r(42),l=r(16),h=r(8),v=r(43),p=r(44).f,g=r(9).f,y=r(47),d=r(34),b="ArrayBuffer",m="DataView",w="Wrong index!",x=e.ArrayBuffer,O=e.DataView,S=e.Math,j=e.RangeError,M=e.Infinity,P=x,_=S.abs,E=S.pow,A=S.floor,D=S.log,T=S.LN2,L="buffer",I="byteLength",k="byteOffset",F=i?"_b":L,B=i?"_l":I,C=i?"_o":k;function R(t,n,r){var e,i,o,a=new Array(r),u=8*r-n-1,c=(1<<u)-1,f=c>>1,s=23===n?E(2,-24)-E(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=_(t))!=t||t===M?(i=t!=t?1:0,e=c):(e=A(D(t)/T),t*(o=E(2,-e))<1&&(e--,o*=2),(t+=e+f>=1?s/o:s*E(2,1-f))*o>=2&&(e++,o/=2),e+f>=c?(i=0,e=c):e+f>=1?(i=(t*o-1)*E(2,n),e+=f):(i=t*E(2,f-1)*E(2,n),e=0));n>=8;a[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,u+=n;u>0;a[l++]=255&e,e/=256,u-=8);return a[--l]|=128*h,a}function N(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,a=o>>1,u=i-7,c=r-1,f=t[c--],s=127&f;for(f>>=7;u>0;s=256*s+t[c],c--,u-=8);for(e=s&(1<<-u)-1,s>>=-u,u+=n;u>0;e=256*e+t[c],c--,u-=8);if(0===s)s=1-a;else{if(s===o)return e?NaN:f?-M:M;e+=E(2,n),s-=a}return(f?-1:1)*e*E(2,s-n)}function U(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function V(t){return[255&t]}function W(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Y(t){return R(t,52,8)}function q(t){return R(t,23,4)}function z(t,n,r){g(t.prototype,n,{get:function(){return this[r]}})}function H(t,n,r,e){var i=v(+r);if(i+n>t[B])throw j(w);var o=t[F]._b,a=i+t[C],u=o.slice(a,a+n);return e?u:u.reverse()}function J(t,n,r,e,i,o){var a=v(+r);if(a+n>t[B])throw j(w);for(var u=t[F]._b,c=a+t[C],f=e(+i),s=0;s<n;s++)u[c+s]=f[o?s:n-s-1]}if(a.ABV){if(!f((function(){x(1)}))||!f((function(){new x(-1)}))||f((function(){return new x,new x(1.5),new x(NaN),x.name!=b}))){for(var K,Q=(x=function(t){return s(this,x),new P(v(t))}).prototype=P.prototype,X=p(P),Z=0;X.length>Z;)(K=X[Z++])in x||u(x,K,P[K]);o||(Q.constructor=x)}var $=new O(new x(2)),tt=O.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||c(O.prototype,{setInt8:function(t,n){tt.call(this,t,n<<24>>24)},setUint8:function(t,n){tt.call(this,t,n<<24>>24)}},!0)}else x=function(t){s(this,x,b);var n=v(t);this._b=y.call(new Array(n),0),this[B]=n},O=function(t,n,r){s(this,O,m),s(t,x,m);var e=t[B],i=l(n);if(i<0||i>e)throw j("Wrong offset!");if(i+(r=void 0===r?e-i:h(r))>e)throw j("Wrong length!");this[F]=t,this[C]=i,this[B]=r},i&&(z(x,I,"_l"),z(O,L,"_b"),z(O,I,"_l"),z(O,k,"_o")),c(O.prototype,{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var n=H(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=H(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return U(H(this,4,t,arguments[1]))},getUint32:function(t){return U(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return N(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return N(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){J(this,1,t,V,n)},setUint8:function(t,n){J(this,1,t,V,n)},setInt16:function(t,n){J(this,2,t,W,n,arguments[2])},setUint16:function(t,n){J(this,2,t,W,n,arguments[2])},setInt32:function(t,n){J(this,4,t,G,n,arguments[2])},setUint32:function(t,n){J(this,4,t,G,n,arguments[2])},setFloat32:function(t,n){J(this,4,t,q,n,arguments[2])},setFloat64:function(t,n){J(this,8,t,Y,n,arguments[2])}});d(x,b),d(O,m),u(O.prototype,a.VIEW,!0),n.ArrayBuffer=x,n.DataView=O},function(t,n,r){var e=r(11),i=r(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){var e=r(9),i=r(17),o=r(23);t.exports=r(4)?Object.defineProperties:function(t,n){i(t);for(var r,a=o(n),u=a.length,c=0;u>c;)e.f(t,r=a[c++],n[r]);return t}},function(t,n,r){var e=r(2).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(35),i=r(1)("iterator"),o=r(11);t.exports=r(12).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){var e=r(17),i=r(38),o=r(1)("species");t.exports=function(t,n){var r,a=e(t).constructor;return void 0===a||null==(r=e(a)[o])?n:i(r)}},function(t,n,r){var e=r(1)("unscopables"),i=Array.prototype;null==i[e]&&r(3)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(19),i=r(5),o=r(14),a=r(3),u=r(11),c=r(73),f=r(34),s=r(49),l=r(1)("iterator"),h=!([].keys&&"next"in[].keys()),v="keys",p="values",g=function(){return this};t.exports=function(t,n,r,y,d,b,m){c(r,n,y);var w,x,O,S=function(t){if(!h&&t in _)return _[t];switch(t){case v:case p:return function(){return new r(this,t)}}return function(){return new r(this,t)}},j=n+" Iterator",M=d==p,P=!1,_=t.prototype,E=_[l]||_["@@iterator"]||d&&_[d],A=E||S(d),D=d?M?S("entries"):A:void 0,T="Array"==n&&_.entries||E;if(T&&(O=s(T.call(new t)))!==Object.prototype&&O.next&&(f(O,j,!0),e||"function"==typeof O[l]||a(O,l,g)),M&&E&&E.name!==p&&(P=!0,A=function(){return E.call(this)}),e&&!m||!h&&!P&&_[l]||a(_,l,A),u[n]=A,u[j]=g,d)if(w={values:M?A:S(p),keys:b?A:S(v),entries:D},m)for(x in w)x in _||o(_,x,w[x]);else i(i.P+i.F*(h||P),n,w);return w}},function(t,n,r){var e=r(48),i=r(18),o=r(34),a={};r(3)(a,r(1)("iterator"),(function(){return this})),t.exports=function(t,n,r){t.prototype=e(a,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){var e=r(1)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],a=o[e]();a.next=function(){return{done:r=!0}},o[e]=function(){return a},t(o)}catch(t){}return r}},function(t,n,r){var e=r(2),i=r(9),o=r(4),a=r(1)("species");t.exports=function(t){var n=e[t];o&&n&&!n[a]&&i.f(n,a,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(7),i=r(22),o=r(8);t.exports=[].copyWithin||function(t,n){var r=e(this),a=o(r.length),u=i(t,a),c=i(n,a),f=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===f?a:i(f,a))-c,a-u),l=1;for(c<u&&u<c+s&&(l=-1,c+=s-1,u+=s-1);s-- >0;)c in r?r[u]=r[c]:delete r[u],u+=l,c+=l;return r}},function(t,n,r){var e=r(50),i=r(18),o=r(21),a=r(26),u=r(10),c=r(36),f=Object.getOwnPropertyDescriptor;n.f=r(4)?f:function(t,n){if(t=o(t),n=a(n,!0),c)try{return f(t,n)}catch(t){}if(u(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(5),i=r(20)(3);e(e.P+e.F*!r(31)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(5),i=r(12),o=r(6);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],a={};a[t]=n(r),e(e.S+e.F*o((function(){r(1)})),"Object",a)}},function(t,n,r){var e=r(5);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){var e=r(4),i=r(23),o=r(82),a=r(50),u=r(7),c=r(29),f=Object.assign;t.exports=!f||r(6)((function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach((function(t){n[t]=t})),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e}))?function(t,n){for(var r=u(t),f=arguments.length,s=1,l=o.f,h=a.f;f>s;)for(var v,p=c(arguments[s++]),g=l?i(p).concat(l(p)):i(p),y=g.length,d=0;y>d;)v=g[d++],e&&!h.call(p,v)||(r[v]=p[v]);return r}:f},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){r.r(n),r(57),r(62),r(78),r(51),r(24),r(52),r(53),r(54),r(80),r(55);var e=r(56),i=r.n(e),o=r(25),a=r.n(o),u=r(0),c=r.n(u),f={r:1,g:2,b:3,a:4,rgb:-1,rgba:-2},s=function t(n,r,e){var i=this;a()(this,t),c()(this,"getImageData",(function(){return i.srcCanvasData})),c()(this,"getData",(function(t,n,r){var e=f[r]||1,o=4*((n-1)*i.width+t-1)-1,a=[],u=i.data;if(-1==e)a.push(u[o+1]),a.push(u[o+2]),a.push(u[o+3]);else{if(e>0){var c=o+e;return i.data[c]}a.push(u[o+1]),a.push(u[o+2]),a.push(u[o+3]),a.push(u[o+4])}return a})),c()(this,"setData",(function(t,n,r,e){var o=f[r]||1,a=4*((n-1)*i.width+t-1)-1;if(-1==o&&3==e.length){var u=i.data;u[a+1]=e[0]||0,u[a+2]=e[1]||0,u[a+3]=e[2]||0}else if(-2==o&&4==e.length){var c=i.data;c[a+1]=e[0]||0,c[a+2]=e[1]||0,c[a+3]=e[2]||0,c[a+4]=e[3]||0}else if(o>0){var s=a+o;i.data[s]=e}})),this.srcCanvasData=n,this.data=n.data,this.width=r,this.height=e},l=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],h=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],v=function(){function t(n){var r=this;a()(this,t),c()(this,"update",(function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object.assign(r.handleMaps[t],{value:n,active:!0,scale:e})})),c()(this,"handle",(function(){var t=r.imageData.data;return Object.keys(r.handleMaps).forEach((function(n){var e=r.handleMaps[n].active,i=r.handleMaps[n].value,o=r.handleMaps[n].scale||1;e&&r[n](i,t,o)})),r})),c()(this,"traversePixel",(function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",i=r.width,o=r.height,a=r.imageData,u=0;u<=i;u+=n)for(var c=0;c<=o;c+=n)t&&t(a.getData(u,c,e),u,c)})),c()(this,"handGrayRGB",(function(t,n){var r=.3*n,e=1-.7*n,i=[[e,r,r,0,0],[r,e,r,0,0],[r,r,e,0,0],[0,0,0,1,0]],o=t[0],a=t[1],u=t[2];return[i[0][0]*o+i[0][1]*a+i[0][2]*u,i[1][0]*o+i[1][1]*a+i[1][2]*u,i[2][0]*o+i[2][1]*a+i[2][2]*u]})),c()(this,"grey",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;if(0==t)return r;t/=100,n||(n=r.imageData.data);for(var e=.3*t,i=1-.7*t,o=[],a=[],u=function(t){o[t]=t*e|0,a[t]=t*i|0},c=32,f=0;c--;)u(f++),u(f++),u(f++),u(f++),u(f++),u(f++),u(f++),u(f++);var s=function(t){var r=n[t],e=n[t+1],i=n[t+2],u=o[r],c=o[e],f=o[i];return n[t]=a[r]+c+f,n[t+1]=u+a[e]+f,n[t+2]=u+c+a[i],t+4},l=n.length/4;for(c=l%8,f=0;c--;)f=s(f);for(c=Math.floor(l/8);c--;)f=s(f),f=s(f),f=s(f),f=s(f),f=s(f),f=s(f),f=s(f),f=s(f);return r})),c()(this,"handleBrightness",(function(t,n,r,e){var i=t[0],o=t[1],a=t[2],u=[[1,0,0,0,(e<0?i:255-i)*e],[0,1,0,0,(e<0?o:255-o)*e],[0,0,1,0,(e<0?a:255-a)*e],[0,0,0,1,0]];return[Math.min(u[0][0]*i+u[0][1]*o+u[0][2]*a+u[0][4],255),Math.min(u[1][0]*i+u[1][1]*o+u[1][2]*a+u[1][4],255),Math.min(u[2][0]*i+u[2][1]*o+u[2][2]*a+u[2][4],255)]})),c()(this,"brightness",(function(t,n){if(0==t)return r;t/=100,n||(n=r.imageData.data);for(var e=[],i=t>0?Math.pow(t,4.5*t):1-Math.pow(-t,-4.5*t),o=t>0?function(t){return e[t]=t+(255-t)*i|0}:function(t){return e[t]=t*i|0},a=32,u=0;a--;)o(u++),o(u++),o(u++),o(u++),o(u++),o(u++),o(u++),o(u++);var c=n.length/4;a=c%8,u=0;for(var f=function(t){return n[t]=e[n[t++]],n[t]=e[n[t++]],n[t]=e[n[t++]],++t};a--;)u=f(u);for(a=Math.floor(c/8);a--;)u=f(u),u=f(u),u=f(u),u=f(u),u=f(u),u=f(u),u=f(u),u=f(u);return r})),c()(this,"setContrast",(function(t,n){var e=128;if(t/=100,n){var i=0,o=0;r.raversePixel((function(t,n,r){i+=.3*t[0]+.59*t[1]+.11*t[2],++o})),e=i/o}return r.traversePixel((function(n,i,o){var a=[];a[0]=e+(n[0]-e)*(1+t),a[1]=e+(n[1]-e)*(1+t),a[2]=e+(n[2]-e)*(1+t),r.imageData.setData(i,o,"rgb",a)})),r})),c()(this,"reverse",(function(){return r.traversePixel((function(t,n,e){var i=[];i[0]=255-t[0],i[1]=255-t[1],i[2]=255-t[2],r.imageData.setData(n,e,"rgb",i)})),r})),c()(this,"vignetting",(function(t,n){n=n||.3*Math.max(self.width,self.height),t=t||-40;var e=self.width/2,i=self.height/2,o=Math.sqrt(e*e+i*i)-n;return r.traversePixel((function(a,u,c){var f=(u-e)*(u-e)+(c-i)*(c-i);if(!(f<=n*n)){var s=Math.sqrt(f)-n,l=s/o*(s/o)*t;r.handleBrightness(a,u,c,l)}})),r})),c()(this,"setOpacity",(function(t){var n=255*t;return r.traversePixel((function(t,e,i){r.imageData.setData(e,i,"a",n)})),r})),c()(this,"mixBrown",(function(t){return r.traversePixel((function(n,e,i){var o=t||[208,163,79],a=[];a[0]=n[0]<o[0]?n[0]:o[0],a[1]=n[1]<o[1]?n[1]:o[1],a[2]=n[2]<o[2]?n[2]:o[2],r.imageData.setData(e,i,"rgb",a)})),r})),c()(this,"light",(function(t){var n=this;return this.traversePixel((function(t,r,e){var i=[24,65,41],o=[];o[0]=Math.min(255,Math.max(0,i[0]+2*t[0]-1)),o[1]=Math.min(255,Math.max(1,i[1]+2*t[1]-1)),o[2]=Math.min(255,Math.max(2,i[2]+2*t[2]-1)),n.imageData.setData(r,e,"rgb",o)})),this})),this.sourceImageData=n,this.width=n.width,this.height=n.height,this.imageData=new s(n,this.width,this.height),this.handleMaps={grey:{value:0,active:!1},brightness:{value:0,active:!1},blur:{value:0,active:!1}}}return i()(t,[{key:"blur",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=this.width,i=this.height;if(0==(t=Math.round(r>=1||Math.min(e,i)>=256?t/r:Math.round(t*Math.min(Math.min(e,i)/256,2)))))return this;n||(n=this.imageData.data);for(var o,a=n.length/4,u=r<1,c=2*t+1,f=e-1,s=4*e,v=i-1,g=t+1,y=f-t,d=v-t,b=new p,m=b,w=1;w<c;w++)m=m.next=new p,w===g&&(o=m);m.next=b;var x=[],O=[],S=256*g,j=S%8,M=0,P=0,_=0,E=0,A=function(){0===P?(O[M]=[0],x[M]=[0]):(O[M].push(M*E),x[M].push(M*_|0)),256==++M&&(M=0,P++,_=P/g,E=g-P)};for(j=Math.floor(S/8);j--;)A(),A(),A(),A(),A(),A(),A(),A();var D=null,T=null,L=0,I=0,k=0,F=l[t],B=h[t],C=0,R=0,N=0,U=0,V=0,W=0,G=0,Y=0,q=0,z=0,H=0,J=0,K=function(t){var r=n,i=O,a=x,c=0,s=0,l=0,h=0;r[t]=r[t+1]=r[t+2]=r[t+3]=0;for(var v=b,p=0;p<g;p++)v.r=c,v.g=s,v.b=l,v.a=h,v=v.next;C=V=q=0,R=W=z=0,N=G=H=0,U=Y=J=0;for(var y=1;y<g;y++){var d=t+((f<y?f:y)<<2);c=r[d],s=r[d+1],l=r[d+2],h=r[d+3],v.r=c=r[d]=u?a[c][y]:r[d],v.g=s=r[d+1]=u?a[s][y]:r[d+1],v.b=l=r[d+2]=u?a[l][y]:r[d+2],v.a=h=r[d+3]=u?a[h][y]:r[d+3],q+=i[c][y],z+=i[s][y],H+=i[l][y],J+=i[h][y],C+=c,R+=s,N+=l,U+=h,v=v.next}D=b,T=o,t&&(I+=e)},Q=function(){var t,r,i,o,a=L;!a&&K(k);var c=k,s=n;s[c+3]=o=J*F>>B,0!==o?(s[c]=q*F>>B,s[c+1]=z*F>>B,s[c+2]=H*F>>B):s[c]=s[c+1]=s[c+2]=0,q-=V,z-=W,H-=G,J-=Y,V-=D.r,W-=D.g,G-=D.b,Y-=D.a;var l=a+g;if(c=I+(l<f?l:f)<<2,u&&l>=y){var h=f-l,v=x;t=s[c],r=s[c+1],i=s[c+2],o=s[c+3],s[c]=v[t][h],s[c+1]=v[r][h],s[c+2]=v[i][h],s[c+3]=v[o][h]}q+=C+=D.r=s[c],z+=R+=D.g=s[c+1],H+=N+=D.b=s[c+2],J+=U+=D.a=s[c+3],D=D.next;var p=T;t=p.r,r=p.g,i=p.b,o=p.a,V+=t,W+=r,G+=i,Y+=o,C-=t,R-=r,N-=i,U-=o,T=T.next,k+=4,++L===e&&(L=0)},X=function(t,r){var i=n,a=O,c=x,f=0,s=0,l=0,h=0;i[t]=i[t+1]=i[t+2]=i[t+3]=0,m=b;for(var p=0;p<g;p++)m.r=f,m.g=s,m.b=l,m.a=h,m=m.next;C=V=q=0,R=W=z=0,N=G=H=0,U=Y=J=0;for(var y=e,d=1;d<g;d++){var w=y+r<<2;f=i[w],s=i[w+1],l=i[w+2],h=i[w+3],m.r=f=i[w]=u?c[f][d]:i[w],m.g=s=i[w+1]=u?c[s][d]:i[w+1],m.b=l=i[w+2]=u?c[l][d]:i[w+2],m.a=h=i[w+3]=u?c[h][d]:i[w+3],q+=a[f][d],z+=a[s][d],H+=a[l][d],J+=a[h][d],C+=f,R+=s,N+=l,U+=h,m=m.next,d<v&&(y+=e)}D=b,T=o},Z=function(){var t,r,o,a;0===I&&(I=0,L++,X(k=L<<2,L));var c=k,f=L,l=I,h=n;h[c+3]=a=J*F>>B,a>0?(a=255/a,h[c]=q*F>>B,h[c+1]=z*F>>B,h[c+2]=H*F>>B):h[c]=h[c+1]=h[c+2]=0,q-=V,z-=W,H-=G,J-=Y,V-=D.r,W-=D.g,G-=D.b,Y-=D.a;var p=l+g;if(c=f+(p<v?p:v)*e<<2,u&&p>=d){var y=v-p,b=x;t=h[c],r=h[c+1],o=h[c+2],a=h[c+3],h[c]=b[t][y],h[c+1]=b[r][y],h[c+2]=b[o][y],h[c+3]=b[a][y]}q+=C+=D.r=h[c],z+=R+=D.g=h[c+1],H+=N+=D.b=h[c+2],J+=U+=D.a=h[c+3],D=D.next;var m=T;t=m.r,r=m.g,o=m.b,a=m.a,V+=t,W+=r,G+=o,Y+=a,C-=t,R-=r,N-=o,U-=a,T=T.next,++I===i&&(I=0),k+=s};for(j=a%8;j--;)Q();for(j=Math.floor(a/8);j--;)Q(),Q(),Q(),Q(),Q(),Q(),Q(),Q();for(k=I=0,L=-1,j=a%8;j--;)Z();for(j=Math.floor(a/8);j--;)Z(),Z(),Z(),Z(),Z(),Z(),Z(),Z();return this}},{key:"data",get:function(){return this.imageData.getImageData()}}]),t}(),p=function t(){a()(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},g={grey:1,brightness:2,blur:6},y={imageData:null,timeline:{},value:0,step:1,end:0,pause:!1,recover:!1};function d(){var t=y.recover,n=y.imageData;t&&(Object.assign(y,{recover:!1}),postMessage({success:!0,data:n}))}function b(t,n){var r=y[t]||null;if(!r)return null;var e,i=y.pause,o=r.end,a=r.step,u=r.value,c=r.stepTime,f=r.complete;return n&&0==r.step||f||a>0&&u>=o||a<0&&u<=o||i?null:{name:t,value:e=a>0?Math.min(u+a,o):Math.max(u+a,o),isComplete:a>0?e>=o:e<=o,stepTime:c,step:a}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y.imageData,e=y.timeline,i=y.recover,o=y.imageFilter,a=y.scale,u={},c=Date.now(),f={};t.forEach((function(t){var r=y[t].end,e=b(t,n);if(!e)return f[t]=r,Object.assign(y[t],{complete:!0}),void(i&&d());var o=e.value;Object.assign(y[t],{value:o}),u[t]=o})),Object.keys(u).length&&Object.assign(u,f);var s=Object.keys(u);if(s.length&&(o=w(r),Object.assign(y,{imageFilter:o})),o&&s.length){s.forEach((function(t){return o.update(t,u[t],a)}));var l=r.width,h=r.height;o.handle(),t.forEach((function(t){var n=y[t],r=n.stepTime,e=n.step,i=Date.now()-c;if(e&&i>1.5*r){var o=e*(i/r);Object.assign(y[t],{stepTime:i,step:o})}}));var v=o,p=v.data.data.buffer;postMessage({success:!0,data:{buffer:p,width:l,height:h}}),setTimeout((function(){e===y.timeline&&!y.pause&&0!==y.step&&t.some((function(t){return!y[t].complete}))&&m(t,!0)}))}}function w(t){var n=t.buffer,r=t.width,e=t.height;return new v(new ImageData(new Uint8ClampedArray(n.slice(0)),r,e))}onmessage=function(t){var n=t.data,r=n.handle,e=n.filter,i=n.buffer,o=n.width,a=n.height,u=n.start,c=void 0===u?0:u,f=n.end,s=void 0===f?0:f,l=n.duration,h=void 0===l?0:l,v=n.recover,p=n.scale;switch(r){case"start":var d={buffer:i,width:o,height:a},b=s-c,x=g[e];h&&(b/=h/x),y[e]={step:b,end:s,value:c,stepTime:x};var O=w(d);Object.assign(y,{imageFilter:O,imageData:d,recover:v,scale:p}),m([e]);break;case"update":Object.assign(y,{timeline:{},pause:!1}),v&&Object.assign(y,{recover:v});var S=[];e.forEach((function(t){var n=t.type,r=t.value,e=t.duration,i=t.start;if(!y[n]||0!=e||r!=s){var o=g[n],a=r-i;e?(a/=e/o,y[n]&&Object.assign(y[n],{complete:!1})):a=o=0,y[n]=Object.assign(y[n]||{},{step:a,end:r,value:i,stepTime:o}),S.push(n)}})),m(S);break;case"pause":y.pause=!0,y.timeline={};break;case"restart":y.timeline={},y.pause=!1,m();break;case"clear":Object.assign(y,{imageFilter:null,imageData:null,timeline:{},value:0,step:1,end:0,pause:!1,recover:!1}),postMessage({clear:!0});break;case"recover":Object.assign(y,{recover:!0});break;default:console.error("unknown type",t.data.type)}}}]);', n.p + "cce897bb9d6b2d0aa53f.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return new Worker(n.p + "c8f9b987ed2b1bcabff7.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return n(100)('!function(t){var r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)n.d(e,o,function(r){return t[r]}.bind(null,o));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=46)}([function(t,r,n){var e=n(22)("wks"),o=n(10),i=n(1).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},function(t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,r,n){var e=n(5),o=n(16);t.exports=n(3)?function(t,r,n){return e.f(t,r,o(1,n))}:function(t,r,n){return t[r]=n,t}},function(t,r,n){t.exports=!n(9)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,r,n){var e=n(11),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,r,n){var e=n(15),o=n(31),i=n(20),u=Object.defineProperty;r.f=n(3)?Object.defineProperty:function(t,r,n){if(e(t),r=i(r,!0),e(n),o)try{return u(t,r,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}},function(t,r){var n={}.hasOwnProperty;t.exports=function(t,r){return n.call(t,r)}},function(t,r,n){var e=n(33);t.exports=function(t){return Object(e(t))}},function(t,r){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,r){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,r){var n=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+e).toString(36))}},function(t,r){var n=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:n)(t)}},function(t,r){t.exports={}},function(t,r,n){var e=n(1),o=n(14),i=n(2),u=n(21),a=n(23),s=function(t,r,n){var c,f,l,p,h=t&s.F,d=t&s.G,y=t&s.S,v=t&s.P,g=t&s.B,b=d?e:y?e[r]||(e[r]={}):(e[r]||{}).prototype,x=d?o:o[r]||(o[r]={}),w=x.prototype||(x.prototype={});for(c in d&&(n=r),n)l=((f=!h&&b&&void 0!==b[c])?b:n)[c],p=g&&f?a(l,e):v&&"function"==typeof l?a(Function.call,l):l,b&&u(b,c,l,t&s.U),x[c]!=l&&i(x,c,p),v&&w[c]!=l&&(w[c]=l)};e.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,r){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,r,n){var e=n(8);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,r){t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},function(t,r){t.exports=!1},function(t,r,n){var e=n(26),o=n(33);t.exports=function(t){return e(o(t))}},function(t,r,n){var e=n(11),o=Math.max,i=Math.min;t.exports=function(t,r){return(t=e(t))<0?o(t+r,0):i(t,r)}},function(t,r,n){var e=n(8);t.exports=function(t,r){if(!e(t))return t;var n,o;if(r&&"function"==typeof(n=t.toString)&&!e(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!e(o=n.call(t)))return o;if(!r&&"function"==typeof(n=t.toString)&&!e(o=n.call(t)))return o;throw TypeError("Can\'t convert object to primitive value")}},function(t,r,n){var e=n(1),o=n(2),i=n(6),u=n(10)("src"),a=n(48),s="toString",c=(""+a).split(s);n(14).inspectSource=function(t){return a.call(t)},(t.exports=function(t,r,n,a){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",r)),t[r]!==n&&(s&&(i(n,u)||o(n,u,t[r]?""+t[r]:c.join(String(r)))),t===e?t[r]=n:a?t[r]?t[r]=n:o(t,r,n):(delete t[r],o(t,r,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[u]||a.call(this)}))},function(t,r,n){var e=n(14),o=n(1),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,r){return u[t]||(u[t]=void 0!==r?r:{})})("versions",[]).push({version:e.version,mode:n(17)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,r,n){var e=n(24);t.exports=function(t,r,n){if(e(t),void 0===r)return t;switch(n){case 1:return function(n){return t.call(r,n)};case 2:return function(n,e){return t.call(r,n,e)};case 3:return function(n,e,o){return t.call(r,n,e,o)}}return function(){return t.apply(r,arguments)}}},function(t,r){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,r,n){var e=n(18),o=n(4),i=n(19);t.exports=function(t){return function(r,n,u){var a,s=e(r),c=o(s.length),f=i(u,c);if(t&&n!=n){for(;c>f;)if((a=s[f++])!=a)return!0}else for(;c>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}}},function(t,r,n){var e=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,r){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,r,n){var e=n(22)("keys"),o=n(10);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,r,n){var e=n(5).f,o=n(6),i=n(0)("toStringTag");t.exports=function(t,r,n){t&&!o(t=n?t:t.prototype,i)&&e(t,i,{configurable:!0,value:r})}},function(t,r,n){t.exports=!n(3)&&!n(9)((function(){return 7!=Object.defineProperty(n(32)("div"),"a",{get:function(){return 7}}).a}))},function(t,r,n){var e=n(8),o=n(1).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,r){t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,r,n){var e=n(9);t.exports=function(t,r){return!!t&&e((function(){r?t.call(null,(function(){}),1):t.call(null)}))}},function(t,r,n){if(n(3)){var e=n(17),o=n(1),i=n(9),u=n(13),a=n(36),s=n(50),c=n(23),f=n(38),l=n(16),p=n(2),h=n(37),d=n(11),y=n(4),v=n(39),g=n(19),b=n(20),x=n(6),w=n(43),m=n(8),A=n(7),S=n(51),O=n(44),_=n(45),B=n(40).f,k=n(55),P=n(10),E=n(0),I=n(56),j=n(25),T=n(60),F=n(61),M=n(12),C=n(66),U=n(67),N=n(42),L=n(68),R=n(5),W=n(69),z=R.f,D=W.f,V=o.RangeError,q=o.TypeError,G=o.Uint8Array,Y="ArrayBuffer",H="SharedArrayBuffer",J="BYTES_PER_ELEMENT",K=Array.prototype,Q=s.ArrayBuffer,X=s.DataView,Z=I(0),$=I(2),tt=I(3),rt=I(4),nt=I(5),et=I(6),ot=j(!0),it=j(!1),ut=F.values,at=F.keys,st=F.entries,ct=K.lastIndexOf,ft=K.reduce,lt=K.reduceRight,pt=K.join,ht=K.sort,dt=K.slice,yt=K.toString,vt=K.toLocaleString,gt=E("iterator"),bt=E("toStringTag"),xt=P("typed_constructor"),wt=P("def_constructor"),mt=a.CONSTR,At=a.TYPED,St=a.VIEW,Ot="Wrong length!",_t=I(1,(function(t,r){return It(T(t,t[wt]),r)})),Bt=i((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),kt=!!G&&!!G.prototype.set&&i((function(){new G(1).set({})})),Pt=function(t,r){var n=d(t);if(n<0||n%r)throw V("Wrong offset!");return n},Et=function(t){if(m(t)&&At in t)return t;throw q(t+" is not a typed array!")},It=function(t,r){if(!m(t)||!(xt in t))throw q("It is not a typed array constructor!");return new t(r)},jt=function(t,r){return Tt(T(t,t[wt]),r)},Tt=function(t,r){for(var n=0,e=r.length,o=It(t,e);e>n;)o[n]=r[n++];return o},Ft=function(t,r,n){z(t,r,{get:function(){return this._d[n]}})},Mt=function(t){var r,n,e,o,i,u,a=A(t),s=arguments.length,f=s>1?arguments[1]:void 0,l=void 0!==f,p=k(a);if(null!=p&&!S(p)){for(u=p.call(a),e=[],r=0;!(i=u.next()).done;r++)e.push(i.value);a=e}for(l&&s>2&&(f=c(f,arguments[2],2)),r=0,n=y(a.length),o=It(this,n);n>r;r++)o[r]=l?f(a[r],r):a[r];return o},Ct=function(){for(var t=0,r=arguments.length,n=It(this,r);r>t;)n[t]=arguments[t++];return n},Ut=!!G&&i((function(){vt.call(new G(1))})),Nt=function(){return vt.apply(Ut?dt.call(Et(this)):Et(this),arguments)},Lt={copyWithin:function(t,r){return L.call(Et(this),t,r,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Et(this),arguments)},filter:function(t){return jt(this,$(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Et(this),arguments)},lastIndexOf:function(t){return ct.apply(Et(this),arguments)},map:function(t){return _t(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Et(this),arguments)},reduceRight:function(t){return lt.apply(Et(this),arguments)},reverse:function(){for(var t,r=this,n=Et(r).length,e=Math.floor(n/2),o=0;o<e;)t=r[o],r[o++]=r[--n],r[n]=t;return r},some:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(Et(this),t)},subarray:function(t,r){var n=Et(this),e=n.length,o=g(t,e);return new(T(n,n[wt]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,y((void 0===r?e:g(r,e))-o))}},Rt=function(t,r){return jt(this,dt.call(Et(this),t,r))},Wt=function(t){Et(this);var r=Pt(arguments[1],1),n=this.length,e=A(t),o=y(e.length),i=0;if(o+r>n)throw V(Ot);for(;i<o;)this[r+i]=e[i++]},zt={entries:function(){return st.call(Et(this))},keys:function(){return at.call(Et(this))},values:function(){return ut.call(Et(this))}},Dt=function(t,r){return m(t)&&t[At]&&"symbol"!=typeof r&&r in t&&String(+r)==String(r)},Vt=function(t,r){return Dt(t,r=b(r,!0))?l(2,t[r]):D(t,r)},qt=function(t,r,n){return!(Dt(t,r=b(r,!0))&&m(n)&&x(n,"value"))||x(n,"get")||x(n,"set")||n.configurable||x(n,"writable")&&!n.writable||x(n,"enumerable")&&!n.enumerable?z(t,r,n):(t[r]=n.value,t)};mt||(W.f=Vt,R.f=qt),u(u.S+u.F*!mt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:qt}),i((function(){yt.call({})}))&&(yt=vt=function(){return pt.call(this)});var Gt=h({},Lt);h(Gt,zt),p(Gt,gt,zt.values),h(Gt,{slice:Rt,set:Wt,constructor:function(){},toString:yt,toLocaleString:Nt}),Ft(Gt,"buffer","b"),Ft(Gt,"byteOffset","o"),Ft(Gt,"byteLength","l"),Ft(Gt,"length","e"),z(Gt,bt,{get:function(){return this[At]}}),t.exports=function(t,r,n,s){var c=t+((s=!!s)?"Clamped":"")+"Array",l="get"+t,h="set"+t,d=o[c],g=d||{},b=d&&_(d),x=!d||!a.ABV,A={},S=d&&d.prototype,k=function(t,n){z(t,n,{get:function(){return function(t,n){var e=t._d;return e.v[l](n*r+e.o,Bt)}(this,n)},set:function(t){return function(t,n,e){var o=t._d;s&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),o.v[h](n*r+o.o,e,Bt)}(this,n,t)},enumerable:!0})};x?(d=n((function(t,n,e,o){f(t,d,c,"_d");var i,u,a,s,l=0,h=0;if(m(n)){if(!(n instanceof Q||(s=w(n))==Y||s==H))return At in n?Tt(d,n):Mt.call(d,n);i=n,h=Pt(e,r);var g=n.byteLength;if(void 0===o){if(g%r)throw V(Ot);if((u=g-h)<0)throw V(Ot)}else if((u=y(o)*r)+h>g)throw V(Ot);a=u/r}else a=v(n),i=new Q(u=a*r);for(p(t,"_d",{b:i,o:h,l:u,e:a,v:new X(i)});l<a;)k(t,l++)})),S=d.prototype=O(Gt),p(S,"constructor",d)):i((function(){d(1)}))&&i((function(){new d(-1)}))&&C((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=n((function(t,n,e,o){var i;return f(t,d,c),m(n)?n instanceof Q||(i=w(n))==Y||i==H?void 0!==o?new g(n,Pt(e,r),o):void 0!==e?new g(n,Pt(e,r)):new g(n):At in n?Tt(d,n):Mt.call(d,n):new g(v(n))})),Z(b!==Function.prototype?B(g).concat(B(b)):B(g),(function(t){t in d||p(d,t,g[t])})),d.prototype=S,e||(S.constructor=d));var P=S[gt],E=!!P&&("values"==P.name||null==P.name),I=zt.values;p(d,xt,!0),p(S,At,c),p(S,St,!0),p(S,wt,d),(s?new d(1)[bt]==c:bt in S)||z(S,bt,{get:function(){return c}}),A[c]=d,u(u.G+u.W+u.F*(d!=g),A),u(u.S,c,{BYTES_PER_ELEMENT:r}),u(u.S+u.F*i((function(){g.of.call(d,1)})),c,{from:Mt,of:Ct}),J in S||p(S,J,r),u(u.P,c,Lt),U(c),u(u.P+u.F*kt,c,{set:Wt}),u(u.P+u.F*!E,c,zt),e||S.toString==yt||(S.toString=yt),u(u.P+u.F*i((function(){new d(1).slice()})),c,{slice:Rt}),u(u.P+u.F*(i((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!i((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:Nt}),M[c]=E?P:I,e||E||p(S,gt,I)}}else t.exports=function(){}},function(t,r,n){for(var e,o=n(1),i=n(2),u=n(10),a=u("typed_array"),s=u("view"),c=!(!o.ArrayBuffer||!o.DataView),f=c,l=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=o[p[l++]])?(i(e.prototype,a,!0),i(e.prototype,s,!0)):f=!1;t.exports={ABV:c,CONSTR:f,TYPED:a,VIEW:s}},function(t,r,n){var e=n(21);t.exports=function(t,r,n){for(var o in r)e(t,o,r[o],n);return t}},function(t,r){t.exports=function(t,r,n,e){if(!(t instanceof r)||void 0!==e&&e in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,r,n){var e=n(11),o=n(4);t.exports=function(t){if(void 0===t)return 0;var r=e(t),n=o(r);if(r!==n)throw RangeError("Wrong length!");return n}},function(t,r,n){var e=n(41),o=n(29).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,r,n){var e=n(6),o=n(18),i=n(25)(!1),u=n(28)("IE_PROTO");t.exports=function(t,r){var n,a=o(t),s=0,c=[];for(n in a)n!=u&&e(a,n)&&c.push(n);for(;r.length>s;)e(a,n=r[s++])&&(~i(c,n)||c.push(n));return c}},function(t,r,n){var e=n(7),o=n(19),i=n(4);t.exports=function(t){for(var r=e(this),n=i(r.length),u=arguments.length,a=o(u>1?arguments[1]:void 0,n),s=u>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>a;)r[a++]=t;return r}},function(t,r,n){var e=n(27),o=n(0)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var r,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),o))?n:i?e(r):"Object"==(u=e(r))&&"function"==typeof r.callee?"Arguments":u}},function(t,r,n){var e=n(15),o=n(52),i=n(29),u=n(28)("IE_PROTO"),a=function(){},s=function(){var t,r=n(32)("iframe"),e=i.length;for(r.style.display="none",n(54).appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\\/script>"),t.close(),s=t.F;e--;)delete s.prototype[i[e]];return s()};t.exports=Object.create||function(t,r){var n;return null!==t?(a.prototype=e(t),n=new a,a.prototype=null,n[u]=t):n=s(),void 0===r?n:o(n,r)}},function(t,r,n){var e=n(6),o=n(7),i=n(28)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,r,n){function e(t){this.data=t,this.pos=0}function o(t){this.stream=new e(t),this.output={loopCount:1}}n.r(r),n(47),n(49),n(71),n(72),e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.peekByte=function(){return this.data[this.pos]},e.prototype.readBytes=function(t){var r=this.data.subarray(this.pos,this.pos+t);return this.pos+=t,r},e.prototype.peekBytes=function(t){return this.data.subarray(this.pos,this.pos+t)},e.prototype.readString=function(t){for(var r="",n=0;n<t;n++)r+=String.fromCharCode(this.readByte());return r},e.prototype.readBitArray=function(){for(var t=[],r=this.readByte(),n=7;n>=0;n--)t.push(!!(r&1<<n));return t},e.prototype.readUnsigned=function(t){var r=this.readBytes(2);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]},o.prototype.parse=function(t){return this.parseParts(this.output,t),this.output},o.prototype.parseParts=function(t,r){for(var n=0;n<r.length;n++){var e=r[n];this.parsePart(t,e)}},o.prototype.parsePart=function(t,r){var n,e=r.label;if(!r.requires||r.requires(this.stream,this.output,t))if(r.loop){for(var o=[];r.loop(this.stream);){var i={};this.parseParts(i,r.parts),o.push(i)}t[e]=o}else r.parts?(n={},this.parseParts(n,r.parts),t[e]=n):r.parser?(n=r.parser(this.stream,this.output,t),r.skip||(t[e]=n)):r.bits&&(t[e]=this.parseBits(r.bits))},o.prototype.parseBits=function(t){var r={},n=this.stream.readBitArray();for(var e in t){var o=t[e];o.length?r[e]=n.slice(o.index,o.index+o.length).reduce((function(t,r){return 2*t+r}),0):r[e]=n[o.index]}return r};var i=function(t){return function(r){return r.readBytes(t)}},u=function(t){return function(r){return r.readString(t)}},a=function(t){return function(r){return r.readUnsigned(t)}},s=function(t,r){return function(n,e,o){for(var i=r(n,e,o),u=new Array(i),a=0;a<i;a++)u[a]=n.readBytes(t);return u}};function c(t){var r=new o(new Uint8Array(t));this.raw=r.parse(y),this.raw.hasImages=!1;for(var n=0;n<this.raw.frames.length;n++)if(this.raw.frames[n].image){this.raw.hasImages=!0;break}}c.prototype.decompressFrame=function(t,r){if(t>=this.raw.frames.length)return null;var n=this.raw.frames[t];if(n.image){var e=n.image.descriptor.width*n.image.descriptor.height,o=function(t,r,n){var e,o,i,u,a,s,c,f,l,p,h,d,y,v,g,b,x=4096,w=n,m=new Array(n),A=new Array(x),S=new Array(x),O=new Array(4097);for(a=1+(o=1<<(d=t)),e=o+2,c=-1,i=(1<<(u=d+1))-1,l=0;l<o;l++)A[l]=0,S[l]=l;for(h=f=y=v=b=g=0,p=0;p<w;){if(0===v){if(f<u){h+=r[g]<<f,f+=8,g++;continue}if(l=h&i,h>>=u,f-=u,l>e||l==a)break;if(l==o){i=(1<<(u=d+1))-1,e=o+2,c=-1;continue}if(-1==c){O[v++]=S[l],c=l,y=l;continue}for(s=l,l==e&&(O[v++]=y,l=c);l>o;)O[v++]=S[l],l=A[l];y=255&S[l],O[v++]=y,e<x&&(A[e]=c,S[e]=y,0==(++e&i)&&e<x&&(u++,i+=e)),c=s}v--,m[b++]=O[v],p++}for(p=b;p<w;p++)m[p]=0;return m}(n.image.data.minCodeSize,n.image.data.blocks,e);n.image.descriptor.lct.interlaced&&(o=function(t,r){for(var n=new Array(t.length),e=t.length/r,o=function(e,o){var i=t.slice(o*r,(o+1)*r);n.splice.apply(n,[e*r,r].concat(i))},i=[0,4,2,1],u=[8,8,4,2],a=0,s=0;s<4;s++)for(var c=i[s];c<e;c+=u[s])o(c,a),a++;return n}(o,n.image.descriptor.width));var i={pixels:o,dims:{top:n.image.descriptor.top,left:n.image.descriptor.left,width:n.image.descriptor.width,height:n.image.descriptor.height}};return n.image.descriptor.lct&&n.image.descriptor.lct.exists?i.colorTable=n.image.lct:i.colorTable=this.raw.gct,n.gce&&(i.delay=10*(n.gce.delay||10),i.disposalType=n.gce.extras.disposal,n.gce.extras.transparentColorGiven&&(i.transparentIndex=n.gce.transparentColorIndex)),r&&(i.patch=function(t){for(var r=t.pixels.length,n=new Uint8ClampedArray(4*r),e=0;e<r;e++){var o=4*e,i=t.pixels[e],u=t.colorTable[i];n[o]=u[0],n[o+1]=u[1],n[o+2]=u[2],n[o+3]=i!==t.transparentIndex?255:0}return n}(i)),i}return null},c.prototype.decompressFrames=function(t){for(var r=[],n=0;n<this.raw.frames.length;n++)this.raw.frames[n].image&&r.push(this.decompressFrame(n,t));return r};var f={label:"blocks",parser:function(t){var r,n=0,e=0,o=new Uint8Array(8192);do{for(n=t.readByte();e+n>o.length;)r=void 0,(r=new Uint8Array(o.length+8192)).set(o),o=r;o.set(t.readBytes(n),e),e+=n}while(0!==n);return o.subarray(0,e)}},l={label:"gce",requires:function(t){var r=t.peekBytes(2);return 33===r[0]&&249===r[1]},parts:[{label:"codes",parser:i(2),skip:!0},{label:"byteSize",parser:function(t){return t.readByte()}},{label:"extras",bits:{future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}}},{label:"delay",parser:a(!0)},{label:"transparentColorIndex",parser:function(t){return t.readByte()}},{label:"terminator",parser:function(t){return t.readByte()},skip:!0}]},p={label:"image",requires:function(t){return 44===t.peekByte()},parts:[{label:"code",parser:function(t){return t.readByte()},skip:!0},{label:"descriptor",parts:[{label:"left",parser:a(!0)},{label:"top",parser:a(!0)},{label:"width",parser:a(!0)},{label:"height",parser:a(!0)},{label:"lct",bits:{exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}}}]},{label:"lct",requires:function(t,r,n){return n.descriptor.lct.exists},parser:s(3,(function(t,r,n){return Math.pow(2,n.descriptor.lct.size+1)}))},{label:"data",parts:[{label:"minCodeSize",parser:function(t){return t.readByte()}},f]}]},h={label:"text",requires:function(t){var r=t.peekBytes(2);return 33===r[0]&&1===r[1]},parts:[{label:"codes",parser:i(2),skip:!0},{label:"blockSize",parser:function(t){return t.readByte()}},{label:"preData",parser:function(t,r,n){return t.readBytes(n.text.blockSize)}},f]},d={label:"frames",parts:[l,{label:"application",requires:function(t,r,n){var e=t.peekBytes(2);return 33===e[0]&&255===e[1]},parts:[{label:"codes",parser:i(2),skip:!0},{label:"blockSize",parser:function(t){return t.readByte()}},{label:"id",parser:function(t,r,n){return t.readString(n.blockSize)}},{label:"loopCount",parser:function(t,r,n){if(~n.id.indexOf("NETSCAPE")){var e=t.peekBytes(4);r.loopCount=(e[3]<<8)+e[2]}return null},skip:!0},f]},{label:"comment",requires:function(t,r,n){var e=t.peekBytes(2);return 33===e[0]&&254===e[1]},parts:[{label:"codes",parser:i(2),skip:!0},f]},p,h],loop:function(t){var r=t.peekByte();return 33===r||44===r}},y=[{label:"header",parts:[{label:"signature",parser:u(3)},{label:"version",parser:u(3)}]},{label:"lsd",parts:[{label:"width",parser:a(!0)},{label:"height",parser:a(!0)},{label:"gct",bits:{exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}}},{label:"backgroundColorIndex",parser:function(t){return t.readByte()}},{label:"pixelAspectRatio",parser:function(t){return t.readByte()}}]},{label:"gct",requires:function(t,r){return r.lsd.gct.exists},parser:s(3,(function(t,r){return Math.pow(2,r.lsd.gct.size+1)}))},d];function v(t,r){for(var n=-1,e=0;e<t.raw.frames.length;e++){var o=t.raw.frames[e];if(o.image&&n++,n===r)break;t.raw.frames[e]={image:!!o.image}}var i=t.decompressFrame(e,!0),u={};return u.delay=i.delay||10,u.dims=i.dims,u.disposalType=i.disposalType,u.patch=i.patch.buffer,u}var g=null,b=0;onmessage=function(t){var r=t.data.type,n=t.data.value,e=t.data.index||0,o=null,i=null;switch(r){case"decompressGif":i=n.slice(0),g=new c(i),b=0;for(var u=0;u<g.raw.frames.length;u++)g.raw.frames[u].image&&b++;o=v(g,e),postMessage({frame:o,index:e,loopCount:g.raw.loopCount,hasNext:b>e+1,frameLength:b},[o.patch]);break;case"getFrame":o=v(g,e),postMessage({frame:o,index:e,loopCount:g.raw.loopCount,hasNext:b>e+1,frameLength:b},[o.patch]),b<=e+1&&(g=null);break;default:console.error("unknown type",t.data.type)}}},function(t,r,n){var e=n(13),o=n(25)(!1),i=[].indexOf,u=!!i&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!n(34)(i)),"Array",{indexOf:function(t){return u?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,r,n){t.exports=n(22)("native-function-to-string",Function.toString)},function(t,r,n){n(35)("Uint8",1,(function(t){return function(r,n,e){return t(this,r,n,e)}}),!0)},function(t,r,n){var e=n(1),o=n(3),i=n(17),u=n(36),a=n(2),s=n(37),c=n(9),f=n(38),l=n(11),p=n(4),h=n(39),d=n(40).f,y=n(5).f,v=n(42),g=n(30),b="ArrayBuffer",x="DataView",w="Wrong index!",m=e.ArrayBuffer,A=e.DataView,S=e.Math,O=e.RangeError,_=e.Infinity,B=m,k=S.abs,P=S.pow,E=S.floor,I=S.log,j=S.LN2,T="buffer",F="byteLength",M="byteOffset",C=o?"_b":T,U=o?"_l":F,N=o?"_o":M;function L(t,r,n){var e,o,i,u=new Array(n),a=8*n-r-1,s=(1<<a)-1,c=s>>1,f=23===r?P(2,-24)-P(2,-77):0,l=0,p=t<0||0===t&&1/t<0?1:0;for((t=k(t))!=t||t===_?(o=t!=t?1:0,e=s):(e=E(I(t)/j),t*(i=P(2,-e))<1&&(e--,i*=2),(t+=e+c>=1?f/i:f*P(2,1-c))*i>=2&&(e++,i/=2),e+c>=s?(o=0,e=s):e+c>=1?(o=(t*i-1)*P(2,r),e+=c):(o=t*P(2,c-1)*P(2,r),e=0));r>=8;u[l++]=255&o,o/=256,r-=8);for(e=e<<r|o,a+=r;a>0;u[l++]=255&e,e/=256,a-=8);return u[--l]|=128*p,u}function R(t,r,n){var e,o=8*n-r-1,i=(1<<o)-1,u=i>>1,a=o-7,s=n-1,c=t[s--],f=127&c;for(c>>=7;a>0;f=256*f+t[s],s--,a-=8);for(e=f&(1<<-a)-1,f>>=-a,a+=r;a>0;e=256*e+t[s],s--,a-=8);if(0===f)f=1-u;else{if(f===i)return e?NaN:c?-_:_;e+=P(2,r),f-=u}return(c?-1:1)*e*P(2,f-r)}function W(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function z(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function V(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function q(t){return L(t,52,8)}function G(t){return L(t,23,4)}function Y(t,r,n){y(t.prototype,r,{get:function(){return this[n]}})}function H(t,r,n,e){var o=h(+n);if(o+r>t[U])throw O(w);var i=t[C]._b,u=o+t[N],a=i.slice(u,u+r);return e?a:a.reverse()}function J(t,r,n,e,o,i){var u=h(+n);if(u+r>t[U])throw O(w);for(var a=t[C]._b,s=u+t[N],c=e(+o),f=0;f<r;f++)a[s+f]=c[i?f:r-f-1]}if(u.ABV){if(!c((function(){m(1)}))||!c((function(){new m(-1)}))||c((function(){return new m,new m(1.5),new m(NaN),m.name!=b}))){for(var K,Q=(m=function(t){return f(this,m),new B(h(t))}).prototype=B.prototype,X=d(B),Z=0;X.length>Z;)(K=X[Z++])in m||a(m,K,B[K]);i||(Q.constructor=m)}var $=new A(new m(2)),tt=A.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(A.prototype,{setInt8:function(t,r){tt.call(this,t,r<<24>>24)},setUint8:function(t,r){tt.call(this,t,r<<24>>24)}},!0)}else m=function(t){f(this,m,b);var r=h(t);this._b=v.call(new Array(r),0),this[U]=r},A=function(t,r,n){f(this,A,x),f(t,m,x);var e=t[U],o=l(r);if(o<0||o>e)throw O("Wrong offset!");if(o+(n=void 0===n?e-o:p(n))>e)throw O("Wrong length!");this[C]=t,this[N]=o,this[U]=n},o&&(Y(m,F,"_l"),Y(A,T,"_b"),Y(A,F,"_l"),Y(A,M,"_o")),s(A.prototype,{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var r=H(this,2,t,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=H(this,2,t,arguments[1]);return r[1]<<8|r[0]},getInt32:function(t){return W(H(this,4,t,arguments[1]))},getUint32:function(t){return W(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,r){J(this,1,t,z,r)},setUint8:function(t,r){J(this,1,t,z,r)},setInt16:function(t,r){J(this,2,t,D,r,arguments[2])},setUint16:function(t,r){J(this,2,t,D,r,arguments[2])},setInt32:function(t,r){J(this,4,t,V,r,arguments[2])},setUint32:function(t,r){J(this,4,t,V,r,arguments[2])},setFloat32:function(t,r){J(this,4,t,G,r,arguments[2])},setFloat64:function(t,r){J(this,8,t,q,r,arguments[2])}});g(m,b),g(A,x),a(A.prototype,u.VIEW,!0),r.ArrayBuffer=m,r.DataView=A},function(t,r,n){var e=n(12),o=n(0)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,r,n){var e=n(5),o=n(15),i=n(53);t.exports=n(3)?Object.defineProperties:function(t,r){o(t);for(var n,u=i(r),a=u.length,s=0;a>s;)e.f(t,n=u[s++],r[n]);return t}},function(t,r,n){var e=n(41),o=n(29);t.exports=Object.keys||function(t){return e(t,o)}},function(t,r,n){var e=n(1).document;t.exports=e&&e.documentElement},function(t,r,n){var e=n(43),o=n(0)("iterator"),i=n(12);t.exports=n(14).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,r,n){var e=n(23),o=n(26),i=n(7),u=n(4),a=n(57);t.exports=function(t,r){var n=1==t,s=2==t,c=3==t,f=4==t,l=6==t,p=5==t||l,h=r||a;return function(r,a,d){for(var y,v,g=i(r),b=o(g),x=e(a,d,3),w=u(b.length),m=0,A=n?h(r,w):s?h(r,0):void 0;w>m;m++)if((p||m in b)&&(v=x(y=b[m],m,g),t))if(n)A[m]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return m;case 2:A.push(y)}else if(f)return!1;return l?-1:c||f?f:A}}},function(t,r,n){var e=n(58);t.exports=function(t,r){return new(e(t))(r)}},function(t,r,n){var e=n(8),o=n(59),i=n(0)("species");t.exports=function(t){var r;return o(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!o(r.prototype)||(r=void 0),e(r)&&null===(r=r[i])&&(r=void 0)),void 0===r?Array:r}},function(t,r,n){var e=n(27);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,r,n){var e=n(15),o=n(24),i=n(0)("species");t.exports=function(t,r){var n,u=e(t).constructor;return void 0===u||null==(n=e(u)[i])?r:o(n)}},function(t,r,n){var e=n(62),o=n(63),i=n(12),u=n(18);t.exports=n(64)(Array,"Array",(function(t,r){this._t=u(t),this._i=0,this._k=r}),(function(){var t=this._t,r=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==r?n:"values"==r?t[n]:[n,t[n]])}),"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,r,n){var e=n(0)("unscopables"),o=Array.prototype;null==o[e]&&n(2)(o,e,{}),t.exports=function(t){o[e][t]=!0}},function(t,r){t.exports=function(t,r){return{value:r,done:!!t}}},function(t,r,n){var e=n(17),o=n(13),i=n(21),u=n(2),a=n(12),s=n(65),c=n(30),f=n(45),l=n(0)("iterator"),p=!([].keys&&"next"in[].keys()),h="keys",d="values",y=function(){return this};t.exports=function(t,r,n,v,g,b,x){s(n,r,v);var w,m,A,S=function(t){if(!p&&t in k)return k[t];switch(t){case h:case d:return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=r+" Iterator",_=g==d,B=!1,k=t.prototype,P=k[l]||k["@@iterator"]||g&&k[g],E=P||S(g),I=g?_?S("entries"):E:void 0,j="Array"==r&&k.entries||P;if(j&&(A=f(j.call(new t)))!==Object.prototype&&A.next&&(c(A,O,!0),e||"function"==typeof A[l]||u(A,l,y)),_&&P&&P.name!==d&&(B=!0,E=function(){return P.call(this)}),e&&!x||!p&&!B&&k[l]||u(k,l,E),a[r]=E,a[O]=y,g)if(w={values:_?E:S(d),keys:b?E:S(h),entries:I},x)for(m in w)m in k||i(k,m,w[m]);else o(o.P+o.F*(p||B),r,w);return w}},function(t,r,n){var e=n(44),o=n(16),i=n(30),u={};n(2)(u,n(0)("iterator"),(function(){return this})),t.exports=function(t,r,n){t.prototype=e(u,{next:o(1,n)}),i(t,r+" Iterator")}},function(t,r,n){var e=n(0)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,r){if(!r&&!o)return!1;var n=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:n=!0}},i[e]=function(){return u},t(i)}catch(t){}return n}},function(t,r,n){var e=n(1),o=n(5),i=n(3),u=n(0)("species");t.exports=function(t){var r=e[t];i&&r&&!r[u]&&o.f(r,u,{configurable:!0,get:function(){return this}})}},function(t,r,n){var e=n(7),o=n(19),i=n(4);t.exports=[].copyWithin||function(t,r){var n=e(this),u=i(n.length),a=o(t,u),s=o(r,u),c=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===c?u:o(c,u))-s,u-a),l=1;for(s<a&&a<s+f&&(l=-1,s+=f-1,a+=f-1);f-- >0;)s in n?n[a]=n[s]:delete n[a],a+=l,s+=l;return n}},function(t,r,n){var e=n(70),o=n(16),i=n(18),u=n(20),a=n(6),s=n(31),c=Object.getOwnPropertyDescriptor;r.f=n(3)?c:function(t,r){if(t=i(t),r=u(r,!0),s)try{return c(t,r)}catch(t){}if(a(t,r))return o(!e.f.call(t,r),t[r])}},function(t,r){r.f={}.propertyIsEnumerable},function(t,r,n){n(35)("Uint8",1,(function(t){return function(r,n,e){return t(this,r,n,e)}}))},function(t,r,n){var e=n(13),o=n(73);e(e.P+e.F*!n(34)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,r,n){var e=n(24),o=n(7),i=n(26),u=n(4);t.exports=function(t,r,n,a,s){e(r);var c=o(t),f=i(c),l=u(c.length),p=s?l-1:0,h=s?-1:1;if(n<2)for(;;){if(p in f){a=f[p],p+=h;break}if(p+=h,s?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;s?p>=0:l>p;p+=h)p in f&&(a=r(a,f[p],p,c));return a}}]);', n.p + "c8f9b987ed2b1bcabff7.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return n(100)('!function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=48)}([function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n,r){var e=r(13)("wks"),o=r(14),i=r(0).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},function(t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(4);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(6);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){t.exports=!r(16)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(9),o=r(1)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(3),o=r(25),i=r(26),u=Object.defineProperty;n.f=r(7)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(0),o=r(15),i=r(18),u=r(14)("src"),f=r(28),c="toString",a=(""+f).split(c);r(2).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,f){var c="function"==typeof r;c&&(i(r,"name")||o(r,"name",n)),t[n]!==r&&(c&&(i(r,u)||o(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:f?t[n]?t[n]=r:o(t,n,r):(delete t[n],o(t,n,r)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[u]||f.call(this)}))},function(t,n){t.exports=!1},function(t,n,r){var e=r(2),o=r(0),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(12)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(10),o=r(27);t.exports=r(7)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(4),o=r(0).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){t.exports={}},function(t,n,r){var e,o,i,u=r(5),f=r(37),c=r(38),a=r(17),s=r(0),h=s.process,p=s.setImmediate,l=s.clearImmediate,v=s.MessageChannel,y=s.Dispatch,d=0,_={},g=function(){var t=+this;if(_.hasOwnProperty(t)){var n=_[t];delete _[t],n()}},b=function(t){g.call(t.data)};p&&l||(p=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return _[++d]=function(){f("function"==typeof t?t:Function(t),n)},e(d),d},l=function(t){delete _[t]},"process"==r(9)(h)?e=function(t){h.nextTick(u(g,t,1))}:y&&y.now?e=function(t){y.now(u(g,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=b,e=u(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",b,!1)):e="onreadystatechange"in a("script")?function(t){c.appendChild(a("script")).onreadystatechange=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(u(g,t,1),0)}),t.exports={set:p,clear:l}},function(t,n,r){var e=r(6);function o(t){var n,r;this.promise=new t((function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e})),this.resolve=e(n),this.reject=e(r)}t.exports.f=function(t){return new o(t)}},function(t,n,r){t.exports=function(t){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,n){var r=t[0],e=t[1],o=t[2],i=t[3];e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&o|~e&i)+n[0]-680876936|0)<<7|r>>>25)+e|0)&e|~r&o)+n[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&e)+n[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+n[3]-1044525330|0)<<22|e>>>10)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&o|~e&i)+n[4]-176418897|0)<<7|r>>>25)+e|0)&e|~r&o)+n[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&e)+n[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+n[7]-45705983|0)<<22|e>>>10)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&o|~e&i)+n[8]+1770035416|0)<<7|r>>>25)+e|0)&e|~r&o)+n[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&e)+n[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+n[11]-1990404162|0)<<22|e>>>10)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&o|~e&i)+n[12]+1804603682|0)<<7|r>>>25)+e|0)&e|~r&o)+n[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&e)+n[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+n[15]+1236535329|0)<<22|e>>>10)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&i|o&~i)+n[1]-165796510|0)<<5|r>>>27)+e|0)&o|e&~o)+n[6]-1069501632|0)<<9|i>>>23)+r|0)&e|r&~e)+n[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+n[0]-373897302|0)<<20|e>>>12)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&i|o&~i)+n[5]-701558691|0)<<5|r>>>27)+e|0)&o|e&~o)+n[10]+38016083|0)<<9|i>>>23)+r|0)&e|r&~e)+n[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+n[4]-405537848|0)<<20|e>>>12)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&i|o&~i)+n[9]+568446438|0)<<5|r>>>27)+e|0)&o|e&~o)+n[14]-1019803690|0)<<9|i>>>23)+r|0)&e|r&~e)+n[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+n[8]+1163531501|0)<<20|e>>>12)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e&i|o&~i)+n[13]-1444681467|0)<<5|r>>>27)+e|0)&o|e&~o)+n[2]-51403784|0)<<9|i>>>23)+r|0)&e|r&~e)+n[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+n[12]-1926607734|0)<<20|e>>>12)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e^o^i)+n[5]-378558|0)<<4|r>>>28)+e|0)^e^o)+n[8]-2022574463|0)<<11|i>>>21)+r|0)^r^e)+n[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+n[14]-35309556|0)<<23|e>>>9)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e^o^i)+n[1]-1530992060|0)<<4|r>>>28)+e|0)^e^o)+n[4]+1272893353|0)<<11|i>>>21)+r|0)^r^e)+n[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+n[10]-1094730640|0)<<23|e>>>9)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e^o^i)+n[13]+681279174|0)<<4|r>>>28)+e|0)^e^o)+n[0]-358537222|0)<<11|i>>>21)+r|0)^r^e)+n[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+n[6]+76029189|0)<<23|e>>>9)+o|0,e=((e+=((o=((o+=((i=((i+=((r=((r+=(e^o^i)+n[9]-640364487|0)<<4|r>>>28)+e|0)^e^o)+n[12]-421815835|0)<<11|i>>>21)+r|0)^r^e)+n[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+n[2]-995338651|0)<<23|e>>>9)+o|0,e=((e+=((i=((i+=(e^((r=((r+=(o^(e|~i))+n[0]-198630844|0)<<6|r>>>26)+e|0)|~o))+n[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~e))+n[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+n[5]-57434055|0)<<21|e>>>11)+o|0,e=((e+=((i=((i+=(e^((r=((r+=(o^(e|~i))+n[12]+1700485571|0)<<6|r>>>26)+e|0)|~o))+n[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~e))+n[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+n[1]-2054922799|0)<<21|e>>>11)+o|0,e=((e+=((i=((i+=(e^((r=((r+=(o^(e|~i))+n[8]+1873313359|0)<<6|r>>>26)+e|0)|~o))+n[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~e))+n[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+n[13]+1309151649|0)<<21|e>>>11)+o|0,e=((e+=((i=((i+=(e^((r=((r+=(o^(e|~i))+n[4]-145523070|0)<<6|r>>>26)+e|0)|~o))+n[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~e))+n[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+n[9]-343485551|0)<<21|e>>>11)+o|0,t[0]=r+t[0]|0,t[1]=e+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function e(t){var n,r=[];for(n=0;n<64;n+=4)r[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return r}function o(t){var n,r=[];for(n=0;n<64;n+=4)r[n>>2]=t[n]+(t[n+1]<<8)+(t[n+2]<<16)+(t[n+3]<<24);return r}function i(t){var n,o,i,u,f,c,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=a;n+=64)r(s,e(t.substring(n-64,n)));for(o=(t=t.substring(n-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(r(s,i),n=0;n<16;n+=1)i[n]=0;return u=(u=8*a).toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(u[2],16),c=parseInt(u[1],16)||0,i[14]=f,i[15]=c,r(s,i),s}function u(t){var r,e="";for(r=0;r<4;r+=1)e+=n[t>>8*r+4&15]+n[t>>8*r&15];return e}function f(t){var n;for(n=0;n<t.length;n+=1)t[n]=u(t[n]);return t.join("")}function c(t){return/[\\u0080-\\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function a(t){var n,r=[],e=t.length;for(n=0;n<e-1;n+=2)r.push(parseInt(t.substr(n,2),16));return String.fromCharCode.apply(String,r)}function s(){this.reset()}return f(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,n){return(t=0|t||0)<0?Math.max(t+n,0):Math.min(t,n)}ArrayBuffer.prototype.slice=function(n,r){var e,o,i,u,f=this.byteLength,c=t(n,f),a=f;return undefined!==r&&(a=t(r,f)),c>a?new ArrayBuffer(0):(e=a-c,o=new ArrayBuffer(e),i=new Uint8Array(o),u=new Uint8Array(this,c,e),i.set(u),o)}}(),s.prototype.append=function(t){return this.appendBinary(c(t)),this},s.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var n,o=this._buff.length;for(n=64;n<=o;n+=64)r(this._hash,e(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},s.prototype.end=function(t){var n,r,e=this._buff,o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<o;n+=1)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);return this._finish(i,o),r=f(this._hash),t&&(r=a(r)),this.reset(),r},s.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},s.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},s.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},s.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},s.prototype._finish=function(t,n){var e,o,i,u=n;if(t[u>>2]|=128<<(u%4<<3),u>55)for(r(this._hash,t),u=0;u<16;u+=1)t[u]=0;e=(e=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(e[2],16),i=parseInt(e[1],16)||0,t[14]=o,t[15]=i,r(this._hash,t)},s.hash=function(t,n){return s.hashBinary(c(t),n)},s.hashBinary=function(t,n){var r=f(i(t));return n?a(r):r},s.ArrayBuffer=function(){this.reset()},s.ArrayBuffer.prototype.append=function(t){var n,e,i,u,f,c=(e=this._buff.buffer,i=t,u=!0,(f=new Uint8Array(e.byteLength+i.byteLength)).set(new Uint8Array(e)),f.set(new Uint8Array(i),e.byteLength),u?f:f.buffer),a=c.length;for(this._length+=t.byteLength,n=64;n<=a;n+=64)r(this._hash,o(c.subarray(n-64,n)));return this._buff=n-64<a?new Uint8Array(c.buffer.slice(n-64)):new Uint8Array(0),this},s.ArrayBuffer.prototype.end=function(t){var n,r,e=this._buff,o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);return this._finish(i,o),r=f(this._hash),t&&(r=a(r)),this.reset(),r},s.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},s.ArrayBuffer.prototype.getState=function(){var t,n=s.prototype.getState.call(this);return n.buff=(t=n.buff,String.fromCharCode.apply(null,new Uint8Array(t))),n},s.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,n){var r,e=t.length,o=new ArrayBuffer(e),i=new Uint8Array(o);for(r=0;r<e;r+=1)i[r]=t.charCodeAt(r);return n?i:o}(t.buff,!0),s.prototype.setState.call(this,t)},s.ArrayBuffer.prototype.destroy=s.prototype.destroy,s.ArrayBuffer.prototype._finish=s.prototype._finish,s.ArrayBuffer.hash=function(t,n){var e=f(function(t){var n,e,i,u,f,c,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=a;n+=64)r(s,o(t.subarray(n-64,n)));for(e=(t=n-64<a?t.subarray(n-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<e;n+=1)i[n>>2]|=t[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(r(s,i),n=0;n<16;n+=1)i[n]=0;return u=(u=8*a).toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(u[2],16),c=parseInt(u[1],16)||0,i[14]=f,i[15]=c,r(s,i),s}(new Uint8Array(t)));return n?a(e):e},s}()},function(t,n,r){var e,o,i,u,f=r(12),c=r(0),a=r(5),s=r(8),h=r(24),p=r(4),l=r(6),v=r(29),y=r(30),d=r(36),_=r(20).set,g=r(39)(),b=r(21),m=r(40),x=r(41),w=r(42),A="Promise",S=c.TypeError,j=c.process,B=j&&j.versions,P=B&&B.v8||"",M=c.Promise,O="process"==s(j),T=function(){},U=o=b.f,C=!!function(){try{var t=M.resolve(1),n=(t.constructor={})[r(1)("species")]=function(t){t(T,T)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof n&&0!==P.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),E=function(t){var n;return!(!p(t)||"function"!=typeof(n=t.then))&&n},F=function(t,n){if(!t._n){t._n=!0;var r=t._c;g((function(){for(var e=t._v,o=1==t._s,i=0,u=function(n){var r,i,u,f=o?n.ok:n.fail,c=n.resolve,a=n.reject,s=n.domain;try{f?(o||(2==t._h&&R(t),t._h=1),!0===f?r=e:(s&&s.enter(),r=f(e),s&&(s.exit(),u=!0)),r===n.promise?a(S("Promise-chain cycle")):(i=E(r))?i.call(r,c,a):c(r)):a(e)}catch(t){s&&!u&&s.exit(),a(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,n&&!t._h&&I(t)}))}},I=function(t){_.call(c,(function(){var n,r,e,o=t._v,i=k(t);if(i&&(n=m((function(){O?j.emit("unhandledRejection",o,t):(r=c.onunhandledrejection)?r({promise:t,reason:o}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",o)})),t._h=O||k(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){_.call(c,(function(){var n;O?j.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})}))},L=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),F(n,!0))},z=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can\'t be resolved itself");(n=E(t))?g((function(){var e={_w:r,_d:!1};try{n.call(t,a(z,e,1),a(L,e,1))}catch(t){L.call(e,t)}})):(r._v=t,r._s=1,F(r,!1))}catch(t){L.call({_w:r,_d:!1},t)}}};C||(M=function(t){v(this,M,A,"_h"),l(t),e.call(this);try{t(a(z,this,1),a(L,this,1))}catch(t){L.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(43)(M.prototype,{then:function(t,n){var r=U(d(this,M));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=O?j.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&F(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new e;this.promise=t,this.resolve=a(z,t,1),this.reject=a(L,t,1)},b.f=U=function(t){return t===M||t===u?new i(t):o(t)}),h(h.G+h.W+h.F*!C,{Promise:M}),r(44)(M,A),r(45)(A),u=r(2).Promise,h(h.S+h.F*!C,A,{reject:function(t){var n=U(this);return(0,n.reject)(t),n.promise}}),h(h.S+h.F*(f||!C),A,{resolve:function(t){return w(f&&this===u?M:this,t)}}),h(h.S+h.F*!(C&&r(46)((function(t){M.all(t).catch(T)}))),A,{all:function(t){var n=this,r=U(n),e=r.resolve,o=r.reject,i=m((function(){var r=[],i=0,u=1;y(t,!1,(function(t){var f=i++,c=!1;r.push(void 0),u++,n.resolve(t).then((function(t){c||(c=!0,r[f]=t,--u||e(r))}),o)})),--u||e(r)}));return i.e&&o(i.v),r.promise},race:function(t){var n=this,r=U(n),e=r.reject,o=m((function(){y(t,!1,(function(t){n.resolve(t).then(r.resolve,e)}))}));return o.e&&e(o.v),r.promise}})},function(t,n,r){var e=r(0),o=r(2),i=r(15),u=r(11),f=r(5),c=function(t,n,r){var a,s,h,p,l=t&c.F,v=t&c.G,y=t&c.S,d=t&c.P,_=t&c.B,g=v?e:y?e[n]||(e[n]={}):(e[n]||{}).prototype,b=v?o:o[n]||(o[n]={}),m=b.prototype||(b.prototype={});for(a in v&&(r=n),r)h=((s=!l&&g&&void 0!==g[a])?g:r)[a],p=_&&s?f(h,e):d&&"function"==typeof h?f(Function.call,h):h,g&&u(g,a,h,t&c.U),b[a]!=h&&i(b,a,p),d&&m[a]!=h&&(m[a]=h)};e.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,r){t.exports=!r(7)&&!r(16)((function(){return 7!=Object.defineProperty(r(17)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(4);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can\'t convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){t.exports=r(13)("native-function-to-string",Function.toString)},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){var e=r(5),o=r(31),i=r(32),u=r(3),f=r(33),c=r(35),a={},s={};(n=t.exports=function(t,n,r,h,p){var l,v,y,d,_=p?function(){return t}:c(t),g=e(r,h,n?2:1),b=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(i(_)){for(l=f(t.length);l>b;b++)if((d=n?g(u(v=t[b])[0],v[1]):g(t[b]))===a||d===s)return d}else for(y=_.call(t);!(v=y.next()).done;)if((d=o(y,g,v.value,n))===a||d===s)return d}).BREAK=a,n.RETURN=s},function(t,n,r){var e=r(3);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(19),o=r(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){var e=r(34),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(8),o=r(1)("iterator"),i=r(19);t.exports=r(2).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,n,r){var e=r(3),o=r(6),i=r(1)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[i])?n:o(r)}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(0).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(0),o=r(20).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,f=e.Promise,c="process"==r(9)(u);t.exports=function(){var t,n,r,a=function(){var e,o;for(c&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(c)r=function(){u.nextTick(a)};else if(!i||e.navigator&&e.navigator.standalone)if(f&&f.resolve){var s=f.resolve(void 0);r=function(){s.then(a)}}else r=function(){o.call(e,a)};else{var h=!0,p=document.createTextNode("");new i(a).observe(p,{characterData:!0}),r=function(){p.data=h=!h}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(0).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){var e=r(3),o=r(4),i=r(21);t.exports=function(t,n){if(e(t),o(n)&&n.constructor===t)return n;var r=i.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){var e=r(11);t.exports=function(t,n,r){for(var o in n)e(t,o,n[o],r);return t}},function(t,n,r){var e=r(10).f,o=r(18),i=r(1)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n,r){var e=r(0),o=r(10),i=r(7),u=r(1)("species");t.exports=function(t){var n=e[t];i&&n&&!n[u]&&o.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(1)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){var e=r(8),o={};o[r(1)("toStringTag")]="z",o+""!="[object z]"&&r(11)(Object.prototype,"toString",(function(){return"[object "+e(this)+"]"}),!0)},function(t,n,r){r.r(n),r(23),r(47);var e=r(22),o=r.n(e);onmessage=function(t){switch(t.data.type){case"Blob":(n=t.data.value,new Promise((function(t){var r=2097152,e=Math.ceil(n.size/r),i=new o.a.ArrayBuffer,u=new FileReader,f=0;function c(){var t=f*r,e=t+r>=n.size?n.size:t+r;u.readAsArrayBuffer(n.slice(t,e))}u.onload=function(n){i.append(n.target.result),++f<e?c():t(i.end())},u.onerror=function(){console.warn("oops, something went wrong."),t(null)},c()}))).then((function(t){return postMessage({success:!!t,md5:t})}));break;default:console.error("unknown type",t.data.type)}var n}}]);', n.p + "f09f4903ccbf4810c32f.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return new Worker(n.p + "72454ca4eaca7528794c.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return n(100)('!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=100)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(27)("wks"),i=n(14),a=n(0).Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=r},function(t,e,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){var e,n,r,i,a,o;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)a=t[e],o.set(a,i),i+=a.length;return o}},o={arraySet:function(t,e,n,r,i){for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,a)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e,n){var r=n(9),i=n(21);t.exports=n(4)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(20)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(16),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(6),i=n(40),a=n(30),o=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=!1},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports={}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(54);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(12),i=n(1)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(0),i=n(3),a=n(10),o=n(14)("src"),s=n(71),u="toString",f=(""+s).split(u);n(13).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(a(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(a(n,o)||i(n,o,t[e]?""+t[e]:f.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(t,e,n){var r=n(9).f,i=n(10),a=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,n){var r=n(53),i=n(54);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(16),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):a(t,e)}},function(t,e,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){var r=n(13),i=n(0),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(11)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(0),i=n(13),a=n(3),o=n(22),s=n(8),u=function(t,e,n){var f,c,h,l,d=t&u.F,_=t&u.G,p=t&u.S,v=t&u.P,g=t&u.B,b=_?r:p?r[e]||(r[e]={}):(r[e]||{}).prototype,w=_?i:i[e]||(i[e]={}),y=w.prototype||(w.prototype={});for(f in _&&(n=e),n)h=((c=!d&&b&&void 0!==b[f])?b:n)[f],l=g&&c?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,b&&o(b,f,h,t&u.U),w[f]!=h&&a(w,f,l),v&&y[f]!=h&&(y[f]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(7),i=n(0).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(22);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(27)("keys"),i=n(14);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=function(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+e[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(t,e,n){var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var a=r,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},function(t,e,n){var r=n(2),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,e.string2buf=function(t){var e,n,i,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),o=0,a=0;o<u;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,a,s=e||t.length,f=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)f[r++]=i;else if((a=o[i])>4)f[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&t[n++],a--;a>1?f[r++]=65533:i<65536?f[r++]=i:(i-=65536,f[r++]=55296|i>>10&1023,f[r++]=56320|1023&i)}return u(f,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e}},function(t,e,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){t.exports=!n(4)&&!n(20)((function(){return 7!=Object.defineProperty(n(29)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(15),i=n(1)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e,n){var r=n(19),i=n(1)("iterator"),a=n(15);t.exports=n(13).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||a[r(t)]}},function(t,e,n){var r=n(6),i=n(18),a=n(1)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||null==(n=r(o)[a])?e:i(n)}},function(t,e,n){var r,i,a,o=n(8),s=n(74),u=n(45),f=n(29),c=n(0),h=c.process,l=c.setImmediate,d=c.clearImmediate,_=c.MessageChannel,p=c.Dispatch,v=0,g={},b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},w=function(t){b.call(t.data)};l&&d||(l=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},d=function(t){delete g[t]},"process"==n(12)(h)?r=function(t){h.nextTick(o(b,t,1))}:p&&p.now?r=function(t){p.now(o(b,t,1))}:_?(a=(i=new _).port2,i.port1.onmessage=w,r=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",w,!1)):r="onreadystatechange"in f("script")?function(t){u.appendChild(f("script")).onreadystatechange=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(o(b,t,1),0)}),t.exports={set:l,clear:d}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(18);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(0),i=n(9),a=n(4),o=n(1)("species");t.exports=function(t){var e=r[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(1)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},t(a)}catch(t){}return n}},function(t,e,n){for(var r,i=n(0),a=n(3),o=n(14),s=o("typed_array"),u=o("view"),f=!(!i.ArrayBuffer||!i.DataView),c=f,h=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[l[h++]])?(a(r.prototype,s,!0),a(r.prototype,u,!0)):c=!1;t.exports={ABV:f,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){var r=n(16),i=n(5);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(52),i=n(34).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(10),i=n(24),a=n(55)(!1),o=n(33)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,f=[];for(n in s)n!=o&&r(s,n)&&f.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~a(f,n)||f.push(n));return f}},function(t,e,n){var r=n(12);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,e,n){var r=n(24),i=n(5),a=n(25);t.exports=function(t){return function(e,n,o){var s,u=r(e),f=i(u.length),c=a(o,f);if(t&&n!=n){for(;f>c;)if((s=u[c++])!=s)return!0}else for(;f>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(17),i=n(25),a=n(5);t.exports=function(t){for(var e=r(this),n=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,f=void 0===u?n:i(u,n);f>s;)e[s++]=t;return e}},function(t,e,n){var r=n(6),i=n(86),a=n(34),o=n(33)("IE_PROTO"),s=function(){},u=function(){var t,e=n(29)("iframe"),r=a.length;for(e.style.display="none",n(45).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\\/script>"),t.close(),u=t.F;r--;)delete u.prototype[a[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(10),i=n(17),a=n(33)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var r={};(0,n(2).assign)(r,n(62),n(65),n(39)),t.exports=r},function(t,e,n){t.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+e[1]-389564586|0)<<12|a>>>20)+n|0)&n|~a&r)+e[2]+606105819|0)<<17|i>>>15)+a|0)&a|~i&n)+e[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+e[5]+1200080426|0)<<12|a>>>20)+n|0)&n|~a&r)+e[6]-1473231341|0)<<17|i>>>15)+a|0)&a|~i&n)+e[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+e[9]-1958414417|0)<<12|a>>>20)+n|0)&n|~a&r)+e[10]-42063|0)<<17|i>>>15)+a|0)&a|~i&n)+e[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+e[13]-40341101|0)<<12|a>>>20)+n|0)&n|~a&r)+e[14]-1502002290|0)<<17|i>>>15)+a|0)&a|~i&n)+e[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+e[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+e[6]-1069501632|0)<<9|a>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|i>>>18)+a|0)&n|a&~n)+e[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+e[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+e[10]+38016083|0)<<9|a>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|i>>>18)+a|0)&n|a&~n)+e[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+e[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+e[14]-1019803690|0)<<9|a>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|i>>>18)+a|0)&n|a&~n)+e[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+e[2]-51403784|0)<<9|a>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|i>>>18)+a|0)&n|a&~n)+e[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+e[8]-2022574463|0)<<11|a>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|i>>>16)+a|0)^a^n)+e[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+e[4]+1272893353|0)<<11|a>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|i>>>16)+a|0)^a^n)+e[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+e[0]-358537222|0)<<11|a>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|i>>>16)+a|0)^a^n)+e[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+e[12]-421815835|0)<<11|a>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|i>>>16)+a|0)^a^n)+e[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+e[7]+1126891415|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+e[14]-1416354905|0)<<15|i>>>17)+a|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+e[3]-1894986606|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+e[10]-1051523|0)<<15|i>>>17)+a|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+e[15]-30611744|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+e[6]-1560198380|0)<<15|i>>>17)+a|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+e[11]-1120210379|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+e[2]+718787259|0)<<15|i>>>17)+a|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=a+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function i(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function a(t){var e,i,a,o,s,u,f=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=f;e+=64)n(c,r(t.substring(e-64,e)));for(i=(t=t.substring(e-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(n(c,a),e=0;e<16;e+=1)a[e]=0;return o=(o=8*f).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),u=parseInt(o[1],16)||0,a[14]=s,a[15]=u,n(c,a),c}function o(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=o(t[e]);return t.join("")}function u(t){return/[\\u0080-\\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function f(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return s(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,n){var r,i,a,o,s=this.byteLength,u=t(e,s),f=s;return undefined!==n&&(f=t(n,s)),u>f?new ArrayBuffer(0):(r=f-u,i=new ArrayBuffer(r),a=new Uint8Array(i),o=new Uint8Array(this,u,r),a.set(o),i)}}(),c.prototype.append=function(t){return this.appendBinary(u(t)),this},c.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,i=this._buff.length;for(e=64;e<=i;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},c.prototype.end=function(t){var e,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(a,i),n=s(this._hash),t&&(n=f(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},c.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(t,e){var r,i,a,o=e;if(t[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,t),o=0;o<16;o+=1)t[o]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),a=parseInt(r[1],16)||0,t[14]=i,t[15]=a,n(this._hash,t)},c.hash=function(t,e){return c.hashBinary(u(t),e)},c.hashBinary=function(t,e){var n=s(a(t));return e?f(n):n},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(t){var e,r,a,o,s,u=(r=this._buff.buffer,a=t,o=!0,(s=new Uint8Array(r.byteLength+a.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(a),r.byteLength),o?s:s.buffer),f=u.length;for(this._length+=t.byteLength,e=64;e<=f;e+=64)n(this._hash,i(u.subarray(e-64,e)));return this._buff=e-64<f?new Uint8Array(u.buffer.slice(e-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)a[e>>2]|=r[e]<<(e%4<<3);return this._finish(a,i),n=s(this._hash),t&&(n=f(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var t,e=c.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},c.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,i=new ArrayBuffer(r),a=new Uint8Array(i);for(n=0;n<r;n+=1)a[n]=t.charCodeAt(n);return e?a:i}(t.buff,!0),c.prototype.setState.call(this,t)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(t,e){var r=s(function(t){var e,r,a,o,s,u,f=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=f;e+=64)n(c,i(t.subarray(e-64,e)));for(r=(t=e-64<f?t.subarray(e-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)a[e>>2]|=t[e]<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(n(c,a),e=0;e<16;e+=1)a[e]=0;return o=(o=8*f).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),u=parseInt(o[1],16)||0,a[14]=s,a[15]=u,n(c,a),c}(new Uint8Array(t)));return e?f(r):r},c}()},function(t,e,n){var r=n(80),i=n(81),a=n(82);t.exports=function(t,e){return r(t)||i(t,e)||a()}},function(t,e,n){var r=n(63),i=n(2),a=n(37),o=n(26),s=n(38),u=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(o[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(o[n]);this._dict_set=!0}}function c(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}f.prototype.push=function(t,e){var n,o,s=this.strm,f=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(f),s.next_out=0,s.avail_out=f),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),s.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=f,e.deflate=c,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},function(t,e,n){var r,i=n(2),a=n(64),o=n(35),s=n(36),u=n(26),f=-2,c=258,h=262,l=103,d=113,_=666;function p(t,e){return t.msg=u[e],e}function v(t){return(t<<1)-(t>4?9:0)}function g(t){for(var e=t.length;--e>=0;)t[e]=0}function b(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function w(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,b(t.strm)}function y(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function k(t,e){var n,r,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,f=t.window,l=t.w_mask,d=t.prev,_=t.strstart+c,p=f[a+o-1],v=f[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(f[(n=e)+o]===v&&f[n+o-1]===p&&f[n]===f[a]&&f[++n]===f[a+1]){a+=2,n++;do{}while(f[++a]===f[++n]&&f[++a]===f[++n]&&f[++a]===f[++n]&&f[++a]===f[++n]&&f[++a]===f[++n]&&f[++a]===f[++n]&&f[++a]===f[++n]&&f[++a]===f[++n]&&a<_);if(r=c-(_-a),a=_-c,r>o){if(t.match_start=e,o=r,r>=s)break;p=f[a+o-1],v=f[a+o]}}}while((e=d[e&l])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead}function x(t){var e,n,r,a,u,f,c,l,d,_,p=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-h)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);a+=p}if(0===t.strm.avail_in)break;if(f=t.strm,c=t.window,l=t.strstart+t.lookahead,d=a,_=void 0,(_=f.avail_in)>d&&(_=d),n=0===_?0:(f.avail_in-=_,i.arraySet(c,f.input,f.next_in,_,l),1===f.state.wrap?f.adler=o(f.adler,c,_,l):2===f.state.wrap&&(f.adler=s(f.adler,c,_,l)),f.next_in+=_,f.total_in+=_,_),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function A(t,e){for(var n,r;;){if(t.lookahead<h){if(x(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-h&&(t.match_length=k(t,n)),t.match_length>=3)if(r=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}function S(t,e){for(var n,r,i;;){if(t.lookahead<h){if(x(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-h&&(t.match_length=k(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(w(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=a._tr_tally(t,0,t.window[t.strstart-1]))&&w(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}function z(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):p(t,f)}function O(t){var e,n=E(t);return 0===n&&((e=t.state).window_size=2*e.w_size,g(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function I(t,e,n,r,a,o){if(!t)return f;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||e<0||e>9||o<0||o>4)return p(t,f);8===r&&(r=9);var u=new B;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=n,O(t)}r=[new z(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(x(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,w(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(w(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(w(t,!1),t.strm.avail_out),1)})),new z(4,4,8,4,A),new z(4,5,16,8,A),new z(4,6,32,32,A),new z(4,4,16,16,S),new z(8,16,32,32,S),new z(8,16,128,128,S),new z(8,32,128,256,S),new z(32,128,258,1024,S),new z(32,258,258,4096,S)],e.deflateInit=function(t,e){return I(t,e,8,15,8,0)},e.deflateInit2=I,e.deflateReset=O,e.deflateResetKeep=E,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?f:(t.state.gzhead=e,0):f},e.deflate=function(t,e){var n,i,o,u;if(!t||!t.state||e>5||e<0)return t?p(t,f):f;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===_&&4!==e)return p(t,0===t.avail_out?-5:f);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,y(i,31),y(i,139),y(i,8),i.gzhead?(y(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),y(i,255&i.gzhead.time),y(i,i.gzhead.time>>8&255),y(i,i.gzhead.time>>16&255),y(i,i.gzhead.time>>24&255),y(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),y(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(y(i,255&i.gzhead.extra.length),y(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(y(i,0),y(i,0),y(i,0),y(i,0),y(i,0),y(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),y(i,3),i.status=d);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=d,m(i,h),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),b(t),o=i.pending,i.pending!==i.pending_buf_size));)y(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),b(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),b(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=l)}else i.status=l;if(i.status===l&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&b(t),i.pending+2<=i.pending_buf_size&&(y(i,255&t.adler),y(i,t.adler>>8&255),t.adler=0,i.status=d)):i.status=d),0!==i.pending){if(b(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&v(e)<=v(n)&&4!==e)return p(t,-5);if(i.status===_&&0!==t.avail_in)return p(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==_){var k=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(x(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=c){if(x(t),t.lookahead<=c&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=t.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=c-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==k&&4!==k||(i.status=_),1===k||3===k)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===k&&(1===e?a._tr_align(i):5!==e&&(a._tr_stored_block(i,0,0,!1),3===e&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),b(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(y(i,255&t.adler),y(i,t.adler>>8&255),y(i,t.adler>>16&255),y(i,t.adler>>24&255),y(i,255&t.total_in),y(i,t.total_in>>8&255),y(i,t.total_in>>16&255),y(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),b(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==l&&e!==d&&e!==_?p(t,f):(t.state=null,e===d?p(t,-3):0):f},e.deflateSetDictionary=function(t,e){var n,r,a,s,u,c,h,l,d=e.length;if(!t||!t.state)return f;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return f;for(1===s&&(t.adler=o(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new i.Buf8(n.w_size),i.arraySet(l,e,d-n.w_size,n.w_size,0),e=l,d=n.w_size),u=t.avail_in,c=t.next_in,h=t.input,t.avail_in=d,t.next_in=0,t.input=e,x(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=h,t.avail_in=u,n.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){var r=n(2);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var c=new Array(60);i(c);var h=new Array(512);i(h);var l=new Array(256);i(l);var d=new Array(29);i(d);var _,p,v,g=new Array(30);function b(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function y(t){return t<256?h[t]:h[256+(t>>>7)]}function m(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function k(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,m(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function x(t,e,n){k(t,n[2*e],n[2*e+1])}function A(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function S(t,e,n){var r,i,a=new Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=A(a[s]++,s))}}function z(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function B(t){t.bi_valid>8?m(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function E(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]}function O(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&E(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!E(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function I(t,e,n){var r,i,s,u,f=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*f]<<8|t.pending_buf[t.d_buf+2*f+1],i=t.pending_buf[t.l_buf+f],f++,0===r?x(t,i,e):(x(t,(s=l[i])+256+1,e),0!==(u=a[s])&&k(t,i-=d[s],u),x(t,s=y(--r),n),0!==(u=o[s])&&k(t,r-=g[s],u))}while(f<t.last_lit);x(t,256,e)}function j(t,e){var n,r,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,f=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(t.heap[++t.heap_len]=f=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=f<2?++f:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=f,n=t.heap_len>>1;n>=1;n--)O(t,a,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,O(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,a,o,s,u=e.dyn_tree,f=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,_=e.stat_desc.max_length,p=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=u[2*u[2*(r=t.heap[n])+1]+1]+1)>_&&(a=_,p++),u[2*r+1]=a,r>f||(t.bl_count[a]++,o=0,r>=d&&(o=l[r-d]),s=u[2*r],t.opt_len+=s*(a+o),h&&(t.static_len+=s*(c[2*r+1]+o)));if(0!==p){do{for(a=_-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[_]--,p-=2}while(p>0);for(a=_;0!==a;a--)for(r=t.bl_count[a];0!==r;)(i=t.heap[--n])>f||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(t,e),S(a,f,t.bl_count)}function T(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,f=4;for(0===o&&(u=138,f=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++s<u&&i===o||(s<f?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,f=3):i===o?(u=6,f=3):(u=7,f=4))}function U(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,f=4;for(0===o&&(u=138,f=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++s<u&&i===o)){if(s<f)do{x(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(x(t,i,t.bl_tree),s--),x(t,16,t.bl_tree),k(t,s-3,2)):s<=10?(x(t,17,t.bl_tree),k(t,s-3,3)):(x(t,18,t.bl_tree),k(t,s-11,7));s=0,a=i,0===o?(u=138,f=3):i===o?(u=6,f=3):(u=7,f=4)}}i(g);var C=!1;function R(t,e,n,i){k(t,0+(i?1:0),3),function(t,e,n,i){B(t),m(t,n),m(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}e._tr_init=function(t){C||(function(){var t,e,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<a[r];t++)l[n++]=r;for(l[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,t=0;t<1<<o[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,t=0;t<1<<o[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,u[8]++;for(;t<=255;)f[2*t+1]=9,t++,u[9]++;for(;t<=279;)f[2*t+1]=7,t++,u[7]++;for(;t<=287;)f[2*t+1]=8,t++,u[8]++;for(S(f,287,u),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=A(t,5);_=new b(f,a,257,286,15),p=new b(c,o,0,30,15),v=new b(new Array(0),s,0,19,7)}(),C=!0),t.l_desc=new w(t.dyn_ltree,_),t.d_desc=new w(t.dyn_dtree,p),t.bl_desc=new w(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,z(t)},e._tr_stored_block=R,e._tr_flush_block=function(t,e,n,r){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),j(t,t.l_desc),j(t,t.d_desc),o=function(t){var e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),j(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?R(t,e,n,r):4===t.strategy||a===i?(k(t,2+(r?1:0),3),I(t,f,c)):(k(t,4+(r?1:0),3),function(t,e,n,r){var i;for(k(t,e-257,5),k(t,n-1,5),k(t,r-4,4),i=0;i<r;i++)k(t,t.bl_tree[2*u[i]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),I(t,t.dyn_ltree,t.dyn_dtree)),z(t),r&&B(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(l[n]+256+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){k(t,2,3),x(t,256,f),function(t){16===t.bi_valid?(m(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){var r=n(66),i=n(2),a=n(37),o=n(39),s=n(26),u=n(38),f=n(69),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new f,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[n])}function l(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,u,f,h,l=this.strm,d=this.options.chunkSize,_=this.options.dictionary,p=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?l.input=a.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(d),l.next_out=0,l.avail_out=d),(n=r.inflate(l,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&_&&(n=r.inflateSetDictionary(this.strm,_)),n===o.Z_BUF_ERROR&&!0===p&&(n=o.Z_OK,p=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&n!==o.Z_STREAM_END&&(0!==l.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(l.output,l.next_out),f=l.next_out-u,h=a.buf2string(l.output,u),l.next_out=f,l.avail_out=d-f,f&&i.arraySet(l.output,l.output,u,f,0),this.onData(h)):this.onData(i.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(p=!0)}while((l.avail_in>0||0===l.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),l.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=l,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},e.ungzip=l},function(t,e,n){var r=n(2),i=n(35),a=n(36),o=n(67),s=n(68),u=-2,f=12,c=30;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):u}function _(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,d(t)):u}function p(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?u:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,_(t))):u}function v(t,e){var n,r;return t?(r=new l,t.state=r,r.window=null,0!==(n=p(t,e))&&(t.state=null),n):u}var g,b,w=!0;function y(t){if(w){var e;for(g=new r.Buf32(512),b=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,b,0,t.work,{bits:5}),w=!1}t.lencode=g,t.lenbits=9,t.distcode=b,t.distbits=5}function m(t,e,n,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,e,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}e.inflateReset=_,e.inflateReset2=p,e.inflateResetKeep=d,e.inflateInit=function(t){return v(t,15)},e.inflateInit2=v,e.inflate=function(t,e){var n,l,d,_,p,v,g,b,w,k,x,A,S,z,B,E,O,I,j,T,U,C,R,F,P=0,Z=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return u;(n=t.state).mode===f&&(n.mode=13),p=t.next_out,d=t.output,g=t.avail_out,_=t.next_in,l=t.input,v=t.avail_in,b=n.hold,w=n.bits,k=v,x=g,C=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(2&n.wrap&&35615===b){n.check=0,Z[0]=255&b,Z[1]=b>>>8&255,n.check=a(n.check,Z,2,0),b=0,w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",n.mode=c;break}if(8!=(15&b)){t.msg="unknown compression method",n.mode=c;break}if(w-=4,U=8+(15&(b>>>=4)),0===n.wbits)n.wbits=U;else if(U>n.wbits){t.msg="invalid window size",n.mode=c;break}n.dmax=1<<U,t.adler=n.check=1,n.mode=512&b?10:f,b=0,w=0;break;case 2:for(;w<16;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(n.flags=b,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=c;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=c;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(Z[0]=255&b,Z[1]=b>>>8&255,n.check=a(n.check,Z,2,0)),b=0,w=0,n.mode=3;case 3:for(;w<32;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}n.head&&(n.head.time=b),512&n.flags&&(Z[0]=255&b,Z[1]=b>>>8&255,Z[2]=b>>>16&255,Z[3]=b>>>24&255,n.check=a(n.check,Z,4,0)),b=0,w=0,n.mode=4;case 4:for(;w<16;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(Z[0]=255&b,Z[1]=b>>>8&255,n.check=a(n.check,Z,2,0)),b=0,w=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(Z[0]=255&b,Z[1]=b>>>8&255,n.check=a(n.check,Z,2,0)),b=0,w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((A=n.length)>v&&(A=v),A&&(n.head&&(U=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,l,_,A,U)),512&n.flags&&(n.check=a(n.check,l,A,_)),v-=A,_+=A,n.length-=A),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break t;A=0;do{U=l[_+A++],n.head&&U&&n.length<65536&&(n.head.name+=String.fromCharCode(U))}while(U&&A<v);if(512&n.flags&&(n.check=a(n.check,l,A,_)),v-=A,_+=A,U)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break t;A=0;do{U=l[_+A++],n.head&&U&&n.length<65536&&(n.head.comment+=String.fromCharCode(U))}while(U&&A<v);if(512&n.flags&&(n.check=a(n.check,l,A,_)),v-=A,_+=A,U)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(b!==(65535&n.check)){t.msg="header crc mismatch",n.mode=c;break}b=0,w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=f;break;case 10:for(;w<32;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}t.adler=n.check=h(b),b=0,w=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=p,t.avail_out=g,t.next_in=_,t.avail_in=v,n.hold=b,n.bits=w,2;t.adler=n.check=1,n.mode=f;case f:if(5===e||6===e)break t;case 13:if(n.last){b>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}switch(n.last=1&b,w-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===e){b>>>=2,w-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=c}b>>>=2,w-=2;break;case 14:for(b>>>=7&w,w-=7&w;w<32;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",n.mode=c;break}if(n.length=65535&b,b=0,w=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(A=n.length){if(A>v&&(A=v),A>g&&(A=g),0===A)break t;r.arraySet(d,l,_,A,p),v-=A,_+=A,g-=A,p+=A,n.length-=A;break}n.mode=f;break;case 17:for(;w<14;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(n.nlen=257+(31&b),b>>>=5,w-=5,n.ndist=1+(31&b),b>>>=5,w-=5,n.ncode=4+(15&b),b>>>=4,w-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=c;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}n.lens[M[n.have++]]=7&b,b>>>=3,w-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},C=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,C){t.msg="invalid code lengths set",n.mode=c;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(P=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,O=65535&P,!((B=P>>>24)<=w);){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(O<16)b>>>=B,w-=B,n.lens[n.have++]=O;else{if(16===O){for(F=B+2;w<F;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(b>>>=B,w-=B,0===n.have){t.msg="invalid bit length repeat",n.mode=c;break}U=n.lens[n.have-1],A=3+(3&b),b>>>=2,w-=2}else if(17===O){for(F=B+3;w<F;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}w-=B,U=0,A=3+(7&(b>>>=B)),b>>>=3,w-=3}else{for(F=B+7;w<F;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}w-=B,U=0,A=11+(127&(b>>>=B)),b>>>=7,w-=7}if(n.have+A>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=c;break}for(;A--;)n.lens[n.have++]=U}}if(n.mode===c)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=c;break}if(n.lenbits=9,R={bits:n.lenbits},C=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,C){t.msg="invalid literal/lengths set",n.mode=c;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},C=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,C){t.msg="invalid distances set",n.mode=c;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(v>=6&&g>=258){t.next_out=p,t.avail_out=g,t.next_in=_,t.avail_in=v,n.hold=b,n.bits=w,o(t,x),p=t.next_out,d=t.output,g=t.avail_out,_=t.next_in,l=t.input,v=t.avail_in,b=n.hold,w=n.bits,n.mode===f&&(n.back=-1);break}for(n.back=0;E=(P=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,O=65535&P,!((B=P>>>24)<=w);){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(E&&0==(240&E)){for(I=B,j=E,T=O;E=(P=n.lencode[T+((b&(1<<I+j)-1)>>I)])>>>16&255,O=65535&P,!(I+(B=P>>>24)<=w);){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}b>>>=I,w-=I,n.back+=I}if(b>>>=B,w-=B,n.back+=B,n.length=O,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=f;break}if(64&E){t.msg="invalid literal/length code",n.mode=c;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(F=n.extra;w<F;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(P=n.distcode[b&(1<<n.distbits)-1])>>>16&255,O=65535&P,!((B=P>>>24)<=w);){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(0==(240&E)){for(I=B,j=E,T=O;E=(P=n.distcode[T+((b&(1<<I+j)-1)>>I)])>>>16&255,O=65535&P,!(I+(B=P>>>24)<=w);){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}b>>>=I,w-=I,n.back+=I}if(b>>>=B,w-=B,n.back+=B,64&E){t.msg="invalid distance code",n.mode=c;break}n.offset=O,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(F=n.extra;w<F;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=c;break}n.mode=25;case 25:if(0===g)break t;if(A=x-g,n.offset>A){if((A=n.offset-A)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=c;break}A>n.wnext?(A-=n.wnext,S=n.wsize-A):S=n.wnext-A,A>n.length&&(A=n.length),z=n.window}else z=d,S=p-n.offset,A=n.length;A>g&&(A=g),g-=A,n.length-=A;do{d[p++]=z[S++]}while(--A);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;d[p++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===v)break t;v--,b|=l[_++]<<w,w+=8}if(x-=g,t.total_out+=x,n.total+=x,x&&(t.adler=n.check=n.flags?a(n.check,d,x,p-x):i(n.check,d,x,p-x)),x=g,(n.flags?b:h(b))!==n.check){t.msg="incorrect data check",n.mode=c;break}b=0,w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===v)break t;v--,b+=l[_++]<<w,w+=8}if(b!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=c;break}b=0,w=0}n.mode=29;case 29:C=1;break t;case c:C=-3;break t;case 31:return-4;case 32:default:return u}return t.next_out=p,t.avail_out=g,t.next_in=_,t.avail_in=v,n.hold=b,n.bits=w,(n.wsize||x!==t.avail_out&&n.mode<c&&(n.mode<27||4!==e))&&m(t,t.output,t.next_out,x-t.avail_out)?(n.mode=31,-4):(k-=t.avail_in,x-=t.avail_out,t.total_in+=k,t.total_out+=x,n.total+=x,n.wrap&&x&&(t.adler=n.check=n.flags?a(n.check,d,x,t.next_out-x):i(n.check,d,x,t.next_out-x)),t.data_type=n.bits+(n.last?64:0)+(n.mode===f?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===x||4===e)&&0===C&&(C=-5),C)},e.inflateEnd=function(t){if(!t||!t.state)return u;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?u:(n.head=e,e.done=!1,0):u},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,e,r,0)!==n.check?-3:m(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){t.exports=function(t,e){var n,r,i,a,o,s,u,f,c,h,l,d,_,p,v,g,b,w,y,m,k,x,A,S,z;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),a=t.next_out,z=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=n.dmax,f=n.wsize,c=n.whave,h=n.wnext,l=n.window,d=n.hold,_=n.bits,p=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{_<15&&(d+=S[r++]<<_,_+=8,d+=S[r++]<<_,_+=8),w=p[d&g];e:for(;;){if(d>>>=y=w>>>24,_-=y,0==(y=w>>>16&255))z[a++]=65535&w;else{if(!(16&y)){if(0==(64&y)){w=p[(65535&w)+(d&(1<<y)-1)];continue e}if(32&y){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}m=65535&w,(y&=15)&&(_<y&&(d+=S[r++]<<_,_+=8),m+=d&(1<<y)-1,d>>>=y,_-=y),_<15&&(d+=S[r++]<<_,_+=8,d+=S[r++]<<_,_+=8),w=v[d&b];n:for(;;){if(d>>>=y=w>>>24,_-=y,!(16&(y=w>>>16&255))){if(0==(64&y)){w=v[(65535&w)+(d&(1<<y)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&w,_<(y&=15)&&(d+=S[r++]<<_,(_+=8)<y&&(d+=S[r++]<<_,_+=8)),(k+=d&(1<<y)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=y,_-=y,k>(y=a-o)){if((y=k-y)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(x=0,A=l,0===h){if(x+=f-y,y<m){m-=y;do{z[a++]=l[x++]}while(--y);x=a-k,A=z}}else if(h<y){if(x+=f+h-y,(y-=h)<m){m-=y;do{z[a++]=l[x++]}while(--y);if(x=0,h<m){m-=y=h;do{z[a++]=l[x++]}while(--y);x=a-k,A=z}}}else if(x+=h-y,y<m){m-=y;do{z[a++]=l[x++]}while(--y);x=a-k,A=z}for(;m>2;)z[a++]=A[x++],z[a++]=A[x++],z[a++]=A[x++],m-=3;m&&(z[a++]=A[x++],m>1&&(z[a++]=A[x++]))}else{x=a-k;do{z[a++]=z[x++],z[a++]=z[x++],z[a++]=z[x++],m-=3}while(m>2);m&&(z[a++]=z[x++],m>1&&(z[a++]=z[x++]))}break}}break}}while(r<i&&a<s);r-=m=_>>3,d&=(1<<(_-=m<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=_}},function(t,e,n){var r=n(2),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,f,c,h,l){var d,_,p,v,g,b,w,y,m,k=l.bits,x=0,A=0,S=0,z=0,B=0,E=0,O=0,I=0,j=0,T=0,U=null,C=0,R=new r.Buf16(16),F=new r.Buf16(16),P=null,Z=0;for(x=0;x<=15;x++)R[x]=0;for(A=0;A<u;A++)R[e[n+A]]++;for(B=k,z=15;z>=1&&0===R[z];z--);if(B>z&&(B=z),0===z)return f[c++]=20971520,f[c++]=20971520,l.bits=1,0;for(S=1;S<z&&0===R[S];S++);for(B<S&&(B=S),I=1,x=1;x<=15;x++)if(I<<=1,(I-=R[x])<0)return-1;if(I>0&&(0===t||1!==z))return-1;for(F[1]=0,x=1;x<15;x++)F[x+1]=F[x]+R[x];for(A=0;A<u;A++)0!==e[n+A]&&(h[F[e[n+A]]++]=A);if(0===t?(U=P=h,b=19):1===t?(U=i,C-=257,P=a,Z-=257,b=256):(U=o,P=s,b=-1),T=0,A=0,x=S,g=c,E=B,O=0,p=-1,v=(j=1<<B)-1,1===t&&j>852||2===t&&j>592)return 1;for(;;){w=x-O,h[A]<b?(y=0,m=h[A]):h[A]>b?(y=P[Z+h[A]],m=U[C+h[A]]):(y=96,m=0),d=1<<x-O,S=_=1<<E;do{f[g+(T>>O)+(_-=d)]=w<<24|y<<16|m|0}while(0!==_);for(d=1<<x-1;T&d;)d>>=1;if(0!==d?(T&=d-1,T+=d):T=0,A++,0==--R[x]){if(x===z)break;x=e[n+h[A]]}if(x>B&&(T&v)!==p){for(0===O&&(O=B),g+=S,I=1<<(E=x-O);E+O<z&&!((I-=R[E+O])<=0);)E++,I<<=1;if(j+=1<<E,1===t&&j>852||2===t&&j>592)return 1;f[p=T&v]=B<<24|E<<16|g-c|0}}return 0!==T&&(f[g+T]=x-O<<24|64<<16|0),l.bits=B,0}},function(t,e,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){var r,i,a,o,s=n(11),u=n(0),f=n(8),c=n(19),h=n(28),l=n(7),d=n(18),_=n(31),p=n(72),v=n(43),g=n(44).set,b=n(75)(),w=n(46),y=n(76),m=n(77),k=n(78),x="Promise",A=u.TypeError,S=u.process,z=S&&S.versions,B=z&&z.v8||"",E=u.Promise,O="process"==c(S),I=function(){},j=i=w.f,T=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(I,I)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==B.indexOf("6.6")&&-1===m.indexOf("Chrome/66")}catch(t){}}(),U=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},C=function(t,e){if(!t._n){t._n=!0;var n=t._c;b((function(){for(var r=t._v,i=1==t._s,a=0,o=function(e){var n,a,o,s=i?e.ok:e.fail,u=e.resolve,f=e.reject,c=e.domain;try{s?(i||(2==t._h&&P(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),o=!0)),n===e.promise?f(A("Promise-chain cycle")):(a=U(n))?a.call(n,u,f):u(n)):f(r)}catch(t){c&&!o&&c.exit(),f(t)}};n.length>a;)o(n[a++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){g.call(u,(function(){var e,n,r,i=t._v,a=F(t);if(a&&(e=y((function(){O?S.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=O||F(t)?2:1),t._a=void 0,a&&e.e)throw e.v}))},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){g.call(u,(function(){var e;O?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Z=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},M=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw A("Promise can\'t be resolved itself");(e=U(t))?b((function(){var r={_w:n,_d:!1};try{e.call(t,f(M,r,1),f(Z,r,1))}catch(t){Z.call(r,t)}})):(n._v=t,n._s=1,C(n,!1))}catch(t){Z.call({_w:n,_d:!1},t)}}};T||(E=function(t){_(this,E,x,"_h"),d(t),r.call(this);try{t(f(M,this,1),f(Z,this,1))}catch(t){Z.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(32)(E.prototype,{then:function(t,e){var n=j(v(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=f(M,t,1),this.reject=f(Z,t,1)},w.f=j=function(t){return t===E||t===o?new a(t):i(t)}),h(h.G+h.W+h.F*!T,{Promise:E}),n(23)(E,x),n(47)(x),o=n(13).Promise,h(h.S+h.F*!T,x,{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!T),x,{resolve:function(t){return k(s&&this===o?E:this,t)}}),h(h.S+h.F*!(T&&n(48)((function(t){E.all(t).catch(I)}))),x,{all:function(t){var e=this,n=j(e),r=n.resolve,i=n.reject,a=y((function(){var n=[],a=0,o=1;p(t,!1,(function(t){var s=a++,u=!1;n.push(void 0),o++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--o||r(n))}),i)})),--o||r(n)}));return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=j(e),r=n.reject,i=y((function(){p(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){t.exports=n(27)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(8),i=n(73),a=n(41),o=n(6),s=n(5),u=n(42),f={},c={};(e=t.exports=function(t,e,n,h,l){var d,_,p,v,g=l?function(){return t}:u(t),b=r(n,h,e?2:1),w=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(d=s(t.length);d>w;w++)if((v=e?b(o(_=t[w])[0],_[1]):b(t[w]))===f||v===c)return v}else for(p=g.call(t);!(_=p.next()).done;)if((v=i(p,b,_.value,e))===f||v===c)return v}).BREAK=f,e.RETURN=c},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(0),i=n(44).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n(12)(o);t.exports=function(){var t,e,n,f=function(){var r,i;for(u&&(r=o.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){o.nextTick(f)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(f)}}else n=function(){i.call(r,f)};else{var h=!0,l=document.createTextNode("");new a(f).observe(l,{characterData:!0}),n=function(){l.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(6),i=n(7),a=n(46);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(19),i={};i[n(1)("toStringTag")]="z",i+""!="[object z]"&&n(22)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){n(84)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){if(n(4)){var r=n(11),i=n(0),a=n(20),o=n(28),s=n(49),u=n(85),f=n(8),c=n(31),h=n(21),l=n(3),d=n(32),_=n(16),p=n(5),v=n(50),g=n(25),b=n(30),w=n(10),y=n(19),m=n(7),k=n(17),x=n(41),A=n(57),S=n(58),z=n(51).f,B=n(42),E=n(14),O=n(1),I=n(88),j=n(55),T=n(43),U=n(92),C=n(15),R=n(48),F=n(47),P=n(56),Z=n(97),M=n(9),N=n(98),D=M.f,L=N.f,H=i.RangeError,W=i.TypeError,K=i.Uint8Array,V="ArrayBuffer",Y="SharedArrayBuffer",G="BYTES_PER_ELEMENT",$=Array.prototype,X=u.ArrayBuffer,q=u.DataView,J=I(0),Q=I(2),tt=I(3),et=I(4),nt=I(5),rt=I(6),it=j(!0),at=j(!1),ot=U.values,st=U.keys,ut=U.entries,ft=$.lastIndexOf,ct=$.reduce,ht=$.reduceRight,lt=$.join,dt=$.sort,_t=$.slice,pt=$.toString,vt=$.toLocaleString,gt=O("iterator"),bt=O("toStringTag"),wt=E("typed_constructor"),yt=E("def_constructor"),mt=s.CONSTR,kt=s.TYPED,xt=s.VIEW,At="Wrong length!",St=I(1,(function(t,e){return It(T(t,t[yt]),e)})),zt=a((function(){return 1===new K(new Uint16Array([1]).buffer)[0]})),Bt=!!K&&!!K.prototype.set&&a((function(){new K(1).set({})})),Et=function(t,e){var n=_(t);if(n<0||n%e)throw H("Wrong offset!");return n},Ot=function(t){if(m(t)&&kt in t)return t;throw W(t+" is not a typed array!")},It=function(t,e){if(!m(t)||!(wt in t))throw W("It is not a typed array constructor!");return new t(e)},jt=function(t,e){return Tt(T(t,t[yt]),e)},Tt=function(t,e){for(var n=0,r=e.length,i=It(t,r);r>n;)i[n]=e[n++];return i},Ut=function(t,e,n){D(t,e,{get:function(){return this._d[n]}})},Ct=function(t){var e,n,r,i,a,o,s=k(t),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,l=B(s);if(null!=l&&!x(l)){for(o=l.call(s),r=[],e=0;!(a=o.next()).done;e++)r.push(a.value);s=r}for(h&&u>2&&(c=f(c,arguments[2],2)),e=0,n=p(s.length),i=It(this,n);n>e;e++)i[e]=h?c(s[e],e):s[e];return i},Rt=function(){for(var t=0,e=arguments.length,n=It(this,e);e>t;)n[t]=arguments[t++];return n},Ft=!!K&&a((function(){vt.call(new K(1))})),Pt=function(){return vt.apply(Ft?_t.call(Ot(this)):Ot(this),arguments)},Zt={copyWithin:function(t,e){return Z.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return P.apply(Ot(this),arguments)},filter:function(t){return jt(this,Q(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){J(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Ot(this),arguments)},lastIndexOf:function(t){return ft.apply(Ot(this),arguments)},map:function(t){return St(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(Ot(this),arguments)},reduceRight:function(t){return ht.apply(Ot(this),arguments)},reverse:function(){for(var t,e=this,n=Ot(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return tt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Ot(this),t)},subarray:function(t,e){var n=Ot(this),r=n.length,i=g(t,r);return new(T(n,n[yt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,p((void 0===e?r:g(e,r))-i))}},Mt=function(t,e){return jt(this,_t.call(Ot(this),t,e))},Nt=function(t){Ot(this);var e=Et(arguments[1],1),n=this.length,r=k(t),i=p(r.length),a=0;if(i+e>n)throw H(At);for(;a<i;)this[e+a]=r[a++]},Dt={entries:function(){return ut.call(Ot(this))},keys:function(){return st.call(Ot(this))},values:function(){return ot.call(Ot(this))}},Lt=function(t,e){return m(t)&&t[kt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ht=function(t,e){return Lt(t,e=b(e,!0))?h(2,t[e]):L(t,e)},Wt=function(t,e,n){return!(Lt(t,e=b(e,!0))&&m(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?D(t,e,n):(t[e]=n.value,t)};mt||(N.f=Ht,M.f=Wt),o(o.S+o.F*!mt,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:Wt}),a((function(){pt.call({})}))&&(pt=vt=function(){return lt.call(this)});var Kt=d({},Zt);d(Kt,Dt),l(Kt,gt,Dt.values),d(Kt,{slice:Mt,set:Nt,constructor:function(){},toString:pt,toLocaleString:Pt}),Ut(Kt,"buffer","b"),Ut(Kt,"byteOffset","o"),Ut(Kt,"byteLength","l"),Ut(Kt,"length","e"),D(Kt,bt,{get:function(){return this[kt]}}),t.exports=function(t,e,n,u){var f=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,d="set"+t,_=i[f],g=_||{},b=_&&S(_),w=!_||!s.ABV,k={},x=_&&_.prototype,B=function(t,n){D(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[h](n*e+r.o,zt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,zt)}(this,n,t)},enumerable:!0})};w?(_=n((function(t,n,r,i){c(t,_,f,"_d");var a,o,s,u,h=0,d=0;if(m(n)){if(!(n instanceof X||(u=y(n))==V||u==Y))return kt in n?Tt(_,n):Ct.call(_,n);a=n,d=Et(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw H(At);if((o=g-d)<0)throw H(At)}else if((o=p(i)*e)+d>g)throw H(At);s=o/e}else s=v(n),a=new X(o=s*e);for(l(t,"_d",{b:a,o:d,l:o,e:s,v:new q(a)});h<s;)B(t,h++)})),x=_.prototype=A(Kt),l(x,"constructor",_)):a((function(){_(1)}))&&a((function(){new _(-1)}))&&R((function(t){new _,new _(null),new _(1.5),new _(t)}),!0)||(_=n((function(t,n,r,i){var a;return c(t,_,f),m(n)?n instanceof X||(a=y(n))==V||a==Y?void 0!==i?new g(n,Et(r,e),i):void 0!==r?new g(n,Et(r,e)):new g(n):kt in n?Tt(_,n):Ct.call(_,n):new g(v(n))})),J(b!==Function.prototype?z(g).concat(z(b)):z(g),(function(t){t in _||l(_,t,g[t])})),_.prototype=x,r||(x.constructor=_));var E=x[gt],O=!!E&&("values"==E.name||null==E.name),I=Dt.values;l(_,wt,!0),l(x,kt,f),l(x,xt,!0),l(x,yt,_),(u?new _(1)[bt]==f:bt in x)||D(x,bt,{get:function(){return f}}),k[f]=_,o(o.G+o.W+o.F*(_!=g),k),o(o.S,f,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*a((function(){g.of.call(_,1)})),f,{from:Ct,of:Rt}),G in x||l(x,G,e),o(o.P,f,Zt),F(f),o(o.P+o.F*Bt,f,{set:Nt}),o(o.P+o.F*!O,f,Dt),r||x.toString==pt||(x.toString=pt),o(o.P+o.F*a((function(){new _(1).slice()})),f,{slice:Mt}),o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new _([1,2]).toLocaleString()}))||!a((function(){x.toLocaleString.call([1,2])}))),f,{toLocaleString:Pt}),C[f]=O?E:I,r||O||l(x,gt,I)}}else t.exports=function(){}},function(t,e,n){var r=n(0),i=n(4),a=n(11),o=n(49),s=n(3),u=n(32),f=n(20),c=n(31),h=n(16),l=n(5),d=n(50),_=n(51).f,p=n(9).f,v=n(56),g=n(23),b="ArrayBuffer",w="DataView",y="Wrong index!",m=r.ArrayBuffer,k=r.DataView,x=r.Math,A=r.RangeError,S=r.Infinity,z=m,B=x.abs,E=x.pow,O=x.floor,I=x.log,j=x.LN2,T="buffer",U="byteLength",C="byteOffset",R=i?"_b":T,F=i?"_l":U,P=i?"_o":C;function Z(t,e,n){var r,i,a,o=new Array(n),s=8*n-e-1,u=(1<<s)-1,f=u>>1,c=23===e?E(2,-24)-E(2,-77):0,h=0,l=t<0||0===t&&1/t<0?1:0;for((t=B(t))!=t||t===S?(i=t!=t?1:0,r=u):(r=O(I(t)/j),t*(a=E(2,-r))<1&&(r--,a*=2),(t+=r+f>=1?c/a:c*E(2,1-f))*a>=2&&(r++,a/=2),r+f>=u?(i=0,r=u):r+f>=1?(i=(t*a-1)*E(2,e),r+=f):(i=t*E(2,f-1)*E(2,e),r=0));e>=8;o[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;o[h++]=255&r,r/=256,s-=8);return o[--h]|=128*l,o}function M(t,e,n){var r,i=8*n-e-1,a=(1<<i)-1,o=a>>1,s=i-7,u=n-1,f=t[u--],c=127&f;for(f>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-o;else{if(c===a)return r?NaN:f?-S:S;r+=E(2,e),c-=o}return(f?-1:1)*r*E(2,c-e)}function N(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function D(t){return[255&t]}function L(t){return[255&t,t>>8&255]}function H(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return Z(t,52,8)}function K(t){return Z(t,23,4)}function V(t,e,n){p(t.prototype,e,{get:function(){return this[n]}})}function Y(t,e,n,r){var i=d(+n);if(i+e>t[F])throw A(y);var a=t[R]._b,o=i+t[P],s=a.slice(o,o+e);return r?s:s.reverse()}function G(t,e,n,r,i,a){var o=d(+n);if(o+e>t[F])throw A(y);for(var s=t[R]._b,u=o+t[P],f=r(+i),c=0;c<e;c++)s[u+c]=f[a?c:e-c-1]}if(o.ABV){if(!f((function(){m(1)}))||!f((function(){new m(-1)}))||f((function(){return new m,new m(1.5),new m(NaN),m.name!=b}))){for(var $,X=(m=function(t){return c(this,m),new z(d(t))}).prototype=z.prototype,q=_(z),J=0;q.length>J;)($=q[J++])in m||s(m,$,z[$]);a||(X.constructor=m)}var Q=new k(new m(2)),tt=k.prototype.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||u(k.prototype,{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else m=function(t){c(this,m,b);var e=d(t);this._b=v.call(new Array(e),0),this[F]=e},k=function(t,e,n){c(this,k,w),c(t,m,w);var r=t[F],i=h(e);if(i<0||i>r)throw A("Wrong offset!");if(i+(n=void 0===n?r-i:l(n))>r)throw A("Wrong length!");this[R]=t,this[P]=i,this[F]=n},i&&(V(m,U,"_l"),V(k,T,"_b"),V(k,U,"_l"),V(k,C,"_o")),u(k.prototype,{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return N(Y(this,4,t,arguments[1]))},getUint32:function(t){return N(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return M(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return M(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){G(this,1,t,D,e)},setUint8:function(t,e){G(this,1,t,D,e)},setInt16:function(t,e){G(this,2,t,L,e,arguments[2])},setUint16:function(t,e){G(this,2,t,L,e,arguments[2])},setInt32:function(t,e){G(this,4,t,H,e,arguments[2])},setUint32:function(t,e){G(this,4,t,H,e,arguments[2])},setFloat32:function(t,e){G(this,4,t,K,e,arguments[2])},setFloat64:function(t,e){G(this,8,t,W,e,arguments[2])}});g(m,b),g(k,w),s(k.prototype,o.VIEW,!0),e.ArrayBuffer=m,e.DataView=k},function(t,e,n){var r=n(9),i=n(6),a=n(87);t.exports=n(4)?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),s=o.length,u=0;s>u;)r.f(t,n=o[u++],e[n]);return t}},function(t,e,n){var r=n(52),i=n(34);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(8),i=n(53),a=n(17),o=n(5),s=n(89);t.exports=function(t,e){var n=1==t,u=2==t,f=3==t,c=4==t,h=6==t,l=5==t||h,d=e||s;return function(e,s,_){for(var p,v,g=a(e),b=i(g),w=r(s,_,3),y=o(b.length),m=0,k=n?d(e,y):u?d(e,0):void 0;y>m;m++)if((l||m in b)&&(v=w(p=b[m],m,g),t))if(n)k[m]=v;else if(v)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:k.push(p)}else if(c)return!1;return h?-1:f||c?c:k}}},function(t,e,n){var r=n(90);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(7),i=n(91),a=n(1)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(12);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(93),i=n(94),a=n(15),o=n(24);t.exports=n(95)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(1)("unscopables"),i=Array.prototype;null==i[r]&&n(3)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(11),i=n(28),a=n(22),o=n(3),s=n(15),u=n(96),f=n(23),c=n(58),h=n(1)("iterator"),l=!([].keys&&"next"in[].keys()),d="keys",_="values",p=function(){return this};t.exports=function(t,e,n,v,g,b,w){u(n,e,v);var y,m,k,x=function(t){if(!l&&t in B)return B[t];switch(t){case d:case _:return function(){return new n(this,t)}}return function(){return new n(this,t)}},A=e+" Iterator",S=g==_,z=!1,B=t.prototype,E=B[h]||B["@@iterator"]||g&&B[g],O=E||x(g),I=g?S?x("entries"):O:void 0,j="Array"==e&&B.entries||E;if(j&&(k=c(j.call(new t)))!==Object.prototype&&k.next&&(f(k,A,!0),r||"function"==typeof k[h]||o(k,h,p)),S&&E&&E.name!==_&&(z=!0,O=function(){return E.call(this)}),r&&!w||!l&&!z&&B[h]||o(B,h,O),s[e]=O,s[A]=p,g)if(y={values:S?O:x(_),keys:b?O:x(d),entries:I},w)for(m in y)m in B||a(B,m,y[m]);else i(i.P+i.F*(l||z),e,y);return y}},function(t,e,n){var r=n(57),i=n(21),a=n(23),o={};n(3)(o,n(1)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var r=n(17),i=n(25),a=n(5);t.exports=[].copyWithin||function(t,e){var n=r(this),o=a(n.length),s=i(t,o),u=i(e,o),f=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===f?o:i(f,o))-u,o-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e,n){var r=n(99),i=n(21),a=n(24),o=n(30),s=n(10),u=n(40),f=Object.getOwnPropertyDescriptor;e.f=n(4)?f:function(t,e){if(t=a(t),e=o(e,!0),u)try{return f(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){n.r(e);var r=n(59),i=(n(70),n(79),n(60)),a=n.n(i),o=n(61),s=n.n(o),u=(n(83),["fromCharCode","errorType","md5","buffer"]);function f(t){for(var e=1,n=t[e++],r=t[e++],i=t[e++],a=[],o=0;o<i;o++)a.push(String[u[0]](t[4+o]-r));return n&&a.reverse(),a.join("")}function c(t,e){for(var n=1,r=t[n++],i=t[n++],a=t[n++],o=0;o<a;o++)e[o]=p(e[o]-i,r,o,a)}function h(t){return 1!==t[0]?0:4}function l(t,e){var n=1,r=t[n++],i=t[n++],a=t[n++];n=e.length-a;for(var o=0;o<a;o++)e[n]=p(e[n]-i,r,o,a),n++}function d(t){return 2!==t[0]?0:4}function _(t){for(var e,n=3,r=[],i=t[2],a=0;a<i;a++){var o=0;switch(t[n]){case 0:o=0!==(e=t.subarray(n))[0]?0:e[3]+4;break;case 1:o=h(t.subarray(n));break;case 2:o=d(t.subarray(n))}o&&(r.push(new Uint8Array(t.subarray(n,n+o))),n+=o)}return[r,n]}function p(t,e,n,r){switch(e){case 1:t-=n+1;break;case 2:t-=r-n;break;case 3:t-=n%2?n+1:0;break;case 4:t-=n%2?r-n:0;break;case 5:t-=n%2?n+1:r-n}return(1024+t)%256}onmessage=function(t){var e,n=t.data,i=n.buffer,o=n.type,h=n.fileType;if("42b4f487ba3d2380ffac969f4b4aac76"!==n.key)return postMessage({success:!1,type:-1});switch(o){case"unZip":var d,p,v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null,r=new Uint8Array(t);if(e!==r[1]){var i={};return i[u[1]]=!0,i}var a=_(r),o=s()(a,2),h=o[0],d=o[1];r=new Uint8Array(r.subarray(d));for(var p=h.length;p--;){var v=h[p];switch(v[0]){case 0:n=f(v);break;case 1:c(v,r);break;case 2:l(v,r)}}var g={};return g[u[2]]=n,g[u[3]]=r[u[3]],g}(i,h);return i=v.buffer,d=v.md5,(p=v.errorType)?(console.error(p),void postMessage({success:!1,type:-1})):(i=Object(r.inflate)(i,{to:"arraybuffer"}).buffer,(e=new Blob([i]),new Promise((function(t){var n=2097152,r=Math.ceil(e.size/n),i=new a.a.ArrayBuffer,o=new FileReader,s=0;function u(){var t=s*n,r=t+n>=e.size?e.size:t+n;o.readAsArrayBuffer(e.slice(t,r))}o.onload=function(e){i.append(e.target.result),++s<r?u():t(i.end())},o.onerror=function(){console.warn("oops, something went wrong."),t(null)},u()}))).then((function(t){t===d?postMessage({success:!0,buffer:i},[i]):postMessage({success:!1,type:-1})})).catch((function(t){console.error(t),postMessage({success:!1})})));default:console.error("unknown type",t.data.type),postMessage({success:!1})}}}]);', n.p + "72454ca4eaca7528794c.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return new Worker(n.p + "15cbc7c8d851b9561093.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return n(100)('!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=160)}([function(t,e,n){var r;t.exports=r=r||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=i(4294967296*(n||t.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,e)}}),s=r.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},f=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,u=t.min(4*c,i);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,c);n.sigBytes-=u}return new a.init(l,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math)},function(t,e,n){var r=n(41)("wks"),i=n(29),o=n(3).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r;t.exports=(r=n(0),n(18),void(r.lib.Cipher||function(t){var e=r,n=e.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=e.enc,c=(s.Utf8,s.Base64),u=e.algo.EvpKDF,f=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?w:g}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),l=(n.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),h=n.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=l.CBC=function(){var t=h.extend();function e(t,e,n){var r=this._iv;if(r){var i=r;this._iv=undefined}else i=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),t}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=o.create(a,r);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},_=(n.BlockCipher=f.extend({cfg:f.cfg.extend({mode:d,padding:p}),reset:function(){f.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,e&&e.words):(this._mode=r.call(n,this,e&&e.words),this._mode.__creator=r)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),v=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(e);else r=e;return r.toString(c)},parse:function(t){var e=c.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return _.create({ciphertext:e,salt:r})}},g=n.SerializableCipher=i.extend({cfg:i.extend({format:v}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return _.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=o.random(8));var i=u.create({keySize:e+n}).compute(t,r),a=o.create(i.words.slice(e),4*n);return i.sigBytes=4*e,_.create({key:i,iv:a,salt:r})}},w=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=g.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,g.decrypt.call(this,t,e,i.key,r)}})}()))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r;t.exports=(r=n(0),n(40),n(111),n(112),n(25),n(26),n(58),n(78),n(113),n(79),n(114),n(115),n(116),n(59),n(117),n(18),n(2),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),r)},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(17),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){t.exports=!n(9)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(12),i=n(33);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(3),i=n(20),o=n(8),a=n(14),s=n(24),c=function(t,e,n){var u,f,l,h,d=t&c.F,p=t&c.G,_=t&c.S,v=t&c.P,g=t&c.B,y=p?r:_?r[e]||(r[e]={}):(r[e]||{}).prototype,w=p?i:i[e]||(i[e]={}),b=w.prototype||(w.prototype={});for(u in p&&(n=e),n)l=((f=!d&&y&&void 0!==y[u])?y:n)[u],h=g&&f?s(l,r):v&&"function"==typeof l?s(Function.call,l):l,y&&a(y,u,l,t&c.U),w[u]!=l&&o(w,u,h),v&&b[u]!=l&&(b[u]=l)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){(function(n){var r,i;!function(e,n){t.exports=n(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:this,(function(n){var o=n.Base64,a="2.5.0",s;if(t.exports)try{s=eval("require(\'buffer\').Buffer")}catch(t){s=void 0}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(c),f=String.fromCharCode,l=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?f(192|e>>>6)+f(128|63&e):f(224|e>>>12&15)+f(128|e>>>6&63)+f(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return f(240|e>>>18&7)+f(128|e>>>12&63)+f(128|e>>>6&63)+f(128|63&e)},h=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g,d=function(t){return t.replace(h,l)},p=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[c.charAt(n>>>18),c.charAt(n>>>12&63),e>=2?"=":c.charAt(n>>>6&63),e>=1?"=":c.charAt(63&n)].join("")},_=n.btoa?function(t){return n.btoa(t)}:function(t){return t.replace(/[\\s\\S]{1,3}/g,p)},v=s?s.from&&Uint8Array&&s.from!==Uint8Array.from?function(t){return(t.constructor===s.constructor?t:s.from(t)).toString("base64")}:function(t){return(t.constructor===s.constructor?t:new s(t)).toString("base64")}:function(t){return _(d(t))},g=function(t,e){return e?v(String(t)).replace(/[+\\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,""):v(String(t))},y=function(t){return g(t,!0)},w=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),b=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return f(55296+(e>>>10))+f(56320+(1023&e));case 3:return f((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return f((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=function(t){return t.replace(w,b)},x=function(t){var e=t.length,n=e%4,r=(e>0?u[t.charAt(0)]<<18:0)|(e>1?u[t.charAt(1)]<<12:0)|(e>2?u[t.charAt(2)]<<6:0)|(e>3?u[t.charAt(3)]:0),i=[f(r>>>16),f(r>>>8&255),f(255&r)];return i.length-=[0,0,2,1][n],i.join("")},k=n.atob?function(t){return n.atob(t)}:function(t){return t.replace(/\\S{1,4}/g,x)},S=function(t){return k(String(t).replace(/[^A-Za-z0-9\\+\\/]/g,""))},B=s?s.from&&Uint8Array&&s.from!==Uint8Array.from?function(t){return(t.constructor===s.constructor?t:s.from(t,"base64")).toString()}:function(t){return(t.constructor===s.constructor?t:new s(t,"base64")).toString()}:function(t){return m(k(t))},A=function(t){return B(String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\\+\\/]/g,""))},z=function(){var t=n.Base64;return n.Base64=o,t};if(n.Base64={VERSION:a,atob:S,btoa:_,fromBase64:A,toBase64:g,utob:d,encode:g,encodeURI:y,btou:m,decode:A,noConflict:z,__buffer__:s},"function"==typeof Object.defineProperty){var E=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",E((function(){return A(this)}))),Object.defineProperty(String.prototype,"toBase64",E((function(t){return g(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",E((function(){return g(this,!0)})))}}return n.Meteor&&(Base64=n.Base64),t.exports?t.exports.Base64=n.Base64:(r=[],i=function(){return n.Base64}.apply(e,r),void 0===i||(t.exports=i)),{Base64:n.Base64}}))}).call(this,n(144))},function(t,e,n){var r=n(5),i=n(63),o=n(43),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(3),i=n(8),o=n(23),a=n(29)("src"),s=n(94),c="toString",u=(""+s).split(c);n(20).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var r=n(35);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r,i,o,a,s,c,u,f;t.exports=(f=n(0),n(58),n(59),o=(i=(r=f).lib).Base,a=i.WordArray,c=(s=r.algo).MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),i=a.create(),o=i.words,s=n.keySize,c=n.iterations;o.length<s;){u&&r.update(u);var u=r.update(t).finalize(e);r.reset();for(var f=1;f<c;f++)u=r.finalize(u),r.reset();i.concat(u)}return i.sigBytes=4*s,i}}),r.EvpKDF=function(t,e,n){return u.create(n).compute(t,e)},f.EvpKDF)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(30);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r,i,o;t.exports=(r=n(0),o=(i=r).lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var r=[],i=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=(s|c)<<24-i%4*8,i++}return o.create(r,i)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},function(t,e,n){var r;t.exports=(r=n(0),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],c=t[e+1],d=t[e+2],p=t[e+3],_=t[e+4],v=t[e+5],g=t[e+6],y=t[e+7],w=t[e+8],b=t[e+9],m=t[e+10],x=t[e+11],k=t[e+12],S=t[e+13],B=t[e+14],A=t[e+15],z=o[0],E=o[1],C=o[2],O=o[3];z=u(z,E,C,O,a,7,s[0]),O=u(O,z,E,C,c,12,s[1]),C=u(C,O,z,E,d,17,s[2]),E=u(E,C,O,z,p,22,s[3]),z=u(z,E,C,O,_,7,s[4]),O=u(O,z,E,C,v,12,s[5]),C=u(C,O,z,E,g,17,s[6]),E=u(E,C,O,z,y,22,s[7]),z=u(z,E,C,O,w,7,s[8]),O=u(O,z,E,C,b,12,s[9]),C=u(C,O,z,E,m,17,s[10]),E=u(E,C,O,z,x,22,s[11]),z=u(z,E,C,O,k,7,s[12]),O=u(O,z,E,C,S,12,s[13]),C=u(C,O,z,E,B,17,s[14]),z=f(z,E=u(E,C,O,z,A,22,s[15]),C,O,c,5,s[16]),O=f(O,z,E,C,g,9,s[17]),C=f(C,O,z,E,x,14,s[18]),E=f(E,C,O,z,a,20,s[19]),z=f(z,E,C,O,v,5,s[20]),O=f(O,z,E,C,m,9,s[21]),C=f(C,O,z,E,A,14,s[22]),E=f(E,C,O,z,_,20,s[23]),z=f(z,E,C,O,b,5,s[24]),O=f(O,z,E,C,B,9,s[25]),C=f(C,O,z,E,p,14,s[26]),E=f(E,C,O,z,w,20,s[27]),z=f(z,E,C,O,S,5,s[28]),O=f(O,z,E,C,d,9,s[29]),C=f(C,O,z,E,y,14,s[30]),z=l(z,E=f(E,C,O,z,k,20,s[31]),C,O,v,4,s[32]),O=l(O,z,E,C,w,11,s[33]),C=l(C,O,z,E,x,16,s[34]),E=l(E,C,O,z,B,23,s[35]),z=l(z,E,C,O,c,4,s[36]),O=l(O,z,E,C,_,11,s[37]),C=l(C,O,z,E,y,16,s[38]),E=l(E,C,O,z,m,23,s[39]),z=l(z,E,C,O,S,4,s[40]),O=l(O,z,E,C,a,11,s[41]),C=l(C,O,z,E,p,16,s[42]),E=l(E,C,O,z,g,23,s[43]),z=l(z,E,C,O,b,4,s[44]),O=l(O,z,E,C,k,11,s[45]),C=l(C,O,z,E,A,16,s[46]),z=h(z,E=l(E,C,O,z,d,23,s[47]),C,O,a,6,s[48]),O=h(O,z,E,C,y,10,s[49]),C=h(C,O,z,E,B,15,s[50]),E=h(E,C,O,z,v,21,s[51]),z=h(z,E,C,O,k,6,s[52]),O=h(O,z,E,C,p,10,s[53]),C=h(C,O,z,E,m,15,s[54]),E=h(E,C,O,z,c,21,s[55]),z=h(z,E,C,O,w,6,s[56]),O=h(O,z,E,C,A,10,s[57]),C=h(C,O,z,E,g,15,s[58]),E=h(E,C,O,z,S,21,s[59]),z=h(z,E,C,O,_,6,s[60]),O=h(O,z,E,C,x,10,s[61]),C=h(C,O,z,E,d,15,s[62]),E=h(E,C,O,z,b,21,s[63]),o[0]=o[0]+z|0,o[1]=o[1]+E|0,o[2]=o[2]+C|0,o[3]=o[3]+O|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var f=c[u];c[u]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function l(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(c),e.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},function(t,e,n){var r={};(0,n(16).assign)(r,n(134),n(137),n(84)),t.exports=r},function(t,e){t.exports=!1},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(22),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(62),i=n(92),o=n(21),a=n(34);t.exports=n(93)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(44),i=n(35);t.exports=function(t){return r(i(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,e,n){var r=n(17),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(12).f,i=n(23),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(31),i={};i[n(1)("toStringTag")]="z",i+""!="[object z]"&&n(14)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(24),i=n(44),o=n(15),a=n(6),s=n(104);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,f=4==t,l=6==t,h=5==t||l,d=e||s;return function(e,s,p){for(var _,v,g=o(e),y=i(g),w=r(s,p,3),b=a(y.length),m=0,x=n?d(e,b):c?d(e,0):void 0;b>m;m++)if((h||m in y)&&(v=w(_=y[m],m,g),t))if(n)x[m]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return m;case 2:x.push(_)}else if(f)return!1;return l?-1:u||f?f:x}}},function(t,e,n){var r,i,o,a,s,c;t.exports=(r=n(0),o=(i=r).lib,a=o.Base,s=o.WordArray,(c=i.x64={}).Word=a.extend({init:function(t,e){this.high=t,this.low=e}}),c.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var i=t[r];n.push(i.high),n.push(i.low)}return s.create(n,this.sigBytes)},clone:function(){for(var t=a.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}}),r)},function(t,e,n){var r=n(20),i=n(3),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(28)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(13),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,e,n){var r=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(65),i=n(47);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(41)("keys"),i=n(29);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(5),i=n(30),o=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(14);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(9);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(107),i=n(5),o=n(49),a=n(53),s=n(6),c=n(54),u=n(55),f=n(9),l=Math.min,h=[].push,d=4294967295,p=!f((function(){RegExp(d,"y")}));n(57)("split",2,(function(t,e,n,f){var _;return _="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,p=void 0===e?d:e>>>0,_=new RegExp(t.source,f+"g");(o=u.call(_,i))&&!((a=_.lastIndex)>l&&(c.push(i.slice(l,o.index)),o.length>1&&o.index<i.length&&h.apply(c,o.slice(1)),s=o[0].length,l=a,c.length>=p));)_.lastIndex===o.index&&_.lastIndex++;return l===i.length?!s&&_.test("")||c.push(""):c.push(i.slice(l)),c.length>p?c.slice(0,p):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):_.call(String(i),n,r)},function(t,e){var r=f(_,t,this,e,_!==n);if(r.done)return r.value;var u=i(t),h=String(this),v=o(u,RegExp),g=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"y":"g"),w=new v(p?u:"^(?:"+u.source+")",y),b=void 0===e?d:e>>>0;if(0===b)return[];if(0===h.length)return null===c(w,h)?[h]:[];for(var m=0,x=0,k=[];x<h.length;){w.lastIndex=p?x:0;var S,B=c(w,p?h:h.slice(x));if(null===B||(S=l(s(w.lastIndex+(p?0:x)),h.length))===m)x=a(h,x,g);else{if(k.push(h.slice(m,x)),k.length===b)return k;for(var A=1;A<=B.length-1;A++)if(k.push(B[A]),k.length===b)return k;x=m=S}}return k.push(h.slice(m)),k}]}))},function(t,e,n){var r=n(108)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(31),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r,i,o=n(56),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),f=void 0!==/()??/.exec("")[1];(u||f)&&(c=function(t){var e,n,r,i,c=this;return f&&(n=new RegExp("^"+c.source+"$(?!\\\\s)",o.call(c))),u&&(e=c.lastIndex),r=a.call(c,t),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),f&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e,n){var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){n(109);var r=n(14),i=n(8),o=n(9),a=n(35),s=n(1),c=n(55),u=s("species"),f=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=s(t),d=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=d?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[h](""),!e})):void 0;if(!d||!p||"replace"===t&&!f||"split"===t&&!l){var _=/./[h],v=n(a,h,""[t],(function(t,e,n,r,i){return e.exec===c?d&&!i?{done:!0,value:_.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,t,g),i(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var r,i,o,a,s,c,u,f;t.exports=(i=(r=f=n(0)).lib,o=i.WordArray,a=i.Hasher,s=r.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|t[e+u];else{var f=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=f<<1|f>>>31}var l=(r<<5|r>>>27)+s+c[u];l+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=a._createHelper(u),r.HmacSHA1=a._createHmacHelper(u),f.SHA1)},function(t,e,n){var r,i,o;t.exports=(i=(r=n(0)).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),a=this._iKey=e.clone(),s=i.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},function(t,e,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){for(var r=n(32),i=n(45),o=n(14),a=n(3),s=n(8),c=n(21),u=n(1),f=u("iterator"),l=u("toStringTag"),h=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),_=0;_<p.length;_++){var v,g=p[_],y=d[g],w=a[g],b=w&&w.prototype;if(b&&(b[f]||s(b,f,h),b[l]||s(b,l,g),c[g]=h,y))for(v in r)b[v]||o(b,v,r[v],!0)}},function(t,e,n){var r=n(1)("unscopables"),i=Array.prototype;null==i[r]&&n(8)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){t.exports=!n(7)&&!n(9)((function(){return 7!=Object.defineProperty(n(42)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),i=n(96),o=n(47),a=n(46)("IE_PROTO"),s=function(){},c=function(){var t,e=n(42)("iframe"),r=o.length;for(e.style.display="none",n(67).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(23),i=n(34),o=n(66)(!1),a=n(46)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(34),i=n(6),o=n(36);t.exports=function(t){return function(e,n,a){var s,c=r(e),u=i(c.length),f=o(a,u);if(t&&n!=n){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(23),i=n(15),o=n(46)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r,i,o,a,s=n(28),c=n(3),u=n(24),f=n(31),l=n(10),h=n(13),d=n(30),p=n(48),_=n(97),v=n(49),g=n(72).set,y=n(100)(),w=n(73),b=n(101),m=n(102),x=n(103),k="Promise",S=c.TypeError,B=c.process,A=B&&B.versions,z=A&&A.v8||"",E=c.Promise,C="process"==f(B),O=function(){},R=i=w.f,D=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(O,O)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==z.indexOf("6.6")&&-1===m.indexOf("Chrome/66")}catch(t){}}(),H=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,c=e.resolve,u=e.reject,f=e.domain;try{s?(i||(2==t._h&&j(t),t._h=1),!0===s?n=r:(f&&f.enter(),n=s(r),f&&(f.exit(),a=!0)),n===e.promise?u(S("Promise-chain cycle")):(o=H(n))?o.call(n,c,u):c(n)):u(r)}catch(t){f&&!a&&f.exit(),u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){g.call(c,(function(){var e,n,r,i=t._v,o=M(t);if(o&&(e=b((function(){C?B.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=C||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){g.call(c,(function(){var e;C?B.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},T=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can\'t be resolved itself");(e=H(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,u(T,r,1),u(F,r,1))}catch(t){F.call(r,t)}})):(n._v=t,n._s=1,P(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};D||(E=function(t){p(this,E,k,"_h"),d(t),r.call(this);try{t(u(T,this,1),u(F,this,1))}catch(t){F.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(50)(E.prototype,{then:function(t,e){var n=R(v(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?B.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(T,t,1),this.reject=u(F,t,1)},w.f=R=function(t){return t===E||t===a?new o(t):i(t)}),l(l.G+l.W+l.F*!D,{Promise:E}),n(37)(E,k),n(74)(k),a=n(20).Promise,l(l.S+l.F*!D,k,{reject:function(t){var e=R(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(s||!D),k,{resolve:function(t){return x(s&&this===a?E:this,t)}}),l(l.S+l.F*!(D&&n(75)((function(t){E.all(t).catch(O)}))),k,{all:function(t){var e=this,n=R(e),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;_(t,!1,(function(t){var s=o++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=R(e),r=n.reject,i=b((function(){_(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){var r=n(21),i=n(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(31),i=n(1)("iterator"),o=n(21);t.exports=n(20).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r,i,o,a=n(24),s=n(99),c=n(67),u=n(42),f=n(3),l=f.process,h=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,_=f.Dispatch,v=0,g={},y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},w=function(t){y.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},d=function(t){delete g[t]},"process"==n(22)(l)?r=function(t){l.nextTick(a(y,t,1))}:_&&_.now?r=function(t){_.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",w,!1)):r="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){var r=n(30);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(3),i=n(12),o=n(7),a=n(1)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(1)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(10),i=n(39)(0),o=n(51)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(10),i=n(110);r(r.P+r.F*!n(51)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var r;t.exports=(r=n(0),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],f=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],f=n[5],l=n[6],h=n[7],d=0;d<64;d++){if(d<16)u[d]=0|t[e+d];else{var p=u[d-15],_=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=u[d-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[d]=_+u[d-7]+g+u[d-16]}var y=r&i^r&o^i&o,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&l)+c[d]+u[d];h=l,l=f,f=s,s=a+b|0,a=o,o=i,i=r,r=b+(w+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(f),e.HmacSHA256=o._createHmacHelper(f)}(Math),r.SHA256)},function(t,e,n){var r;t.exports=(r=n(0),n(40),function(){var t=r,e=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var f=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],f=n[5],l=n[6],h=n[7],d=r.high,p=r.low,_=i.high,v=i.low,g=o.high,y=o.low,w=a.high,b=a.low,m=s.high,x=s.low,k=f.high,S=f.low,B=l.high,A=l.low,z=h.high,E=h.low,C=d,O=p,R=_,D=v,H=g,P=y,I=w,M=b,j=m,F=x,T=k,L=S,N=B,U=A,Z=z,W=E,K=0;K<80;K++){var V=u[K];if(K<16)var X=V.high=0|t[e+2*K],G=V.low=0|t[e+2*K+1];else{var Y=u[K-15],J=Y.high,$=Y.low,q=(J>>>1|$<<31)^(J>>>8|$<<24)^J>>>7,Q=($>>>1|J<<31)^($>>>8|J<<24)^($>>>7|J<<25),tt=u[K-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,it=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),ot=u[K-7],at=ot.high,st=ot.low,ct=u[K-16],ut=ct.high,ft=ct.low;X=(X=(X=q+at+((G=Q+st)>>>0<Q>>>0?1:0))+rt+((G+=it)>>>0<it>>>0?1:0))+ut+((G+=ft)>>>0<ft>>>0?1:0),V.high=X,V.low=G}var lt,ht=j&T^~j&N,dt=F&L^~F&U,pt=C&R^C&H^R&H,_t=O&D^O&P^D&P,vt=(C>>>28|O<<4)^(C<<30|O>>>2)^(C<<25|O>>>7),gt=(O>>>28|C<<4)^(O<<30|C>>>2)^(O<<25|C>>>7),yt=(j>>>14|F<<18)^(j>>>18|F<<14)^(j<<23|F>>>9),wt=(F>>>14|j<<18)^(F>>>18|j<<14)^(F<<23|j>>>9),bt=c[K],mt=bt.high,xt=bt.low,kt=Z+yt+((lt=W+wt)>>>0<W>>>0?1:0),St=gt+_t;Z=N,W=U,N=T,U=L,T=j,L=F,j=I+(kt=(kt=(kt=kt+ht+((lt+=dt)>>>0<dt>>>0?1:0))+mt+((lt+=xt)>>>0<xt>>>0?1:0))+X+((lt+=G)>>>0<G>>>0?1:0))+((F=M+lt|0)>>>0<M>>>0?1:0)|0,I=H,M=P,H=R,P=D,R=C,D=O,C=kt+(vt+pt+(St>>>0<gt>>>0?1:0))+((O=lt+St|0)>>>0<lt>>>0?1:0)|0}p=r.low=p+O,r.high=d+C+(p>>>0<O>>>0?1:0),v=i.low=v+D,i.high=_+R+(v>>>0<D>>>0?1:0),y=o.low=y+P,o.high=g+H+(y>>>0<P>>>0?1:0),b=a.low=b+M,a.high=w+I+(b>>>0<M>>>0?1:0),x=s.low=x+F,s.high=m+j+(x>>>0<F>>>0?1:0),S=f.low=S+L,f.high=k+T+(S>>>0<L>>>0?1:0),A=l.low=A+U,l.high=B+N+(A>>>0<U>>>0?1:0),E=h.low=E+W,h.high=z+Z+(E>>>0<W>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(f),t.HmacSHA512=e._createHmacHelper(f)}(),r.SHA512)},function(t,e,n){t.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,n){var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){var r=n(16),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,o,a,s=t.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(c),a=0,o=0;a<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,o,s=e||t.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return c(u,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){for(var r,i=n(3),o=n(8),a=n(29),s=a("typed_array"),c=a("view"),u=!(!i.ArrayBuffer||!i.DataView),f=u,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(r=i[h[l++]])?(o(r.prototype,s,!0),o(r.prototype,c,!0)):f=!1;t.exports={ABV:u,CONSTR:f,TYPED:s,VIEW:c}},function(t,e,n){var r=n(17),i=n(6);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(65),i=n(47).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(15),i=n(36),o=n(6);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)e[s++]=t;return e}},function(t,e,n){n(156);var r=n(5),i=n(56),o=n(7),a="toString",s=/./.toString,c=function(t){n(14)(RegExp.prototype,a,t,!0)};n(9)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):s.name!=a&&c((function(){return s.call(this)}))},function(t,e,n){var r=Date.prototype,i="Invalid Date",o=r.toString,a=r.getTime;new Date(NaN)+""!=i&&n(14)(r,"toString",(function(){var t=a.call(this);return t==t?o.call(this):i}))},function(t,e,n){var r=n(153),i=n(154),o=n(155);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(28),i=n(10),o=n(14),a=n(8),s=n(21),c=n(95),u=n(37),f=n(68),l=n(1)("iterator"),h=!([].keys&&"next"in[].keys()),d="keys",p="values",_=function(){return this};t.exports=function(t,e,n,v,g,y,w){c(n,e,v);var b,m,x,k=function(t){if(!h&&t in z)return z[t];switch(t){case d:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",B=g==p,A=!1,z=t.prototype,E=z[l]||z["@@iterator"]||g&&z[g],C=E||k(g),O=g?B?k("entries"):C:void 0,R="Array"==e&&z.entries||E;if(R&&(x=f(R.call(new t)))!==Object.prototype&&x.next&&(u(x,S,!0),r||"function"==typeof x[l]||a(x,l,_)),B&&E&&E.name!==p&&(A=!0,C=function(){return E.call(this)}),r&&!w||!h&&!A&&z[l]||a(z,l,C),s[e]=C,s[S]=_,g)if(b={values:B?C:k(p),keys:y?C:k(d),entries:O},w)for(m in b)m in z||o(z,m,b[m]);else i(i.P+i.F*(h||A),e,b);return b}},function(t,e,n){t.exports=n(41)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(64),i=n(33),o=n(37),a={};n(8)(a,n(1)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(12),i=n(5),o=n(45);t.exports=n(7)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,c=0;s>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(24),i=n(98),o=n(70),a=n(5),s=n(6),c=n(71),u={},f={};(e=t.exports=function(t,e,n,l,h){var d,p,_,v,g=h?function(){return t}:c(t),y=r(n,l,e?2:1),w=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=s(t.length);d>w;w++)if((v=e?y(a(p=t[w])[0],p[1]):y(t[w]))===u||v===f)return v}else for(_=g.call(t);!(p=_.next()).done;)if((v=i(_,y,p.value,e))===u||v===f)return v}).BREAK=u,e.RETURN=f},function(t,e,n){var r=n(5);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3),i=n(72).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(22)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);n=function(){f.then(u)}}else n=function(){i.call(r,u)};else{var l=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(3).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(5),i=n(13),o=n(73);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(105);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(13),i=n(106),o=n(1)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(22);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(13),i=n(22),o=n(1)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(17),i=n(35);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(55);n(10)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){var r=n(30),i=n(15),o=n(44),a=n(6);t.exports=function(t,e,n,s,c){r(e);var u=i(t),f=o(u),l=a(u.length),h=c?l-1:0,d=c?-1:1;if(n<2)for(;;){if(h in f){s=f[h],h+=d;break}if(h+=d,c?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:l>h;h+=d)h in f&&(s=e(s,f[h],h,u));return s}},function(t,e,n){var r;t.exports=(r=n(0),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),r.lib.WordArray)},function(t,e,n){var r;t.exports=(r=n(0),function(){var t=r,e=t.lib.WordArray,n=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var n=t.length,r=[],i=0;i<n;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(r,2*n)}},n.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o+=2){var a=i(e[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(t){for(var n=t.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(r,2*n)}}}(),r.enc.Utf16)},function(t,e,n){var r,i,o,a,s,c;t.exports=(c=n(0),n(78),i=(r=c).lib.WordArray,o=r.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),r.SHA224=a._createHelper(s),r.HmacSHA224=a._createHmacHelper(s),c.SHA224)},function(t,e,n){var r,i,o,a,s,c,u,f;t.exports=(f=n(0),n(40),n(79),i=(r=f).x64,o=i.Word,a=i.WordArray,s=r.algo,c=s.SHA512,u=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u),f.SHA384)},function(t,e,n){var r;t.exports=(r=n(0),n(40),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.x64.Word,s=e.algo,c=[],u=[],f=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,l=0,h=0;h<7;h++){if(1&i){var d=(1<<h)-1;d<32?l^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}f[o]=a.create(s,l)}}();var l=[];!function(){for(var t=0;t<25;t++)l[t]=a.create()}();var h=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(E=n[i]).high^=a,E.low^=o}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var d=0,p=0,_=0;_<5;_++)d^=(E=n[h+5*_]).high,p^=E.low;var v=l[h];v.high=d,v.low=p}for(h=0;h<5;h++){var g=l[(h+4)%5],y=l[(h+1)%5],w=y.high,b=y.low;for(d=g.high^(w<<1|b>>>31),p=g.low^(b<<1|w>>>31),_=0;_<5;_++)(E=n[h+5*_]).high^=d,E.low^=p}for(var m=1;m<25;m++){var x=(E=n[m]).high,k=E.low,S=c[m];S<32?(d=x<<S|k>>>32-S,p=k<<S|x>>>32-S):(d=k<<S-32|x>>>64-S,p=x<<S-32|k>>>64-S);var B=l[u[m]];B.high=d,B.low=p}var A=l[0],z=n[0];for(A.high=z.high,A.low=z.low,h=0;h<5;h++)for(_=0;_<5;_++){var E=n[m=h+5*_],C=l[m],O=l[(h+1)%5+5*_],R=l[(h+2)%5+5*_];E.high=C.high^~O.high&R.high,E.low=C.low^~O.low&R.low}E=n[0];var D=f[s];E.high^=D.high,E.low^=D.low}},_doFinalize:function(){var e=this._data,n=e.words,r=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],f=0;f<c;f++){var l=a[f],h=l.high,d=l.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(d),u.push(h)}return new i.init(u,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=o._createHelper(h),e.HmacSHA3=o._createHmacHelper(h)}(Math),r.SHA3)},function(t,e,n){var r;t.exports=(r=n(0),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,d,b,m,x,k,S,B,A,z,E=this._hash.words,C=l.words,O=h.words,R=s.words,D=c.words,H=u.words,P=f.words;for(x=o=E[0],k=a=E[1],S=d=E[2],B=b=E[3],A=m=E[4],n=0;n<80;n+=1)z=o+t[e+R[n]]|0,z+=n<16?p(a,d,b)+C[0]:n<32?_(a,d,b)+C[1]:n<48?v(a,d,b)+C[2]:n<64?g(a,d,b)+C[3]:y(a,d,b)+C[4],z=(z=w(z|=0,H[n]))+m|0,o=m,m=b,b=w(d,10),d=a,a=z,z=x+t[e+D[n]]|0,z+=n<16?y(k,S,B)+O[0]:n<32?g(k,S,B)+O[1]:n<48?v(k,S,B)+O[2]:n<64?_(k,S,B)+O[3]:p(k,S,B)+O[4],z=(z=w(z|=0,P[n]))+A|0,x=A,A=B,B=w(S,10),S=k,k=z;z=E[1]+d+B|0,E[1]=E[2]+b+A|0,E[2]=E[3]+m+x|0,E[3]=E[4]+o+k|0,E[4]=E[0]+a+S|0,E[0]=z},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,n){return t^e^n}function _(t,e,n){return t&e|~t&n}function v(t,e,n){return(t|~e)^n}function g(t,e,n){return t&n|e&~n}function y(t,e,n){return t^(e|~n)}function w(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(d),e.HmacRIPEMD160=o._createHmacHelper(d)}(Math),r.RIPEMD160)},function(t,e,n){var r,i,o,a,s,c,u,f,l;t.exports=(l=n(0),n(58),n(59),o=(i=(r=l).lib).Base,a=i.WordArray,c=(s=r.algo).SHA1,u=s.HMAC,f=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=u.create(n.hasher,t),i=a.create(),o=a.create([1]),s=i.words,c=o.words,f=n.keySize,l=n.iterations;s.length<f;){var h=r.update(e).finalize(o);r.reset();for(var d=h.words,p=d.length,_=h,v=1;v<l;v++){_=r.finalize(_),r.reset();for(var g=_.words,y=0;y<p;y++)d[y]^=g[y]}i.concat(h),c[0]++}return i.sigBytes=4*f,i}}),r.PBKDF2=function(t,e,n){return f.create(n).compute(t,e)},l.PBKDF2)},function(t,e,n){var r;t.exports=(r=n(0),n(2),r.mode.CFB=function(){var t=r.lib.BlockCipherMode.extend();function e(t,e,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var a=0;a<n;a++)t[e+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i,r),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);e.call(this,t,n,i,r),this._prevBlock=o}}),t}(),r.mode.CFB)},function(t,e,n){var r,i,o;t.exports=(o=n(0),n(2),o.mode.CTR=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}}),r.Decryptor=i,r),o.mode.CTR)},function(t,e,n){var r;t.exports=(r=n(0),n(2),r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)t[n+c]^=s[c]}});return t.Decryptor=n,t}(),r.mode.CTRGladman)},function(t,e,n){var r,i,o;t.exports=(o=n(0),n(2),o.mode.OFB=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}}),r.Decryptor=i,r),o.mode.OFB)},function(t,e,n){var r,i;t.exports=(i=n(0),n(2),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),i.mode.ECB)},function(t,e,n){var r;t.exports=(r=n(0),n(2),r.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Ansix923)},function(t,e,n){var r;t.exports=(r=n(0),n(2),r.pad.Iso10126={pad:function(t,e){var n=4*e,i=n-t.sigBytes%n;t.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Iso10126)},function(t,e,n){var r;t.exports=(r=n(0),n(2),r.pad.Iso97971={pad:function(t,e){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,e)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.pad.Iso97971)},function(t,e,n){var r;t.exports=(r=n(0),n(2),r.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},r.pad.ZeroPadding)},function(t,e,n){var r;t.exports=(r=n(0),n(2),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},function(t,e,n){var r,i,o,a;t.exports=(a=n(0),n(2),i=(r=a).lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},a.format.Hex)},function(t,e,n){var r;t.exports=(r=n(0),n(25),n(26),n(18),n(2),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,i=[],o=[],a=[],s=[],c=[],u=[],f=[],l=[],h=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var _=t[n],v=t[_],g=t[v],y=257*t[p]^16843008*p;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y,y=16843009*g^65537*v^257*_^16843008*n,f[p]=y<<24|y>>>8,l[p]=y<<16|y>>>16,h[p]=y<<8|y>>>24,d[p]=y,n?(n=_^t[t[t[g^_]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],_=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)if(a<n)o[a]=e[a];else{var s=o[a-1];a%n?n>6&&a%n==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=p[a/n|0]<<24),o[a]=o[a-n]^s}for(var c=this._invKeySchedule=[],u=0;u<r;u++)a=r-u,s=u%4?o[a]:o[a-4],c[u]=u<4||a<=4?s:f[i[s>>>24]]^l[i[s>>>16&255]]^h[i[s>>>8&255]]^d[i[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,f,l,h,d,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var c=this._nRounds,u=t[e]^n[0],f=t[e+1]^n[1],l=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<c;p++){var _=r[u>>>24]^i[f>>>16&255]^o[l>>>8&255]^a[255&h]^n[d++],v=r[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^a[255&u]^n[d++],g=r[l>>>24]^i[h>>>16&255]^o[u>>>8&255]^a[255&f]^n[d++],y=r[h>>>24]^i[u>>>16&255]^o[f>>>8&255]^a[255&l]^n[d++];u=_,f=v,l=g,h=y}_=(s[u>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^n[d++],v=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^n[d++],g=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&f])^n[d++],y=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^n[d++],t[e]=_,t[e+1]=v,t[e+2]=g,t[e+3]=y},keySize:8});t.AES=e._createHelper(_)}(),r.AES)},function(t,e,n){var r;t.exports=(r=n(0),n(25),n(26),n(18),n(2),function(){var t=r,e=t.lib,n=e.WordArray,i=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=a[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],f=c[o];for(n=0;n<24;n++)u[n/6|0]|=e[(s[n]-1+f)%28]<<31-n%6,u[4+(n/6|0)]|=e[28+(s[n+24]-1+f)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var l=this._invSubKeys=[];for(n=0;n<16;n++)l[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&f[c])>>>0];this._lBlock=a,this._rBlock=o^s}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function d(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=i._createHelper(l);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=l.createEncryptor(n.create(t.slice(0,2))),this._des2=l.createEncryptor(n.create(t.slice(2,4))),this._des3=l.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),r.TripleDES)},function(t,e,n){var r;t.exports=(r=n(0),n(25),n(26),n(18),n(2),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=e[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[n],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}t.RC4=e._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),r.RC4)},function(t,e,n){var r;t.exports=(r=n(0),n(25),n(26),n(18),n(2),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=[],o=[],a=[],s=n.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=u>>>16|4294901760&f,h=f<<16|65535&u;for(i[0]^=u,i[1]^=l,i[2]^=f,i[3]^=h,i[4]^=u,i[5]^=l,i[6]^=f,i[7]^=h,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),t[e+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),r.Rabbit)},function(t,e,n){var r;t.exports=(r=n(0),n(25),n(26),n(18),n(2),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=[],o=[],a=[],s=n.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=u>>>16|4294901760&f,h=f<<16|65535&u;for(r[0]^=u,r[1]^=l,r[2]^=f,r[3]^=h,r[4]^=u,r[5]^=l,r[6]^=f,r[7]^=h,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),t[e+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),r.RabbitLegacy)},function(t,e,n){var r=n(135),i=n(16),o=n(82),a=n(60),s=n(83),c=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,f)))throw new Error(a[n]);this._dict_set=!0}}function f(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=f,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},function(t,e,n){var r,i=n(16),o=n(136),a=n(80),s=n(81),c=n(60),u=-2,f=258,l=262,h=103,d=113,p=666;function _(t,e){return t.msg=c[e],e}function v(t){return(t<<1)-(t>4?9:0)}function g(t){for(var e=t.length;--e>=0;)t[e]=0}function y(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function w(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,y(t.strm)}function b(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function x(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-l?t.strstart-(t.w_size-l):0,u=t.window,h=t.w_mask,d=t.prev,p=t.strstart+f,_=u[o+a-1],v=u[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===v&&u[n+a-1]===_&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<p);if(r=f-(p-o),o=p-f,r>a){if(t.match_start=e,a=r,r>=s)break;_=u[o+a-1],v=u[o+a]}}}while((e=d[e&h])>c&&0!=--i);return a<=t.lookahead?a:t.lookahead}function k(t){var e,n,r,o,c,u,f,h,d,p,_=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=_+(_-l)){i.arraySet(t.window,t.window,_,_,0),t.match_start-=_,t.strstart-=_,t.block_start-=_,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=_?r-_:0}while(--n);e=n=_;do{r=t.prev[--e],t.prev[e]=r>=_?r-_:0}while(--n);o+=_}if(0===t.strm.avail_in)break;if(u=t.strm,f=t.window,h=t.strstart+t.lookahead,d=o,p=void 0,(p=u.avail_in)>d&&(p=d),n=0===p?0:(u.avail_in-=p,i.arraySet(f,u.input,u.next_in,p,h),1===u.state.wrap?u.adler=a(u.adler,f,p,h):2===u.state.wrap&&(u.adler=s(u.adler,f,p,h)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<l&&0!==t.strm.avail_in)}function S(t,e){for(var n,r;;){if(t.lookahead<l){if(k(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-l&&(t.match_length=x(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}function B(t,e){for(var n,r,i;;){if(t.lookahead<l){if(k(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-l&&(t.match_length=x(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(w(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&w(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}function A(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):_(t,u)}function C(t){var e,n=E(t);return 0===n&&((e=t.state).window_size=2*e.w_size,g(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function O(t,e,n,r,o,a){if(!t)return u;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||a<0||a>4)return _(t,u);8===r&&(r=9);var c=new z;return t.state=c,c.strm=t,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=n,C(t)}r=[new A(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(k(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,w(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-l&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(w(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(w(t,!1),t.strm.avail_out),1)})),new A(4,4,8,4,S),new A(4,5,16,8,S),new A(4,6,32,32,S),new A(4,4,16,16,B),new A(8,16,32,32,B),new A(8,16,128,128,B),new A(8,32,128,256,B),new A(32,128,258,1024,B),new A(32,258,258,4096,B)],e.deflateInit=function(t,e){return O(t,e,8,15,8,0)},e.deflateInit2=O,e.deflateReset=C,e.deflateResetKeep=E,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},e.deflate=function(t,e){var n,i,a,c;if(!t||!t.state||e>5||e<0)return t?_(t,u):u;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===p&&4!==e)return _(t,0===t.avail_out?-5:u);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,b(i,31),b(i,139),b(i,8),i.gzhead?(b(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),b(i,255&i.gzhead.time),b(i,i.gzhead.time>>8&255),b(i,i.gzhead.time>>16&255),b(i,i.gzhead.time>>24&255),b(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),b(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(b(i,255&i.gzhead.extra.length),b(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(b(i,0),b(i,0),b(i,0),b(i,0),b(i,0),b(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),b(i,3),i.status=d);else{var l=8+(i.w_bits-8<<4)<<8;l|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(l|=32),l+=31-l%31,i.status=d,m(i,l),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),y(t),a=i.pending,i.pending!==i.pending_buf_size));)b(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),y(t),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,b(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),y(t),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,b(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=h)}else i.status=h;if(i.status===h&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(t),i.pending+2<=i.pending_buf_size&&(b(i,255&t.adler),b(i,t.adler>>8&255),t.adler=0,i.status=d)):i.status=d),0!==i.pending){if(y(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&v(e)<=v(n)&&4!==e)return _(t,-5);if(i.status===p&&0!==t.avail_in)return _(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==p){var x=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(k(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=f){if(k(t),t.lookahead<=f&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+f;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=f-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(w(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(w(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(w(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==x&&4!==x||(i.status=p),1===x||3===x)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===x&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(b(i,255&t.adler),b(i,t.adler>>8&255),b(i,t.adler>>16&255),b(i,t.adler>>24&255),b(i,255&t.total_in),b(i,t.total_in>>8&255),b(i,t.total_in>>16&255),b(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),y(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==h&&e!==d&&e!==p?_(t,u):(t.state=null,e===d?_(t,-3):0):u},e.deflateSetDictionary=function(t,e){var n,r,o,s,c,f,l,h,d=e.length;if(!t||!t.state)return u;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,e,d-n.w_size,n.w_size,0),e=h,d=n.w_size),c=t.avail_in,f=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,k(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,k(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=f,t.input=l,t.avail_in=c,n.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){var r=n(16);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var f=new Array(60);i(f);var l=new Array(512);i(l);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,_,v,g=new Array(30);function y(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function b(t){return t<256?l[t]:l[256+(t>>>7)]}function m(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,m(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){x(t,n[2*e],n[2*e+1])}function S(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function B(t,e,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=S(o[s]++,s))}}function A(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function z(t){t.bi_valid>8?m(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function E(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function C(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&E(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!E(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function O(t,e,n){var r,i,s,c,u=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===r?k(t,i,e):(k(t,(s=h[i])+256+1,e),0!==(c=o[s])&&x(t,i-=d[s],c),k(t,s=b(--r),n),0!==(c=a[s])&&x(t,r-=g[s],c))}while(u<t.last_lit);k(t,256,e)}function R(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)C(t,o,n);i=c;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,C(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,c=e.dyn_tree,u=e.max_code,f=e.stat_desc.static_tree,l=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,_=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=c[2*c[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,_++),c[2*r+1]=o,r>u||(t.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=c[2*r],t.opt_len+=s*(o+a),l&&(t.static_len+=s*(f[2*r+1]+a)));if(0!==_){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,_-=2}while(_>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>u||(c[2*i+1]!==o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(t,e),B(o,u,t.bl_count)}function D(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<c&&i===a||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function H(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)do{k(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(k(t,i,t.bl_tree),s--),k(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),x(t,s-3,3)):(k(t,18,t.bl_tree),x(t,s-11,7));s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}i(g);var P=!1;function I(t,e,n,i){x(t,0+(i?1:0),3),function(t,e,n,i){z(t),m(t,n),m(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}e._tr_init=function(t){P||(function(){var t,e,n,r,i,c=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<o[r];t++)h[n++]=r;for(h[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,t=0;t<1<<a[r];t++)l[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,t=0;t<1<<a[r]-7;t++)l[256+i++]=r;for(e=0;e<=15;e++)c[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,c[8]++;for(;t<=255;)u[2*t+1]=9,t++,c[9]++;for(;t<=279;)u[2*t+1]=7,t++,c[7]++;for(;t<=287;)u[2*t+1]=8,t++,c[8]++;for(B(u,287,c),t=0;t<30;t++)f[2*t+1]=5,f[2*t]=S(t,5);p=new y(u,o,257,286,15),_=new y(f,a,0,30,15),v=new y(new Array(0),s,0,19,7)}(),P=!0),t.l_desc=new w(t.dyn_ltree,p),t.d_desc=new w(t.dyn_dtree,_),t.bl_desc=new w(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,A(t)},e._tr_stored_block=I,e._tr_flush_block=function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),R(t,t.l_desc),R(t,t.d_desc),a=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?I(t,e,n,r):4===t.strategy||o===i?(x(t,2+(r?1:0),3),O(t,u,f)):(x(t,4+(r?1:0),3),function(t,e,n,r){var i;for(x(t,e-257,5),x(t,n-1,5),x(t,r-4,4),i=0;i<r;i++)x(t,t.bl_tree[2*c[i]+1],3);H(t,t.dyn_ltree,e-1),H(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),O(t,t.dyn_ltree,t.dyn_dtree)),A(t),r&&z(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(h[n]+256+1)]++,t.dyn_dtree[2*b(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(m(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){var r=n(138),i=n(16),o=n(82),a=n(84),s=n(60),c=n(83),u=n(141),f=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[n])}function h(t,e){var n=new l(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}l.prototype.push=function(t,e){var n,s,c,u,l,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,_=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===_&&(n=a.Z_OK,_=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(h.output,h.next_out),u=h.next_out-c,l=o.buf2string(h.output,c),h.next_out=u,h.avail_out=d-u,u&&i.arraySet(h.output,h.output,c,u,0),this.onData(l)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(_=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=l,e.inflate=h,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},e.ungzip=h},function(t,e,n){var r=n(16),i=n(80),o=n(81),a=n(139),s=n(140),c=-2,u=12,f=30;function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):c}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,d(t)):c}function _(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?c:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,p(t))):c}function v(t,e){var n,r;return t?(r=new h,t.state=r,r.window=null,0!==(n=_(t,e))&&(t.state=null),n):c}var g,y,w=!0;function b(t){if(w){var e;for(g=new r.Buf32(512),y=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,y,0,t.work,{bits:5}),w=!1}t.lencode=g,t.lenbits=9,t.distcode=y,t.distbits=5}function m(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=p,e.inflateReset2=_,e.inflateResetKeep=d,e.inflateInit=function(t){return v(t,15)},e.inflateInit2=v,e.inflate=function(t,e){var n,h,d,p,_,v,g,y,w,x,k,S,B,A,z,E,C,O,R,D,H,P,I,M,j=0,F=new r.Buf8(4),T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;(n=t.state).mode===u&&(n.mode=13),_=t.next_out,d=t.output,g=t.avail_out,p=t.next_in,h=t.input,v=t.avail_in,y=n.hold,w=n.bits,x=v,k=g,P=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(2&n.wrap&&35615===y){n.check=0,F[0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0),y=0,w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){t.msg="incorrect header check",n.mode=f;break}if(8!=(15&y)){t.msg="unknown compression method",n.mode=f;break}if(w-=4,H=8+(15&(y>>>=4)),0===n.wbits)n.wbits=H;else if(H>n.wbits){t.msg="invalid window size",n.mode=f;break}n.dmax=1<<H,t.adler=n.check=1,n.mode=512&y?10:u,y=0,w=0;break;case 2:for(;w<16;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(n.flags=y,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=f;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=f;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0)),y=0,w=0,n.mode=3;case 3:for(;w<32;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}n.head&&(n.head.time=y),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,F[2]=y>>>16&255,F[3]=y>>>24&255,n.check=o(n.check,F,4,0)),y=0,w=0,n.mode=4;case 4:for(;w<16;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0)),y=0,w=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0)),y=0,w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>v&&(S=v),S&&(n.head&&(H=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,p,S,H)),512&n.flags&&(n.check=o(n.check,h,S,p)),v-=S,p+=S,n.length-=S),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break t;S=0;do{H=h[p+S++],n.head&&H&&n.length<65536&&(n.head.name+=String.fromCharCode(H))}while(H&&S<v);if(512&n.flags&&(n.check=o(n.check,h,S,p)),v-=S,p+=S,H)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break t;S=0;do{H=h[p+S++],n.head&&H&&n.length<65536&&(n.head.comment+=String.fromCharCode(H))}while(H&&S<v);if(512&n.flags&&(n.check=o(n.check,h,S,p)),v-=S,p+=S,H)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(y!==(65535&n.check)){t.msg="header crc mismatch",n.mode=f;break}y=0,w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=u;break;case 10:for(;w<32;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}t.adler=n.check=l(y),y=0,w=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=_,t.avail_out=g,t.next_in=p,t.avail_in=v,n.hold=y,n.bits=w,2;t.adler=n.check=1,n.mode=u;case u:if(5===e||6===e)break t;case 13:if(n.last){y>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}switch(n.last=1&y,w-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(b(n),n.mode=20,6===e){y>>>=2,w-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=f}y>>>=2,w-=2;break;case 14:for(y>>>=7&w,w-=7&w;w<32;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if((65535&y)!=(y>>>16^65535)){t.msg="invalid stored block lengths",n.mode=f;break}if(n.length=65535&y,y=0,w=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(S=n.length){if(S>v&&(S=v),S>g&&(S=g),0===S)break t;r.arraySet(d,h,p,S,_),v-=S,p+=S,g-=S,_+=S,n.length-=S;break}n.mode=u;break;case 17:for(;w<14;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(n.nlen=257+(31&y),y>>>=5,w-=5,n.ndist=1+(31&y),y>>>=5,w-=5,n.ncode=4+(15&y),y>>>=4,w-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=f;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}n.lens[T[n.have++]]=7&y,y>>>=3,w-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,P){t.msg="invalid code lengths set",n.mode=f;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(j=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,C=65535&j,!((z=j>>>24)<=w);){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(C<16)y>>>=z,w-=z,n.lens[n.have++]=C;else{if(16===C){for(M=z+2;w<M;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(y>>>=z,w-=z,0===n.have){t.msg="invalid bit length repeat",n.mode=f;break}H=n.lens[n.have-1],S=3+(3&y),y>>>=2,w-=2}else if(17===C){for(M=z+3;w<M;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}w-=z,H=0,S=3+(7&(y>>>=z)),y>>>=3,w-=3}else{for(M=z+7;w<M;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}w-=z,H=0,S=11+(127&(y>>>=z)),y>>>=7,w-=7}if(n.have+S>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=f;break}for(;S--;)n.lens[n.have++]=H}}if(n.mode===f)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=f;break}if(n.lenbits=9,I={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,P){t.msg="invalid literal/lengths set",n.mode=f;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,P){t.msg="invalid distances set",n.mode=f;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(v>=6&&g>=258){t.next_out=_,t.avail_out=g,t.next_in=p,t.avail_in=v,n.hold=y,n.bits=w,a(t,k),_=t.next_out,d=t.output,g=t.avail_out,p=t.next_in,h=t.input,v=t.avail_in,y=n.hold,w=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;E=(j=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,C=65535&j,!((z=j>>>24)<=w);){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(E&&0==(240&E)){for(O=z,R=E,D=C;E=(j=n.lencode[D+((y&(1<<O+R)-1)>>O)])>>>16&255,C=65535&j,!(O+(z=j>>>24)<=w);){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}y>>>=O,w-=O,n.back+=O}if(y>>>=z,w-=z,n.back+=z,n.length=C,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=u;break}if(64&E){t.msg="invalid literal/length code",n.mode=f;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(M=n.extra;w<M;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(j=n.distcode[y&(1<<n.distbits)-1])>>>16&255,C=65535&j,!((z=j>>>24)<=w);){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(0==(240&E)){for(O=z,R=E,D=C;E=(j=n.distcode[D+((y&(1<<O+R)-1)>>O)])>>>16&255,C=65535&j,!(O+(z=j>>>24)<=w);){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}y>>>=O,w-=O,n.back+=O}if(y>>>=z,w-=z,n.back+=z,64&E){t.msg="invalid distance code",n.mode=f;break}n.offset=C,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(M=n.extra;w<M;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=f;break}n.mode=25;case 25:if(0===g)break t;if(S=k-g,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=f;break}S>n.wnext?(S-=n.wnext,B=n.wsize-S):B=n.wnext-S,S>n.length&&(S=n.length),A=n.window}else A=d,B=_-n.offset,S=n.length;S>g&&(S=g),g-=S,n.length-=S;do{d[_++]=A[B++]}while(--S);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;d[_++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===v)break t;v--,y|=h[p++]<<w,w+=8}if(k-=g,t.total_out+=k,n.total+=k,k&&(t.adler=n.check=n.flags?o(n.check,d,k,_-k):i(n.check,d,k,_-k)),k=g,(n.flags?y:l(y))!==n.check){t.msg="incorrect data check",n.mode=f;break}y=0,w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===v)break t;v--,y+=h[p++]<<w,w+=8}if(y!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=f;break}y=0,w=0}n.mode=29;case 29:P=1;break t;case f:P=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=_,t.avail_out=g,t.next_in=p,t.avail_in=v,n.hold=y,n.bits=w,(n.wsize||k!==t.avail_out&&n.mode<f&&(n.mode<27||4!==e))&&m(t,t.output,t.next_out,k-t.avail_out)?(n.mode=31,-4):(x-=t.avail_in,k-=t.avail_out,t.total_in+=x,t.total_out+=k,n.total+=k,n.wrap&&k&&(t.adler=n.check=n.flags?o(n.check,d,k,t.next_out-k):i(n.check,d,k,t.next_out-k)),t.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===x&&0===k||4===e)&&0===P&&(P=-5),P)},e.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?c:(n.head=e,e.done=!1,0):c},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,e,r,0)!==n.check?-3:m(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){t.exports=function(t,e){var n,r,i,o,a,s,c,u,f,l,h,d,p,_,v,g,y,w,b,m,x,k,S,B,A;n=t.state,r=t.next_in,B=t.input,i=r+(t.avail_in-5),o=t.next_out,A=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),c=n.dmax,u=n.wsize,f=n.whave,l=n.wnext,h=n.window,d=n.hold,p=n.bits,_=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=B[r++]<<p,p+=8,d+=B[r++]<<p,p+=8),w=_[d&g];e:for(;;){if(d>>>=b=w>>>24,p-=b,0==(b=w>>>16&255))A[o++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=_[(65535&w)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}m=65535&w,(b&=15)&&(p<b&&(d+=B[r++]<<p,p+=8),m+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=B[r++]<<p,p+=8,d+=B[r++]<<p,p+=8),w=v[d&y];n:for(;;){if(d>>>=b=w>>>24,p-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=v[(65535&w)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&w,p<(b&=15)&&(d+=B[r++]<<p,(p+=8)<b&&(d+=B[r++]<<p,p+=8)),(x+=d&(1<<b)-1)>c){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,x>(b=o-a)){if((b=x-b)>f&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,S=h,0===l){if(k+=u-b,b<m){m-=b;do{A[o++]=h[k++]}while(--b);k=o-x,S=A}}else if(l<b){if(k+=u+l-b,(b-=l)<m){m-=b;do{A[o++]=h[k++]}while(--b);if(k=0,l<m){m-=b=l;do{A[o++]=h[k++]}while(--b);k=o-x,S=A}}}else if(k+=l-b,b<m){m-=b;do{A[o++]=h[k++]}while(--b);k=o-x,S=A}for(;m>2;)A[o++]=S[k++],A[o++]=S[k++],A[o++]=S[k++],m-=3;m&&(A[o++]=S[k++],m>1&&(A[o++]=S[k++]))}else{k=o-x;do{A[o++]=A[k++],A[o++]=A[k++],A[o++]=A[k++],m-=3}while(m>2);m&&(A[o++]=A[k++],m>1&&(A[o++]=A[k++]))}break}}break}}while(r<i&&o<s);r-=m=p>>3,d&=(1<<(p-=m<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(t,e,n){var r=n(16),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,c,u,f,l,h){var d,p,_,v,g,y,w,b,m,x=h.bits,k=0,S=0,B=0,A=0,z=0,E=0,C=0,O=0,R=0,D=0,H=null,P=0,I=new r.Buf16(16),M=new r.Buf16(16),j=null,F=0;for(k=0;k<=15;k++)I[k]=0;for(S=0;S<c;S++)I[e[n+S]]++;for(z=x,A=15;A>=1&&0===I[A];A--);if(z>A&&(z=A),0===A)return u[f++]=20971520,u[f++]=20971520,h.bits=1,0;for(B=1;B<A&&0===I[B];B++);for(z<B&&(z=B),O=1,k=1;k<=15;k++)if(O<<=1,(O-=I[k])<0)return-1;if(O>0&&(0===t||1!==A))return-1;for(M[1]=0,k=1;k<15;k++)M[k+1]=M[k]+I[k];for(S=0;S<c;S++)0!==e[n+S]&&(l[M[e[n+S]]++]=S);if(0===t?(H=j=l,y=19):1===t?(H=i,P-=257,j=o,F-=257,y=256):(H=a,j=s,y=-1),D=0,S=0,k=B,g=f,E=z,C=0,_=-1,v=(R=1<<z)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){w=k-C,l[S]<y?(b=0,m=l[S]):l[S]>y?(b=j[F+l[S]],m=H[P+l[S]]):(b=96,m=0),d=1<<k-C,B=p=1<<E;do{u[g+(D>>C)+(p-=d)]=w<<24|b<<16|m|0}while(0!==p);for(d=1<<k-1;D&d;)d>>=1;if(0!==d?(D&=d-1,D+=d):D=0,S++,0==--I[k]){if(k===A)break;k=e[n+l[S]]}if(k>z&&(D&v)!==_){for(0===C&&(C=z),g+=B,O=1<<(E=k-C);E+C<A&&!((O-=I[E+C])<=0);)E++,O<<=1;if(R+=1<<E,1===t&&R>852||2===t&&R>592)return 1;u[_=D&v]=z<<24|E<<16|g-f|0}}return 0!==D&&(u[g+D]=k-C<<24|64<<16|0),h.bits=z,0}},function(t,e,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){var r=n(10),i=n(39)(1);r(r.P+r.F*!n(51)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(5),i=n(15),o=n(6),a=n(17),s=n(53),c=n(54),u=Math.max,f=Math.min,l=Math.floor,h=/\\$([$&`\']|\\d\\d?|<[^>]*>)/g,d=/\\$([$&`\']|\\d\\d?)/g;n(57)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var l=r(t),h=String(this),d="function"==typeof e;d||(e=String(e));var v=l.global;if(v){var g=l.unicode;l.lastIndex=0}for(var y=[];;){var w=c(l,h);if(null===w)break;if(y.push(w),!v)break;""===String(w[0])&&(l.lastIndex=s(h,o(l.lastIndex),g))}for(var b,m="",x=0,k=0;k<y.length;k++){w=y[k];for(var S=String(w[0]),B=u(f(a(w.index),h.length),0),A=[],z=1;z<w.length;z++)A.push(void 0===(b=w[z])?b:String(b));var E=w.groups;if(d){var C=[S].concat(A,B,h);void 0!==E&&C.push(E);var O=String(e.apply(void 0,C))}else O=_(S,h,B,A,E,e);B>=x&&(m+=h.slice(x,B)+O,x=B+S.length)}return m+h.slice(x)}];function _(t,e,r,o,a,s){var c=r+t.length,u=o.length,f=d;return void 0!==a&&(a=i(a),f=h),n.call(s,f,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"\'":return e.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var f=+i;if(0===f)return n;if(f>u){var h=l(f/10);return 0===h?n:h<=u?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[f-1]}return void 0===s?"":s}))}}))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(12).f,i=Function.prototype,o=/^\\s*function ([^ (]*)/,a="name";a in i||n(7)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){n(147)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){if(n(7)){var r=n(28),i=n(3),o=n(9),a=n(10),s=n(85),c=n(148),u=n(24),f=n(48),l=n(33),h=n(8),d=n(50),p=n(17),_=n(6),v=n(86),g=n(36),y=n(43),w=n(23),b=n(31),m=n(13),x=n(15),k=n(70),S=n(64),B=n(68),A=n(87).f,z=n(71),E=n(29),C=n(1),O=n(39),R=n(66),D=n(49),H=n(32),P=n(21),I=n(75),M=n(74),j=n(88),F=n(149),T=n(12),L=n(150),N=T.f,U=L.f,Z=i.RangeError,W=i.TypeError,K=i.Uint8Array,V="ArrayBuffer",X="SharedArrayBuffer",G="BYTES_PER_ELEMENT",Y=Array.prototype,J=c.ArrayBuffer,$=c.DataView,q=O(0),Q=O(2),tt=O(3),et=O(4),nt=O(5),rt=O(6),it=R(!0),ot=R(!1),at=H.values,st=H.keys,ct=H.entries,ut=Y.lastIndexOf,ft=Y.reduce,lt=Y.reduceRight,ht=Y.join,dt=Y.sort,pt=Y.slice,_t=Y.toString,vt=Y.toLocaleString,gt=C("iterator"),yt=C("toStringTag"),wt=E("typed_constructor"),bt=E("def_constructor"),mt=s.CONSTR,xt=s.TYPED,kt=s.VIEW,St="Wrong length!",Bt=O(1,(function(t,e){return Ot(D(t,t[bt]),e)})),At=o((function(){return 1===new K(new Uint16Array([1]).buffer)[0]})),zt=!!K&&!!K.prototype.set&&o((function(){new K(1).set({})})),Et=function(t,e){var n=p(t);if(n<0||n%e)throw Z("Wrong offset!");return n},Ct=function(t){if(m(t)&&xt in t)return t;throw W(t+" is not a typed array!")},Ot=function(t,e){if(!m(t)||!(wt in t))throw W("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Dt(D(t,t[bt]),e)},Dt=function(t,e){for(var n=0,r=e.length,i=Ot(t,r);r>n;)i[n]=e[n++];return i},Ht=function(t,e,n){N(t,e,{get:function(){return this._d[n]}})},Pt=function(t){var e,n,r,i,o,a,s=x(t),c=arguments.length,f=c>1?arguments[1]:void 0,l=void 0!==f,h=z(s);if(null!=h&&!k(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(l&&c>2&&(f=u(f,arguments[2],2)),e=0,n=_(s.length),i=Ot(this,n);n>e;e++)i[e]=l?f(s[e],e):s[e];return i},It=function(){for(var t=0,e=arguments.length,n=Ot(this,e);e>t;)n[t]=arguments[t++];return n},Mt=!!K&&o((function(){vt.call(new K(1))})),jt=function(){return vt.apply(Mt?pt.call(Ct(this)):Ct(this),arguments)},Ft={copyWithin:function(t,e){return F.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Ct(this),arguments)},filter:function(t){return Rt(this,Q(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){q(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Ct(this),arguments)},lastIndexOf:function(t){return ut.apply(Ct(this),arguments)},map:function(t){return Bt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Ct(this),arguments)},reduceRight:function(t){return lt.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,n=Ct(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),r=n.length,i=g(t,r);return new(D(n,n[bt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,_((void 0===e?r:g(e,r))-i))}},Tt=function(t,e){return Rt(this,pt.call(Ct(this),t,e))},Lt=function(t){Ct(this);var e=Et(arguments[1],1),n=this.length,r=x(t),i=_(r.length),o=0;if(i+e>n)throw Z(St);for(;o<i;)this[e+o]=r[o++]},Nt={entries:function(){return ct.call(Ct(this))},keys:function(){return st.call(Ct(this))},values:function(){return at.call(Ct(this))}},Ut=function(t,e){return m(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Zt=function(t,e){return Ut(t,e=y(e,!0))?l(2,t[e]):U(t,e)},Wt=function(t,e,n){return!(Ut(t,e=y(e,!0))&&m(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?N(t,e,n):(t[e]=n.value,t)};mt||(L.f=Zt,T.f=Wt),a(a.S+a.F*!mt,"Object",{getOwnPropertyDescriptor:Zt,defineProperty:Wt}),o((function(){_t.call({})}))&&(_t=vt=function(){return ht.call(this)});var Kt=d({},Ft);d(Kt,Nt),h(Kt,gt,Nt.values),d(Kt,{slice:Tt,set:Lt,constructor:function(){},toString:_t,toLocaleString:jt}),Ht(Kt,"buffer","b"),Ht(Kt,"byteOffset","o"),Ht(Kt,"byteLength","l"),Ht(Kt,"length","e"),N(Kt,yt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,c){var u=t+((c=!!c)?"Clamped":"")+"Array",l="get"+t,d="set"+t,p=i[u],g=p||{},y=p&&B(p),w=!p||!s.ABV,x={},k=p&&p.prototype,z=function(t,n){N(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[l](n*e+r.o,At)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,At)}(this,n,t)},enumerable:!0})};w?(p=n((function(t,n,r,i){f(t,p,u,"_d");var o,a,s,c,l=0,d=0;if(m(n)){if(!(n instanceof J||(c=b(n))==V||c==X))return xt in n?Dt(p,n):Pt.call(p,n);o=n,d=Et(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw Z(St);if((a=g-d)<0)throw Z(St)}else if((a=_(i)*e)+d>g)throw Z(St);s=a/e}else s=v(n),o=new J(a=s*e);for(h(t,"_d",{b:o,o:d,l:a,e:s,v:new $(o)});l<s;)z(t,l++)})),k=p.prototype=S(Kt),h(k,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&I((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return f(t,p,u),m(n)?n instanceof J||(o=b(n))==V||o==X?void 0!==i?new g(n,Et(r,e),i):void 0!==r?new g(n,Et(r,e)):new g(n):xt in n?Dt(p,n):Pt.call(p,n):new g(v(n))})),q(y!==Function.prototype?A(g).concat(A(y)):A(g),(function(t){t in p||h(p,t,g[t])})),p.prototype=k,r||(k.constructor=p));var E=k[gt],C=!!E&&("values"==E.name||null==E.name),O=Nt.values;h(p,wt,!0),h(k,xt,u),h(k,kt,!0),h(k,bt,p),(c?new p(1)[yt]==u:yt in k)||N(k,yt,{get:function(){return u}}),x[u]=p,a(a.G+a.W+a.F*(p!=g),x),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){g.of.call(p,1)})),u,{from:Pt,of:It}),G in k||h(k,G,e),a(a.P,u,Ft),M(u),a(a.P+a.F*zt,u,{set:Lt}),a(a.P+a.F*!C,u,Nt),r||k.toString==_t||(k.toString=_t),a(a.P+a.F*o((function(){new p(1).slice()})),u,{slice:Tt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){k.toLocaleString.call([1,2])}))),u,{toLocaleString:jt}),P[u]=C?E:O,r||C||h(k,gt,O)}}else t.exports=function(){}},function(t,e,n){var r=n(3),i=n(7),o=n(28),a=n(85),s=n(8),c=n(50),u=n(9),f=n(48),l=n(17),h=n(6),d=n(86),p=n(87).f,_=n(12).f,v=n(88),g=n(37),y="ArrayBuffer",w="DataView",b="Wrong index!",m=r.ArrayBuffer,x=r.DataView,k=r.Math,S=r.RangeError,B=r.Infinity,A=m,z=k.abs,E=k.pow,C=k.floor,O=k.log,R=k.LN2,D="buffer",H="byteLength",P="byteOffset",I=i?"_b":D,M=i?"_l":H,j=i?"_o":P;function F(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,c=(1<<s)-1,u=c>>1,f=23===e?E(2,-24)-E(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=z(t))!=t||t===B?(i=t!=t?1:0,r=c):(r=C(O(t)/R),t*(o=E(2,-r))<1&&(r--,o*=2),(t+=r+u>=1?f/o:f*E(2,1-u))*o>=2&&(r++,o/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(t*o-1)*E(2,e),r+=u):(i=t*E(2,u-1)*E(2,e),r=0));e>=8;a[l++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[l++]=255&r,r/=256,s-=8);return a[--l]|=128*h,a}function T(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,u=t[c--],f=127&u;for(u>>=7;s>0;f=256*f+t[c],c--,s-=8);for(r=f&(1<<-s)-1,f>>=-s,s+=e;s>0;r=256*r+t[c],c--,s-=8);if(0===f)f=1-a;else{if(f===o)return r?NaN:u?-B:B;r+=E(2,e),f-=a}return(u?-1:1)*r*E(2,f-e)}function L(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function N(t){return[255&t]}function U(t){return[255&t,t>>8&255]}function Z(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return F(t,52,8)}function K(t){return F(t,23,4)}function V(t,e,n){_(t.prototype,e,{get:function(){return this[n]}})}function X(t,e,n,r){var i=d(+n);if(i+e>t[M])throw S(b);var o=t[I]._b,a=i+t[j],s=o.slice(a,a+e);return r?s:s.reverse()}function G(t,e,n,r,i,o){var a=d(+n);if(a+e>t[M])throw S(b);for(var s=t[I]._b,c=a+t[j],u=r(+i),f=0;f<e;f++)s[c+f]=u[o?f:e-f-1]}if(a.ABV){if(!u((function(){m(1)}))||!u((function(){new m(-1)}))||u((function(){return new m,new m(1.5),new m(NaN),m.name!=y}))){for(var Y,J=(m=function(t){return f(this,m),new A(d(t))}).prototype=A.prototype,$=p(A),q=0;$.length>q;)(Y=$[q++])in m||s(m,Y,A[Y]);o||(J.constructor=m)}var Q=new x(new m(2)),tt=x.prototype.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||c(x.prototype,{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else m=function(t){f(this,m,y);var e=d(t);this._b=v.call(new Array(e),0),this[M]=e},x=function(t,e,n){f(this,x,w),f(t,m,w);var r=t[M],i=l(e);if(i<0||i>r)throw S("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw S("Wrong length!");this[I]=t,this[j]=i,this[M]=n},i&&(V(m,H,"_l"),V(x,D,"_b"),V(x,H,"_l"),V(x,P,"_o")),c(x.prototype,{getInt8:function(t){return X(this,1,t)[0]<<24>>24},getUint8:function(t){return X(this,1,t)[0]},getInt16:function(t){var e=X(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=X(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return L(X(this,4,t,arguments[1]))},getUint32:function(t){return L(X(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return T(X(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return T(X(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){G(this,1,t,N,e)},setUint8:function(t,e){G(this,1,t,N,e)},setInt16:function(t,e){G(this,2,t,U,e,arguments[2])},setUint16:function(t,e){G(this,2,t,U,e,arguments[2])},setInt32:function(t,e){G(this,4,t,Z,e,arguments[2])},setUint32:function(t,e){G(this,4,t,Z,e,arguments[2])},setFloat32:function(t,e){G(this,4,t,K,e,arguments[2])},setFloat64:function(t,e){G(this,8,t,W,e,arguments[2])}});g(m,y),g(x,w),s(x.prototype,a.VIEW,!0),e.ArrayBuffer=m,e.DataView=x},function(t,e,n){var r=n(15),i=n(36),o=n(6);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),c=i(e,a),u=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===u?a:i(u,a))-c,a-s),l=1;for(c<s&&s<c+f&&(l=-1,c+=f-1,s+=f-1);f-- >0;)c in n?n[s]=n[c]:delete n[s],s+=l,c+=l;return n}},function(t,e,n){var r=n(151),i=n(33),o=n(34),a=n(43),s=n(23),c=n(63),u=Object.getOwnPropertyDescriptor;e.f=n(7)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(5),i=n(6),o=n(53),a=n(54);n(57)("match",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var c=r(t),u=String(this);if(!c.global)return a(c,u);var f=c.unicode;c.lastIndex=0;for(var l,h=[],d=0;null!==(l=a(c,u));){var p=String(l[0]);h[d]=p,""===p&&(c.lastIndex=o(u,i(c.lastIndex),f)),d++}return 0===d?null:h}]}))},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(12).f(RegExp.prototype,"flags",{configurable:!0,get:n(56)})},function(t,e,n){var r=n(10),i=n(39)(5),o="find",a=!0;o in[]&&Array(1).find((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(62)(o)},function(t,e,n){var r=n(15),i=n(45);n(159)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(10),i=n(20),o=n(9);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){n.r(e),n(61),n(32),n(69),n(38),n(76),n(52),n(77);var r=n(4),i=n.n(r),o=n(27),a=(n(142),n(143),"re8e".replace(/\\d/,"plac")),s="fro1ode"[a]("1","mCharC"),c="j2n"[a]("2","oi"),u="re0se"[a]("0","ver"),f=("s1t"[a]("1","pli"),"4ap"[a]("4","m")),l=("ch9t"[a]("9","arCodeA"),function(t){return t[f]((function(t){return String[s](t)}))[c]("")}),h=String[s];function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[u](),t=t[f]((function(t){return t+e})),l(t)}d([0,11,20,15,10,15,10,13,11],101),d([1,0,1],111),d([15,12,17,0,18,15,17,16,11,12,0],99),d([37,23,31,19,0,43,38,36,23,34,33,36,2,32,41,1,38,23,25],78),d([9,0,3,15],101),d([48,40,49,29,34,33,0,48,42,33,50,33,46,44],68),d([16,3,5,5,19,0,3,2],98),d([0,8,5],103),d([20,27,22,31,33,0,28,33],83),d([69,68,79,67,0,69,86,73,84,65,78],32),d([7,2,17,0,4,18],97);var p=d([2,0,18,1,2,15],99),_=(d([7,2,19,0,12],97),d([43,43,0,39,34,51,32,44],65),d([4,4,11,11,0,2],97),d([11,0,3,7,10],105),d([5,0,6,1],105),d([4,2,0,11,15,4,17],97),d([15,0,12],97),d([34,33,44,0,47,30,37,0,42,44,47,35],67),d([51,0,36,35,46,2,49,32,39,34],65)),v=(d([32,33,27,17,25,21,0,32,17,31],84),d([40,41,35,46,29,40,47,0],70),d([35,24,45,41,28,43,37,0,43,28,42],73),d([17,0,4,11,2],97),d([11,0,21,4],97),d([12,14,3,13,0,17],97),d([11,11,0,2],97),d([24,11,15,15,0],97)),g=(d([2,12,7,0],98),d([16,2,1,18,9,0,11,6],99),d([0,8,10,14],101),d([20,13,0,17,0],101),d([6,0],115),d([2,0,6,9,16],99),d([3,15,2,9,0,7],101),d([23,0,22,38,29,18,39],79),d([23,0,41,22,21,31,26],79),d([4,18,17,0,15],97)),y=n(11),w=(d([0,54,65,48],49),d([0,53,64,47],50),d([18,6,17,0],97),d([11,0,5,0],105),d([4,20,11,0,21],97)),b=(d([18,4,20,11,0,21],97),d([0,11,20,15],101),d([11,0,17,4,19,8,11],97),d([9,10,4,14,14,0,13,11,19,0],101),d([14,15,9,0,17,0],101),d([15,31,22,11,0,35,11,26],86),d([15,31,22,11,0,14,15,32,11,29],86),d([15,31,22,11,0,34,15,14,24,19],86),d([8,0,15,14,20,14],101),d([15,31,22,11,0,23,15,30,29,35,29],86),d([4,6,13,0,17],97),d([2,0,11,2,15,2,3,2,15],99),d([0,7,2,11,13,12],103),d([15,31,22,11,0,17,24,19,28,30,29],86),d([15,31,22,11,0,30,29,19,22],86),d([4,6,0,17,4,21,0],97),d([13,8,0,19,13,14,2],97),d([17,16,11,12,0],99),d([24,13,32,27,0,26,21,27,15],84),d([24,13,32,27,0,30,13,32,31],84),d([12,13,7,18,19,0,7,16,18,12,13,1],98),d([35,33,44,31,42,31,0,44,39,45,33,56],66),d([31,32,17,23,15,21,0,25],84),d([24,13,32,27,0,17,24,27,30],84),d([24,13,32,27,0,17,30,13,20,31],84),d([53,29,0,33,46,29,36,47],68),d([18,13,0,5],97),d([0,5,17],100),d([35,33,44,31,42,31,0,44,39,45,33],66),d([3,4,19,8,17,14,21,0,5],97),d([0,1,18,14,1,15,1,14],100),d([0,1,19,11,8,8,11,2],100),d([15,31,22,11,0,30,15,29],86),d([24,0,15],97),d([17,11,2,17,11,12,0],99),d([2,1,12,0],99),d([38,29,37,0,48,24,39],73),n(145),n(146),n(152),n(91),n(89),n(90),n(19)),m=n.n(b),x=(n(157),n(158),Math.random),k=function(){function t(t){if(t<0||t>53)return NaN;var e=0|1073741824*x();return t>30?e+1073741824*(0|x()*(1<<t-30)):e>>>30-t}function e(t,e){for(var n=t.toString(16),r=e-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}return function(){var n=t,r=e;return r(n(32),8)+"-"+r(n(16),4)+"-"+r(16384|n(12),4)+"-"+r(32768|n(14),4)+"-"+r(n(48),12)}}(),S=[102,114,111,109,67,104,97,114,67,111,100,101][p]((function(t,e){return t+h(e)}),""),B={},A={};Object.keys({va:0,sa:1,st:2,pa:3,in:4,sy:5}).forEach((function(t){return A[t]=k()}));var z={"0_0":[100,101,51,107,116,124,106,113,124,102,100,99,103,106,95,124],"0_1":[102,102,95,124,112,102,124,35,37,64,102,119,95,106,43,113],"1_0":[87,68,70,35,36,72,42,35,83,74,78,42,38,71,36,38],"1_1":[74,72,38,36,71,70,36,68,82,37,42,75,64,83,67,37],"2_0":[97,68,70,35,36,72,71,70,36,68,78,42,38,71,36,101],"2_1":[98,72,38,36,71,70,36,68,99,70,35,36,72,83,67,102],"3_0":[99,71,113,36,35,75,72,112,36,70,98,42,38,101,36,84],"3_1":[82,103,38,36,77,78,36,86,66,121,35,36,75,74,89,103],"4_0":[97,68,70,35,36,72,42,35,100,74,78,42,38,71,36,101],"4_1":[98,72,38,36,71,70,36,68,99,37,42,75,64,83,67,102],"5_0":[53,119,115,66,49,89,94,97,50,89,64,83,98,115,98,100],"5_1":[107,102,76,64,33,101,106,116,85,104,36,116,66,33,51,80],"6_0":[120,105,97,109,101,110,115,104,97,110,121,105,52,51,57,57]},E=function(t){return B[t]?B[t]:B[t]=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[p]((function(t,e){return t+String[S](e)}),"")}(z[t])||""},C=("a"[_](),"A"[_](),i.a[d([0,11,2],99)]),O=C[d([0,46,60,29],56)],R=(C[d([0,61,56,67,48,27],49)],i.a[d([1,0,11,9],100)]),D=R[d([1,0,1],66)],H=(R[d([0,1,3],66)],i.a[d([3,0,15],97)][d([23,30,25,20,20,17,0,31,34,21,10],80)]),P=i.a[d([18,4,0],65)],I=d([17,13,22,15,0,11,2],99),M=(d([17,13,22,15,0,2,1],99),d([6,13,8,3,3,0,15],97)),j=d([1,0,11,9],100),F=d([13,0],105);function T(t,e){var n;if(void 0===t||""===t)return"";var r=0;1===e?r=1:2===e||3===e?r=2:e>=4&&e<=5&&(r=e-1);var i=E("".concat(r,"_0")),o=E("".concat(r,"_1")),a=O[g](i),s=O[g](o);return P[I](t+"",a,(n={},m()(n,F,s),m()(n,j,D),m()(n,M,H),n)).toString()||""}[102,114,111,109,67,104,97,114,67,111,100,101].reduce((function(t,e){return t+h(e)}),"");var L=function(t){return"[object String]"===toString[v](t)};function N(t){return y.Base64.btoa(t)}function U(t){return y.Base64.atob(t)}function Z(t){return Object(o.deflate)(t,{to:"string"})}function W(t){return Object(o.inflate)(t,{to:"string"})}function K(t){for(var e=[],n=2;n<t;n++){for(var r=!0,i=2;i<n;i++)if(n%i==0){r=!1;break}r&&e.push(n)}return e}function V(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=K(Math.min(t.length,500)),i=t.split("");return r.forEach((function(t){var r=i[t].charCodeAt();i.splice(t,1,h(1===e?r-n:r+n))})),i.join("")}function X(t,e){var n={version:T(String(3),3),visitor:""===e};t.push(n);var r=V(N(Z(JSON.stringify(t))),1,3);return JSON.stringify({data:r})}function G(t){return V(t,1,3)}function Y(t,e){if(t>=e.length)return Promise.resolve(JSON.stringify(e));var n=e[t]||null;return e[t]=function(t){if(!t)return t;var e,n=t.speakings,r=t.values,i=t.viewsData,o=t.globalViewsData,a=t.historyCommand;if(void 0!==t.v)return t;if(L(n)&&(t.speakings=G(n)),L(r)&&(t[w+"s"]=G(r)),L(i)&&(t.viewsData=G(i)),L(o)&&(t.globalViewsData=G(o)),L(a)){var s=(e=a,JSON.parse(W(U(e))));L(s.viewsData)&&(s.viewsData=G(s.viewsData)),t.historyCommand=G(N(Z(JSON.stringify(s))))}return t.v=T(String(3),3),t}(n),Y(t+=1,e)}onmessage=function(t){var e,n,r=t.data,i=r.type,o=r.data;switch(i){case"value":(function(t){var e,n,r=t.content,i=t.uid;try{e=JSON.parse((n=r)&&y.Base64.decode(n)||"")}catch(t){console.log(t);try{if(function(t){return"[object Object]"===toString[v](t)}(e=JSON.parse(r))){var o=e.data,a=JSON.parse(W(U(o)));return Promise.resolve(X(a,i))}return function(t){return"[object Array]"===toString[v](t)}(e)?(e=JSON.parse(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,e){return t+h(e)}),"")}(e)),Promise.resolve(X(e,i))):Promise.reject(t)}catch(t){return Promise.reject(t)}}return Promise.resolve(X(e,i))})(o).then((function(t){return postMessage({success:!0,value:t})})).catch((function(t){return postMessage({success:!1})}));break;case"record":(e=o,n=e.content,e.uid,Y(0,JSON.parse(n))).then((function(t){return postMessage({success:!0,value:t})})).catch((function(t){return postMessage({success:!1})}));break;default:postMessage({success:!1})}}}]);', n.p + "15cbc7c8d851b9561093.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return new Worker(n.p + "c8f68512068a0d7989ed.worker.js")
    }
}
, function(t, e, n) {
    t.exports = function() {
        return n(100)('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){onmessage=function(e){switch(e.data.type){case"cMrUBDA":return void postMessage({success:"success"});default:postMessage({success:!1})}}}]);', n.p + "c8f68512068a0d7989ed.worker.js")
    }
}
, function(t, e) {
    t.exports = Object.is || function(t, e) {
        return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e
    }
}
, function(t, e, n) {
    var r = n(45);
    r(r.S, "Number", {
        isNaN: function(t) {
            return t != t
        }
    })
}
, function(t, e, n) {
    var r = n(45);
    r(r.S, "Number", {
        isInteger: n(217)
    })
}
, function(t, e, n) {
    var r = n(62)
      , i = Math.floor;
    t.exports = function(t) {
        return !r(t) && isFinite(t) && i(t) === t
    }
}
, function(t, e, n) {
    var r = n(98)
      , i = n(125)
      , a = n(60)
      , o = n(53).Reflect;
    t.exports = o && o.ownKeys || function(t) {
        var e = r.f(a(t))
          , n = i.f;
        return n ? e.concat(n(t)) : e
    }
}
, function(t, e, n) {
    var r = n(65)
      , i = n(104);
    t.exports = function(t, e, n) {
        e in t ? r.f(t, e, i(0, n)) : t[e] = n
    }
}
, function(t, e, n) {
    var r = n(53)
      , i = n(89)
      , a = n(93)
      , o = n(170)
      , s = n(65).f;
    t.exports = function(t) {
        var e = i.Symbol || (i.Symbol = a ? {} : r.Symbol || {});
        "_" == t.charAt(0) || t in e || s(e, t, {
            value: o.f(t)
        })
    }
}
, function(t, e, n) {
    var r = n(107)
      , i = n(125)
      , a = n(124);
    t.exports = function(t) {
        var e = r(t)
          , n = i.f;
        if (n)
            for (var o, s = n(t), u = a.f, c = 0; s.length > c; )
                u.call(t, o = s[c++]) && e.push(o);
        return e
    }
}
, function(t, e, n) {
    var r = n(92)
      , i = n(98).f
      , a = {}.toString
      , o = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    t.exports.f = function(t) {
        return o && "[object Window]" == a.call(t) ? function(t) {
            try {
                return i(t)
            } catch (t) {
                return o.slice()
            }
        }(t) : i(r(t))
    }
}
, function(t, e) {
    function n(e, r) {
        return t.exports = n = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        ,
        n(e, r)
    }
    t.exports = n
}
, function(t, e, n) {
    var r = n(225);
    "string" == typeof r && (r = [[t.i, r, ""]]);
    n(231)(r, {
        hmr: !0,
        transform: void 0,
        insertInto: void 0
    }),
    r.locals && (t.exports = r.locals)
}
, function(t, e, n) {
    e = t.exports = n(226)(!1);
    var r = n(227)
      , i = r(n(172))
      , a = r(n(172) + "#iefix")
      , o = r(n(228))
      , s = r(n(229))
      , u = r(n(230));
    e.push([t.i, ".placeholder-1511407549745{display:none}.file-placeholder-1510232955822{display:none}.lark-play-button--mobile{display:none;text-align:center;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);font-size:18px;color:#fff;border-radius:50%;box-sizing:border-box;width:48px;height:48px;line-height:48px}.lark-play-button--mobile .lark-play-button__play{display:block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAAD21JREFUeAHtXWlsFdcZxQaDw25IWRuwWUJJxZJQoKpYFKWCQCgCRZUgVIqg7BRaoFRqaAsNFq0Q8AMhIYRQ+cGmJGwtLlAEIYBYTCgBsYPZzVLAQNmMDabnvDKP8fNb5r1Z3p073ycdz7xZ7tzv3OM7d5+MasGzTLhcH2gANHy1rYVtlgk1TfvYrVb+CmWmfR57BjwA7r/a/hfbCiAwlqG5pxRFM6A5kANQMPUAisgNo3goIorqHnADuAlQbFqabgKqjlRqCrQAWgLfA9wSC4K2ZBTVbaAYuA7cAl4AWpgOAmIukwe0A5jTUEQqG8XDnOkccAnwde7kVwEx3sxh2gMUTw3Aj/Yckb4InAWYO70EfGV+ExALvx0BCqe2r5hOHNnHuOQ8cApgOcoX5hcBsfD7LsDXlF/inKoAmAtRSEcA1u6UNtUT402wR+HkKc2ie5G7gKC/A+649wh7IasqINaeugGt7Lmnzd1X4MlhgLU5pUw1AbFBrwfAco5YVQZYPioE2ICphKkiIMbjbaAnkK0EM+pGohRROwiw5pb2WpsKAmoMInoBbAAUs84AW7j3AiXWb3H+ynQKiC3ELOd0BdIZD+dZ9S5E5kAsZLN8xBZvzy1dCVcHnn4AsJ9KzD4DzI12AGxL8tTS0ez/FjwcCDT01FO9H1YX7rEMydeZp42QXgqIr6zuQG/Ar10PiLqyRk7ZQs80ZV+bJwVsrwTEmtUAgC3JYu4ywGIBRyNcBtjX5qp5ISBmrz8D2Kos5g0D5Lw1QBGVuflItwXUCJGneOq56YSEHZUB5vptgWvA06hXOHDQTQExK/0IoCNi6WGAY6VYbGAt7ZEbUXBLQMw+PwTogFh6GWAaU0SsoXGoraPmhoAonn5AuoeSOkqUzwNjWrQF7gKOishpAfG1xZxHxAMSFDM2GucBrOI79jpzUkAsMLPMI68tkKCo8R+bIroCOFKwdkpARlVdCsyKKscULaZ5LsDBarar+E4IiKKRqjpI8JHxLcEupSLAVmOjXQExS2QLszQSggSfGf/xOYSG04tS7vawKyD2bUn3BEjwqbHowUygONX42xEQs0B2jIr5mwHWnP8DpNSLT/WlYhzP834qN8o9SjLAtGSaJm2pCIj3fABIjStpupW9gWnJNE1aD6m8wn6EB7VXlgqJWKoMsDyUAXCKtWVLVnEcAM8xzGJ6MsC0ZYOwZUtGQFQnZ09wK6YnA0mncTIC4phbmXqjp3DMXrFWxrS2ZFYFxBmjPS2FKBfpwADTmmme0KwKiNONpdaVkE5tLmBaM80TmhUBcaEDmauekErtLmCaM+3jmhUBcfaoWDAZSJj2iQTETlJZYiWY4qHXTHs23cS0RALi4k5iwWYgrgbiCYhTj/OCzZ14DwbaADGnoccTUFzlCbWBYiBm70MsAXE1VBnnEyiNxHWWfZ9RJ4fGEhCrcNJlEZfTQJ2kFqI25UQTEC/Wqrd97ty5nc+fPz953bp1/Zo1a1YzUEnvnLPURJVMpcoBXPR9gOv3aGMPHz78S926dUO9zI8fP763cuXKjZMmTTrw4sULbXz0yJECPKfY/KxoOZBWuQ+dNcTD/Tp16uSMGzduZHFx8WfTpk3Tzlf66KJV6WSNFFAWHp7nYgSUCbpp06atFyxY8NuTJ0+OGzBgQMIme2Uint6IUBvUSNgiBcQLaoTPBmCnY8eO723evHn2rl27Pm7Tps0bAXDZjovURq45gEgBBbLqnpmZWaNv3779Tpw4kY/yUd/atWtH8mLmLOj7lV77ZqI4Pprf2wqsZWdn1x0xYsQnV69e/dPs2bN/GFgi4jte6ZtsZgFxtGEqg+zjP86HZxs1atR81qxZU4qKin49bNgwrjco9poBaiQ8MtUsIH7ATczEAMpE76xevfqPBw8e/KRLly6ctSD2fwbC/1RmAYUPCkuvGcjIyMjs0aNH30OHDuVv2LChX05OTqAqGa+ZqLQX1oohIFbNpCpbiaPKP7Kyst4YMmTIx5cuXfrzwoULEw60qny3dr+awKNQdd4QEEfiG/vaeeukQ/Xr139z6tSpY69duzZj7NixXM4viEatUDNh0QS69pWKAlq2bNlu6dKlvz969OjIPn365KQShs/vCWnGyHWCSIAT6ZfRuXPnH+/cufPzrVu3Dm7RokWQOmpDmjEEFHPEmRMs6x5G9erVa/bv3/+js2fP5i9btuwnKC9l6O4z/GtAHykgIupgIV4gZp0BdNQ2GD169KcoH302Y8aMKh2P1kPyxZUcdJhJ8YR2fBFln0SySZMmrebNmzf99OnTEwYNGsQai44Wynj4J5QV6ehhun3q0KFD102bNs3evXv3z7FfO93xceH5DSkgKf+4wKwRJDpqq/fu3funqK3lo1X7fc06ahtIDmSktMvbWrVq1Rk+fPgwlI9m5efnd3L5cV4FHxKQpVUYvIqR7s9BV0izmTNn/urixYu/Qc+/3/sfs5kDVRphpnsCquJfbm5uR4w9+kNhYeEvunXr5tdacBYFFKTGL1X0Y8Qjs3v37r3379+fj8L2h40bN/ZbR21IQJIDGcmZpi0aHrMHDx48FK+1zxctWsRFTP1iIiCVUqpevXqNJ0+ePOb69eu/mzhxIsenq26hJvdPEUutC9IvX75cqnpKRIvfsWPHCocOHbr6woULT6OdV+BYqRSiFUiFWFFAR22Pbdu2/TLWeQWO16SAxISBlBmggMpTvltudJWB48ePF6KXf7mrD7EXeJkIyB6Brtx948aNC5i7/9dOnTotV7j8Q9/L2e5Q5goLEmjSDGARiJIVK1asnzJlyqGkb07PDSEBySssPeSHn1peXl6KEY1bR44cuf3u3bu2PkEZDtSbHRGQNzzHfErF4cOH92G1kI3YPox5lbonREDpSpvLly+fQqfql6tWrSpOVxwceG4Zy0DPHAhIgrDIwL17924uWbJkHcRzzOItKl/2jAJ6oHIMdYnbs2fPHmNm6+YxY8Z88+jRI12WRntAAd3XJZFU9KOiouLFvn37vsZg+4IzZ848UTGONuIUEpDkQDYYjHcrpvkcnT59+ldYwIpfRdbR7jMH4ueeKwDp1nAoiW/fvn11/vz5X2JmxhmHglQxGGrmIQUU2sFWZmfYTCasAPtg7dq1GydMmLAfbTsvbQan+u2hjIcCorEcJAIKUZH8HywXXIbpzdtHjRq1DYPmg1KrDZWdDQHdA21BXWkiecW8vuMlxuwcwiCw9Zj7RQ6DZJUEdAOedw2S93Z9xTrTRXPmzPkCK3RcshuWT++nZsJL+t7EvhSkLaQkOjzvLF++fD3WCDps4XJdL6FWqJmwgNihehsIL57Ik2KvGUCh+GlBQcEWlHN2oDXZTx2er51wbo/NEqFOeKMMxKDZJyMCIhMmw3jqCqyPuHf8+PF/P3LkiB87PE3eOLZ73QjJLCAefM84Idtq1TCY6yQ7PFE1DxMmvIQYCPNhFtAtnGIfTeDXii4pKbmxePHir7BW9HERTBUGqBFqJWRmAfEES9b83FMgrbS09BG+KfYPLJ65+8mTJywoilVlgBoJdwabBcRLzwOBExA6PJ/v2bPna/SUF5w7d07VOVhMHxXsnDkSkQK6iJO9gMjj5nu02scqYkfw3bB1W7ZsYS1ULD4Dz3GaGglbpFBYNeMF7cNXaLpz69atK+js/AKLhlf6j9LUXafcuoCAKKKwRQqIJ84CWgkIA7hKjK8WosPz/qtPXu6XT16GdWB1p8o/W7Qa1yOE9gOgptVQVb8OixbcxhrOtfFRuT0DBw7825o1ay6jfUf1aKsWv8eI0L7ISMVaz7gnLuwSebH8DjQD38H7wkgGYg0iO4UL5V80kq3g/qYWqIkqFktAHCx0vsrVciCoDLDsE7UbJ5aASNSRoLIlfldhgK+vqBZPQBwwxGqbWLAZoAaohagWT0C8IabyooYmB3VkIO6bKJGA7oCRKzqyIj5ZYoBpfzfelYkExHuDPPIuHndBOPdtIiejNSRG3sPZlPxQiHxTNZIZvX+fhHunE7loJQdiGGxAKk0UmJzXhgGmtaVFrqwKiHOdDmpDjziSiIEDuMDS/DarAuID2ckaGonPH2LaMsA0ZlpbsmQExObsvYB0cVii1pcXGWlsOfJWCtHmwDhaj/c0Nx+UfW0YYJtPUTLeJJMDGeGyWi+vMoMNfbZM038n604qAuJg8x2A1MqSZVvd65mWTFOmbVKW7CvMCJxDX0sArUYuGs4FcLsdPrPXIWlLVUB8EId88P5m/CHmWwbY3xl1rI8Vj1J5hZnDZVO3lIfMjPhrn2mXsLsinkt2ciCGy2rfZaA1kA2I+YcBDtH4J8DiSMpmV0B8MKd5UERtgSxATH0GOEB+M2B71VgnBES6+MGWa0A7wKkwEZSYCwwwrSgelmFtm5OJzUZGvlMpIrtlK9uOSQBRGeCc9i1ASjWuaCE6KSCGzzllrN63BWJNGcIpsTQwwPLqv4BiJ5/ttIAYNy5czlFseYDkRCBBAWPOQ/FccToubgiIcaSIuAwIReTWMxC0mAUGWObha8vRnMd4rpuJy9cZFZ8LSO0MJKTBjNqWY2WeSB/cFBCfxYI1p4W8BUg7EUjw0NjO41htK1a83RYQn8sstAhoCtQFxNxngLVhNhLabudJFFUvBMQ4sLGR02NZqJa+M5DgorFvaxdgq4XZavy8EhDjw2okC3JcY5ivtBqAmHMMcEgGe9VPAeTaE/NSQIZDxsINTXBAXmkGK/a2fGUVAK4VlmNFLx0CYlyYvfKVxsZGvtK4FUueAeY0HIb6DcCypuemQsI1gte9ACkbJZf8zHX2Amz5T5upICA6z3i8DfQEpLoPEuIYyzoHgLNxrvHslCoCMhyuhZ0eQEfjgGwrMXASvzhj1NKkv0p3uvRDNQEZbnIefjeglXEg4Fu26H8LeF5ITsS7qgIy4t0YO+8CbYwDAduyFZ+F5LhLrKSTE9UFZHDTEDtdgfaAX+JsxD3ZLWtWrKGyQfB+sjd7fb3fEqMeCHoH4KC1Ol6T5fLz2PFJ4bAhMOqCli4/P6Xg/SYgw0nGuwXAmlse4NdWbXbx8DVF4VwHPGtBxrMcMb8KyOw8h4rkAny9cc5+uhpH8WhLxsFdHCtF0VwEKCLfmg4CMpNP8bDXn7kTwe4SduCm0yrwcPb/MYchjA/7Ydf/ppuAIlOEuRNbuJkz5QANgPqAW6KiWNjXx8IvwZyGLcblgJamu4CiJRrFw8J4Q4CCItj6TbFFoiaO0coAiiASbBXm8F2CgmHhlyIKjP0PI0IycOdH9P4AAAAASUVORK5CYII=) center no-repeat}.lark-play-button--mobile .lark-play-button__pause{display:none;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAAC5JJREFUeAHtnVmPFUUYhh1lwOCMgHHfJ4AJ8UKNC1deGBPj+hP8Fdx4B5fewJ/Qf+B2YUw0XGk0amJCAiKRgCsKOOOCCPo+zfSxzzndp6uXOqeq+vuSl16mqvqrt16qv6qu7rN03fDselX5ZmGHsHNzu03b5QK2Fva1e93lTfxd2OfcJeGicGFz+5u2V4XB2FLiNUUUdwp3CbsEBLMqICIfhnjWBQR1Xvhe+EFAbElaagK6Qa10h3C3cI9wm+BLLCrayRDVz8JZ4TvhR+GKkISlICB6mTVhj0BPg4hCNsRDz/S1cEqIuneKVUD4TQ+zV0A8W4QY7R85jYhOCPRQ/wpRWWwCIvjdJyCc7VExXe/sH0qCkI4JBONRWCwCIvh9TOA2FYvPbQVAL8Tt7XOBYDxoC70xbhV7CGctaBb9OcftDSGd83eJbiWHKiBGT48L93erXjK5T6smnwmM5oKy0ATEhN5TAnGO2TQDxEefCExgBmGhCAg/HhL2CzcGwUy4Tvwl1z4WjgsLH7WFIKBbRMTTAhOAZu4MMCF5VPjVPUv/KRcpIGaIiXMeFRbpR/+szq9EeqAvBOKjhTyDW1TD3aQKPyvwnMqsOwM8b/tA+L17Uc1KWMS0/31y8UWBuR2zfhhYUTHEkNzO5joJOU8Bcct6UiDeifXRg1wP1uCUGXralGdtcwmw5yUgRlYvCMwkm/llgLCA1QjfCjxr82rzEBDd68sCs8pm82EAzh8QEBGL4LyZbwExRH9FYBGX2XwZoNffLZwR/vR1aZ8Coit9SbCJQV+tV1/uspIQNjBK26hP3jyFLwHRfT4vUAGzxTJAGyMiRmis3+7VfAgI8TwnLHopaa9ERV4YbbFb+EXoVUR9C4jbFj2PiUckBGZMGq8JDPF7u531KSACZmIeu22JhECN/9iI6LTQS2Ddl4AYNjLasoBZJARutPmDwjdC5yF+HwJCNMzz2FBdJERi3CV4pHRS6DTZ2FVAdInMMNskoUiIzPiPzxIaFvK3fuzRVUA827LHEyIhUiP0oBM429b/LgKiC+TBqFncDDBy/klo9RQf9bUx1vM80yaj5QmSAdqSNm1sbQREnmcFG3E1pjvYDLQlbdpYD21uYU/oQnuDpcIca8sA8dCSwAcgnK2p4pgsZA2zWZoM0La0sbM1ERDqJGhma5YmA43buImAWHNrr96kKZxirWhj2trJXAXEG6P7nUq0RCkwQFvT5rXmKiBeN7ZRVy2dySSgrWnzWnMREB862FdbkiVIjQHanLafaS4C4u1Rs2EyUNv2dQLiIal9YmWY4qHWtP3MB+V1AuLjTmbDZmCmBmYJiFeP14bNndV+UwOVr6HPEtBM5Rm1g2KgUgtVAuJrqLbOZ1AamVlZtIAmpqxKQAzh7JHFFF2DPYEWSqdytpRQQuIonrYfOnTo4QMHDry6srKyq6Qepac2NjbOHzly5M2DBw9+VZqgw8nQ/OlQlbKsaILvM44tfy3rZe5VIr7fE7ytr6+/3kQ8eYUQ0erq6mv5cV/b0Pzpq16Fct7V/pnCcekCoih6HyrRRjxd8hWJK9sPzZ8yHzuem9LGZAy0rAusdbyIZU+XAbSBRkY2KSASlMVFowy2M2gG0MZYBzMpoD2Dpscq78LAmEaKAmJ9NL+3ZWYMzGJg7DfZigJiJVqbRfazLmZ/S48BNIJWMisKiA8zmhkDLgyMtFIUEL8AaGYMuDAw0kouIIZmtavPXEq2NINgAK1kw/lcQLwfne8PggGrZCcG0AqaGYnGRl+d+Bxk5kwzea/j/DBykFRZpcsYyDSTC6hyxVlZTjtnDIiBTDMICNjn6UwTTRlAM9cjHlaa5T1R00Is/XAZyLTDPzuGy4HVvCMDOxCQxT8dWRxw9p3WAw249XuoetYDOX2FoYeLWRHpMbCNHmhshVl6dbQaeWRgGQFt9XgBKzptBrYiIFvCmnYj+6zdFuuBfNKbftlZD2QxUPoN7auGWQxkAvJFb/rlZgJKv5pWQ28MEANd9la6FZw6A5dNQKk3sd/6ZQLq/LOHfn200gNm4G/rgQJunQhcs1tYBI0UsosmoJBbJwLfMgFdisBRczFMBi4RA10M0zfzKgIGLiKgCxE4ai6GycAF64HCbJhYvMp6IH7u+WosHpufwTCAZn6jB2JnPRi3zJFYGEAzVxEQZnHQNR7sX3cGMs3kAjrvns9SGgMZA5lmcgF9b6QYAw0ZyDSTC+gHZbZAuiGDA06OVtDM6J141gT9zAkzY8CBAbSSrSPLeyDynHXIaEmMARgYaaUooO+MG2PAkYGRVooC+lGZrzgWYMmGywAaQSuZFQXEH2w0tkmMbSoZQCOjjqYoIHJ8XZnN/mAMXGNgTCOTAjqlNP8YU8ZABQNoA42MbFJADM3GEoxS2o4xcE0bY6+BTQoIkk7EwhQ/XdnG17b56q7Vtty2+er88fD3KW2UCYgx/h8eLt57kfx4blPySX/48OE3endGBYbmT891RBOj+Z+87KV8Z2K7X8ePTJyzw2Ez8KWq//EkBWU9EGmOCWM/7zyZ0Y4HxQBaQBNTViUgVimODdemctqJITGAFtDElFUJiISfT6W2E0NloFILswTEijMb0g9VMv/XGw1UrlidJSCKqFTe/+XbXuIMzNRAnYDOiZzTiRNk1atmgLZHA5VWJyAyflaZ2/6QOgO1be/yM99MIG0X7DdVU5fLeP0YtpcO3YvJXHog0n8i/FXMaPtJM0Bb0+a15iogvuAxNQtZW7oliJUB2trpqy2uAoKI48JoJRonzJJkgDamrZ2siYCYzj4qsDVLk4HGbewSRBep+lMH5Ml+8rn4B9tPgoEvVIuTTWrSpAfKy2Vol71Ulp+wbRIM0Ka1w/bJmrYREG8lfiDYqGySzXiPaUvatPHbyU1vYTlFLGv8Vdibn7Bt1Ay8L+9nzjhX1a6tgCiPx/vkv5MDs2gZIO6pnTCsql2bW1ixrE91YPFQkZG49mk72rC1demBuCjDvm+FB4QbBbN4GGCJxrsC4Uhr6yogLsy7Qohot7AsmIXPAM833xLYdrI+BIQD/GDLGWGP0FeZKsrMAwO01dtCL98H77OxmWTknoqIusZWKsLMAwO80/6e0Nu3oPoUEPXdEBje7xaqXhnSn8wWwADxKsP1qXe7uvjSt4Dwha7xF2FNsJ5IJARg9DyIh1i1V/MhIBxERHwGBBH5uoaKNnNggJiH21avPU9+XZ+Ny+3stPCgYKMzkbAAY5RFwNxbzDNZB58C4loE1t8I9wk2TyQS5mjM8zBU72W0VeW3bwFxXbrQk8Idwopg5p8BRsNMEnae56lzdR4CwgcmG08IBNX27EwkeDSebX0odJphdvVvXgLCH4aRBHI/CdzStghm/THAkgxGWscEuJ6LzVNAeYXyDzfcrhN2S8tZ6bbllvWOcK5bMc1zL0JAeEn3yi1tSeCWxtasOQP0NNyyPhKINeduITTcLar10wJBtpk7A7w9cVRg5n9hFoKAqDx+PCTsF2y4LxJmGLEO720dF+YW61T5E4qAcv+2aecpYV9+wrZjDBAg88ao00t/Yzk9HYQmoLyavIf/uHB/fmLgW2b0eWPC24xyW35DFVBen1u185iwlp8Y2PaU6sv3eeY+unLlOXQB5fXYqR2ExFqjWHzOfW+6Ja7hm4QIh8cRQVtsjXGz2CQ+2itsD5rZ5s7x2IGpDeKc0g9aNi/Sf47YBJQzgt/3CAhpTYh1VptHPNymEA6z9AsfVcmHRhargIqVXNYBIuL2xjv7i5oc1aWd7IpSsVaK2xTiuSxEaykIqEg+4mFC8m6BHorR3KJXRfK6MKMnehh+6Y8JQESUhKUmoMlGoXfiUQk90y6BYHxV8CUqxLIuEPyeF+hpeE4VdS8j/ystdQGVVRzxEIzvEBAUWyYwEdtWgXiKLccAQwCA503ELWw5ZkKPBVsIhi3BLyIajP0HRuzEJsOiFAEAAAAASUVORK5CYII=) center no-repeat}.lark-play-button--mobile .lark-play-button__play,.lark-play-button--mobile .lark-play-button__pause{background-size:contain;width:100%;height:100%}.lark-play-button{cursor:pointer}.lark-play-button-pc{opacity:.9;margin-right:14px;transition:opacity .1s ease-out;-ms-transition:opacity .1s ease-out;-moz-transition:opacity .1s ease-out;-webkit-transition:opacity .1s ease-out;-o-transition:opacity .1s ease-out}.lark-play-button-pc:hover{opacity:1}.lark-play-button-pc .lark-play-button__play,.lark-play-button-pc .lark-play-button__pause{padding:0 14px}@font-face{font-family:'larkplayericon';src:url(" + i + ");src:url(" + a + ") format('embedded-opentype'),url(" + o + ") format('woff2'),url(" + s + ") format('woff'),url(" + u + ") format('truetype');font-weight:normal;font-style:normal}[class^='lark-icon-']:before,[class*=' lark-icon-']:before{font-family:'larkplayericon';font-style:normal;font-weight:normal;speak:none;display:inline-block;text-align:center;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lark-icon-sound-small:before{content:'\\e600'}.lark-icon-sound-large:before{content:'\\e601'}.lark-icon-sound-middle:before{content:'\\e602'}.lark-icon-exit-fullscreen:before{content:'\\e603'}.lark-icon-request-fullscreen:before{content:'\\e604'}.lark-icon-pause:before{content:'\\e606'}.lark-icon-play:before{content:'\\e607'}.lark-icon-loading-circle:before{content:'\\e608'}.lark-icon-replay:before{content:'\\e609'}.lark-control-bar-pc{opacity:0;transition:opacity .25s cubic-bezier(0, 0, .2, 1);-ms-transition:opacity .25s cubic-bezier(0, 0, .2, 1);-moz-transition:opacity .25s cubic-bezier(0, 0, .2, 1);-webkit-transition:opacity .25s cubic-bezier(0, 0, .2, 1);-o-transition:opacity .25s cubic-bezier(0, 0, .2, 1)}.lark-status-user-active .lark-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.lark-status-user-active .lark-play-button--mobile{display:block}.lark-status-user-active .lark-progress-bar--simple{display:none}.lark-status-user-active .lark-control-bar-pc{opacity:1}.lark-status-playing .lark-play-button__play{display:none}.lark-status-playing .lark-play-button__pause{display:block}.lark-status-loadstart .lark-custom-controls--mobile .lark-loading--mobile,.lark-status-seeking .lark-custom-controls--mobile .lark-loading--mobile,.lark-status-waiting .lark-custom-controls--mobile .lark-loading--mobile{display:block}.lark-status-loadstart .lark-custom-controls--mobile .lark-play-button,.lark-status-seeking .lark-custom-controls--mobile .lark-play-button,.lark-status-waiting .lark-custom-controls--mobile .lark-play-button{display:none}.lark-status-loadstart .lark-custom-controls--pc .lark-loading--pc,.lark-status-seeking .lark-custom-controls--pc .lark-loading--pc,.lark-status-waiting .lark-custom-controls--pc .lark-loading--pc{display:block}.lark-status-paused .lark-control-bar-pc{opacity:1}.lark-status-paused .lark-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.lark-status-paused .lark-play-button--mobile{display:block}.lark-status-paused .lark-progress-bar--simple{display:none}.lark-status-paused .lark-custom-controls--mobile .lark-play-button{display:block}.lark-status-paused .lark-custom-controls--mobile .lark-play-button__play{display:block}.lark-status-paused .lark-custom-controls--mobile .lark-play-button__pause{display:none}.lark-status-paused .lark-custom-controls--mobile .lark-loading--mobile{display:none}.lark-status-paused .lark-custom-controls--mobile .lark-controls-bar{display:block}.lark-status-paused .lark-custom-controls--pc .lark-play-button__play{display:block}.lark-status-paused .lark-custom-controls--pc .lark-play-button__pause{display:none}.lark-status-ended .lark-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.lark-status-ended .lark-play-button--mobile{display:block}.lark-status-ended .lark-progress-bar--simple{display:none}.lark-status-ended .lark-control-bar-pc{opacity:1}.lark-status-ended .lark-custom-controls--mobile .lark-play-button__play{display:block}.lark-status-ended .lark-custom-controls--mobile .lark-play-button__pause{display:none}.lark-status-ended .lark-custom-controls--mobile .lark-controls-bar{display:block}.lark-status-ended .lark-custom-controls--pc .lark-complete{display:block}.lark-status-error .lark-custom-controls--mobile .lark-error--mobile{display:block}.lark-status-error .lark-custom-controls--mobile .lark-play-button{display:none}.lark-status-error .lark-custom-controls--pc .lark-error--pc{display:block}.lark-fullscreen{width:100% !important;height:100% !important;padding-top:0 !important}.lark-fullscreen .lark-exit-fullscreen,.lark-full-window .lark-exit-fullscreen{display:block}.lark-fullscreen .lark-request-fullscreen,.lark-full-window .lark-request-fullscreen{display:none}@media screen and (orientation:landscape){.lark-all-screen.lark-fullscreen .lark-control-bar{padding:0 30px;box-sizing:border-box}}@media screen and (orientation:portrait){.lark-fullscreen .lark-control-bar{bottom:50px}}.lark-custom-controls-hide .lark-custom-controls .lark-control-bar,.lark-custom-controls-hide .lark-custom-controls .lark-control-bar-pc,.lark-custom-controls-hide .lark-custom-controls .lark-play-button--mobile,.lark-custom-controls-hide .lark-custom-controls .lark-progress-bar--simple{display:none}.lark-live-play .lark-time{display:none}.lark-live-play .lark-progress-bar{display:none}.lark-live-play .lark-current-time{display:none}.lark-live-play .lark-duration{display:none}.lark-live-play .lark-fullscreen-button{position:absolute;right:0}.lark-live-play .lark-progress-bar--simple{display:none}.lark-progress-bar{position:relative;height:100%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;flex:1;-webkit-flex:1}.lark-progress-bar-pc{margin:0 10px;height:3px}.lark-progress-bar-pc .lark-progress-bar-hover-light{background:rgba(231,231,231,0.7)}.lark-progress-bar-pc .lark-progress-bar-except-fill,.lark-progress-bar-pc .lark-progress-bar-hover-light{cursor:pointer;position:absolute;height:3px;transition:all .1s cubic-bezier(0, 0, .2, 1);-ms-transition:all .1s cubic-bezier(0, 0, .2, 1);-moz-transition:all .1s cubic-bezier(0, 0, .2, 1);-webkit-transition:all .1s cubic-bezier(0, 0, .2, 1);-o-transition:all .1s cubic-bezier(0, 0, .2, 1)}.lark-progress-bar-pc .lark-buffer-bar{height:3px;transition:all .1s cubic-bezier(0, 0, .2, 1);-ms-transition:all .1s cubic-bezier(0, 0, .2, 1);-moz-transition:all .1s cubic-bezier(0, 0, .2, 1);-webkit-transition:all .1s cubic-bezier(0, 0, .2, 1);-o-transition:all .1s cubic-bezier(0, 0, .2, 1)}.lark-progress-bar-pc .lark-progress-bar-padding{position:absolute;width:100%;height:16px;bottom:0;cursor:pointer}.lark-progress-bar-pc .lark-progress-bar__line__handle{top:1.5px}.lark-progress-bar-pc .lark-progress-bar__line__handle-except-fill{width:0;height:0}.lark-progress-bar-pc:hover .lark-progress-bar__line__handle-except-fill{width:12px;height:12px}.lark-progress-bar-pc:hover .lark-progress-bar-except-fill,.lark-progress-bar-pc:hover .lark-buffer-bar,.lark-progress-bar-pc:hover .lark-progress-bar-hover-light{height:5px}.lark-progress-bar-pc.lark-sliding .lark-progress-bar__line__handle-except-fill{width:12px;height:12px}.lark-progress-bar-pc.lark-sliding .lark-progress-bar-except-fill,.lark-progress-bar-pc.lark-sliding .lark-buffer-bar,.lark-progress-bar-pc.lark-sliding .lark-progress-bar-hover-light{height:5px}.lark-progress-bar-except-fill{cursor:pointer;position:relative;width:100%;height:1px;transition:all .1s cubic-bezier(0, 0, .2, 1);-ms-transition:all .1s cubic-bezier(0, 0, .2, 1);-moz-transition:all .1s cubic-bezier(0, 0, .2, 1);-webkit-transition:all .1s cubic-bezier(0, 0, .2, 1);-o-transition:all .1s cubic-bezier(0, 0, .2, 1)}.lark-progress-bar__background{position:absolute;width:100%;height:100%;background:rgba(231,231,231,0.5)}.lark-progress-bar__line{position:absolute;height:100%;width:0;z-index:2;background:#459DF5}.lark-progress-bar__line__handle{border-radius:50%;position:absolute;padding:10px;right:-16px;top:.5px;transform:translateY(-50%);-ms-transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateY(-50%);-o-transform:translateY(-50%)}.lark-progress-bar__line__handle-except-fill{border-radius:50%;width:12px;height:12px;background:#fff;transition:all .1s cubic-bezier(0, 0, .2, 1);-ms-transition:all .1s cubic-bezier(0, 0, .2, 1);-moz-transition:all .1s cubic-bezier(0, 0, .2, 1);-webkit-transition:all .1s cubic-bezier(0, 0, .2, 1);-o-transition:all .1s cubic-bezier(0, 0, .2, 1)}.lark-fullscreen .lark-progress-bar__line__handle{right:-17.5px;top:.5px}.lark-fullscreen .lark-progress-bar-pc .lark-progress-bar__line__handle{top:1.5px}.lark-fullscreen .lark-progress-bar-pc .lark-progress-bar__line__handle-except-fill{width:0;height:0}.lark-fullscreen .lark-progress-bar-pc:hover .lark-progress-bar__line__handle-except-fill{width:12px;height:12px}.lark-fullscreen .lark-progress-bar-pc:hover .lark-progress-bar-except-fill{height:5px}.lark-fullscreen .lark-progress-bar-pc:hover .lark-buffer-bar{height:5px}.lark-fullscreen .lark-progress-bar-pc.lark-sliding .lark-progress-bar__line__handle-except-fill{width:12px;height:12px}.lark-fullscreen .lark-progress-bar-pc.lark-sliding .lark-progress-bar-except-fill{height:5px}.lark-fullscreen .lark-progress-bar-pc.lark-sliding .lark-buffer-bar{height:5px}.lark-fullscreen .lark-progress-bar__line__handle-except-fill{width:15px;height:15px}.lark-buffer-bar{position:absolute;height:1px;width:100%;z-index:1}.lark-progress-bar--simple .lark-buffer-bar{height:3px}.lark-buffer-bar__line{position:absolute;height:100%;width:0;left:0;background:#e7e7e7}.lark-exit-fullscreen{display:none;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABCBJREFUaAXtmrtPFUEUxrlIIT4qjBUF1hqjCQkWNDRWFsZGEqmksLBTQsd/oHYWhoTCQKKFxobaVhMLYrQ0UmgjWIlAwcPfJ3fI3L1z9nHZua/sSU5m5sx5zDeP3ZnZHRioqOqBqgeqHuihHqi1q62Hh4cTxNqq1Wpfi8bEdhSba/CgYbuL/Bf8Gf8Hhk62mECT8AI8nq1ta2C/CDuaszWbazCagneccUb6k/rpZi85JBgK7EE9wF6rjrAbhvfrfpR8zxH+WAX9l55t3qwJ2poiCjgFuyl/ivwy0UxHMjDoDHI/znlDzxJ/sSpS5E9pqx/zWNUBOha4DAaaxh9ggXW0T2aGdfLKCbJS/Iygs+np/cb+gldOzWI/hMIj+Abst8W3k44GaNgTXifOmlfOzhJsGtZ09knlu9nWRxrojvjG5H3wed1k6uF3NRHnZsgoOOxOsT6SM5Q1so7Uyys4zw3aGUZO9xL+TyfK/4upgKXRY6BDGBtkmYA90PfI98JINwBMFnIBroN+TdrzoHMD7hfQhQD3A+jCgLsYtP98UTNb31PLOkR6NcGp72nq2/UenieWI+29deAon3CcCpr6dgEeIpZAa++tXVc8IoAJmrq2AI6HzvCcAnqWOp+ibC2NZsUVg8oa6f4ErO40QPuAN+J2e7p383hYb7yOWzrPFqXbGLyAQ8e5dfbnl4o6LEtf58ggMSSLVNyHW3pXB50eCddT6jpTBdgJfw6WnJ/tDKqjqNbo/Y3UqLf4XYrkO5dbcw0zqrpdfAgXvYPyAx9S2ILX4WV4ifUrWUVVD0TqAXNKR4rX5JalozbobaC7szH4HHySdv3B/jlL5wlpd5HAwm/gGHQ5hNZ6Sod0Y8g0sndiOManZkoTmRuPJs04Ak3jskkHf70NPoYcdxrwWKhRyHR78QB+Z9SnibcBu5Om0LE6Fu5GyuIt9IWjYyCKBAbsZgJw6nVREd9dqRsArMuC/gUdAKzrIOsSIe63LALry7suxHQxFuXhht/klNanVesSId6apiGj8A7saD7GmsB5EHDbQdOQWw5pPdWxrnRKA6xg1Jc+va2dVlIeuqopvQOSDnmflv4BLwksGbPj5bJBdz1g9XiZoHsCcJmgewZwWaB7CnAZoC3Au3LuUZSNh+e/UPYka9oCoh81fdKuaxVB8tcgp6PjnH5ie0ZjLB2nW0oq0LRJvlZg99pUql+qvlH/SZW5CINBWD9qFqVCOzKcmzutXA1FCR+hzcmCZR+c0vSObg0eW0Yp8ispdaEqXbg5UsxtV8ibaqTR9f8u0rC/z2vfoEfv6dfDvCOtvfdUg4OMAvpzsCN9y2qZcDIO61fnyTQnmdehONAsuApfhIO/8yHX6KzR2z9ICxH+NSvOYhu8gyrkrFKueqDqgaoH+q0H/gFQgJGXTJjF7QAAAABJRU5ErkJggg==) center no-repeat}.lark-request-fullscreen{display:block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA+dJREFUaAXtmrtrFUEUxu/1gViKFiks7CIBQRGEWFgoPkCLKKig6UTUwr9GJYVol0KjaJMiKSxSRBBUbERrm4CvUtTo9fvizmWYu+fMzL7ubNgDJ3dn5syZ85vHZnZ2e71Ouh7oeqDrga4H0u2Bvi+0wWCwAzbnoIegu6BboEXlDyqu9Pv9x6EO0P40bC9Cdwp16PMr9BV0Cb7XBTt/NhrbD/0ArVpm/a33emh0EvorovG3sN2n+RZHCxU5ss+hk5qDgmUctRA5DKPtIYaZzUH8PkPs26Q6IjAqcBrXAcsp+FQKyMl/gfQXJ8+XJPRpyUjsCVTgms2Tv8h8AH2dV+jJI+wq1tl7j91GMezWMFoHkDgFldYwB+089CTUyBFcLJpE0C8augeVZB0Fl4McNWCEWG45gd6VmtWmtFvGkTWyFRfzCUHbsTFGxpcrLlSuUZbJacwpaSQ1aBOX+hsDzDV7Fdpq6BjgHm4ij9oOHQXMudJ26GjgtkMXAk4Q+gdjssRND4sKA9NDQtN7GeGYHdlvXC8wvijB/9g555/5DckB/x9DuRmxpdHNCRqegF6BFtsOo2IwMDsC9mOHlgbEzi81pW1HCU1vO6yR68qA6dkDPTPS+hgyKgX2QN8ZA99Ik5UDK9AjjY8jQ3seLhUPpzduZD/hxIzs9VIOK6qsAdsPCWzOTXtDADSPiKjJiDalV6woCbtqpTfnJabkLJQnHyc2J2GLqTgo2eAEHQG3GHVjlzcFWHtre0kC0tawVCfF/KMIyj7HOiYFmQQwRucM9FOmRXZkNixZ3fSQPwlgRHMfujfTJwCv7Qg4FeDhCOCCo1PbEXAqwLcBaW9saoNOAjjbkTVyBJwEMOez59GysjWtAuPmwfezPDaZYFB1Swlo74t9b+yAnIaal9Gfm4JmYGgr6rgI9jehtsxJgNoI8zMD8zJ6D675yrIRKTHS3vg0YPd9rJv2Oi9jEAk9CG1LAw71UZtdJHRQHEkDk6BqaO3EI6jHmjAiNO5IbGoeavbJZnMSFULyI2xotJGGDb/2CZLWAJNGgb4WRAsjDdje29KfZhvaXmk7AdqNzf3mY9iutoa/Da3+X8xk60hyxleUywhozaknJuFvCoXuw7to7xQ8RJoj68LS7Dv/RAmCOQuNleAdGRzzDMo+loltS7O/IMHm9Y6xXcLFO5MI/OWO7HigLYMyd9zAKkFmH2ElfpQmAmNq8qtUfuEWA82X0aFf6L2EbdVC2BnEzjceueJ9ysC84Trnt4v8nG83VBoVruEFNBYMAt88XeSBm+QTRV7hPYVr9g10UYP1euoMuh7oeqDrga4HxtwD/wBjEyk1u1TOJwAAAABJRU5ErkJggg==) center no-repeat}.lark-exit-fullscreen,.lark-request-fullscreen{background-size:contain;width:20px;height:20px}.lark-fullscreen-button{cursor:pointer;padding:0 14px;width:20px;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.lark-loading--mobile{position:absolute;display:none;text-align:center;top:50%;transform:translateY(-50%);-ms-transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateY(-50%);-o-transform:translateY(-50%);font-size:13px;color:#fff;box-sizing:border-box;width:100%;height:28px;line-height:28px}.lark-loading-cnt{display:inline-block;background:rgba(0,0,0,0.5);padding:0 15px;border-radius:15px}.lark-loading-cnt__spinner{display:inline-block;vertical-align:sub}.lark-loading-cnt__text{display:inline-block;margin-left:4px}.lark-icon-loading{width:14px;height:14px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABOBJREFUWAnNmNuLVVUcxzteahxTqaBMnfISXRSmi/QQ0UsPYSQEAxH0KKKiL8EQQX+BD0UEEYEg9NBDENFTRdjFEpJ6SIJCRxjMCkexpLw0NY7T57Nn/XZr9jln7nO2P/ie39p7rfVbn/1ba6+9z27cMAcbGxvbTPdn0H1oTdJa/EW0t9FofIKfF2vMNApwD9DnBfQ0Wo8WtdBizp0BdD2+yYhBVWOsqWKSE0smqZtQRXAz9RJ6Dgki4GxtMfFG7Txd4ClBCXgj8frRDtSFNLNRVVGRfn7D781PRJl4XcAN44uZwFs1OhXwpKAEuY0gb6FHkYGrcJc5dxgdQqfQEHLKL+HbGnFdciHjmuER+l1r18nGLY2O91PxNlqHbFdkIPmf8G+gz80OflomIIYbzyad8piOMUx9sSSqAVuCJsh3aXwzyiHPcPwq+tAB8bMygenobOaglj1/hdhX8ROsCZQgt9LiPeTNE5D6I+hFgvyFn7MlWNe/wDGOsNrFamajoqil81IKr6PVyPVi1vQH0c75giRWcbcT7x+KZi8yK7A7yop0IRTHbQIop/ahB5FwoYME3I88nndLsCMEjqzqTZjLrrQSlCswi8+jADSbX6HX0IIasH8zQJ5ZuZbDVO5KJSgVe5AVggrpXvjyQmWS2FVzq3NcmUKrolEBCvk9nNiGbKiEfRNIn9kdsZQQYQNS3w2bN1xxUr8dBaCQx9HHqKPWZgkUa7XIKDSPo1ibbrgH6CR4HeZTLc/qSrLaWMLPJiruQIJqbhlHi1I9P95YmrDuAKrLgzybwh4lm8LWYmkmfSznWV3mQQ+Kadd/g+o2ExWvkjJ2ux35yIxpN81uS3WboALKo93UCvT8eF2tv27+ZjRsqaC3oMioFb/7U7O585jRsAI01mecvB68U55n9JrUTnXAeiWu2brNlxLZQqM5qJACXw+gPjYDUn81B42suvnXbV0AOPWxRRWgv3Aisinsw6hu809lntFhD75FkU2Be+ONhXLHjbFlcvlFNj2+sIhH1s8UzqKAdct6CNVlZjO/mfwbfVla7TsUoPpnfWOxopOWxtzImHKF/pAhQL+gnK/THo4fs0GH7U7GW4kCUj8kQwFKak9T/hrlWe3jCrtt1AljLKfbr4I55FnYiq8uBWgCeR//LwpYH627CJC3SU3n16Upf4SoJiZAHWTQH62EgNxn/KcoQPWbUR9aaNvCAO7fAak/DVO8RP8Pmkg+wJ9E+f+nJ7lil0F5UantnJ2ZRH5HuBflkH9yLEdpTXc2HVdQ+wqKt6qA/pFz7+RXWUaZRYFxfEx6w96OYgxn8Qo6zDi+k5bWBGoNQdbh+pHB8qXg8vgIfU8gg8/YiO2YG1AvWoby+L6HfklsMzrBWoLagoBrcbuRHwHyKzbwr+gzNEDQEfyURjwfJCbAqTZmDmh87+4jrSA5X77qW24ygrsMdqC7URXWgfwTNpDkxuwHi/iIu5yycl+8C61BrkP75Xu2cc8hIY3X0tpmNFqnTPgV5Qlk+zwT1UEDoJ2v9nWq/Sj8A5D2aWtTgkZPgL25nkJOXTW7ARYgcRw+zucX5l19DMCYAQ7b27RBIwTAqylvRT5FnNYcIgfJzwewN8kpdAJAl8q0bcageeQE7R7oG49PFdekXkjXa0ioQeDcNWZl/wEvOtYXm75OxAAAAABJRU5ErkJggg==) center no-repeat;background-size:contain;-webkit-animation-name:spin;-webkit-animation-duration:1s;-webkit-animation-timing-function:linear;-webkit-animation-delay:0s;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:normal;-webkit-animation-fill-mode:none;-webkit-animation-play-state:running;animation-name:spin;animation-duration:1s;animation-timing-function:linear;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal;animation-fill-mode:none;animation-play-state:running}@-webkit-keyframes spin{from{transform:rotate(0);-ms-transform:rotate(0);-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg)}}@keyframes spin{from{transform:rotate(0);-ms-transform:rotate(0);-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg)}}.lark-loading-spinner{display:inline-block;width:65px;height:65px;border-radius:50%;-webkit-box-sizing:border-box;border:solid 6px #ddd;border-top-color:transparent;border-left-color:transparent;-webkit-animation-name:spinner;-webkit-animation-duration:.8s;-webkit-animation-timing-function:linear;-webkit-animation-delay:0s;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:normal;-webkit-animation-fill-mode:none;-webkit-animation-play-state:running;animation-name:spinner;animation-duration:.8s;animation-timing-function:linear;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal;animation-fill-mode:none;animation-play-state:running}@-webkit-keyframes spinner{100%{-webkit-transform:rotate(360deg)}}@keyframes spinner{100%{-webkit-transform:rotate(360deg)}}.lark-loading--pc{display:none;position:absolute;left:50%;top:50%;width:65px;height:28px;margin-left:-32.5px;margin-top:-14px;z-index:3}.lark-control-bar{position:absolute;width:100%;bottom:0;left:0}.lark-control-bar{display:none;color:#fff;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:-webkit-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));background:-moz-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));background:-ms-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));background:linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));height:38px;font-size:13px}.lark-current-time{margin:0 14px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.lark-duration{margin-left:14px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.lark-progress-bar--simple{height:3px;position:absolute;bottom:0;left:0;width:100%}.lark-error--mobile{cursor:pointer;position:absolute;display:none;text-align:center;top:50%;transform:translateY(-50%);-ms-transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateY(-50%);-o-transform:translateY(-50%);font-size:13px;color:#fff;box-sizing:border-box;width:100%;height:28px;line-height:28px}.lark-error--mobile .lark-error-cnt{display:inline-block;background:rgba(0,0,0,0.5);padding:0 15px;border-radius:15px}.lark-error-cnt__spinner{display:inline-block;vertical-align:sub}.lark-error-cnt__text{display:inline-block;margin-left:4px}@-webkit-keyframes spin{from{transform:rotate(0);-ms-transform:rotate(0);-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg)}}@keyframes spin{from{transform:rotate(0);-ms-transform:rotate(0);-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg)}}.lark-error--pc{display:none}.lark-error--pc .lark-error-cnt{position:absolute;width:100%;height:100%;left:0;top:0;font-size:14px;background:rgba(0,0,0,0.8);z-index:2;transform:none}.lark-error--pc .lark-error-text{position:absolute;width:100%;left:0;top:50%;transform:translateY(-50%);-ms-transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateY(-50%);-o-transform:translateY(-50%);color:#fff;text-align:center}.lark-complete{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.8)}.lark-complete__replay{position:absolute;color:#fff;font-size:48px;top:50%;left:50%;width:48px;height:54px;margin-left:-24px;margin-top:-27px}.lark-volume-mobile{display:inline-block;width:20px;height:100%;margin:0 3px 0 17px}.lark-volume-mobile--normal{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABPxJREFUaAXtm0uMVEUUhqcRgRnQaAQRlKAhEHHiewUBCb4IUTfiwoRRlIiBFTEuTNSNC124kRgXGkWZGBMhUVe6cKXE+I4yAhI1giYmMIAJD3kI4vid5lbP4af62t1zu2eq05X8qXNOnTrn/Pfe6Vtd1dPV1WmdK9C5AilfgdJoFD80NHQVefvAENhcKpV+o2/PBtk+8BcI7SjCTW3HFlLdYGNgKf2WtiIMuflgh5D06ra2IQyrVeCYZxeRB5InDKkesClCzkz7xZ42Ycj0gp1CKqj9CAuDkvXpEobAahB7hM32qD269DcA39IjTPWTwduehZPtbl8X/k6RCyVMvNvBJ2ALsHd8cxtJrge7QKy9hbHHV4BeGGFiTQKHQWg/IEz2+QqVCb4GHA/ZXG+Li4djybAXSfgylzOIm2N5R2Qj8hTwTsgg/Xb0a6slYKwwwpaDeK9LflOfqpa/bjvBbgQ/WdRIewNbd15QxosmbI/1t1LLGfTFeXXUNEaQteCEBDfV1sQrawmCX6GELScxZwF9v3+RWw8TZoJrqmAu9ndBrA1gnJcb3A3i2xBh5k0DD4FeF64iYl8K/gW+3VtxCAKjt4HfvVcd8qv4Tgqxaunxr5swc6aCvcDaabAslgu7vZp824Yy/DUYxd6fB7xHjfIR/B6MJf0/G/MaIbxC6rIbNEVzYbMvKv+I7wMVPwZ0mSe+UfV7rHMrQeoUmNsI4auZd0qqeSmWGp9+8Xuv4sfAXTJo79TdOXiFsYmVAA0IzK+bsKVh3vPAt5Mo07QEbBrfnsYJZT8EJfyxBihajxRU01qaefb6+RX49nSsPhz0M+lO8xsXcx6rNva+TlLbBqnvcdGD+mEQsr78aZ0U4azwfvpjjsxs7uYcpwdRCS+xgeQIc5ePUPdngVXWl8mI7SvRrzQ9OcIZiU+FzK2im/onOO3s9h4fnyrhnx0REy8XvYsnwfa8B53dFh/TUyV80BEx8bxXUza+T/xmpEr4byFSbV1wQvy6UyU8VYjoHQ/D04OQ9YOpEp4pRKoRvkL89qZKeIEQ+UV0W4baPtrFzn6cD7KjqRJe6oiYuFV0U3UxUv4AS44wd+4OyMx2BO2D6WunB3F5ELJ+u/XJEabm9RmB0H3Ao3oqKK6/x8kmlpea48Vo6iKu4u6IPZg+QniSJPpqCONN66nrboLfJwleFt3+fi/BtlDsZ9fWDKayATDRbgTw7XMhVVZxWOedkL+r+KHYFo/u9ol/VG31Fs/9UoVt49xcIZIJ2Ow78x/i+9w5fgwuAfqFWeZUVV9jpBWbeIulghfPITFM+AnxsxOQ89baZXcGxvo27Xpq/AZsAGe3bBxrbBeBQeDbC86lfpFIY3UjvkRt73umyIfApfWzlBkEyTtqsXOelh61WHnkfAZoe1ZKb1wl8lg6TFtOPWeE7Zfo1b5FjYj4GgKP5nHpheTXv9t92MpbOo0zy5lJ8LwD8TcZb+aBuJ4P22b9opxyixkiib3PR+snD3ZRrdmZ02PFMKoxCgnzftTyiIXBR08GatqIzyshizkrz6dpYyTvBT+CWLNznwUyMGLCTSNTa2AI9YBNQiyoupRNn3C4MDBcBWx5l9fah7ARh+l8sCOHcfv8uNTd6W4Ib6xCevj8Nkxolx7CfcA/4vajsltaxc+OH1reIDiDpPYvABcA+xeAPS0vopOwcwU6VyDJK/AfpWRhoEq4i1sAAAAASUVORK5CYII=) center no-repeat;background-size:contain}.lark-volume-mobile--muted{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABFlJREFUaAXtm8tvTUEcx3uRUK2dDbGxqCjRiipqQeqxqdhpSDReQbpRjbJDiz9AK40Qz0ZESezEwsZjY+lRjyCUnRChaBsLrc+vzlxzf5ke556G3jn3/pJvZuY3v5nz+8w55/a8WlRUsMIKFFbA5xVIjUfyw8PDs9huAxpGV1Op1FvKZBqwDeg7MvaNysLE0QJVjM4ZSlVeSxQwcOXoiYK0mw8TAwzVVtRv0znqj7wHBmoquuiAE9cH5fcbGJj56KmCMs0uKstNIyj9BQZgB3IdwuLbLocuZQWyzT9gsi9Bl2wKqy57e545T6n7DQzAAvQcuewCzqkG1vs9DMwuNIC0ycXFFhvU1PH7t4dJuhRdRi7rwTnXAOqSPr+ASbgSvUAuO4uzWEPabfr9ASbZRjSItMk18WYbbLQ6ceMGPMlOikRm0p5s+6y6xB5DGy2fqT6mUs9dz0vjyOkS0BXoHYpjpxg0JRtA4sdtD8tFgPz9/Iiyta8M2JQNqIll3LgBTyCJSjTdJBOxlLubKg7h7ojxYwpjgeS6fD0qjzNRsMD1lKVyXpaoSQZpv1c+u3mTRguwP2znv6qTpPym3EcV6CftZrbdGXV7xO8hth3Jzu2RQ3otsu1W1MnixrGxyIc0scvs5IJ6U5RtE9ukxwp1rtsrEuxTSXYAslf5Mpr0N+PoyHAyT84Dc/h+Iul6JKeabe0BlO0bqePfR+W46pDxG3L+kDZJA7EGua7ZBS5txLQgbTJu9UgQlZw+h9MkVCRp5ILeL3H0HUDa5D58VXoeGt4AB1C15CwQ2m5oB22Jq03DUsn5c9hOVuqc07cp1qEBaVsmPtv6adQF8Wm/d8CSORB3KOqQQLnMwN7VnV4CCwTQAnNFAwXty/Tfc/V5C8y5eQignS4ofLvpP+jq8xIYmMPAHFVA8mLOtmPBotg+/360gGiD4EgGRVHRN9qNSErbjhLfaju8ufCQpEleALT14agJ+muoS1vbnwWix4u/w+Qph6g2gVtq70HacrPhgv59CtCpgeVK5k2IOumTW7bYxvjId0uyEeLbkLYvOJa4ksC/FEm/tlaZTL/n0UGu9gOcZa6NRfExNjIwsfKqdQjZ9plGddi26F+CNPSQAMsjHv02D9df7b884iGLapWJwC4OgzV9wViJT9tIH62VKO5DvNOM/acP8Zj/JJK93IsWGaAoJfFV6DWSpyUnMsbgmIlmj6Iy/N3IZY9wzsmYLKRBbORD2kzDmGko9nUDY+P97jDQ6wfxZgGzKoGuRKO9ajlDX3JetZiVASp/XqYZaCkB34VcTyGS9bpUQYe9ED/PgiTnhbgBByp/Pnkw0FICHvZRy7YgJus/SzIuZw3o+egZclkXTrmrsc2/r3j06kOTPx+m2fCAb0Xyix1m/u9hBZ0/H5cacHZv2OfD101c4krA9Qfi8nQiqzugsSxKaiyD444FcAZj5V8AJiL5F4DeuHMVxhVWoLAC+bUCvwAlfPCPZ1UriQAAAABJRU5ErkJggg==) center no-repeat;background-size:contain}.lark-time{*zoom:1;font-size:13px;float:left;margin-right:14px}.lark-time:after{content:'\\0020';display:block;height:0;font-size:0;clear:both;overflow:hidden;visibility:hidden}.lark-time .lark-current-time,.lark-time .lark-duration{margin:0;float:left}.lark-time .lark-time-separator{float:left;margin:0 2px}.lark-control-bar-pc{*zoom:1;font-size:16px;line-height:39px;height:39px;position:absolute;bottom:0px;color:#fff;width:100%;cursor:default;z-index:1}.lark-control-bar-pc:after{content:'\\0020';display:block;height:0;font-size:0;clear:both;overflow:hidden;visibility:hidden}.lark-control-bar-pc .lark-control__left{*zoom:1;height:100%;position:relative}.lark-control-bar-pc .lark-control__left:after{content:'\\0020';display:block;height:0;font-size:0;clear:both;overflow:hidden;visibility:hidden}.lark-control-bar-pc .lark-control__right{*zoom:1;height:100%;position:absolute;right:0px;top:0px}.lark-control-bar-pc .lark-control__right:after{content:'\\0020';display:block;height:0;font-size:0;clear:both;overflow:hidden;visibility:hidden}.lark-control-bar-pc .lark-play-button-pc{float:left}.lark-gradient-bottom{background:-webkit-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));background:-moz-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));background:-ms-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));background:linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.5));position:absolute;width:100%;bottom:0;height:49px;padding-top:49px;pointer-events:none}.lark-volume{float:left;*zoom:1;height:100%;width:80px;cursor:pointer;margin-right:14px}.lark-volume:after{content:'\\0020';display:block;height:0;font-size:0;clear:both;overflow:hidden;visibility:hidden}.lark-volume-hidden{width:20px}.lark-volume-line-hidden{display:none}.lark-volume-line{float:left;position:relative;height:100%}.lark-volume-line__line{position:absolute;left:0;top:50%;transform:translateY(-50%);-ms-transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateY(-50%);-o-transform:translateY(-50%);width:50px;height:2px;background-color:#fff}.lark-volume-line__line-padding{position:absolute;bottom:-10px;left:0;padding:10px 0;width:50px}.lark-volume-line__ball{position:absolute;top:50%;transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);left:50px;width:10px;height:10px;border-radius:50%;background:#fff}.lark-volume-pc{float:left;width:20px;height:100%;margin-right:8px;background:center no-repeat;background-size:contain}.lark-volume-pc--large{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAO5JREFUeNrUlOENgjAQhSlxAEZgBDegIzACIzBCNzBO0BF0g46AG8gGdYN6je9IUw8wwg+95IXL9fL1uF5bFH9vIYRTeJnbCqpIF5In2UgUcmpS/wksJg6AHUl6ARgWoQB4ACvERCDWDPKrdBcDcb/slCAAye24KrTGT1WSc4ccZIQqJGC0Ojm4gRej6ZWevv0yijDwW14vNwzCldTAf3Cw3GlcdwG2pBv8moMHfHXSolEpNa70tAPkjFAzwTEuqfn8kIRT7mfHRrhuFmCzdMqzgz2T1PODgE2+v3rZFeShN5seh6wFbpfn62fsKcAA+g6BaglMgL0AAAAASUVORK5CYII=)}.lark-volume-pc--small{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAANxJREFUeNpiYBjy4P////3/IWA/pQYJAPF6IH4PxPNBJlJimAIQn4caZgDEDsQayITFMAMgdR7KVWRkZLxAimNYQK4B0glQPj8QFwDxAiAuBBr2AYcPQOoFgPITsEneh+L9UNyARQ2Kl0EGQiNKAZuBIOBAIEwxwhDqiAaCYUgC2ADE9tQ0kLhYJgEEADFGCmCB0g5IQfQAGHsPCIQpKJZBETIRm2TDf1TwHj2SsMRyAQgTm93mQw1uwBfLpGa9AliBALWEMgNhWRAp0TdQbCBSEOynSvE1aABAgAEAkt73U3Vlb2EAAAAASUVORK5CYII=)}.lark-volume-pc--muted{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPdJREFUeNrUlOENgjAQhcHwX0bQDRiBERgBN8AJrBPoBrCBbsAIuAFsABvUV3011dTUUn/oJS+XtvBxfVcaRX8fUsqDvEcbCkqhEzRCtSKGwFZQR1gG5Z8CFxZYhtRxuI7j+OJTTKKqQS45XkIV1EBbwCbf3SWQNntg3gMkXJYgFXjuaMwVSFnEDuYOwJOH9PjWLI5LcupZQO01oe0DxoVZQM4Lvt+/7bLH0VKN3EFnKNUVJlzPjQIGmD24KkZSgAbPbnjU1NYns2wd46sFlqYo/yqLp6Xtd6sJFi4Pffyp9IXAj4QBjS30lAgGGha0X7m+fiauAgwA1JY3K6LOGfkAAAAASUVORK5CYII=)}.lark-tooltip{position:absolute;display:none;background-color:rgba(0,0,0,0.8);color:#fff;border-radius:2px;padding:4px 8px;font-size:13px;white-space:nowrap}.lark-not-support-notice{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:#000;color:#fff;z-index:4}.lark-not-support-notice__text{position:absolute;left:0;top:50%;margin-top:-12px;width:100%;text-align:center}.lark-full-window{position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;margin:0 !important;box-sizing:border-box !important;min-width:0 !important;max-width:none !important;min-height:0 !important;max-height:none !important;width:100% !important;height:100% !important;transform:none !important;object-fit:contain;z-index:999999}.lark-fullscreen-adjust{top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;margin:0 !important}.playbackrate-list-div,.playbackrate-list-div--mobile{float:left;width:20px;height:20px;position:relative;margin:9px 10px 0 0;text-align:center}.playbackrate-list-div--only{margin:9px 40px 0 0}.playbackrate-list-div--mobile{margin:5px 5px 0 10px}.playbackrate-list-div:hover .playbackrate-list{display:block}.playbackrate-list-div .playbackrate-list,.playbackrate-list-div--mobile .playbackrate-list--mobile{width:76px;padding:2px 0 6px 0;position:absolute;z-index:5;left:50%;margin-left:-30px;bottom:35px;color:#f4f1f1;border-radius:6px;display:none;background:rgba(35,35,36,0.8);box-sizing:border-box}.playbackrate-list-div--mobile .playbackrate-list--mobile{width:60px;padding:4px 0 4px 0;position:absolute;bottom:30px;border-radius:6px}.playbackrate-list-div .playbackrate-list li,.playbackrate-list-div--mobile .playbackrate-list--mobile li{list-style:none}.playbackrate-list-div .playbackrate-list::after{content:\"\";width:100%;height:6px;position:absolute;bottom:-10px;left:0}.playbackrate-list-div .playbackrate-list:before,.playbackrate-list-div--mobile .playbackrate-list--mobile:before{content:\"\";left:50%;width:0;height:0;border-top:6px solid rgba(35,35,36,0.9);border-left:6px dashed transparent;border-right:6px dashed transparent;bottom:-6px;margin-left:-6px;position:absolute}.playbackrate-list-div .playbackrate-list::after,.playbackrate-list-div--mobile .playbackrate-list--mobile::after{height:24px;bottom:-24px}.playbackrate-list-div .playbackrate-list li,.playbackrate-list-div--mobile .playbackrate-list--mobile li{height:24px;line-height:24px;margin-top:4px;cursor:pointer;font-size:12px}.playbackrate-list-div--mobile .playbackrate-list--mobile li{height:16px;line-height:16px}.playbackrate-list-div .playbackrate-list li.cur,.playbackrate-list-div .playbackrate-list li:hover,.playbackrate-list-div--mobile .playbackrate-list--mobile li.cur,.playbackrate-list-div--mobile .playbackrate-list--mobile li:hover{color:#faa100}.pplaybackrate-list-div .playbackrate-list li.gray{color:#999;cursor:not-allowed}.playbackrate-list-div .selectd-playbackrate-text{width:40px;line-height:20px;height:20px;font-size:14px;color:#ffffff;text-align:center;overflow:hidden;cursor:pointer}.larkplayer{position:relative;cursor:pointer;background:#000;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.larkplayer video{display:block;width:100%;height:100%}.larkplayer video:focus{outline:0}.larkplayer video::-webkit-media-controls{display:none}.larkplayer video::-webkit-media-controls-panel-container,.larkplayer video::-webkit-media-controls-start-playback-button{display:none !important;-webkit-appearance:none}.larkplayer:focus{outline:0}", ""])
}
, function(t, e, n) {
    t.exports = function(t) {
        var e = [];
        return e.toString = function() {
            return this.map((function(e) {
                var n = function(t, e) {
                    var n, r = t[1] || "", i = t[3];
                    if (!i)
                        return r;
                    if (e && "function" == typeof btoa) {
                        var a = (n = i,
                        "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(n)))) + " */")
                          , o = i.sources.map((function(t) {
                            return "/*# sourceURL=" + i.sourceRoot + t + " */"
                        }
                        ));
                        return [r].concat(o).concat([a]).join("\n")
                    }
                    return [r].join("\n")
                }(e, t);
                return e[2] ? "@media " + e[2] + "{" + n + "}" : n
            }
            )).join("")
        }
        ,
        e.i = function(t, n) {
            "string" == typeof t && (t = [[null, t, ""]]);
            for (var r = {}, i = 0; i < this.length; i++) {
                var a = this[i][0];
                null != a && (r[a] = !0)
            }
            for (i = 0; i < t.length; i++) {
                var o = t[i];
                null != o[0] && r[o[0]] || (n && !o[2] ? o[2] = n : n && (o[2] = "(" + o[2] + ") and (" + n + ")"),
                e.push(o))
            }
        }
        ,
        e
    }
}
, function(t, e, n) {
    t.exports = function(t, e) {
        return "string" != typeof t ? t : (/^['"].*['"]$/.test(t) && (t = t.slice(1, -1)),
        /["'() \t\n]/.test(t) || e ? '"' + t.replace(/"/g, '\\"').replace(/\n/g, "\\n") + '"' : t)
    }
}
, function(t, e, n) {
    t.exports = n.p + "48ef9753439a19410da469abdc7e5244.woff2"
}
, function(t, e, n) {
    t.exports = n.p + "90b03f2b787e6ce43cc6840a5cfb26d2.woff"
}
, function(t, e, n) {
    t.exports = n.p + "ce0c8516206b943e84338bd9a4462d20.ttf"
}
, function(t, e, n) {
    var r, i, a = {}, o = (r = function() {
        return window && document && document.all && !window.atob
    }
    ,
    function() {
        return void 0 === i && (i = r.apply(this, arguments)),
        i
    }
    ), s = function(t, e) {
        return e ? e.querySelector(t) : document.querySelector(t)
    }, u = function(t) {
        var e = {};
        return function(t, n) {
            if ("function" == typeof t)
                return t();
            if (void 0 === e[t]) {
                var r = s.call(this, t, n);
                if (window.HTMLIFrameElement && r instanceof window.HTMLIFrameElement)
                    try {
                        r = r.contentDocument.head
                    } catch (t) {
                        r = null
                    }
                e[t] = r
            }
            return e[t]
        }
    }(), c = null, l = 0, d = [], f = n(232);
    function h(t, e) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n]
              , i = a[r.id];
            if (i) {
                i.refs++;
                for (var o = 0; o < i.parts.length; o++)
                    i.parts[o](r.parts[o]);
                for (; o < r.parts.length; o++)
                    i.parts.push(b(r.parts[o], e))
            } else {
                var s = [];
                for (o = 0; o < r.parts.length; o++)
                    s.push(b(r.parts[o], e));
                a[r.id] = {
                    id: r.id,
                    refs: 1,
                    parts: s
                }
            }
        }
    }
    function p(t, e) {
        for (var n = [], r = {}, i = 0; i < t.length; i++) {
            var a = t[i]
              , o = e.base ? a[0] + e.base : a[0]
              , s = {
                css: a[1],
                media: a[2],
                sourceMap: a[3]
            };
            r[o] ? r[o].parts.push(s) : n.push(r[o] = {
                id: o,
                parts: [s]
            })
        }
        return n
    }
    function v(t, e) {
        var n = u(t.insertInto);
        if (!n)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
        var r = d[d.length - 1];
        if ("top" === t.insertAt)
            r ? r.nextSibling ? n.insertBefore(e, r.nextSibling) : n.appendChild(e) : n.insertBefore(e, n.firstChild),
            d.push(e);
        else if ("bottom" === t.insertAt)
            n.appendChild(e);
        else {
            if ("object" != typeof t.insertAt || !t.insertAt.before)
                throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
            var i = u(t.insertAt.before, n);
            n.insertBefore(e, i)
        }
    }
    function g(t) {
        if (null === t.parentNode)
            return !1;
        t.parentNode.removeChild(t);
        var e = d.indexOf(t);
        e >= 0 && d.splice(e, 1)
    }
    function m(t) {
        var e = document.createElement("style");
        if (void 0 === t.attrs.type && (t.attrs.type = "text/css"),
        void 0 === t.attrs.nonce) {
            var r = n.nc;
            r && (t.attrs.nonce = r)
        }
        return y(e, t.attrs),
        v(t, e),
        e
    }
    function y(t, e) {
        Object.keys(e).forEach((function(n) {
            t.setAttribute(n, e[n])
        }
        ))
    }
    function b(t, e) {
        var n, r, i, a;
        if (e.transform && t.css) {
            if (!(a = "function" == typeof e.transform ? e.transform(t.css) : e.transform.default(t.css)))
                return function() {}
                ;
            t.css = a
        }
        if (e.singleton) {
            var o = l++;
            n = c || (c = m(e)),
            r = k.bind(null, n, o, !1),
            i = k.bind(null, n, o, !0)
        } else
            t.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = function(t) {
                var e = document.createElement("link");
                return void 0 === t.attrs.type && (t.attrs.type = "text/css"),
                t.attrs.rel = "stylesheet",
                y(e, t.attrs),
                v(t, e),
                e
            }(e),
            r = O.bind(null, n, e),
            i = function() {
                g(n),
                n.href && URL.revokeObjectURL(n.href)
            }
            ) : (n = m(e),
            r = _.bind(null, n),
            i = function() {
                g(n)
            }
            );
        return r(t),
        function(e) {
            if (e) {
                if (e.css === t.css && e.media === t.media && e.sourceMap === t.sourceMap)
                    return;
                r(t = e)
            } else
                i()
        }
    }
    t.exports = function(t, e) {
        if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
            throw new Error("The style-loader cannot be used in a non-browser environment");
        (e = e || {}).attrs = "object" == typeof e.attrs ? e.attrs : {},
        e.singleton || "boolean" == typeof e.singleton || (e.singleton = o()),
        e.insertInto || (e.insertInto = "head"),
        e.insertAt || (e.insertAt = "bottom");
        var n = p(t, e);
        return h(n, e),
        function(t) {
            for (var r = [], i = 0; i < n.length; i++) {
                var o = n[i];
                (s = a[o.id]).refs--,
                r.push(s)
            }
            for (t && h(p(t, e), e),
            i = 0; i < r.length; i++) {
                var s;
                if (0 === (s = r[i]).refs) {
                    for (var u = 0; u < s.parts.length; u++)
                        s.parts[u]();
                    delete a[s.id]
                }
            }
        }
    }
    ;
    var w, x = (w = [],
    function(t, e) {
        return w[t] = e,
        w.filter(Boolean).join("\n")
    }
    );
    function k(t, e, n, r) {
        var i = n ? "" : r.css;
        if (t.styleSheet)
            t.styleSheet.cssText = x(e, i);
        else {
            var a = document.createTextNode(i)
              , o = t.childNodes;
            o[e] && t.removeChild(o[e]),
            o.length ? t.insertBefore(a, o[e]) : t.appendChild(a)
        }
    }
    function _(t, e) {
        var n = e.css
          , r = e.media;
        if (r && t.setAttribute("media", r),
        t.styleSheet)
            t.styleSheet.cssText = n;
        else {
            for (; t.firstChild; )
                t.removeChild(t.firstChild);
            t.appendChild(document.createTextNode(n))
        }
    }
    function O(t, e, n) {
        var r = n.css
          , i = n.sourceMap
          , a = void 0 === e.convertToAbsoluteUrls && i;
        (e.convertToAbsoluteUrls || a) && (r = f(r)),
        i && (r += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(i)))) + " */");
        var o = new Blob([r],{
            type: "text/css"
        })
          , s = t.href;
        t.href = URL.createObjectURL(o),
        s && URL.revokeObjectURL(s)
    }
}
, function(t, e) {
    t.exports = function(t) {
        var e = "undefined" != typeof window && window.location;
        if (!e)
            throw new Error("fixUrls requires window.location");
        if (!t || "string" != typeof t)
            return t;
        var n = e.protocol + "//" + e.host
          , r = n + e.pathname.replace(/\/[^\/]*$/, "/");
        return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, (function(t, e) {
            var i, a = e.trim().replace(/^"(.*)"$/, (function(t, e) {
                return e
            }
            )).replace(/^'(.*)'$/, (function(t, e) {
                return e
            }
            ));
            return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a) ? t : (i = 0 === a.indexOf("//") ? a : 0 === a.indexOf("/") ? n + a : r + a.replace(/^\.\//, ""),
            "url(" + JSON.stringify(i) + ")")
        }
        ))
    }
}
, function(t, e, n) {
    var r = n(13);
    t.exports = function(t, e) {
        for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = r(t)); )
            ;
        return t
    }
}
, function(t, e) {}
, function(t, e) {}
, function(t, e, n) {
    n(138)("sub", (function(t) {
        return function() {
            return t(this, "sub", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(85)
      , i = n(90);
    t.exports = function(t) {
        var e = String(i(this))
          , n = ""
          , a = r(t);
        if (a < 0 || a == 1 / 0)
            throw RangeError("Count can't be negative");
        for (; a > 0; (a >>>= 1) && (e += e))
            1 & a && (n += e);
        return n
    }
}
, function(t, e) {}
, function(t, e, n) {
    t.exports = n(75)(60)
}
, function(t, e, n) {
    t.exports = n(75)(61)
}
, function(t, e, n) {
    t.exports = n(75)(64)
}
, function(t, e, n) {
    var r = n(45);
    r(r.S, "Number", {
        MAX_SAFE_INTEGER: 9007199254740991
    })
}
, function(t, e, n) {
    var r = n(45)
      , i = n(66)
      , a = n(144)
      , o = "endsWith"
      , s = "".endsWith;
    r(r.P + r.F * n(145)(o), "String", {
        endsWith: function(t) {
            var e = a(this, t, o)
              , n = arguments.length > 1 ? arguments[1] : void 0
              , r = i(e.length)
              , u = void 0 === n ? r : Math.min(i(n), r)
              , c = String(t);
            return s ? s.call(e, c, u) : e.slice(u - c.length, u) === c
        }
    })
}
, function(t, e) {}
, function(t, e) {}
, function(t, e, n) {
    n(141)("Float32", 4, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e) {}
, function(t, e, n) {
    n.r(e),
    n(35),
    n(18),
    n(39);
    var r = n(14)
      , a = n.n(r)
      , o = (n(67),
    n(25),
    n(20))
      , s = n.n(o)
      , u = (n(63),
    n(189),
    n(29),
    n(30),
    n(55),
    n(1))
      , c = n.n(u)
      , l = n(73)
      , d = n.n(l)
      , f = (n(31),
    n(28),
    n(32),
    n(68),
    n(195),
    n(196),
    n(82),
    n(51),
    n(46),
    n(99),
    n(52),
    n(79),
    n(47),
    n(126),
    n(80),
    n(6))
      , h = n.n(f)
      , p = n(9)
      , v = n.n(p)
      , g = (n(127),
    n(70),
    n(56))
      , m = (n(64),
    n(71),
    [])
      , y = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "get",
            value: function() {
                var t = m.find((function(t) {
                    return t.free
                }
                ));
                if (t)
                    t.pause(),
                    t.free = !1;
                else {
                    (t = document.createElement("audio")).style.display = "none",
                    t.volume = 0,
                    t.free = !1,
                    t.loop = !1,
                    t.muted = !0;
                    var e = t.play();
                    void 0 !== e && e.then((function() {
                        return t.play()
                    }
                    )).catch((function() {}
                    )),
                    m.push(t)
                }
                return t
            }
        }, {
            key: "exist",
            value: function(t) {
                return m.some((function(e) {
                    return e === t
                }
                ))
            }
        }, {
            key: "free",
            value: function(e) {
                if (t.exist(e)) {
                    e.pause(),
                    e.volume = 0,
                    e.muted = !0,
                    e.free = !0,
                    e.loop = !1;
                    var n = m.findIndex((function(t) {
                        return t === e
                    }
                    ));
                    m.splice(n, 1),
                    m.push(e)
                }
            }
        }, {
            key: "fill",
            value: function() {
                var t = function(t) {
                    for (var e = function(t) {
                        var e = document.createElement("audio");
                        e.free = !0,
                        e.loop = !1,
                        e.muted = !0;
                        var n = e.play();
                        void 0 !== n && n.then((function() {
                            return e.play()
                        }
                        )).catch((function() {}
                        )),
                        m.push(e)
                    }, n = 0; n < t; n++)
                        e()
                };
                m.length ? m.reduce((function(t, e) {
                    return t + (e && e.free ? 1 : 0)
                }
                ), 0) < 10 && t(50) : t(100)
            }
        }]),
        t
    }()
      , b = n(4)
      , w = n.n(b)
      , x = n(0)
      , k = n(5)
      , _ = (n(40),
    n(42),
    n(43),
    n(36),
    n(44),
    n(37),
    n(81),
    n(17))
      , O = n.n(_)
      , S = n(23)
      , P = n.n(S)
      , C = n(22)
      , E = n.n(C)
      , j = n(13)
      , A = n.n(j)
      , I = n(87)
      , R = n.n(I)
      , T = n(86);
    function M(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function D(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? M(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : M(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function B(t) {
        var e = U();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function U() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var z = w.a.MediaSourceHandler
      , L = function(t) {
        P()(n, t);
        var e = B(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            i = e.call(this, t, r),
            c()(O()(i), "startLoad", (function() {
                i.isloading || i.hls.startLoad(),
                i.isloading = !0
            }
            )),
            c()(O()(i), "stopLoad", (function() {
                i.hls.stopLoad(),
                i.isloading = !1
            }
            )),
            i.firstFrag = !1,
            i.isloading = !0,
            i.player.isReady = !1,
            i.hls = new R.a(D(D({}, r), {}, {
                maxBufferLength: 60,
                autoStartLoad: !0,
                startPosition: -1,
                xhrSetup: function(t) {
                    var e = (new Date).getTime()
                      , n = !1;
                    t.onload = function() {
                        var r = t.readyState;
                        if (1 === r ? e = (new Date).getTime() : 4 === r && (new Date).getTime() - e < 20 && (n = !0),
                        x.a.upserver && !n) {
                            var i = (t.getResponseHeader("Content-Type") || "").split(";")[0]
                              , a = t.getResponseHeader("Content-Length");
                            a && !t.response.data || (a = t.response.length || 0),
                            Object(T.b)(i, Number(a))
                        }
                    }
                }
            })),
            i.hls.on(R.a.Events.MANIFEST_PARSED, (function(e, n) {
                t.triggerReady()
            }
            )),
            i.hls.on(R.a.Events.FRAG_PARSED, (function() {
                i.firstFrag || (i.firstFrag = !0,
                t.trigger("hlspreload"))
            }
            )),
            i.hls.on(R.a.Events.ERROR, (function(t, e) {
                if (e.fatal)
                    switch (e.type) {
                    case R.a.ErrorTypes.MEDIA_ERROR:
                        i.handleMediaError();
                        break;
                    case R.a.ErrorTypes.NETWORK_ERROR:
                    default:
                        i.hls.destroy()
                    }
            }
            )),
            i
        }
        return v()(n, [{
            key: "src",
            value: function(t) {
                this.player.isReady = !1,
                this.hls.attachMedia(this.player.tech.el),
                this.hls.loadSource(t)
            }
        }, {
            key: "internalPlay",
            value: function() {
                var t = this.player.techGet("play");
                t && t.then && t.then(null, (function(t) {
                    console && console.error && console.error(t)
                }
                ))
            }
        }, {
            key: "play",
            value: function() {
                this.player.isReady ? this.internalPlay() : this.player.ready(this.internalPlay)
            }
        }, {
            key: "handleMediaError",
            value: function() {
                var t = Date.now();
                !this.recoverDecodingErrorDate || t - this.recoverDecodingErrorDate > 3e3 ? (this.recoverDecodingErrorDate = t,
                this.hls.recoverMediaError()) : !this.recoverSwapAudioCodecDate || t - this.recoverSwapAudioCodecDate > 3e3 ? (this.recoverSwapAudioCodecDate = t,
                this.hls.swapAudioCodec(),
                this.hls.recoverMediaError()) : this.hls.destroy()
            }
        }, {
            key: "dispose",
            value: function() {
                this.hls instanceof R.a && (this.hls.destroy(),
                this.hls.bufferTimer && (clearInterval(this.hls.bufferTimer),
                this.hls.bufferTimer = void 0)),
                this.hls = null
            }
        }], [{
            key: "canPlay",
            value: function(t, e) {
                return R.a.isSupported() && (/application\/((x-mpegURL)|(vnd\.apple\.mpegurl))/i.test(e) || /\.m3u8?/i.test(t))
            }
        }]),
        n
    }(z);
    z.register(L, {
        name: "hls"
    }),
    n(224),
    n(58);
    var V = n(41)
      , F = n.n(V)
      , N = {
        LOADSTART: "lark-status-loadstart",
        ENDED: "lark-status-ended",
        PAUSED: "lark-status-paused",
        ERROR: "lark-status-error",
        SEEKING: "lark-status-seeking",
        WAITING: "lark-status-waiting",
        PLAYING: "lark-status-playing",
        ACTIVE: "lark-status-user-active",
        HAS_START: "lark-status-has-start",
        CONTROLS_HIDE: "lark-custom-controls-hide",
        ALL_SCREEN: "lark-all-screen",
        LIVE_PLAY: "lark-live-play"
    }
      , H = {
        CONTROLS_SHOW: "controlsshow",
        CONTROLS_HIDE: "controlshide"
    }
      , W = 3e3
      , G = 16 / 9;
    function q(t) {
        var e = Y();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Y() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Z = b.util.toTitleCase
      , J = b.util.featureDetector
      , K = function(t) {
        P()(n, t);
        var e = q(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleMouseEnter = i.handleMouseEnter.bind(O()(i)),
            i.handleMouseMove = i.handleMouseMove.bind(O()(i)),
            i.handleMouseLeave = i.handleMouseLeave.bind(O()(i)),
            i.handleTouchStart = i.handleTouchStart.bind(O()(i)),
            i.handleTouchEnd = i.handleTouchEnd.bind(O()(i)),
            i.handleFirstplay = i.handleFirstplay.bind(O()(i)),
            i.activeTimeoutHandler = null,
            i.activeTimeout = W,
            i.events = ["loadstart", "loadedmetadata", "canplay", "canplaythrough", "error", "playing", "waiting", "seeking", "seeked", "ended", "play", "pause"],
            i.events.forEach((function(t) {
                var e = "handle".concat(Z(t));
                i[e] = i[e].bind(O()(i)),
                i.player.on(t, i[e])
            }
            )),
            J.touch ? (i.player.on("touchstart", i.handleTouchStart),
            i.player.on("touchend", i.handleTouchEnd)) : (i.player.on("mouseenter", i.handleMouseEnter),
            i.player.on("mousemove", i.handleMouseMove),
            i.player.on("mouseleave", i.handleMouseLeave)),
            i.player.on("firstplay", i.handleFirstplay),
            i.player.addClass(N.PAUSED),
            window.screen.height / window.screen.width > G && i.player.addClass(N.ALL_SCREEN),
            i
        }
        return v()(n, [{
            key: "dispose",
            value: function() {
                var t = this;
                clearTimeout(this.activeTimeoutHandler),
                J.touch ? (this.player.off("touchstart", this.handleTouchStart),
                this.player.off("touchend", this.handleTouchEnd)) : (this.player.off("mouseenter", this.handleMouseEnter),
                this.player.off("mousemove", this.handleMouseMove),
                this.player.off("mouseleave", this.handleMouseLeave)),
                this.events.forEach((function(e) {
                    t.player.off(e, t["handle".concat(Z(e))])
                }
                )),
                this.player.off("firstplay", this.handleFirstplay),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "handleTouchStart",
            value: function(t) {
                this.player.hasClass(N.ACTIVE) && (b.DOM.parent(t.target, "lark-play-button") || b.DOM.parent(t.target, "lark-control-bar")) && clearTimeout(this.activeTimeoutHandler)
            }
        }, {
            key: "handleTouchEnd",
            value: function(t) {
                var e = this;
                clearTimeout(this.activeTimeoutHandler);
                var n = !1;
                (b.DOM.parent(t.target, "lark-play-button") || b.DOM.parent(t.target, "lark-control-bar")) && (n = !0),
                n || this.player.toggleClass(N.ACTIVE),
                this.player.hasClass(N.ACTIVE) && (this.activeTimeoutHandler = setTimeout((function() {
                    e.player.removeClass(N.ACTIVE)
                }
                ), this.activeTimeout))
            }
        }, {
            key: "handleMouseEnter",
            value: function(t) {
                var e = this;
                clearTimeout(this.activeTimeoutHandler),
                this.player.hasClass(N.ACTIVE) || this.player.addClass(N.ACTIVE),
                this.activeTimeoutHandler = setTimeout((function() {
                    e.player.removeClass(N.ACTIVE)
                }
                ), this.activeTimeout)
            }
        }, {
            key: "handleMouseMove",
            value: function(t) {
                this.handleMouseEnter(t)
            }
        }, {
            key: "handleMouseLeave",
            value: function(t) {
                clearTimeout(this.activeTimeoutHandler),
                this.player.removeClass(N.ACTIVE)
            }
        }, {
            key: "handleLoadstart",
            value: function() {
                this.player.addClass(N.LOADSTART)
            }
        }, {
            key: "handleLoadedmetadata",
            value: function() {
                this.player.removeClass(N.LOADSTART),
                isFinite(this.player.duration()) ? this.player.removeClass(n.LIVE_PLAY) : this.player.addClass(N.LIVE_PLAY)
            }
        }, {
            key: "handlePlay",
            value: function() {
                var t = this;
                this.player.removeClass(N.LOADSTART),
                this.player.removeClass(N.SEEKING),
                this.player.removeClass(N.WAITING),
                this.player.removeClass(N.PAUSED),
                this.player.removeClass(N.ENDED),
                this.player.removeClass(N.ERROR),
                this.player.addClass(N.PLAYING),
                clearTimeout(this.activeTimeoutHandler),
                this.player.addClass(N.ACTIVE),
                this.activeTimeoutHandler = setTimeout((function() {
                    t.player.removeClass(N.ACTIVE)
                }
                ), this.activeTimeout)
            }
        }, {
            key: "handleWaiting",
            value: function() {
                this.player.addClass(N.WAITING)
            }
        }, {
            key: "handleCanplay",
            value: function() {
                this.player.removeClass(N.WAITING),
                this.player.removeClass(N.LOADSTART),
                this.player.paused() && (this.player.removeClass(N.PLAYING),
                this.player.addClass(N.PAUSED))
            }
        }, {
            key: "handleCanplaythrough",
            value: function() {
                this.player.removeClass(N.WAITING)
            }
        }, {
            key: "handlePlaying",
            value: function() {
                this.player.removeClass(N.WAITING),
                this.player.removeClass(N.LOADSTART),
                this.player.removeClass(N.SEEKING),
                this.player.removeClass(N.PAUSED),
                this.player.removeClass(N.ERROR),
                this.player.removeClass(N.ENDED)
            }
        }, {
            key: "handleSeeking",
            value: function() {
                this.player.addClass(N.SEEKING)
            }
        }, {
            key: "handleSeeked",
            value: function() {
                this.player.removeClass(N.SEEKING),
                this.player.removeClass(N.WAITING),
                this.player.removeClass(N.LOADSTART)
            }
        }, {
            key: "handleFirstplay",
            value: function() {
                var t = this;
                this.player.addClass(N.HAS_START),
                clearTimeout(this.activeTimeoutHandler),
                this.player.addClass(N.ACTIVE),
                this.activeTimeoutHandler = setTimeout((function() {
                    t.player.removeClass(N.ACTIVE)
                }
                ), this.activeTimeout)
            }
        }, {
            key: "handlePause",
            value: function() {
                this.player.removeClass(N.PLAYING),
                this.player.addClass(N.PAUSED)
            }
        }, {
            key: "handleEnded",
            value: function() {
                this.player.removeClass(N.PLAYING),
                this.player.removeClass(N.ERROR),
                this.player.addClass(N.ENDED)
            }
        }, {
            key: "handleError",
            value: function() {
                this.player.removeClass(N.PLAYING),
                this.player.removeClass(N.ENDED),
                this.player.removeClass(N.PAUSED),
                this.player.removeClass(N.LOADSTART),
                this.player.removeClass(N.SEEKING),
                this.player.removeClass(N.WAITING),
                this.player.addClass(N.ERROR)
            }
        }]),
        n
    }(b.Plugin);
    function $(t) {
        var e = X();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function X() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Q = function(t) {
        P()(n, t);
        var e = $(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).controls = i.controls.bind(O()(i)),
            i.player.tech.el.removeAttribute("controls"),
            i.player.controls = i.controls,
            i
        }
        return v()(n, [{
            key: "controls",
            value: function(t) {
                return void 0 !== t && (t ? this.player.removeClass(N.CONTROLS_HIDE) : this.player.addClass(N.CONTROLS_HIDE)),
                !this.player.hasClass(N.CONTROLS_HIDE)
            }
        }]),
        n
    }(b.Plugin);
    function tt(t) {
        var e = et();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function et() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    n(101),
    n(102);
    var nt = b.util.toTitleCase
      , rt = b.util.featureDetector
      , it = b.util.includes
      , at = function(t) {
        P()(n, t);
        var e = tt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleAllEvents("on"),
            i
        }
        return v()(n, [{
            key: "handleAllEvents",
            value: function(t) {
                var e = this
                  , n = ["touchstart", "touchend"]
                  , r = ["mouseenter", "mousemove", "mouseleave"];
                ["play", "pause", "ended"].concat(n, r).forEach((function(i) {
                    var a = "handle".concat(nt(i));
                    e[a] = e[a].bind(e),
                    it(n, i) ? rt.touch && e.player[t](i, e[a]) : it(r, i) && rt.touch || e.player[t](i, e[a])
                }
                ))
            }
        }, {
            key: "dispose",
            value: function() {
                clearTimeout(this.timeoutHandler),
                this.handleAllEvents("off"),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "setTimeoutTriggerControlsHide",
            value: function() {
                var t = this;
                this.timeoutHandler = setTimeout((function() {
                    t.player.trigger(H.CONTROLS_HIDE)
                }
                ), W)
            }
        }, {
            key: "handlePlay",
            value: function() {
                clearTimeout(this.timeoutHandler),
                this.player.trigger(H.CONTROLS_SHOW),
                this.setTimeoutTriggerControlsHide()
            }
        }, {
            key: "handleTouchstart",
            value: function() {
                clearTimeout(this.timeoutHandler)
            }
        }, {
            key: "handleTouchend",
            value: function() {
                clearTimeout(this.timeoutHandler),
                this.player.hasClass(N.ACTIVE) ? (this.player.trigger(H.CONTROLS_SHOW),
                this.setTimeoutTriggerControlsHide()) : this.player.paused() || this.player.trigger(H.CONTROLS_HIDE)
            }
        }, {
            key: "handleMouseenter",
            value: function() {
                clearTimeout(this.timeoutHandler),
                this.player.trigger(H.CONTROLS_SHOW),
                this.setTimeoutTriggerControlsHide()
            }
        }, {
            key: "handleMousemove",
            value: function() {
                this.handleMouseenter()
            }
        }, {
            key: "handleMouseleave",
            value: function() {
                clearTimeout(this.timeoutHandler),
                this.player.paused() || this.player.trigger(H.CONTROLS_HIDE)
            }
        }, {
            key: "handlePause",
            value: function() {
                clearTimeout(this.timeoutHandler),
                this.player.trigger(H.CONTROLS_SHOW)
            }
        }, {
            key: "handleEnded",
            value: function() {
                clearTimeout(this.timeoutHandler),
                this.player.trigger(H.CONTROLS_SHOW)
            }
        }]),
        n
    }(b.Plugin)
      , ot = n(38)
      , st = n.n(ot);
    function ut(t) {
        return (t = "" + t).length < 2 && (t = "0" + t),
        t
    }
    function ct(t) {
        if (t = parseInt(t, 10),
        isNaN(t))
            return "- -";
        var e = Math.floor(t / 3600)
          , n = t % 60
          , r = [ut(Math.floor((t - 3600 * e) / 60)), ut(n)];
        return e > 0 && r.unshift(ut(e)),
        r.join(":")
    }
    function lt(t) {
        var e = dt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function dt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var ft = function(t) {
        P()(n, t);
        var e = lt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleTimeupdate = i.handleTimeupdate.bind(O()(i)),
            i.player.on("timeupdate", i.handleTimeupdate),
            i
        }
        return v()(n, [{
            key: "handleTimeupdate",
            value: function(t) {
                this.render(this.player.currentTime())
            }
        }, {
            key: "render",
            value: function(t) {
                b.DOM.textContent(this.el, ct(Math.floor(t)))
            }
        }, {
            key: "reset",
            value: function() {
                this.render(0)
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("timeupdate", this.handleTimeupdate),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                var t = this.player.currentTime();
                return b.Component.createElement("div", {
                    className: st()("lark-current-time", this.options.className)
                }, ct(Math.floor(t)))
            }
        }]),
        n
    }(b.Component);
    function ht(t) {
        var e = pt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function pt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var vt = function(t) {
        P()(n, t);
        var e = ht(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleLoadedMetaData = i.handleLoadedMetaData.bind(O()(i)),
            i.player.on("durationchange", i.handleLoadedMetaData),
            i.player.on("loadedmetadata", i.handleLoadedMetaData),
            i
        }
        return v()(n, [{
            key: "handleLoadedMetaData",
            value: function(t) {
                b.DOM.textContent(this.el, ct(Math.floor(this.player.duration())))
            }
        }, {
            key: "reset",
            value: function() {
                b.DOM.textContent(this.el, "")
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("durationchange", this.handleLoadedMetaData),
                this.player.off("loadedmetadata", this.handleLoadedMetaData),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                var t = ct(Math.floor(this.player.duration()));
                return b.Component.createElement("div", {
                    className: st()("lark-duration", this.options.className)
                }, t)
            }
        }]),
        n
    }(b.Component)
      , gt = {
        id: "lark-tooltip",
        el: null,
        timeoutHandler: null,
        initial: function(t) {
            if (b.DOM.isEl(t)) {
                var e = b.DOM.createElement("div", {
                    className: this.id
                });
                b.DOM.appendContent(t, e),
                this.el = e,
                this.container = t
            }
        },
        normalize: function(t) {
            return Object.assign({
                timeout: 0,
                content: "",
                top: 0,
                left: 0,
                margin: 0,
                hostEl: null,
                placement: "top",
                isFollowMouse: !1,
                event: null
            }, t)
        },
        getCoordinate: function(t) {
            var e;
            switch (t.placement) {
            case "top":
                var n, r = b.DOM.getBoundingClientRect(t.hostEl), i = b.DOM.getBoundingClientRect(this.container);
                if (t.isFollowMouse) {
                    var a = b.DOM.getPointerPosition(t.hostEl, t.event);
                    n = r.left - i.left + r.width * a.x - this.el.offsetWidth / 2
                } else
                    n = r.left - i.left + (r.width - this.el.offsetWidth) / 2;
                var o = n + this.el.offsetWidth - this.container.offsetWidth;
                o > 0 && (n -= o),
                e = {
                    left: n,
                    top: r.top - i.top - this.el.offsetHeight - t.margin
                }
            }
            return e
        },
        show: function(t) {
            var e = this;
            if (clearTimeout(this.timeoutHandler),
            t = this.normalize(t),
            b.DOM.isEl(t.hostEl)) {
                var n = b.DOM.parent(t.hostEl, "larkplayer")
                  , r = b.DOM.$(".lark-tooltip", n);
                r ? (this.el = r,
                this.container = n) : this.initial(n),
                b.DOM.replaceContent(this.el, t.content),
                setTimeout((function() {
                    e.el.style.visibility = "hidden",
                    e.el.style.display = "block";
                    var n = e.getCoordinate(t);
                    e.el.style.top = n.top + "px",
                    e.el.style.left = Math.max(n.left, 0) + "px",
                    e.el.style.visibility = "visible"
                }
                ), 0)
            }
        },
        hide: function() {
            var t = this;
            this.el && (this.timeoutHandler = setTimeout((function() {
                t.el.style.display = "none"
            }
            )))
        }
    };
    function mt(t) {
        var e = yt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function yt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var bt = b.util.featureDetector
      , wt = function(t) {
        P()(n, t);
        var e = mt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            i = e.call(this, t, r),
            c()(O()(i), "fullScreenError", (function() {
                i.player.removeClass("lark-fullscreen-adjust")
            }
            )),
            i.isFullScreenError = !1,
            i.handleClick = i.handleClick.bind(O()(i)),
            i.handleMouseOver = i.handleMouseOver.bind(O()(i)),
            i.handleMouseOut = i.handleMouseOut.bind(O()(i)),
            i.on("click", i.handleClick),
            document.addEventListener("webkitfullscreenerror", i.fullScreenError, !1),
            document.addEventListener("mozfullscreenerror", i.fullScreenError, !1),
            document.addEventListener("MSFullscreenError", i.fullScreenError, !1),
            document.addEventListener("fullscreenerror", i.fullScreenError, !1),
            bt.touch || (i.fullscreenButton = b.DOM.$(".lark-request-fullscreen", i.el),
            i.exitFullscreenButton = b.DOM.$(".lark-exit-fullscreen", i.el),
            b.Events.on(i.fullscreenButton, "mouseover", i.handleMouseOver),
            b.Events.on(i.exitFullscreenButton, "mouseover", i.handleMouseOver),
            i.on("mouseout", i.handleMouseOut)),
            i
        }
        return v()(n, [{
            key: "handleClick",
            value: function() {
                var t = this;
                setTimeout((function() {
                    t.isFullScreenError || (t.player.isFullscreen() ? t.player.exitFullscreen() : t.player.requestFullscreen())
                }
                ), 500),
                gt.hide()
            }
        }, {
            key: "handleMouseOver",
            value: function(t) {
                gt.show({
                    hostEl: t.target,
                    placement: "top",
                    margin: 16,
                    content: t.target.title
                })
            }
        }, {
            key: "handleMouseOut",
            value: function(t) {
                gt.hide()
            }
        }, {
            key: "dispose",
            value: function() {
                this.off("click", this.handleClick),
                bt.touch || (b.Events.off(this.fullscreenButton, "mouseover", this.handleMouseOver),
                b.Events.off(this.exitFullscreenButton, "mouseover", this.handleMouseOver),
                this.fullscreenButton = null,
                this.exitFullscreenButton = null,
                this.off("mouseout", this.handleMouseOut)),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-fullscreen-button", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-request-fullscreen",
                    title: "全屏"
                }), b.Component.createElement("div", {
                    className: "lark-exit-fullscreen",
                    title: "退出全屏"
                }))
            }
        }]),
        n
    }(b.Component);
    function xt(t) {
        var e = kt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function kt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var _t = "lark-volume-mobile--muted"
      , Ot = "lark-volume-mobile--normal"
      , St = function(t) {
        P()(n, t);
        var e = xt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleClick = i.handleClick.bind(O()(i)),
            i.handleVolumeChange = i.handleVolumeChange.bind(O()(i)),
            i.on("click", i.handleClick),
            i.player.on("volumechange", i.handleVolumeChange),
            i.player.on("ready", i.handleVolumeChange),
            i
        }
        return v()(n, [{
            key: "handleVolumeChange",
            value: function() {
                b.DOM.removeClass(this.el, _t),
                b.DOM.removeClass(this.el, Ot);
                var t = this.player.muted() ? _t : Ot;
                b.DOM.addClass(this.el, t)
            }
        }, {
            key: "handleClick",
            value: function() {
                var t = this.player.muted();
                this.player.muted(!t)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: "lark-volume-mobile"
                })
            }
        }]),
        n
    }(b.Component);
    function Pt(t) {
        var e = Ct();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Ct() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Et = function(t) {
        P()(n, t);
        var e = Pt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleClick = i.handleClick.bind(O()(i)),
            i.handleSlideStart = i.handleSlideStart.bind(O()(i)),
            i.handleSlideMove = i.handleSlideMove.bind(O()(i)),
            i.handleSlideEnd = i.handleSlideEnd.bind(O()(i)),
            i.onClick = i.onClick.bind(O()(i)),
            i.onSlideStart = i.onSlideStart.bind(O()(i)),
            i.onSlideMove = i.onSlideMove.bind(O()(i)),
            i.onSlideEnd = i.onSlideEnd.bind(O()(i)),
            i
        }
        return v()(n, [{
            key: "onClick",
            value: function(t) {}
        }, {
            key: "onSlideStart",
            value: function(t) {}
        }, {
            key: "onSlideMove",
            value: function(t) {}
        }, {
            key: "onSlideEnd",
            value: function(t) {}
        }, {
            key: "handleClick",
            value: function(t) {
                this.onClick(t)
            }
        }, {
            key: "handleSlideStart",
            value: function(t) {
                this.onSlideStart(t),
                b.DOM.addClass(this.el, "lark-sliding"),
                b.Events.on(document, "touchmove", this.handleSlideMove),
                b.Events.on(document, "touchend", this.handleSlideEnd),
                b.Events.on(document, "mousemove", this.handleSlideMove),
                b.Events.on(document, "mouseup", this.handleSlideEnd)
            }
        }, {
            key: "handleSlideMove",
            value: function(t) {
                this.onSlideMove(t)
            }
        }, {
            key: "handleSlideEnd",
            value: function(t) {
                this.onSlideEnd(t),
                b.DOM.removeClass(this.el, "lark-sliding"),
                b.Events.off(document, "touchmove", this.handleSlideMove),
                b.Events.off(document, "touchend", this.handleSlideEnd),
                b.Events.off(document, "mousemove", this.handleSlideMove),
                b.Events.off(document, "mouseup", this.handleSlideEnd)
            }
        }]),
        n
    }(b.Component);
    function jt(t) {
        var e = At();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function At() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var It = function(t) {
        P()(n, t);
        var e = jt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).line = b.DOM.$(".lark-buffer-bar__line", i.el),
            i.handleProgress = i.handleProgress.bind(O()(i)),
            i.player.on("progress", i.handleProgress),
            i.player.on("canplay", i.handleProgress),
            i.handleProgress(),
            i
        }
        return v()(n, [{
            key: "handleProgress",
            value: function() {
                var t = this.player.buffered()
                  , e = this.player.duration()
                  , n = this.player.currentTime();
                if (e > 0)
                    for (var r = 0; r < t.length; r++)
                        if (t.start(r) <= n && t.end(r) >= n) {
                            var i = t.end(r) / e * 100 + "%";
                            this.render(i);
                            break
                        }
            }
        }, {
            key: "render",
            value: function(t) {
                this.line.style.width = t
            }
        }, {
            key: "reset",
            value: function() {
                this.render(0)
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("progress", this.handleProgress),
                this.player.off("canplay", this.handleProgress),
                this.line = null,
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-buffer-bar", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-buffer-bar__line"
                }))
            }
        }]),
        n
    }(b.Component);
    function Rt(t) {
        var e = Tt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Tt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Mt = function(t) {
        P()(n, t);
        var e = Rt(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-progress-bar-except-fill", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-progress-bar__background"
                }), b.Component.createElement("div", {
                    className: "lark-progress-bar__line"
                }, b.Component.createElement("div", {
                    className: "lark-progress-bar__line__handle"
                }, b.Component.createElement("div", {
                    className: "lark-progress-bar__line__handle-except-fill"
                }))), b.Component.createElement(It, null))
            }
        }]),
        n
    }(b.Component);
    function Dt(t) {
        var e = Bt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Bt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Ut = b.util.featureDetector
      , zt = function(t) {
        P()(n, t);
        var e = Dt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleTimeUpdate = i.handleTimeUpdate.bind(O()(i)),
            i.onClick = i.onClick.bind(O()(i)),
            i.onSlideStart = i.onSlideStart.bind(O()(i)),
            i.onSlideMove = i.onSlideMove.bind(O()(i)),
            i.onSlideEnd = i.onSlideEnd.bind(O()(i)),
            i.update = i.update.bind(O()(i)),
            i.reset = i.reset.bind(O()(i)),
            i.handleMouseOver = i.handleMouseOver.bind(O()(i)),
            i.handleMouseMove = i.handleMouseMove.bind(O()(i)),
            i.handleMouseOut = i.handleMouseOut.bind(O()(i)),
            i.line = b.DOM.$(".lark-progress-bar__line", i.el),
            i.lineHandle = b.DOM.$(".lark-progress-bar__line__handle", i.el),
            i.hoverLight = b.DOM.$(".lark-progress-bar-hover-light", i.el),
            i.paddingEl = b.DOM.$(".lark-progress-bar-padding", i.el),
            i.player.on("timeupdate", i.handleTimeUpdate),
            i.on("click", i.handleClick),
            i.on("touchstart", i.handleSlideStart),
            i.player.on("ready", (function() {
                i.currentTimeEl = b.DOM.$(".lark-current-time", i.player.el)
            }
            )),
            Ut.touch || (i.on("mousedown", i.handleSlideStart),
            i.on("mouseover", i.handleMouseOver),
            i.on("mousemove", i.handleMouseMove),
            i.on("mouseout", i.handleMouseOut)),
            i
        }
        return v()(n, [{
            key: "handleTimeUpdate",
            value: function() {
                var t = 0
                  , e = this.player.duration()
                  , n = this.player.currentTime();
                e && n && (t = n / e * 100 + "%"),
                this.line.style.width = t
            }
        }, {
            key: "onClick",
            value: function(t) {
                this.update(t)
            }
        }, {
            key: "onSlideStart",
            value: function(t) {
                t.preventDefault(),
                this.originalPaused = this.player.paused(),
                this.player.pause()
            }
        }, {
            key: "onSlideMove",
            value: function(t) {
                t.preventDefault(),
                this.player.paused() || this.player.pause(),
                this.update(t)
            }
        }, {
            key: "onSlideEnd",
            value: function(t) {
                var e = this
                  , n = b.DOM.getPointerPosition(this.el, t)
                  , r = this.player.duration() * n.x;
                this.player.currentTime(r);
                var i = !this.originalPaused && void 0 !== this.originalPaused
                  , a = Math.ceil(this.player.currentTime()) >= this.player.duration();
                this.player.paused() && i && !a && setTimeout((function() {
                    e.player.play()
                }
                ), 0)
            }
        }, {
            key: "update",
            value: function(t) {
                var e = b.DOM.getPointerPosition(this.el, t)
                  , n = 100 * e.x + "%"
                  , r = this.player.duration() * e.x;
                this.line.style.width = n,
                this.currentTimeEl && b.DOM.textContent(this.currentTimeEl, ct(Math.floor(r)))
            }
        }, {
            key: "reset",
            value: function() {
                this.line.style.width = 0,
                this.children.forEach((function(t) {
                    t && t.reset && t.reset()
                }
                ))
            }
        }, {
            key: "showToolTip",
            value: function(t) {
                var e = this.player.duration();
                if (e) {
                    var n = b.DOM.getPointerPosition(this.el, t)
                      , r = parseInt(e * n.x, 10);
                    isNaN(r) || gt.show({
                        hostEl: this.el,
                        margin: 13,
                        placement: "top",
                        isFollowMouse: !0,
                        event: t,
                        content: ct(Math.floor(r))
                    })
                }
            }
        }, {
            key: "showHoverLine",
            value: function(t) {
                var e = b.DOM.getPointerPosition(this.el, t)
                  , n = this.el.offsetWidth * e.x;
                this.hoverLight.style.width = n + "px"
            }
        }, {
            key: "hideHoverLine",
            value: function(t) {
                this.hoverLight.style.width = 0
            }
        }, {
            key: "handleMouseOver",
            value: function(t) {
                this.showToolTip(t),
                this.showHoverLine(t)
            }
        }, {
            key: "handleMouseMove",
            value: function(t) {
                this.showToolTip(t),
                this.showHoverLine(t)
            }
        }, {
            key: "handleMouseOut",
            value: function(t) {
                gt.hide(),
                this.hideHoverLine(t)
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("timeupdate", this.handleTimeUpdate),
                this.off("click", this.handleClick),
                this.off("touchstart", this.handleSlideStart),
                Ut.touch || (this.off("mousedown", this.handleSlideStart),
                this.off("mouseover", this.handleMouseOver),
                this.off("mousemove", this.handleMouseMove),
                this.off("mouseout", this.handleMouseOut)),
                this.line = null,
                this.lineHandle = null,
                this.hoverLight = null,
                this.paddingEl = null,
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-progress-bar", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-progress-bar-padding"
                }), b.Component.createElement("div", {
                    className: "lark-progress-bar-hover-light"
                }), b.Component.createElement(Mt, null))
            }
        }]),
        n
    }(Et);
    function Lt(t) {
        var e = Vt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Vt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Ft = {
        div: "playbackrate-list-div--mobile",
        txt: "selectd-playbackrate-text--mobile",
        list: "playbackrate-list--mobile"
    }
      , Nt = {
        div: "playbackrate-list-div",
        txt: "selectd-playbackrate-text",
        list: "playbackrate-list"
    }
      , Ht = b.util.featureDetector
      , Wt = Nt
      , Gt = navigator
      , qt = Gt.userAgent
      , Yt = function() {
        if ("pc" == x.a.client)
            return !0;
        var t = qt.toUpperCase();
        return t.indexOf("THEWORLD") > -1 || t.indexOf("VIVO Y51A") > -1
    }
      , Zt = function(t) {
        P()(n, t);
        var e = Lt(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            i = e.call(this, t, r),
            c()(O()(i), "handleSetPlayBackRate", (function() {
                var t = (i.player.playbackRateList || []).map((function(t) {
                    var e = t == i.player.curPlaybackRate;
                    return b.Component.createElement("li", {
                        id: t,
                        className: st()("select-playbackrate-item", e ? "cur" : "")
                    }, "".concat(t, "X"))
                }
                ));
                0 === b.DOM.$(".".concat(Wt.list)).children.length && (t.forEach((function(t) {
                    b.DOM.prependTo(t, b.DOM.$(".".concat(Wt.list), i.el)),
                    b.DOM.$(".select-playbackrate-item", i.el).addEventListener("click", i.onSelected)
                }
                )),
                b.DOM.$(".".concat(Wt.txt), i.el).addEventListener("click", i.onListClick),
                i.player.el.addEventListener("click", (function(t) {
                    Ht.touch && t.target.className !== Wt.txt && i.hideList()
                }
                )))
            }
            )),
            c()(O()(i), "hideList", (function() {
                var t = document.getElementById("playbackrate".concat(Wt.list));
                t && (t.style.display = "none"),
                i.isShowList = !1
            }
            )),
            c()(O()(i), "showList", (function() {
                var t = document.getElementById("playbackrate".concat(Wt.list));
                t && (t.style.display = "block"),
                i.isShowList = !0
            }
            )),
            c()(O()(i), "reset", (function() {
                b.DOM.textContent(b.DOM.$(".".concat(Wt.txt), i.el), "".concat(i.player.curPlaybackRate, "X")),
                i.changeSelected(),
                Ht.touch && i.hideList()
            }
            )),
            c()(O()(i), "handleReplay", (function() {
                i.reset()
            }
            )),
            c()(O()(i), "changeSelected", (function() {
                var t = b.DOM.$(".".concat(Wt.list), i.el).children
                  , e = t.length
                  , n = 0;
                for (n = 0; n < e; n++) {
                    var r = t[n];
                    b.DOM.removeClass(r, "cur"),
                    String(i.player.curPlaybackRate) === String(r.id) && b.DOM.addClass(r, "cur")
                }
            }
            )),
            c()(O()(i), "onSelected", (function(t) {
                i.player.curPlaybackRate = t.target.id,
                i.changeSelected(),
                Ht.touch && i.hideList(),
                b.DOM.textContent(b.DOM.$(".".concat(Wt.txt), i.el), "".concat(i.player.curPlaybackRate, "X")),
                i.player.changePlayBackRate && i.player.changePlayBackRate()
            }
            )),
            c()(O()(i), "onListClick", (function() {
                Ht.touch && (i.isShowList ? i.hideList() : i.showList())
            }
            )),
            c()(O()(i), "removeEvents", (function() {
                i.player.off("playStart", i.handleSetPlayBackRate),
                i.player.off("replay", i.handleReplay)
            }
            )),
            i.player.on("playStart", i.handleSetPlayBackRate),
            i.player.on("replay", i.handleReplay),
            i.player.on("updateplaybackrate", (function() {
                return i.reset()
            }
            )),
            i.isShowList = !1,
            i
        }
        return v()(n, [{
            key: "dispose",
            value: function() {
                this.removeEvents(),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return Wt = Ht.touch ? Ft : Nt,
                b.Component.createElement("div", {
                    className: st()(Wt.div, Yt() ? "playbackrate-list-div--only" : "")
                }, b.Component.createElement("div", {
                    className: Wt.txt
                }, "1X"), b.Component.createElement("ul", {
                    id: "playbackrate".concat(Wt.list),
                    className: Wt.list
                }))
            }
        }]),
        n
    }(b.Component);
    function Jt(t) {
        var e = Kt();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Kt() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var $t = navigator
      , Xt = $t.userAgent
      , Qt = function() {
        var t = Xt.toUpperCase();
        return t.indexOf("THEWORLD") > -1 || t.indexOf("VIVO Y51A") > -1
    }
      , te = function() {
        return Xt.toUpperCase().indexOf("MI 5S") > -1
    }
      , ee = function(t) {
        P()(n, t);
        var e = Jt(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "reset",
            value: function() {
                this.children.forEach((function(t) {
                    t && t.reset && t.reset()
                }
                ))
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-control-bar", this.options.className)
                }, b.Component.createElement(St, null), b.Component.createElement(ft, null), b.Component.createElement(zt, null), b.Component.createElement(vt, null), !Qt() && !te() && b.Component.createElement(Zt, null), !Qt() && b.Component.createElement(wt, null))
            }
        }]),
        n
    }(b.Component);
    function ne(t) {
        var e = re();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function re() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var ie = function(t) {
        P()(n, t);
        var e = ne(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleTimeUpdate = i.handleTimeUpdate.bind(O()(i)),
            i.line = b.DOM.$(".lark-progress-bar__line", i.el),
            t.on("timeupdate", i.handleTimeUpdate),
            i
        }
        return v()(n, [{
            key: "handleTimeUpdate",
            value: function() {
                var t = 0
                  , e = this.player.duration()
                  , n = this.player.currentTime();
                e && n && (t = 100 * (t = Math.round(n / e * 100) / 100) + "%"),
                this.line.style.width = t
            }
        }, {
            key: "reset",
            value: function() {
                this.line.style.width = 0,
                this.children.forEach((function(t) {
                    t && t.reset && t.reset()
                }
                ))
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("timeupdate", this.handleTimeUpdate),
                this.line = null,
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-progress-bar--simple", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-progress-bar__background"
                }), b.Component.createElement("div", {
                    className: "lark-progress-bar__line"
                }), b.Component.createElement(It, null))
            }
        }]),
        n
    }(b.Component);
    function ae(t) {
        var e = oe();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function oe() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var se = function(t) {
        P()(n, t);
        var e = ae(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-loading", "lark-loading--mobile", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-loading-cnt"
                }, b.Component.createElement("span", {
                    className: "lark-loading-cnt__spinner lark-icon-loading"
                }), b.Component.createElement("span", {
                    className: "lark-loading-cnt__text"
                }, "正在加载")))
            }
        }]),
        n
    }(b.Component);
    function ue(t) {
        var e = ce();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function ce() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var le = b.util.featureDetector
      , de = function(t) {
        P()(n, t);
        var e = ue(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).togglePlay = i.togglePlay.bind(O()(i)),
            i.playBtn = b.DOM.$(".lark-play-button__play", i.el),
            i.pauseBtn = b.DOM.$(".lark-play-button__pause", i.el),
            b.Events.on(i.playBtn, "click", i.togglePlay),
            b.Events.on(i.pauseBtn, "click", i.togglePlay),
            i
        }
        return v()(n, [{
            key: "togglePlay",
            value: function(t, e) {
                this.player.paused() ? this.player.play() : this.player.pause()
            }
        }, {
            key: "dispose",
            value: function() {
                b.Events.off(this.playBtn, "click", this.togglePlay),
                b.Events.off(this.pauseBtn, "click", this.togglePlay),
                this.playBtn = null,
                this.pauseBtn = null,
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                var t = le.touch ? {
                    container: "lark-play-button--mobile",
                    btnPlay: "lark-play-button__play",
                    btnPause: "lark-play-button__pause"
                } : {
                    container: "lark-play-button-pc",
                    btnPlay: "lark-icon-play lark-play-button__play",
                    btnPause: "lark-icon-pause lark-play-button__pause"
                };
                return b.Component.createElement("div", {
                    className: st()("lark-play-button", t.container)
                }, b.Component.createElement("div", {
                    className: t.btnPlay,
                    title: "播放"
                }), b.Component.createElement("div", {
                    className: t.btnPause,
                    title: "暂停"
                }))
            }
        }]),
        n
    }(b.Component);
    function fe(t) {
        var e = he();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function he() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var pe = function(t) {
        P()(n, t);
        var e = fe(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-not-support-notice", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-not-support-notice__text"
                }, "您的浏览器不支持 html5 视频播放，请升级浏览器版本或更换为 chrome 浏览器"))
            }
        }]),
        n
    }(b.Component);
    function ve(t) {
        var e = ge();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function ge() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var me = function(t) {
        P()(n, t);
        var e = ve(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleError = i.handleError.bind(O()(i)),
            i.handleClick = i.handleClick.bind(O()(i)),
            i.textEl = b.DOM.$(".lark-error-cnt__text", i.el),
            i.player.on("error", i.handleError),
            i.on("click", i.handleClick),
            i
        }
        return v()(n, [{
            key: "handleError",
            value: function(t) {
                console.log(t, t.detail);
                var e, n = this.player.tech.el.error, r = "加载失败，点击重试";
                switch (parseInt(n.code, 10)) {
                case 1:
                    e = "".concat(r, "(ERR_ABORTED)");
                    break;
                case 2:
                    e = "".concat(r, "(ERR_NETWORK)");
                    break;
                case 3:
                    e = "".concat(r, "(ERR_DECODE)");
                    break;
                case 4:
                    e = "".concat(r, "(ERR_SRC)");
                    break;
                default:
                    e = r
                }
                b.DOM.replaceContent(this.textEl, e)
            }
        }, {
            key: "handleClick",
            value: function() {
                var t = this
                  , e = this.player.src();
                this.player.reset(),
                setTimeout((function() {
                    t.player.src(e),
                    t.player.play()
                }
                ), 0)
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("error", this.handleError),
                this.off("click", this.handleClick),
                this.textEl = null,
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-error", "lark-error--mobile", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-error-cnt"
                }, b.Component.createElement("span", {
                    className: "lark-error-cnt__spinner lark-icon-loading"
                }), b.Component.createElement("span", {
                    className: "lark-error-cnt__text"
                }, "加载失败，点击重试")))
            }
        }]),
        n
    }(b.Component);
    function ye(t) {
        var e = be();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function be() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var we = function(t) {
        P()(n, t);
        var e = ye(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-custom-controls", "lark-custom-controls--mobile", this.options.className)
                }, b.Component.createElement(ee, null), b.Component.createElement(de, null), b.Component.createElement(se, null), b.Component.createElement(me, null), b.Component.createElement(ie, null), b.Component.createElement(pe, null))
            }
        }]),
        n
    }(b.Component);
    function xe(t) {
        var e = ke();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function ke() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var _e = function(t) {
        P()(n, t);
        var e = xe(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-gradient-bottom", this.options.className)
                })
            }
        }]),
        n
    }(b.Component);
    function Oe(t) {
        var e = Se();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Se() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Pe = function(t) {
        P()(n, t);
        var e = Oe(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            i = e.call(this, t, r),
            c()(O()(i), "resize", (function() {
                setTimeout((function() {
                    !isNaN(i.player.el.clientWidth) && i.player.el.clientWidth > 0 && (i.player.el.clientWidth < 380 ? (b.DOM.addClass(b.DOM.$(".lark-volume", i.player.el), "lark-volume-hidden"),
                    b.DOM.addClass(b.DOM.$(".lark-volume-line", i.player.el), "lark-volume-line-hidden"),
                    i.minWidth = !0) : (i.minWidth && (b.DOM.removeClass(b.DOM.$(".lark-volume", i.player.el), "lark-volume-hidden"),
                    b.DOM.removeClass(b.DOM.$(".lark-volume-line", i.player.el), "lark-volume-line-hidden")),
                    i.minWidth = !1))
                }
                ), 200)
            }
            )),
            i.volumeRecord = {
                last: 1,
                current: i.player.volume()
            },
            i.onSlideStart = i.onSlideStart.bind(O()(i)),
            i.onSlideMove = i.onSlideMove.bind(O()(i)),
            i.onSlideEnd = i.onSlideEnd.bind(O()(i)),
            i.onClick = i.onClick.bind(O()(i)),
            i.update = i.update.bind(O()(i)),
            i.iconClick = i.iconClick.bind(O()(i)),
            i.handleIconMouseOver = i.handleIconMouseOver.bind(O()(i)),
            i.handleIconMouseOut = i.handleIconMouseOut.bind(O()(i)),
            i.switchStatus = i.switchStatus.bind(O()(i)),
            i.clearStatus = i.clearStatus.bind(O()(i)),
            i.handleVolumeChange = i.handleVolumeChange.bind(O()(i)),
            i.minWidth = !1,
            i.line = b.DOM.$(".lark-volume-line__line", i.el),
            i.ball = b.DOM.$(".lark-volume-line__ball", i.el),
            i.icon = b.DOM.$(".lark-volume-pc", i.el),
            b.Events.on(i.icon, "click", i.iconClick),
            b.Events.on(i.icon, "mouseover", i.handleIconMouseOver),
            b.Events.on(i.icon, "mouseout", i.handleIconMouseOut),
            b.Events.on(i.line, "click", i.handleClick),
            b.Events.on(i.ball, "mousedown", i.handleSlideStart),
            b.Events.on(i.ball, "touchstart", i.handleSlideStart),
            i.player.on("volumechange", i.handleVolumeChange),
            i.player.on("play", i.handleVolumeChange),
            window.addEventListener("resize", i.resize),
            i
        }
        return v()(n, [{
            key: "onSlideStart",
            value: function(t) {
                this.isSliding = !0
            }
        }, {
            key: "onSlideMove",
            value: function(t) {
                t.preventDefault();
                var e = b.DOM.getPointerPosition(this.line, t);
                this.player.volume(e.x),
                0 !== this.player.volume() && this.player.muted(!1)
            }
        }, {
            key: "onSlideEnd",
            value: function(t) {
                this.isSliding = !1,
                this.updateVolumeRecord()
            }
        }, {
            key: "updateVolumeRecord",
            value: function() {
                this.volumeRecord = {
                    last: this.volumeRecord.current,
                    current: this.player.volume()
                }
            }
        }, {
            key: "handleVolumeChange",
            value: function() {
                this.resize(),
                this.player.muted() ? this.update(0) : this.update(this.player.volume()),
                this.isSliding || this.updateVolumeRecord()
            }
        }, {
            key: "onClick",
            value: function(t) {
                var e = b.DOM.getPointerPosition(this.line, t);
                this.player.volume(e.x),
                0 !== this.player.volume() && this.player.muted(!1)
            }
        }, {
            key: "update",
            value: function(t) {
                var e = this.line.offsetWidth;
                this.ball.style.left = t * e + "px",
                this.switchStatus(t)
            }
        }, {
            key: "iconClick",
            value: function(t) {
                this.player.volume() && !this.player.muted() ? this.player.volume(0) : (this.player.volume(this.volumeRecord.last || 1),
                this.player.muted(!1)),
                this.showTooltip()
            }
        }, {
            key: "showTooltip",
            value: function() {
                gt.show({
                    hostEl: this.icon,
                    margin: 16,
                    content: this.player.volume() && !this.player.muted() ? "静音" : "取消静音"
                })
            }
        }, {
            key: "handleIconMouseOver",
            value: function() {
                this.showTooltip()
            }
        }, {
            key: "handleIconMouseOut",
            value: function(t) {
                gt.hide()
            }
        }, {
            key: "switchStatus",
            value: function(t) {
                var e;
                this.clearStatus(),
                0 === t ? e = "muted" : t <= .6 && t > 0 ? e = "small" : t > .6 && (e = "large"),
                b.DOM.addClass(this.icon, "lark-volume-pc--".concat(e))
            }
        }, {
            key: "clearStatus",
            value: function() {
                var t = this;
                ["lark-volume-pc--muted", "lark-volume-pc--small", "lark-volume-pc--large"].forEach((function(e) {
                    b.DOM.removeClass(t.icon, e)
                }
                ))
            }
        }, {
            key: "dispose",
            value: function() {
                b.Events.off(this.icon, "click", this.iconClick),
                b.Events.off(this.icon, "mouseover", this.handleIconMouseOver),
                b.Events.off(this.icon, "mouseout", this.handleIconMouseOut),
                b.Events.off(this.line, "click", this.handleClick),
                b.Events.off(this.ball, "mousedown", this.handleSlideStart),
                b.Events.off(this.ball, "touchstart", this.handleSlideStart),
                window.removeEventListener("resize", this.resize),
                this.icon = null,
                this.line = null,
                this.ball = null,
                this.player.off("volumechange", this.handleVolumeChange),
                this.player.off("play", this.handleVolumeChange),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-volume", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-volume-pc lark-volume-pc--large"
                }), b.Component.createElement("div", {
                    className: "lark-volume-line"
                }, b.Component.createElement("div", {
                    className: "lark-volume-line__line"
                }, b.Component.createElement("div", {
                    className: "lark-volume-line__line-padding"
                })), b.Component.createElement("div", {
                    className: "lark-volume-line__ball"
                })))
            }
        }]),
        n
    }(Et);
    function Ce(t) {
        var e = Ee();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Ee() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var je = navigator
      , Ae = je.userAgent
      , Ie = function() {
        var t = x.a.client
          , e = Ae.toUpperCase();
        return "pc" == t || e.indexOf("THEWORLD") > -1
    }
      , Re = function(t) {
        P()(n, t);
        var e = Ce(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "reset",
            value: function() {
                this.children.forEach((function(t) {
                    t && t.reset && t.reset()
                }
                ))
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-control-bar-pc", this.options.className)
                }, b.Component.createElement(_e, null), b.Component.createElement(zt, {
                    className: "lark-progress-bar-pc"
                }), b.Component.createElement("div", {
                    className: "lark-control__left"
                }, b.Component.createElement(de, {
                    className: "lark-play-button-pc"
                }), b.Component.createElement(Pe, null), b.Component.createElement("div", {
                    className: "lark-time"
                }, b.Component.createElement(ft, null), b.Component.createElement("span", {
                    className: "lark-time-separator"
                }, "/"), b.Component.createElement(vt, null))), b.Component.createElement("div", {
                    className: "lark-control__right"
                }, b.Component.createElement(Zt, null), !Ie() && b.Component.createElement(wt, null)))
            }
        }]),
        n
    }(b.Component);
    function Te(t) {
        var e = Me();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Me() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var De = function(t) {
        P()(n, t);
        var e = Te(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleClick = i.handleClick.bind(O()(i)),
            i.on("click", i.handleClick),
            i
        }
        return v()(n, [{
            key: "handleClick",
            value: function() {
                this.player.play()
            }
        }, {
            key: "dispose",
            value: function() {
                this.off("click", this.handleClick),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-complete", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-complete__replay lark-icon-replay"
                }))
            }
        }]),
        n
    }(b.Component);
    function Be(t) {
        var e = Ue();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Ue() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var ze = function(t) {
        P()(n, t);
        var e = Be(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-loading", "lark-loading--pc", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-loading-spinner"
                }))
            }
        }]),
        n
    }(b.Component);
    function Le(t) {
        var e = Ve();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Ve() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Fe = function(t) {
        P()(n, t);
        var e = Le(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).handleError = i.handleError.bind(O()(i)),
            i.handleClick = i.handleClick.bind(O()(i)),
            i.player.on("error", i.handleError),
            i.on("click", i.handleClick),
            i.textEl = b.DOM.$(".lark-error-text", i.el),
            i
        }
        return v()(n, [{
            key: "handleClick",
            value: function() {
                var t = this
                  , e = this.player.src();
                this.player.reset(),
                setTimeout((function() {
                    t.player.src(e),
                    t.player.play()
                }
                ), 0)
            }
        }, {
            key: "handleError",
            value: function(t) {
                var e, n = this.player.tech.el.error;
                switch (parseInt(n.code, 10)) {
                case 1:
                    e = "加载失败，点击重试(MEDIA_ERR_ABORTED)";
                    break;
                case 2:
                    e = "加载失败，请检查您的网络(MEDIA_ERR_NETWORK)";
                    break;
                case 3:
                    e = "视频解码失败(MEDIA_ERR_DECODE)";
                    break;
                case 4:
                    e = "加载失败，该资源无法访问或者浏览器不支持该视频类型(MEDIA_ERR_SRC_NOT_SUPPORTED)";
                    break;
                default:
                    e = "加载失败，点击重试"
                }
                b.DOM.replaceContent(this.textEl, e)
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("error", this.handleError),
                this.off("click", this.handleClick),
                this.textEl = null,
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-error", "lark-error--pc", this.options.className)
                }, b.Component.createElement("div", {
                    className: "lark-error-cnt"
                }, b.Component.createElement("div", {
                    className: "lark-error-text"
                }, "加载失败，请稍后重试")))
            }
        }]),
        n
    }(b.Component);
    function Ne(t) {
        var e = He();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function He() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var We = function(t) {
        P()(n, t);
        var e = Ne(n);
        function n() {
            return h()(this, n),
            e.apply(this, arguments)
        }
        return v()(n, [{
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: st()("lark-custom-controls", "lark-custom-controls--pc", this.options.className)
                }, b.Component.createElement(Re, null), b.Component.createElement(ze, null), b.Component.createElement(Fe, null), b.Component.createElement(De, null), b.Component.createElement(pe, null))
            }
        }]),
        n
    }(b.Component);
    function Ge(t) {
        var e = qe();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function qe() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Ye = function(t) {
        P()(n, t);
        var e = Ge(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t, r)).reset = i.reset.bind(O()(i)),
            i.player.reset = i.reset,
            i
        }
        return v()(n, [{
            key: "reset",
            value: function() {
                this.resetBufferBar(),
                this.resetCurrentTime(),
                this.resetDuration(),
                this.resetProgressBar(),
                this.resetProgressBarSimple()
            }
        }, {
            key: "resetBufferBar",
            value: function() {
                var t = b.DOM.$(".lark-buffer-bar__line", this.player.el);
                t && (t.style.width = 0)
            }
        }, {
            key: "resetCurrentTime",
            value: function() {
                var t = b.DOM.$(".lark-current-time", this.player.el);
                t && b.DOM.textContent(t, ct(0))
            }
        }, {
            key: "resetDuration",
            value: function() {
                var t = b.DOM.$(".lark-duration", this.player.el);
                t && b.DOM.textContent(t, "")
            }
        }, {
            key: "resetProgressBar",
            value: function() {
                var t = b.DOM.$(".lark-progress-bar .lark-progress-bar__line", this.player.el);
                t && (t.style.width = 0)
            }
        }, {
            key: "resetProgressBarSimple",
            value: function() {
                var t = b.DOM.$(".lark-progress-bar--simple .lark-progress-bar__line", this.player.el);
                t && (t.style.width = 0)
            }
        }]),
        n
    }(b.Plugin)
      , Ze = function() {
        b.Plugin.register(K, {
            name: "classNameManager"
        }),
        b.Plugin.register(Q, {
            name: "controlsProxy"
        }),
        b.Plugin.register(at, {
            name: "controlsEvent"
        }),
        b.Plugin.register(Ye, {
            name: "resetApi"
        }),
        b.util.featureDetector.touch ? b.Component.register(we, {
            name: "controlsMobile"
        }) : b.Component.register(We, {
            name: "controlsPc"
        })
    };
    function Je(t) {
        var e = Ke();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Ke() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    n(234);
    var $e = function(t) {
        P()(n, t);
        var e = Je(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            i = e.call(this, t, r),
            c()(O()(i), "render", (function() {
                i.skip ? i.show() : i.hide()
            }
            )),
            i.aniClass = "larkplayer-play-skip-shrink",
            i.skip = !1,
            i.handleClick = i.handleClick.bind(O()(i)),
            i.handleReady = i.handleReady.bind(O()(i)),
            i.initialEvents(),
            i
        }
        return v()(n, [{
            key: "initialEvents",
            value: function() {
                this.player.on("playStart", this.handleReady),
                this.on("click", this.handleClick)
            }
        }, {
            key: "handleClick",
            value: function() {
                this.player.skipCall && this.player.skipCall()
            }
        }, {
            key: "handleReady",
            value: function() {
                this.player.skip ? this.show() : this.hide()
            }
        }, {
            key: "hide",
            value: function() {
                b.DOM.removeClass(this.el, this.aniClass)
            }
        }, {
            key: "resetAni",
            value: function() {
                b.DOM.removeClass(this.el, this.aniClass),
                b.DOM.addClass(this.el, this.aniClass)
            }
        }, {
            key: "show",
            value: function() {
                b.DOM.addClass(this.el, this.aniClass)
            }
        }, {
            key: "dispose",
            value: function() {
                this.player.off("playStart", this.handleReady),
                this.off("click", this.handleClick),
                F()(A()(n.prototype), "dispose", this).call(this)
            }
        }, {
            key: "createEl",
            value: function() {
                return b.Component.createElement("div", {
                    className: "larkplayer-play-skip-shrink",
                    title: "skip"
                }, b.Component.createElement("span", null, "跳过>"))
            }
        }]),
        n
    }(b.Component);
    b.Component.register($e, {
        name: "skip"
    });
    var Xe = n(15)
      , Qe = n(34)
      , tn = n(48)
      , en = n(19)
      , nn = n(8)
      , rn = n(7)
      , an = n(24)
      , on = (n(143),
    {
        webHost: "//www.3000.com",
        wapHost: "//wap.3000.com",
        gameDataHost: "//mapi.3000api.com",
        payHost: "//pay.3000.com",
        myHost: "//my.3000.com",
        appHost: "//app.3000.com",
        loginHost: "//ptlogin.3000.com",
        resourcesAssetsHost1: "//synpic.3000test.com",
        resourcesAssetsHost2: "//apppic.3000test.com",
        resourcesAssetsHost3: "//apppic2.3000test.com"
    })
      , sn = n(21)
      , un = n(12)
      , cn = ["apppic.3000test.com", "synpic.3000test.com"]
      , ln = "apppic2.3000test.com"
      , dn = {
        index: 0,
        count: 0
    };
    function fn(t) {
        if (t.includes(cn[0])) {
            dn.count >= 4 ? (dn.index = (dn.index + 1) % cn.length,
            dn.count = 1) : dn.count++;
            var e = t.indexOf("coverran") > -1;
            t = t.replace(cn[0], cn[e ? 0 : dn.index])
        }
        return t
    }
    function hn(t) {
        return t.replace(cn[0], ln).replace(cn[1], ln)
    }
    function pn(t) {
        if (!t)
            return "";
        var e = x.a.offline
          , n = x.a.gid
          , r = x.a.quality
          , i = x.a.client
          , a = x.a.online
          , o = sn.a.isSupportWebp
          , s = on.resourcesAssetsHost1
          , u = on.resourcesAssetsHost2;
        if ("http://f1.img4399.com/ma~217_20160518155234_573c1f42bb260.jpeg" === t)
            return "".concat(u, "/m~web/41/2017/02/08/09_j1sGyq.960x540.jpg");
        t.search(/(apppic|synpic).3000test.com/i) > -1 && (t = t.slice(t.toLowerCase().lastIndexOf(".com") + 4));
        var c = function(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "?";
            return null !== t.match("[".concat(e, "]"))
        }
          , l = t.indexOf("coverran") > -1
          , d = t.indexOf("listvalues") > -1
          , f = /(\.mp4$|\.m3u8$)/.test(t)
          , h = /(\.mp3$)/.test(t)
          , p = /(\.gif$|weather)/.test(t);
        if (d && (t = t.replace("listvalues", "")),
        l || e && d)
            return 0 === t.search(/file:\/\//) && (t = t.replace(/file:\/\//, "https://")),
            d && (t = "https:".concat(u).concat(t)),
            t;
        var v, g = "pc" === i && !p && !f && "" !== r;
        if ("/" === (t += (v = "",
        !o || e || null === t.match(/group/) || p || f || h ? g && ("medium" === r ? v = "~q".concat(h ? 32 : 60) : "super" === r && (v = "~q100")) : v = "~webp",
        v))[0] && (t = t.substring(1)),
        !/blob:/i.test(t)) {
            var m, y = d ? "ran=".concat(Object(un.u)(), "}") : "", b = t.indexOf("://"), w = "".concat(a && !f ? s : u, "/");
            if (b > -1) {
                var k = t.split("/");
                k.shift(),
                k.shift(),
                k.shift(),
                m = f ? "".concat(w).concat(k.join("/")) : "".concat(w).concat(k.join("/")).concat(d ? c(t) ? "&" : "?" : "").concat(y)
            } else
                m = f ? "".concat(w).concat(t) : "".concat(w).concat(t).concat(d ? c(t) ? "&" : "?" : "").concat(y);
            return e && (m.indexOf("?") > -1 && (m = m.substr(0, m.indexOf("?"))),
            m = "game".concat(n, "/").concat(m.replace(w, ""))),
            m
        }
        return t
    }
    x.a.online && (cn[0] = cn[1]);
    var vn = n(11)
      , gn = n(2);
    function mn(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function yn(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? mn(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : mn(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var bn = {
        resumeAudio: null,
        pauseAudio: null,
        unlockChapter: null,
        mallPay: null,
        showSave: null,
        audioCanPlay: null,
        audioError: null,
        shanyiMenuBack: null,
        shanyiMenuExit: null,
        login: null,
        logout: null,
        restart: null,
        showGameNotice: null,
        updatevolume: null,
        setAttribute: null,
        unlockpayrecord: null,
        playadBack: null,
        rechargeback: null,
        review: null,
        finishedPreferential: null,
        shareback: null,
        showLoad: null,
        showPlayback: null,
        showSettings: null,
        gamePause: null,
        covercallback: null,
        watchAdCallback: null,
        goHomeIndex: null,
        postMessageIframe: null
    }
      , wn = Object(k.c)(x.a.app_version, "1.15.1") < 0 && "ios" === x.a.client && x.a.offline
      , xn = []
      , kn = null
      , _n = function(t, e) {
        bn[t] && ("finishedPreferential" === t && xn.push(e.uuid ? e.uuid : e),
        bn[t](e))
    }
      , On = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "isAppClient",
            value: function() {
                var t = x.a.client;
                if (x.a.offlinetest)
                    return !0;
                if ("android" === t) {
                    if (window.app && window.app.unlock)
                        return !0
                } else if ("ios" === t && (wn || window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.unlock))
                    return !0;
                return !1
            }
        }, {
            key: "init",
            value: function() {
                var e = x.a.app_version
                  , n = x.a.client
                  , r = x.a.single;
                x.a.useExternalAudioLoader = "ios" === n && (Object(k.c)(e, "1.5.0") || r) >= 0,
                x.a.useExternalAudioLoader || (t.loadAudio = !1,
                t.playAudio = null,
                t.stopAudio = null,
                t.removeAudio = null,
                t.setAudioVolume = null)
            }
        }, {
            key: "isFinishedPreferentialChapter",
            value: function(t) {
                return xn.some((function(e) {
                    return e === t
                }
                ))
            }
        }, {
            key: "removeFinishedPreferentialChapter",
            value: function(t) {
                var e = xn.findIndex((function(e) {
                    return e === t
                }
                ));
                ~e && xn.splice(e, 1)
            }
        }, {
            key: "unlockChapter",
            value: function(e) {
                var n = Object(vn.c)()
                  , r = function() {
                    return Promise.reject("ExternalShanyiApi unlockChapter is error")
                }
                  , i = x.a.gid
                  , a = x.a.client
                  , o = x.a.uuid
                  , s = x.a.app_version
                  , u = x.a.isWapOther
                  , c = x.a.wap;
                if (Object(k.c)(s, "1.2.0") < 0 && t.isAppClient())
                    return t.unlockChapter = function() {
                        return Xe.a.info("该章节为付费章节，当前版本过低，不支持该功能").catch((function() {}
                        ))
                    }
                    ,
                    t.unlockChapter(e);
                if (u) {
                    if ("mk" == c) {
                        var l = e = yn(yn({}, e), {}, {
                            manga_args: x.a.mk_manga_args
                        })
                          , d = l.product_name
                          , f = l.amount;
                        t.unlockChapter = function(t) {
                            return Qe.d.mkPayPopup("付费章节购买", d, f, "symkunlockpay").then((function() {
                                return Qe.d.mkPay(t, 2)
                            }
                            ), r)
                        }
                    }
                    return t.unlockChapter(e)
                }
                return t.unlockChapter = "ios" === a ? wn ? function(e) {
                    return unlock ? new Promise((function(n) {
                        var r = e.charge
                          , a = e.uuid
                          , o = e.md5
                          , s = e.discounts
                          , u = e.uid;
                        t.setCallback("unlockChapter", n),
                        unlock(JSON.stringify({
                            gid: i,
                            uuid: a,
                            charge: r,
                            md5: o,
                            special_price: s,
                            uid: u
                        }))
                    }
                    )) : r
                }
                : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.unlock ? function(e) {
                    return new Promise((function(n) {
                        var r = e.charge
                          , a = e.uuid
                          , o = e.md5
                          , s = e.discounts
                          , u = e.uid;
                        t.setCallback("unlockChapter", n),
                        window.webkit.messageHandlers.unlock.postMessage(JSON.stringify({
                            gid: i,
                            uuid: a,
                            charge: r,
                            md5: o,
                            special_price: s,
                            uid: u
                        }))
                    }
                    ))
                }
                : r : "android" === a ? window.app && window.app.unlock ? function(e) {
                    return new Promise((function(n) {
                        var r = e.charge
                          , a = e.uuid
                          , o = e.md5
                          , u = e.discounts
                          , c = e.uid;
                        t.setCallback("unlockChapter", n),
                        Object(k.c)(s, "2.0.0") < 0 ? window.app.unlock(i, a, r, o) : window.app.unlock(JSON.stringify({
                            gid: i,
                            uuid: a,
                            charge: r,
                            md5: o,
                            special_price: u,
                            uid: c
                        }))
                    }
                    ))
                }
                : r : "wap" === a ? window.parent && window.parent.get_account_info ? function(e) {
                    return new Promise((function(r) {
                        var a = e.charge
                          , s = e.uuid
                          , u = e.md5
                          , c = e.discounts
                          , l = e.uid;
                        t.setCallback("unlockChapter", (function(t) {
                            n.gameResumed(),
                            r(t)
                        }
                        )),
                        window.parent.get_account_info(JSON.stringify({
                            gid: i,
                            md5: u,
                            charge: a,
                            uuid: o,
                            special_price: c,
                            chapter_uuid: s,
                            author_id: l,
                            consume_falg: "chapter"
                        }))
                    }
                    ))
                }
                : r : "pc" === a && window.parent && window.parent.playUnlockChapter ? function(e) {
                    return new Promise((function(r, i) {
                        try {
                            t.setCallback("unlockChapter", (function(t) {
                                n.gameResumed(),
                                r(t)
                            }
                            ));
                            var a = e.uuid
                              , s = e.charge
                              , u = e.charge_app
                              , c = e.charge_pc
                              , l = e.chaptername
                              , d = e.time
                              , f = e.token
                              , h = e.starToken
                              , p = e.uid
                              , v = {
                                game_uuid: o,
                                chapter_uuid: a,
                                chapter_name: l,
                                chapter_charge: s,
                                chapter_charge_pc: c,
                                chapter_charge_app: u,
                                time: d,
                                token: f,
                                star_token: h,
                                callbackname: "unlockChapterFinished",
                                playversion: tn.a,
                                uid: p
                            };
                            window.parent.playUnlockChapter(JSON.stringify(v))
                        } catch (t) {
                            i()
                        }
                    }
                    ))
                }
                : r,
                t.unlockChapter(e)
            }
        }, {
            key: "pay",
            value: function(e) {
                var n = x.a.client
                  , r = x.a.uuid
                  , i = x.a.app_version
                  , a = x.a.wap
                  , o = x.a.isWapOther
                  , s = Object(vn.c)()
                  , u = function() {
                    return Promise.resolve(-1)
                };
                if (Object(k.c)(i, "1.2.0") < 0 && ("ios" === n || "android" === n) && !o)
                    return Xe.a.info("版本过低不支该改功能，请先更新版本~").then((function() {
                        return -1
                    }
                    ), (function() {
                        return -1
                    }
                    ));
                if (o) {
                    switch (a) {
                    case "qh":
                        t[gn.w] = function(t) {
                            var e = t.charge
                              , n = t.commodid
                              , r = t.order
                              , i = t.type
                              , a = t.context;
                            return Qe.e.qhpay(e, n, r, "", a, i, tn.a).then((function() {
                                return !0
                            }
                            ), (function(t) {
                                return Promise.resolve(t)
                            }
                            ))
                        }
                        ;
                        break;
                    case "mk":
                        t[gn.w] = function(t) {
                            var e = t = yn(yn({}, t), {}, {
                                manga_args: x.a.mk_manga_args,
                                player_version: tn.a
                            })
                              , n = e.product_name
                              , r = e.amount;
                            return Qe.d.mkPayPopup("商品购买", n, r, "symkpay").then((function() {
                                return Qe.d.mkPay(t, 1)
                            }
                            ), u)
                        }
                    }
                    return t[gn.w](e)
                }
                return t[gn.w] = "ios" === n ? wn ? worksmall ? function(e) {
                    return new Promise((function(n) {
                        try {
                            t.setCallback("mallPay", n),
                            worksmall(JSON.stringify(yn(yn({}, e), {}, {
                                player_version: tn.a
                            })))
                        } catch (t) {
                            n(-1)
                        }
                    }
                    ))
                }
                : u : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.worksmall ? function(e) {
                    return new Promise((function(n) {
                        try {
                            t.setCallback("mallPay", n),
                            window.webkit.messageHandlers.worksmall.postMessage(JSON.stringify(yn(yn({}, e), {}, {
                                player_version: tn.a
                            })))
                        } catch (t) {
                            n(-1)
                        }
                    }
                    ))
                }
                : u : "android" === n ? window.app && window.app.worksmall ? function(e) {
                    return new Promise((function(n) {
                        try {
                            t.setCallback("mallPay", n),
                            window.app.worksmall(JSON.stringify(yn(yn({}, e), {}, {
                                player_version: tn.a
                            })))
                        } catch (t) {
                            n(-1)
                        }
                    }
                    ))
                }
                : u : "wap" === n ? "wx" === a ? function() {
                    return Qe.h.openWxPage(),
                    Promise.resolve(-1)
                }
                : window.parent && window.parent.get_account_info ? function(e) {
                    return new Promise((function(n) {
                        try {
                            t.setCallback("mallPay", (function(t) {
                                s.gameResumed(),
                                n(t)
                            }
                            )),
                            window.parent.get_account_info(JSON.stringify(yn(yn({}, e), {}, {
                                uuid: r,
                                consume_falg: "mall",
                                player_version: tn.a
                            })))
                        } catch (t) {
                            n(-1)
                        }
                    }
                    ))
                }
                : u : "pc" === n && window.parent && window.parent.playShopPay ? function(e) {
                    return new Promise((function(n) {
                        try {
                            t.setCallback("mallPay", (function(t) {
                                s.gameResumed(),
                                n(t)
                            }
                            ));
                            var r = e.uuid
                              , i = e.eid
                              , a = e.charge
                              , o = e.charge_pc
                              , u = e.charge_app
                              , c = e.time
                              , l = e.token
                              , d = e.name
                              , f = e.starToken
                              , h = e.indentId
                              , p = e.isPackPay
                              , v = e.uid
                              , g = e.buy_type
                              , m = {
                                game_uuid: r,
                                product_id: i,
                                product_name: d,
                                product_charge: a,
                                product_charge_pc: o,
                                product_charge_app: u,
                                order_num: h,
                                time: c,
                                token: l,
                                star_token: f,
                                payvalue: e[Object(rn.e)(3)],
                                callbackname: "mallPay",
                                playversion: tn.a,
                                isPackPay: p,
                                uid: v,
                                buy_type: g
                            };
                            window.parent.playShopPay(JSON.stringify(m))
                        } catch (t) {
                            n(-1)
                        }
                    }
                    ))
                }
                : u,
                t[gn.w](e)
            }
        }, {
            key: "notifyGameStarted",
            value: function() {
                var e = function() {}
                  , n = x.a.client
                  , r = x.a.app_version
                  , i = x.a.wap;
                x.a.single || Object(k.c)(r, "1.3.0") < 0 && t.isAppClient() ? t.notifyGameStarted = e : "ios" === n ? wn ? gameStart && gameStart("1") : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.gameStart && window.webkit.messageHandlers.gameStart.postMessage("1") : "android" === n ? window.app && window.app.gameStart && window.app.gameStart("1") : "pc" === n ? window.parent && window.parent.clickFlash && window.parent.clickFlash() : (!i || i && "3000" === i) && kn && kn(),
                t.notifyGameStarted = e
            }
        }, {
            key: "localStorageSetItem",
            value: function(e, n) {
                var r = function(t, e) {
                    if (window.localStorage)
                        try {
                            window.localStorage.setItem(t, e)
                        } catch (t) {
                            Xe.a.warn("你的浏览器存储容量可能已达到上限，请适当的清理存储空间~").catch((function() {}
                            ))
                        }
                    else
                        Xe.a.warn("您的浏览器暂不支持localStorage数据存储，请更换浏览器重试！").catch((function() {}
                        ))
                }
                  , i = x.a.client
                  , a = x.a.app_version
                  , o = x.a.wap
                  , s = x.a.mk_ios_cache;
                if (Object(k.c)(a, "1.2.0") < 0 && t.isAppClient())
                    t.localStorageSetItem = r;
                else if ("ios" === i)
                    t.localStorageSetItem = wn ? localStorage_setItem ? function(t, e) {
                        return localStorage_setItem(JSON.stringify({
                            key: t,
                            value: e
                        }))
                    }
                    : r : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.localStorage_setItem ? function(t, e) {
                        window.webkit.messageHandlers.localStorage_setItem.postMessage(JSON.stringify({
                            key: t,
                            value: e
                        })),
                        Object(k.c)(a, "1.15.1") < 0 && window.localStorage.setItem(t, e)
                    }
                    : r;
                else if ("android" === i)
                    o && "mk" == o && s && Object(nn.j)() ? t.localStorageSetItem = window.prompt ? function(t, e) {
                        return window.prompt("MGSYCacheOperationSet-".concat(t), e)
                    }
                    : r : t.localStorageSetItem = window.app && window.app.localStorage_setItem ? function(t, e) {
                        return window.app.localStorage_setItem(t, e)
                    }
                    : r;
                else if ("wap" === i && "wx" === o)
                    try {
                        t.localStorageSetItem = function(t, e) {
                            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1
                              , r = new Date(1e3 * (an.a.getCurDate + 24 * n * 60 * 60));
                            document.cookie = "".concat(t, "=").concat(escape(e), ";expires=").concat(r.toGMTString())
                        }
                    } catch (e) {
                        t.localStorageSetItem = r
                    }
                else
                    t.localStorageSetItem = r;
                return t.localStorageSetItem(e, n)
            }
        }, {
            key: "localStorageGetItem",
            value: function(e) {
                var n = function(t) {
                    return window.localStorage ? window.localStorage.getItem(t) || null : (Xe.a.warn("您的浏览器暂不支持localStorage数据存储，请更换浏览器重试！").catch((function() {}
                    )),
                    null)
                }
                  , r = x.a.client
                  , i = x.a.app_version
                  , a = x.a.wap
                  , o = x.a.mk_ios_cache;
                return Object(k.c)(i, "1.2.0") < 0 && t.isAppClient() ? t.localStorageGetItem = n : "ios" === r ? wn ? t.localStorageGetItem = localStorage_getItem ? function(t) {
                    return localStorage_getItem(t) || null
                }
                : n : Object(k.c)(i, "1.15.1") < 0 ? t.localStorageGetItem = n : t.localStorageGetItem = function(e) {
                    var n = {
                        function: "localStorage_getItem",
                        params: {
                            key: e
                        }
                    };
                    return t.callAppFuncionByIOS(n)
                }
                : "android" === r ? a && "mk" == a && o && Object(nn.j)() ? t.localStorageGetItem = window.prompt ? function(t) {
                    var e = window.prompt("MGSYCacheOperationGet-".concat(t));
                    return e && "MGSYCacheResultSuccess-MGSYCacheNull" === e || null === e ? null : "MGSYCacheResultSuccess-" === e.substr(0, 23) ? e.substr(23) : null
                }
                : n : t.localStorageGetItem = window.app && window.app.localStorage_getItem ? function(t) {
                    return window.app.localStorage_getItem(t) || null
                }
                : n : t.localStorageGetItem = "wap" === r && "wx" === a ? function(t) {
                    try {
                        var e = new RegExp("(^| )" + t + "=([^;]*)(;|$)")
                          , n = document.cookie.match(e);
                        return n ? unescape(n[2]) : ""
                    } catch (t) {
                        return ""
                    }
                }
                : n,
                t.localStorageGetItem(e)
            }
        }, {
            key: "localStorageRemoveItem",
            value: function(e) {
                var n = function(t) {
                    if (window.localStorage)
                        try {
                            window.localStorage.removeItem(t)
                        } catch (t) {
                            Xe.a.warn("localStorage.removeItem " + t).catch((function() {}
                            ))
                        }
                    else
                        Xe.a.warn("您的浏览器暂不支持localStorage数据存储，请更换浏览器重试！").catch((function() {}
                        ))
                }
                  , r = x.a.client
                  , i = x.a.app_version
                  , a = x.a.wap
                  , o = x.a.mk_ios_cache;
                if (Object(k.c)(i, "1.2.0") < 0 && t.isAppClient())
                    t.localStorageRemoveItem = n;
                else if ("ios" === r)
                    t.localStorageRemoveItem = wn ? removeLocalStorage ? function(t) {
                        return removeLocalStorage(t)
                    }
                    : n : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.removeLocalStorage ? function(t) {
                        window.webkit.messageHandlers.removeLocalStorage.postMessage(t),
                        Object(k.c)(i, "1.15.1") < 0 && window.localStorage && window.localStorage.removeItem(t)
                    }
                    : n;
                else if ("android" === r)
                    a && "mk" == a && o && Object(nn.j)() ? t.localStorageRemoveItem = window.prompt ? function(t) {
                        return window.prompt("MGSYCacheOperationRemove-".concat(t))
                    }
                    : n : t.localStorageRemoveItem = window.app && window.app.removeLocalStorage ? function(t) {
                        return window.app.removeLocalStorage(t)
                    }
                    : n;
                else if ("wap" === r && "wx" === a)
                    try {
                        t.localStorageRemoveItem = function(e) {
                            t.localStorageSetItem(e, "")
                        }
                    } catch (e) {
                        t.localStorageRemoveItem = n
                    }
                else
                    t.localStorageRemoveItem = n;
                return t.localStorageRemoveItem(e)
            }
        }, {
            key: "setCallback",
            value: function(t, e) {
                void 0 !== bn[t] ? "function" == typeof e ? bn[t] = e : console.warn("callback not function") : console.warn("callback key is error")
            }
        }, {
            key: "loadAudio",
            value: function(e) {
                var n = null
                  , r = x.a.client
                  , i = x.a.app_version;
                return Object(k.c)(i, "1.5.0") < 0 || "ios" !== r ? t.loadAudio = n : t.loadAudio = wn ? loadAudioUrl ? function(t) {
                    return loadAudioUrl(JSON.stringify(t))
                }
                : n : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.loadAudioUrl ? function(t) {
                    return window.webkit.messageHandlers.loadAudioUrl.postMessage(JSON.stringify(t))
                }
                : n,
                t.loadAudio && t.loadAudio(e)
            }
        }, {
            key: "playAudio",
            value: function(e) {
                var n = null
                  , r = x.a.client
                  , i = x.a.app_version;
                return Object(k.c)(i, "1.5.0") < 0 || "ios" !== r ? t.playAudio = n : t.playAudio = wn ? playAudioUrl ? function(t) {
                    return playAudioUrl(JSON.stringify(t))
                }
                : n : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.playAudioUrl ? function(t) {
                    return window.webkit.messageHandlers.playAudioUrl.postMessage(JSON.stringify(t))
                }
                : n,
                t.playAudio && t.playAudio(e)
            }
        }, {
            key: "stopAudio",
            value: function(e) {
                var n = null
                  , r = x.a.client
                  , i = x.a.app_version;
                return Object(k.c)(i, "1.5.0") < 0 || "ios" !== r ? t.playAudio = n : t.stopAudio = wn ? stopAudioUrl ? function(t) {
                    return stopAudioUrl(JSON.stringify(t))
                }
                : n : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.stopAudioUrl ? function(t) {
                    return window.webkit.messageHandlers.stopAudioUrl.postMessage(JSON.stringify(t))
                }
                : n,
                t.stopAudio && t.stopAudio(e)
            }
        }, {
            key: "setAudioVolume",
            value: function(e) {
                var n = null
                  , r = x.a.client
                  , i = x.a.app_version;
                return Object(k.c)(i, "1.5.0") < 0 || "ios" !== r ? t.setAudioVolume = n : t.setAudioVolume = wn ? setAudioUrlVolume ? function(t) {
                    return setAudioUrlVolume(JSON.stringify(t))
                }
                : n : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.setAudioUrlVolume ? function(t) {
                    return window.webkit.messageHandlers.setAudioUrlVolume.postMessage(JSON.stringify(t))
                }
                : n,
                t.setAudioVolume && t.setAudioVolume(e)
            }
        }, {
            key: "removeAudio",
            value: function(e) {
                var n = null
                  , r = x.a.client
                  , i = x.a.app_version;
                return Object(k.c)(i, "1.5.0") < 0 || "ios" !== r ? t.removeAudio = n : t.removeAudio = wn ? removeAudioUrl ? function(t) {
                    return removeAudioUrl(JSON.stringify(t))
                }
                : n : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.removeAudioUrl ? function(t) {
                    return window.webkit.messageHandlers.removeAudioUrl.postMessage(JSON.stringify(t))
                }
                : n,
                t.removeAudio && t.removeAudio(e)
            }
        }, {
            key: "switchAppBack",
            value: function() {
                var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]
                  , n = function() {};
                return t.switchAppBack = n,
                t.switchAppBack(e)
            }
        }, {
            key: "login",
            value: function() {
                var e = function() {
                    return Promise.resolve()
                }
                  , n = x.a.client
                  , r = x.a.single
                  , i = x.a.wap;
                if (r)
                    t.login = "ios" === n ? appLogin ? function() {
                        return appLogin(),
                        Promise.resolve()
                    }
                    : e : "android" === n && window.app && window.app.appLogin ? function() {
                        return window.app.appLogin(),
                        Promise.resolve()
                    }
                    : e;
                else {
                    if (i)
                        return t.login = e,
                        "mk" == i && (t.login = function() {
                            return Qe.d.mkLoginPopup("symklogin")
                        }
                        ),
                        "kk" === i && (t.login = function() {
                            return Qe.c.login()
                        }
                        ),
                        t.login();
                    t.login = "android" === n || "ios" === n ? function() {
                        return window.location.href = "lzj3000://login",
                        Promise.resolve()
                    }
                    : "wap" === n ? window.parent && window.parent.playLogin ? function() {
                        return window.parent.playLogin(),
                        Promise.resolve()
                    }
                    : e : "pc" === n && window.parent && window.parent.playerIslogin ? function() {
                        return window.parent.playerIslogin(),
                        Promise.resolve()
                    }
                    : e
                }
                return t.login()
            }
        }, {
            key: "logout",
            value: function() {
                var e = function() {}
                  , n = x.a.app_version
                  , r = x.a.client;
                return x.a.single ? t.logout = "ios" === r ? appLogout ? function() {
                    return appLogout()
                }
                : e : "android" === r && window.app && window.app.appLogout ? function() {
                    return window.app.appLogout()
                }
                : e : ("android" === r || "ios" === r) && Object(k.c)(n, "1.2.0") >= 0 ? t.logout = function() {
                    return window.location.href = "lzj3000://logout"
                }
                : t.logout = "pc" === r && window.parent && window.parent.cnLogin && window.parent.cnLogin.logout ? function() {
                    return window.parent.cnLogin.logout(1)
                }
                : e,
                t.logout()
            }
        }, {
            key: "openShanyiMenu",
            value: function() {
                var e = x.a.client
                  , n = x.a.app_version;
                return Object(k.c)(n, "1.2.0") < 0 && t.isAppClient() ? Xe.a.info("版本过低，不支持该功能").catch((function() {}
                )) : t.openShanyiMenu = "pc" === e ? window.parent && window.parent.infoFlash ? function() {
                    window.parent.infoFlash()
                }
                : function() {}
                : function() {
                    t.switchAppBack(!0),
                    window.location.href = "lzj3000://menu"
                }
                ,
                t.openShanyiMenu()
            }
        }, {
            key: "refreshApp",
            value: function() {
                var e = function() {}
                  , n = x.a.app_version
                  , r = x.a.client;
                return t.refreshApp = e,
                Object(k.c)(n, "1.11.0") < 0 ? t.refreshApp = function() {
                    return Xe.a.info("版本过低，不支持刷新功能").catch((function() {}
                    ))
                }
                : "android" === r ? t.refreshApp = window.app && window.app.refresh ? function() {
                    return window.app.refresh()
                }
                : e : "ios" === r && (wn ? refresh : t.refreshApp = window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.refresh ? function() {
                    return window.webkit.messageHandlers.refresh.postMessage()
                }
                : e),
                t.refreshApp()
            }
        }, {
            key: "toOpenNotice",
            value: function() {
                var e = x.a.client;
                return t.toOpenNotice = "pc" === e && window.parent && window.parent.toOpenNotice ? function() {
                    window.parent.toOpenNotice()
                }
                : function() {}
                ,
                t.toOpenNotice()
            }
        }, {
            key: "gameReady",
            value: function() {
                "pc" === x.a.client && window.parent && window.parent.game_ready && window.parent.game_ready()
            }
        }, {
            key: "urlExpire",
            value: function() {
                var e = x.a.client;
                return t.urlExpire = "pc" === e && window.parent && window.parent.urlExpire ? function() {
                    window.parent.urlExpire()
                }
                : function() {}
                ,
                t.urlExpire()
            }
        }, {
            key: "gameQuit",
            value: function() {
                var e = x.a.client
                  , n = x.a.single
                  , r = function() {};
                return t.gameQuit = "ios" === e && n ? appQuit ? function() {
                    return appQuit()
                }
                : r : "android" === e && n ? window.app && window.app.appQuit ? function() {
                    return window.app.appQuit()
                }
                : r : "pc" === e && window.parent && window.parent.game_quit ? function() {
                    window.parent.game_quit()
                }
                : r,
                t.gameQuit()
            }
        }, {
            key: "fullScreenFromPc",
            value: function() {
                var e = x.a.client;
                return t.fullScreenFromPc = "pc" === e && window.parent && window.parent.gameFlashFullScreen && window.parent.gameFlashFullScreen.fullFunc ? function() {
                    window.parent.gameFlashFullScreen.fullFunc("h5")
                }
                : function() {}
                ,
                t.fullScreenFromPc()
            }
        }, {
            key: "exitFullScreenFromPc",
            value: function() {
                var e = x.a.client;
                return t.exitFullScreenFromPc = "pc" === e && window.parent && window.parent.gameFlashFullScreen && window.parent.gameFlashFullScreen.outFullFunc ? function() {
                    window.parent.gameFlashFullScreen.outFullFunc()
                }
                : function() {}
                ,
                t.exitFullScreenFromPc()
            }
        }, {
            key: "singleBackCover",
            value: function() {
                var e = x.a.client
                  , n = x.a.single
                  , r = function() {
                    return Promise.resolve()
                };
                return t.singleBackCover = n ? "android" === e ? window.app && window.app.appBackCover ? function() {
                    return new Promise((function(e, n) {
                        t.setCallback("covercallback", (function(t) {
                            return "1" === String(t) ? e() : n()
                        }
                        )),
                        window.app.appBackCover()
                    }
                    ))
                }
                : r : "ios" === e && appBackCover ? function() {
                    return new Promise((function(e, n) {
                        t.setCallback("covercallback", (function(t) {
                            return "1" === String(t) ? e() : n()
                        }
                        )),
                        appBackCover()
                    }
                    ))
                }
                : r : r,
                t.singleBackCover()
            }
        }, {
            key: "singlePlayAd",
            value: function() {
                var e = x.a.client
                  , n = x.a.wap
                  , r = x.a.singleAlone
                  , i = function() {
                    return Promise.reject()
                };
                return r || (t.singlePlayAd = i),
                r && ("android" == e ? t.singlePlayAd = window.app && window.app.playAdVideo ? function() {
                    return new Promise((function(e) {
                        t.setCallback("playadBack", e),
                        window.app.playAdVideo()
                    }
                    ))
                }
                : i : "4399" == n && (t.singlePlayAd = function() {
                    return new Promise((function(t) {
                        Qe.b.playAd((function(e) {
                            return t(e)
                        }
                        ))
                    }
                    ))
                }
                )),
                t.singlePlayAd()
            }
        }, {
            key: "singleSaveValue",
            value: function(e, n) {
                var r = x.a.client;
                return t.singleSaveValue = "android" == r && window.app && window.app.saveGameValue ? function(t, e) {
                    return window.app.saveGameValue(t, e)
                }
                : function(e, n) {
                    return t.localStorageSetItem(e, n)
                }
                ,
                t.singleSaveValue(e, n)
            }
        }, {
            key: "singleGetValue",
            value: function(e) {
                var n = x.a.client;
                return t.singleGetValue = "android" == n && window.app && window.app.readGameValue ? function(t) {
                    return window.app.readGameValue(t)
                }
                : function(e) {
                    return t.localStorageGetItem(e)
                }
                ,
                t.singleGetValue(e)
            }
        }, {
            key: "singleRecharge",
            value: function() {
                var e = x.a.client
                  , n = x.a.single
                  , r = function() {
                    return Promise.reject()
                };
                return t.singleRecharge = n ? "ios" === e ? appRecharge ? function() {
                    return new Promise((function() {
                        appRecharge()
                    }
                    ))
                }
                : r : "android" === e && window.app && window.app.appRecharge ? function() {
                    return new Promise((function() {
                        window.app.appRecharge("rechargeback")
                    }
                    ))
                }
                : r : r,
                t.singleRecharge()
            }
        }, {
            key: "pcGameEnd",
            value: function() {
                return t.pcGameEnd = window.parent && window.parent ? function() {
                    return window.parent.endMenuInfo()
                }
                : function() {}
                ,
                t.pcGameEnd()
            }
        }, {
            key: "appGameEnd",
            value: function() {
                var e = function() {}
                  , n = x.a.client
                  , r = x.a.single
                  , i = x.a.app_version
                  , a = x.a.singleAlone;
                return t.isAppClient() ? "android" == n ? t.appGameEnd = window.app && window.app.gameEnd ? function() {
                    return window.app.gameEnd()
                }
                : e : "ios" == n && (wn || Object(k.c)(i, "1.15.1") < 0 && r ? t.appGameEnd = gameEnd ? function() {
                    return gameEnd("1")
                }
                : e : t.appGameEnd = window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.gameEnd ? function() {
                    return window.webkit.messageHandlers.gameEnd.postMessage("1")
                }
                : e) : t.appGameEnd = a && "android" === n && window.app && window.app.workFinished ? function() {
                    return window.app.workFinished()
                }
                : e,
                t.appGameEnd()
            }
        }, {
            key: "gameShare",
            value: function() {
                var e = x.a.client
                  , n = x.a.app_version
                  , r = function() {
                    return Promise.resolve(-1)
                };
                return !t.isAppClient() || Object(k.c)(n, "1.13.0") < 0 ? t.gameShare = r : t.gameShare = "ios" === e ? wn ? share ? function() {
                    return new Promise((function(e) {
                        t.setCallback("shareback", e),
                        share("1")
                    }
                    ))
                }
                : r : window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.share ? function() {
                    return new Promise((function(e) {
                        t.setCallback("shareback", e),
                        window.webkit.messageHandlers.share.postMessage("1")
                    }
                    ))
                }
                : r : "android" == e && window.app && window.app.share ? function() {
                    return new Promise((function(e) {
                        t.setCallback("shareback", e),
                        window.app.share()
                    }
                    ))
                }
                : r,
                t.gameShare()
            }
        }, {
            key: "callAppFuncionByIOS",
            value: function(t) {
                return prompt ? prompt(JSON.stringify(t)) : ""
            }
        }, {
            key: "isHardwareStartByAndroid",
            value: function() {
                var e = !0;
                return window.app && window.app.isHardwareStart && (e = Boolean(window.app.isHardwareStart()) || !1),
                t.isHardwareStartByAndroid = function() {
                    return e
                }
                ,
                t.isHardwareStartByAndroid()
            }
        }, {
            key: "getLocalResourcePathByAndroid",
            value: function(t) {
                return window.app && window.app.getLocalResourcePath ? window.app.getLocalResourcePath(t) : pn(t)
            }
        }, {
            key: "hideLoadCover",
            value: function() {
                var e = function() {};
                t.hideLoadCover = e;
                var n = x.a.client;
                return "pc" === n ? t.hideLoadCover = window.parent && window.parent.hideLoadCover ? function() {
                    return window.parent.hideLoadCover()
                }
                : e : "android" === n ? t.hideLoadCover = window.app && window.app.hideLoadCover ? function() {
                    return window.app.hideLoadCover()
                }
                : e : "ios" === n && (t.hideLoadCover = window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.hideLoadCover ? function() {
                    return window.webkit.messageHandlers.hideLoadCover.postMessage("1")
                }
                : e),
                t.hideLoadCover()
            }
        }, {
            key: "getDeviceIdByAndroid",
            value: function() {
                var e = x.a.client;
                return !x.a.offlinetest && "android" === e && t.isAppClient() && window.app && window.app.getDeviceId() || ""
            }
        }, {
            key: "watchAd",
            value: function() {
                var e = x.a.client
                  , n = x.a.single;
                if (en.a.runTest || en.a.runCheck)
                    return t.watchAd = function() {
                        return Promise.resolve(1)
                    }
                    ,
                    t.watchAd();
                var r = function() {
                    return Promise.resolve(0)
                };
                return t.watchAd = r,
                n || t.isAppClient() ? "ios" === e ? t.watchAd = window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.watchAd ? function() {
                    return new Promise((function(e) {
                        try {
                            var n = x.a.vertical
                              , r = setTimeout((function() {
                                return r && clearTimeout(r),
                                e(-1)
                            }
                            ), 9e4)
                              , i = {
                                vertical: n ? 1 : 0,
                                callback: "watchAdCallback"
                            };
                            t.setCallback("watchAdCallback", (function(t) {
                                return r && clearTimeout(r),
                                e(t)
                            }
                            )),
                            window.webkit.messageHandlers.watchAd.postMessage(JSON.stringify(i))
                        } catch (t) {
                            e(0)
                        }
                    }
                    ))
                }
                : r : "android" === e && (t.watchAd = window.app && window.app.watchAd ? function() {
                    return new Promise((function(e) {
                        try {
                            var n = {
                                vertical: x.a.vertical ? 1 : 0,
                                callback: "watchAdCallback"
                            };
                            t.setCallback("watchAdCallback", e),
                            window.app.watchAd(JSON.stringify(n))
                        } catch (t) {
                            e(0)
                        }
                    }
                    ))
                }
                : r) : "pc" === e && (t.watchAd = function() {
                    return Qe.g.playAd()
                }
                ),
                t.watchAd()
            }
        }, {
            key: "goHomeIndex",
            value: function() {
                var e = x.a.client;
                return t.goHomeIndex = function() {
                    return window.location.href = "//www.3000.com"
                }
                ,
                t.isAppClient() && (t.goHomeIndex = function() {
                    window.location.href = "ios" == e ? "lzj3000://quit" : "lzj3000://index"
                }
                ),
                t.goHomeIndex()
            }
        }, {
            key: "postMessageIframe",
            value: function(t) {
                var e = document.getElementById("window_iframe");
                if (e) {
                    var n = e.contentWindow;
                    try {
                        n.postMessage(t, "*")
                    } catch (e) {
                        n.postMessage(JSON.stringify({
                            type: "postMessageIframe",
                            data: t
                        }), "*")
                    }
                }
            }
        }, {
            key: "gameStartedApi",
            set: function(t) {
                kn = t
            }
        }]),
        t
    }()
      , Sn = {
        localStorage_getItem: "",
        localStorage_setItem: "",
        removeLocalStorage: "",
        resumeAudio: "resumeAudio",
        pauseAudio: "pauseAudio",
        setLoginInfo: "login",
        logoutAccount: "logout",
        unlockChapterFinished: "unlockChapter",
        mallPay: "mallPay",
        preferentialFinished: "finishedPreferential",
        audioCanPlayCallBack: "audioCanPlay",
        audioErrorCallBack: "audioError",
        syMenuBack: "shanyiMenuBack",
        syMenuExit: "shanyiMenuExit",
        restart: "restart",
        showGameNotice: "showGameNotice",
        volume: "updatevolume",
        setAttribute: "setAttribute",
        unlockpayrecord: "unlockpayrecord",
        playadBack: "playadBack",
        rechargeback: "rechargeback",
        review: "review",
        shareback: "shareback",
        covercallback: "covercallback",
        showLoad: "showLoad",
        showPlayback: "showPlayback",
        showSettings: "showSettings",
        showSave: "showSave",
        gamePause: "gamePause",
        watchAdCallback: "watchAdCallback",
        goHomeIndex: "goHomeIndex",
        postMessageIframe: "postMessageIframe"
    }
      , Pn = function() {
        Object.keys(Sn).forEach((function(t) {
            "" === Sn[t] ? window[t] = function() {}
            : window[t] = function(e) {
                "restart" !== t && "showGameNotice" !== t || (e = !0),
                _n(Sn[t], e)
            }
        }
        ))
    };
    Pn(),
    x.a.develop && (window.changeGpv = function(t) {
        return x.a.tgp = t ? "http://www.byacya.com/gpv" : ""
    }
    ,
    window.changeSpv = function(t) {
        return x.a.tsp = t ? "http://www.byacya.com/spv" : ""
    }
    );
    for (var Cn = {
        buttonSoundUrl: "",
        autoPlay: !1,
        fastPlay: !1,
        soundVolume: 1,
        musicVolume: 1,
        full: !1,
        records: [],
        videoVolume: 1,
        optionSound: {},
        useload: !1,
        curVideo: null,
        color: "#000000"
    }, En = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "getFastPlayAnimationInfo",
            value: function(t) {
                return {
                    delay: 0,
                    duration: Math.min(t, 100)
                }
            }
        }, {
            key: "buttonSoundUrl",
            set: function(t) {
                Cn.buttonSoundUrl = t
            },
            get: function() {
                return Cn.buttonSoundUrl
            }
        }, {
            key: "autoPlay",
            set: function(t) {
                Cn.autoPlay = t
            },
            get: function() {
                return Cn.autoPlay
            }
        }, {
            key: "fastPlay",
            set: function(t) {
                Cn.fastPlay = t
            },
            get: function() {
                return Cn.fastPlay
            }
        }, {
            key: "soundVolume",
            set: function(t) {
                Cn.soundVolume = Object(k.j)(t)
            },
            get: function() {
                return Cn.soundVolume
            }
        }, {
            key: "musicVolume",
            set: function(t) {
                Cn.musicVolume = Object(k.j)(t)
            },
            get: function() {
                return Cn.musicVolume
            }
        }, {
            key: "full",
            set: function(t) {
                Cn.full = t
            },
            get: function() {
                return Cn.full
            }
        }, {
            key: "records",
            set: function(t) {
                Cn.records = t
            },
            get: function() {
                return Cn.records
            }
        }, {
            key: "videoVolume",
            set: function(t) {
                Cn.videoVolume = Object(k.j)(t)
            },
            get: function() {
                return Cn.musicVolume
            }
        }, {
            key: "video",
            set: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                Cn.curVideo = t
            },
            get: function() {
                return Cn.curVideo
            }
        }, {
            key: "optionSound",
            set: function(t) {
                Cn.optionSound = t || {
                    url: "",
                    volume: 1
                }
            },
            get: function() {
                return Cn.optionSound
            }
        }, {
            key: "UseLoad",
            set: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                Cn.useload = t
            },
            get: function() {
                return Cn.useload
            }
        }, {
            key: "DefaultColor",
            set: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                Cn.color = t
            },
            get: function() {
                return Cn.color
            }
        }]),
        t
    }(), jn = (n(146),
    n(72),
    n(236),
    n(33)), An = n(49), In = {}, Rn = {}, Tn = {}, Mn = {}, Dn = {}, Bn = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "getLoadingCount",
            value: function() {
                return Object.keys(In).length
            }
        }, {
            key: "load",
            value: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                  , r = arguments.length > 2 ? arguments[2] : void 0;
                if (!t.inCache(e) && (r || n.includes("https") || n.includes("http") || (n = "https:".concat(n)),
                In[e] = !0,
                Tn[e] = !1,
                On.loadAudio && On.loadAudio({
                    url: n,
                    key: e,
                    local: r
                }),
                Object(An.b)({
                    url: n,
                    checkCache: !1
                }),
                Dn[e])) {
                    var i = Object(vn.c)()
                      , a = i.load;
                    a.onFileComplete.dispatch(a.progress, e)
                }
            }
        }, {
            key: "play",
            value: function(e) {
                var n = e.key
                  , r = e.volume
                  , i = void 0 === r ? 1 : r
                  , a = e.loop
                  , o = void 0 === a || a
                  , s = e.channel;
                Mn[s] && t.stop(s),
                n && Rn[n] && On.playAudio && (On.playAudio({
                    volume: i,
                    channel: s,
                    key: n,
                    loop: o ? 1 : 0
                }),
                Mn[s] = {
                    channel: s,
                    key: n,
                    volume: i,
                    loop: o
                })
            }
        }, {
            key: "stop",
            value: function(t) {
                Mn[t] && (Mn[t].tween && Mn[t].tween.cancel(!0),
                Mn[t].tween = null,
                Mn[t].key && On.stopAudio && On.stopAudio({
                    channel: t
                })),
                delete Mn[t]
            }
        }, {
            key: "setVolume",
            value: function(t) {
                var e = t.channel
                  , n = t.volume
                  , r = void 0 === n ? 1 : n
                  , i = t.tweening
                  , a = void 0 !== i && i;
                On.setAudioVolume && On.setAudioVolume({
                    channel: e,
                    volume: r
                }),
                Mn[e] && (Mn[e].volume = r,
                a || (Mn[e].tween && Mn[e].tween.cancel(!0),
                Mn[e].tween = null))
            }
        }, {
            key: "free",
            value: function(t) {
                delete Rn[t],
                On.removeAudio && On.removeAudio({
                    key: t
                })
            }
        }, {
            key: "tweenFrom",
            value: function(t) {
                var e = t.channel
                  , n = t.volume
                  , r = void 0 === n ? 1 : n
                  , i = t.duration
                  , a = void 0 === i ? 10 : i
                  , o = t.delay;
                return Un({
                    channel: e,
                    volume: r,
                    duration: a,
                    delay: void 0 === o ? 0 : o,
                    type: "from"
                })
            }
        }, {
            key: "tweenTo",
            value: function(t) {
                var e = t.channel
                  , n = t.volume
                  , r = void 0 === n ? 1 : n
                  , i = t.duration
                  , a = void 0 === i ? 10 : i
                  , o = t.delay;
                return Un({
                    channel: e,
                    volume: r,
                    duration: a,
                    delay: void 0 === o ? 0 : o,
                    type: "to"
                })
            }
        }, {
            key: "inCache",
            value: function(t) {
                return !!Rn[t] || !!Tn[t] || In[t] && Dn[t]
            }
        }, {
            key: "isLoading",
            value: function(t) {
                return !!In[t] || !!Tn[t]
            }
        }, {
            key: "loadedCallBack",
            value: function(t) {
                delete In[t],
                delete Tn[t],
                Dn[t] = !0,
                Rn[t] = !0;
                var e = Object(vn.c)().load.onSoundExtendLoad;
                e && e.dispatch(t)
            }
        }, {
            key: "faultCallBack",
            value: function(t) {
                delete In[t],
                delete Rn[t],
                delete Dn[t],
                Tn[t] = !0;
                var e = Object(vn.c)().load.onSoundExtendLoadError;
                e && e.dispatch(t)
            }
        }]),
        t
    }(), Un = function(t) {
        var e = t.channel
          , n = t.volume
          , r = void 0 === n ? 1 : n
          , i = t.duration
          , a = void 0 === i ? 10 : i
          , o = t.delay
          , s = void 0 === o ? 0 : o
          , u = t.type
          , c = void 0 === u ? "to" : u
          , l = !1
          , d = Mn[e];
        if (!d)
            return Promise.resolve();
        d.tween && d.tween.cancel();
        var f = Math.ceil(a / 20)
          , h = ("from" === c ? d.volume - r : r - d.volume) / f
          , p = "from" === c ? d.volume : r
          , v = "from" === c ? r : d.volume
          , g = new Promise((function(t) {
            if (a <= 20)
                return Bn.setVolume({
                    channel: e,
                    volume: r,
                    tweening: !0
                }),
                t();
            var n = function n() {
                return l ? t() : p > v && h > 0 || p < v && h < 0 ? (v += h,
                v = Object(k.j)(v),
                Bn.setVolume({
                    channel: e,
                    volume: v,
                    tweening: !0
                }),
                void Object(k.z)(20).then((function() {
                    return n()
                }
                ))) : (Bn.setVolume({
                    channel: e,
                    volume: p,
                    tweening: !0
                }),
                t())
            };
            Object(k.z)(s).then((function() {
                return n()
            }
            ))
        }
        ));
        return g.cancel = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            !t && Bn.setVolume({
                channel: e,
                volume: p
            }),
            l = !0
        }
        ,
        d.tween = g,
        g
    }, zn = (n(147),
    function(t) {
        var e = t.color
          , n = void 0 === e ? 0 : e
          , r = t.alpha
          , i = void 0 === r ? 1 : r
          , a = t.x
          , o = void 0 === a ? 0 : a
          , s = t.y
          , u = void 0 === s ? 0 : s
          , c = t.rect
          , l = c.x
          , d = void 0 === l ? 0 : l
          , f = c.y
          , h = void 0 === f ? 0 : f
          , p = c.width
          , v = c.height
          , g = Object(vn.c)().make.graphics(o, u);
        return g.beginFill(Object(k.A)(n), i),
        g.drawRect(d, h, p, v),
        g.endFill(),
        g
    }
    ), Ln = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "to",
            value: function(t) {
                var e = t.target
                  , n = void 0 === e ? {} : e
                  , r = t.properties
                  , i = t.duration
                  , a = void 0 === i ? 0 : i
                  , o = t.ease
                  , s = t.autoStart
                  , u = void 0 === s || s
                  , c = t.delay
                  , l = t.repeat
                  , d = t.yoyo
                  , f = t.game
                  , h = void 0 === f ? Object(vn.c)() : f;
                if (!a) {
                    Object.keys(r).forEach((function(t) {
                        return n[t] = r[t]
                    }
                    ));
                    var p = Promise.resolve();
                    return p.cancel = function() {
                        return Object.keys(r).forEach((function(t) {
                            return n[t] = r[t]
                        }
                        ))
                    }
                    ,
                    p
                }
                var v = null
                  , g = new Promise((function(t) {
                    (v = h.add.tween(n).to(r, a, o, u, c, l, d)).isComplete = !1,
                    v.onComplete.add((function() {
                        return v.isComplete = !0,
                        t()
                    }
                    ))
                }
                ));
                return g.cancel = function() {
                    var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    v.stop(),
                    t && !v.isComplete && Object.keys(r).forEach((function(t) {
                        return n[t] = r[t]
                    }
                    ))
                }
                ,
                g.duration = a,
                g
            }
        }, {
            key: "from",
            value: function(t) {
                var e = t.target
                  , n = void 0 === e ? {} : e
                  , r = t.properties
                  , i = t.duration
                  , a = void 0 === i ? 0 : i
                  , o = t.ease
                  , s = t.autoStart
                  , u = void 0 === s || s
                  , c = t.delay
                  , l = t.repeat
                  , d = t.yoyo
                  , f = t.game
                  , h = void 0 === f ? Object(vn.c)() : f
                  , p = {};
                if (Object.keys(r).forEach((function(t) {
                    return p[t] = n[t]
                }
                )),
                !a) {
                    var v = Promise.resolve();
                    return v.cancel = function() {
                        return Object.keys(r).forEach((function(t) {
                            return n[t] = p[t]
                        }
                        ))
                    }
                    ,
                    v
                }
                a = Math.max(a, 1);
                var g = null
                  , m = new Promise((function(t) {
                    (g = h.add.tween(n).from(r, a, o, u, c, l, d)).isComplete = !1,
                    g.onComplete.add((function() {
                        return g.isComplete = !0,
                        t()
                    }
                    ))
                }
                ));
                return m.cancel = function() {
                    var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    g.stop(),
                    t && !g.isComplete && Object.keys(r).forEach((function(t) {
                        return n[t] = p[t]
                    }
                    ))
                }
                ,
                m
            }
        }, {
            key: "shake",
            value: function(e) {
                var n = e.target
                  , r = void 0 === n ? {} : n
                  , i = e.offSet
                  , a = e.duration
                  , o = e.delay
                  , s = e.repeat
                  , u = void 0 === s ? 0 : s;
                u = 0 != u ? u : Math.ceil(a / 100 * .6);
                var c = {
                    x: -i,
                    y: -i
                }
                  , l = t.from({
                    target: r,
                    properties: c,
                    delay: o,
                    repeat: u,
                    yoyo: !0,
                    duration: 50
                })
                  , d = l.cancel;
                return l.cancel = function() {
                    d && d(),
                    r.y = r.x = 0
                }
                ,
                l
            }
        }, {
            key: "twinkle",
            value: function(e) {
                var n = e.target
                  , r = void 0 === n ? {} : n
                  , i = e.duration
                  , a = e.delay
                  , o = e.color
                  , s = Object(vn.c)().world
                  , u = s.width
                  , c = s.height
                  , l = zn({
                    color: o,
                    rect: {
                        width: u,
                        height: c
                    }
                });
                r.add(l);
                var d = t.to({
                    target: l,
                    properties: {
                        alpha: 0
                    },
                    delay: a,
                    duration: i
                })
                  , f = function() {
                    return r.remove(l, !0)
                };
                d.then(f);
                var h = d.cancel;
                return d.cancel = function() {
                    f(),
                    h()
                }
                ,
                d
            }
        }, {
            key: "curtain",
            value: function(e) {
                var n = e.target
                  , r = void 0 === n ? {} : n
                  , i = e.duration
                  , a = e.delay
                  , o = Object(vn.c)().world
                  , s = o.width
                  , u = o.height
                  , c = zn({
                    rect: {
                        width: s / 2,
                        height: u
                    }
                })
                  , l = zn({
                    rect: {
                        width: s / 2,
                        height: u
                    },
                    x: s / 2
                });
                r.add(c),
                r.add(l);
                var d = t.to({
                    target: c,
                    properties: {
                        x: -s / 2
                    },
                    delay: a,
                    duration: i
                })
                  , f = t.to({
                    target: l,
                    properties: {
                        x: s
                    },
                    delay: a,
                    duration: i
                })
                  , h = function() {
                    d.cancel(),
                    f.cancel(),
                    r.remove(c, !0),
                    r.remove(l, !0)
                }
                  , p = Promise.all([d, f]);
                return p.cancel = h,
                p.then(h),
                p
            }
        }, {
            key: "interlacing",
            value: function(e) {
                var n = e.target
                  , r = void 0 === n ? {} : n
                  , i = e.duration
                  , a = e.delay
                  , o = Object(vn.c)().world
                  , s = o.width
                  , u = o.height
                  , c = u / 6
                  , l = function() {
                    var t = zn({
                        alpha: 0,
                        rect: {
                            width: s,
                            height: u
                        }
                    });
                    return t.addChild(zn({
                        rect: {
                            width: s,
                            height: c
                        },
                        y: 0
                    })),
                    t.addChild(zn({
                        rect: {
                            width: s,
                            height: c
                        },
                        y: 2 * c
                    })),
                    t.addChild(zn({
                        rect: {
                            width: s,
                            height: c
                        },
                        y: 4 * c
                    })),
                    t
                }
                  , d = l()
                  , f = l();
                f.y = c,
                r.add(d),
                r.add(f);
                var h = t.to({
                    target: d,
                    properties: {
                        x: -s
                    },
                    delay: a,
                    duration: i
                })
                  , p = t.to({
                    target: f,
                    properties: {
                        x: s
                    },
                    delay: a,
                    duration: i
                })
                  , v = function() {
                    h.cancel(),
                    p.cancel(),
                    r.remove(d, !0),
                    r.remove(f, !0)
                }
                  , g = Promise.all([h, p]);
                return g.cancel = v,
                g.then(v),
                g
            }
        }, {
            key: "coverblack",
            value: function(e) {
                var n = e.target
                  , r = void 0 === n ? {} : n
                  , i = e.duration
                  , a = e.delay
                  , o = Object(vn.c)().world
                  , s = o.width
                  , u = o.height
                  , c = zn({
                    rect: {
                        width: s,
                        height: u
                    },
                    x: -s
                });
                r.add(c);
                var l = t.to({
                    target: c,
                    properties: {
                        x: s
                    },
                    delay: a,
                    duration: i
                })
                  , d = function() {
                    return r.remove(c, !0)
                };
                l.then(d);
                var f = l.cancel;
                return l.cancel = function() {
                    d(),
                    f()
                }
                ,
                l
            }
        }, {
            key: "spread",
            value: function(e) {
                var n = e.target
                  , r = void 0 === n ? {} : n
                  , i = e.duration
                  , a = e.delay
                  , o = Object(vn.c)().world
                  , s = o.centerX
                  , u = o.centerY
                  , c = t.from({
                    target: r,
                    properties: {
                        x: s,
                        y: u
                    },
                    delay: a,
                    duration: i
                })
                  , l = t.from({
                    target: r.scale,
                    properties: {
                        x: 0,
                        y: 0
                    },
                    delay: a,
                    duration: i
                })
                  , d = Promise.all([c, l]);
                return d.cancel = function() {
                    c.cancel(),
                    l.cancel(),
                    r.x = r.y = 0
                }
                ,
                d
            }
        }]),
        t
    }(), Vn = n(3), Fn = {
        url: "",
        volume: 1,
        view: !1
    }, Nn = [], Hn = 0; Hn < 11; Hn++)
        Nn.push({
            url: "",
            volume: 1,
            loop: !1,
            view: !1
        });
    var Wn = {
        url: "",
        volume: 1,
        loop: !1
    }
      , Gn = []
      , qn = 0
      , Yn = [];
    function Zn(t) {
        return [].concat(Nn, Gn, [Fn, Wn]).some((function(e) {
            return e.url === t.url && e !== t
        }
        ))
    }
    function Jn(t) {
        if (t._sound) {
            var e = t._sound.src
              , n = y.get();
            n.src = e,
            t._sound = n;
            var r = t.destroy;
            t.destroy = function() {
                r[Vn.a](this, arguments),
                y.free(n),
                t.destroy = null
            }
        }
    }
    var Kn = function(t) {
        var e = x.a.useExternalAudioLoader
          , n = Object(vn.c)();
        if (e)
            Kn = function(t) {
                var e = t.url
                  , r = t.volume
                  , i = void 0 === r ? 1 : r
                  , a = t.channel
                  , o = t.loop
                  , s = void 0 !== o && o
                  , u = t.target
                  , c = t.percent
                  , l = void 0 === c ? 1 : c;
                try {
                    "inherit" === i && (i = u.volume || 1),
                    i = Object(k.j)(i),
                    u.url = e,
                    u.volume = i,
                    u.loop = s;
                    var d = n.load;
                    u.loadedCallBack && (d.onSoundExtendLoad.remove(u.loadedCallBack),
                    u.loadedCallBack = null),
                    Bn.inCache(e) ? Bn.play({
                        key: e,
                        volume: i * l,
                        loop: s,
                        channel: a
                    }) : (u.loadedCallBack = function(t) {
                        t === e && Bn.play({
                            key: e,
                            volume: i * l,
                            loop: s,
                            channel: a
                        })
                    }
                    ,
                    d.onSoundExtendLoad.add(u.loadedCallBack))
                } catch (t) {
                    console.error(t)
                }
            }
            ;
        else {
            var r = n.add;
            Kn = function(t) {
                var e = t.url
                  , n = t.volume
                  , i = void 0 === n ? 1 : n
                  , a = t.loop
                  , o = void 0 !== a && a
                  , s = t.target
                  , u = t.percent
                  , c = void 0 === u ? 1 : u;
                try {
                    "inherit" === i && (i = s.volume || 1),
                    "pc" === x.a.client && (i *= En.musicVolume),
                    i = Object(k.j)(i);
                    var l = r.sound(e, i * c, o);
                    s.url = e,
                    s.volume = i,
                    s.audio = l,
                    s.loop = o,
                    !l.usingWebAudio && Zn(s) && Jn(l),
                    l.play(),
                    nr.externalProhibitVolume && (nr.updateMusicVolume(0, !0),
                    nr.updateSoundsVolume(0, !0))
                } catch (t) {
                    console.error(t)
                }
            }
        }
        Kn(t)
    }
      , $n = function(t) {
        var e = x.a.useExternalAudioLoader
          , n = Object(vn.c)();
        ($n = e ? function(t) {
            var e = t.channel
              , r = t.target;
            Bn.stop(e),
            r.url = "",
            r.loadedCallBack && (n.load.onSoundExtendLoad.remove(r.loadedCallBack),
            r.loadedCallBack = null)
        }
        : function(t) {
            var e = t.target
              , n = e.audio;
            n && n.destroy(),
            e.audio = null,
            e.url = ""
        }
        )(t)
    }
      , Xn = function(t) {
        var e = x.a.useExternalAudioLoader;
        (Xn = e ? function(t) {
            var e = t.channel
              , n = t.target
              , r = t.volume
              , i = void 0 === r ? 1 : r
              , a = t.percent
              , o = void 0 === a ? 1 : a;
            i = Object(k.j)(i),
            Bn.setVolume({
                channel: e,
                volume: i * o
            }),
            n.volume = i
        }
        : function(t) {
            var e = t.target
              , n = t.volume
              , r = void 0 === n ? 1 : n
              , i = t.percent
              , a = void 0 === i ? 1 : i;
            r = Object(k.j)(r);
            var o = e.audio;
            o && (o.volume = r * a),
            e.volume = r
        }
        )(t)
    }
      , Qn = function(t) {
        if (x.a.useExternalAudioLoader)
            Qn = function(t) {
                return Bn.free(t)
            }
            ;
        else {
            var e = Object(vn.c)().cache;
            Qn = function(t) {
                if (e.checkSoundKey(t)) {
                    /blob:/i.test(t) && URL.revokeObjectURL(t);
                    var n = e.getSound(t);
                    y.free(n.data),
                    e.removeSound(t)
                }
            }
        }
        Qn(t)
    }
      , tr = function(t) {
        var e = x.a.useExternalAudioLoader;
        return (tr = e ? function(t) {
            var e = t.volume
              , n = void 0 === e ? 1 : e
              , r = t.channel
              , i = t.target
              , a = t.percent
              , o = void 0 === a ? 1 : a
              , s = t.duration
              , u = void 0 === s ? 10 : s
              , c = t.delay
              , l = void 0 === c ? 0 : c;
            return nr.externalProhibitVolume ? Promise.resolve() : (n = Object(k.j)(n),
            i.volume = n,
            Bn.tweenTo({
                volume: n * o,
                channel: r,
                duration: u,
                delay: l
            }))
        }
        : function(t) {
            var e = t.volume
              , n = void 0 === e ? 1 : e
              , r = t.target
              , i = t.percent
              , a = void 0 === i ? 1 : i
              , o = t.duration
              , s = void 0 === o ? 10 : o
              , u = t.delay
              , c = void 0 === u ? 0 : u;
            if (nr.externalProhibitVolume)
                return Promise.resolve();
            n = Object(k.j)(n);
            var l = r.audio;
            return r.volume = n,
            Ln.to({
                target: l || {
                    volume: 0
                },
                properties: {
                    volume: n * a
                },
                duration: s,
                delay: c
            })
        }
        )(t)
    }
      , er = function(t) {
        var e = x.a.useExternalAudioLoader;
        return (er = e ? function(t) {
            var e = t.volume
              , n = void 0 === e ? 1 : e
              , r = t.channel
              , i = t.percent
              , a = void 0 === i ? 1 : i
              , o = t.duration
              , s = void 0 === o ? 10 : o
              , u = t.delay
              , c = void 0 === u ? 0 : u;
            return nr.externalProhibitVolume ? Promise.resolve() : (n = Object(k.j)(n),
            Bn.tweenFrom({
                volume: n * a,
                channel: r,
                duration: s,
                delay: c
            }))
        }
        : function(t) {
            var e = t.volume
              , n = void 0 === e ? 1 : e
              , r = t.target
              , i = t.percent
              , a = void 0 === i ? 1 : i
              , o = t.duration
              , s = void 0 === o ? 10 : o
              , u = t.delay
              , c = void 0 === u ? 0 : u;
            if (nr.externalProhibitVolume)
                return Promise.resolve();
            n = Object(k.j)(n);
            var l = r.audio;
            return Ln.from({
                target: l || {
                    volume: 0
                },
                properties: {
                    volume: n * a
                },
                duration: s,
                delay: c
            })
        }
        )(t)
    }
      , nr = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "inCache",
            value: function(e) {
                if (x.a.useExternalAudioLoader)
                    t.inCache = function(t) {
                        return Bn.inCache(t)
                    }
                    ;
                else {
                    var n = Object(vn.c)().cache;
                    t.inCache = function(t) {
                        return n.checkSoundKey(t)
                    }
                }
                return t.inCache(e)
            }
        }, {
            key: "isLoading",
            value: function(e) {
                if (x.a.useExternalAudioLoader)
                    t.isLoading = function(t) {
                        return !!Bn.isLoading(t)
                    }
                    ;
                else {
                    var n = Object(vn.c)().load;
                    t.isLoading = function(t) {
                        var e = (n.getAsset("audio", t) || {}).file;
                        return e && e.loading && !e.loaded && !e.error
                    }
                }
                return t.isLoading(e)
            }
        }, {
            key: "load",
            value: function(e, n, r) {
                var i = x.a.useExternalAudioLoader
                  , a = x.a.offline;
                if (i)
                    t.load = function(t, e, n) {
                        return Bn.load(t, e, a)
                    }
                    ;
                else {
                    var o = Object(vn.c)().load;
                    t.load = function(t, e, n) {
                        return o.audio(t, e, !0, n)
                    }
                }
                t.load(e, n, r)
            }
        }, {
            key: "playMusic",
            value: function(t) {
                var e = t.url
                  , n = void 0 === e ? "" : e
                  , r = t.volume
                  , i = void 0 === r ? 1 : r
                  , a = t.view
                  , o = void 0 !== a && a;
                "inherit" !== n ? (Fn.url && $n({
                    channel: "music",
                    target: Fn
                }),
                Fn.view = o,
                Kn({
                    url: n,
                    volume: i,
                    percent: En.musicVolume,
                    channel: "music",
                    target: Fn,
                    loop: !0
                })) : this.setMusicVolume(i)
            }
        }, {
            key: "stopMusic",
            value: function() {
                $n({
                    channel: "music",
                    target: Fn
                })
            }
        }, {
            key: "setMusicVolume",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                t.externalProhibitVolume || Xn({
                    channel: "music",
                    target: Fn,
                    volume: e,
                    percent: En.musicVolume
                })
            }
        }, {
            key: "updateMusicVolume",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                  , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (n)
                    Xn({
                        channel: "music",
                        target: Fn,
                        volume: e,
                        percent: En.musicVolume
                    });
                else {
                    if (En.musicVolume = e,
                    !1 !== t.externalProhibitVolume)
                        return;
                    Xn({
                        channel: "music",
                        target: Fn,
                        volume: Fn.volume,
                        percent: En.musicVolume
                    })
                }
            }
        }, {
            key: "tweenToWithMusic",
            value: function(t) {
                var e = t.volume
                  , n = void 0 === e ? 1 : e
                  , r = t.duration
                  , i = void 0 === r ? 10 : r
                  , a = t.delay;
                return tr({
                    volume: n,
                    channel: "music",
                    target: Fn,
                    duration: i,
                    delay: void 0 === a ? 0 : a,
                    percent: En.musicVolume
                })
            }
        }, {
            key: "tweenFromWithMusic",
            value: function(t) {
                var e = t.volume
                  , n = void 0 === e ? 1 : e
                  , r = t.duration
                  , i = void 0 === r ? 10 : r
                  , a = t.delay;
                return er({
                    volume: n,
                    channel: "music",
                    target: Fn,
                    duration: i,
                    delay: void 0 === a ? 0 : a,
                    percent: En.musicVolume
                })
            }
        }, {
            key: "playSound",
            value: function(t) {
                var e = t.url
                  , n = void 0 === e ? "" : e
                  , r = t.volume
                  , i = void 0 === r ? 1 : r
                  , a = t.channel
                  , o = void 0 === a ? 0 : a
                  , s = t.loop
                  , u = t.view
                  , c = void 0 !== u && u;
                "inherit" !== n ? (Nn[o].url && $n({
                    channel: "sound".concat(o),
                    target: Nn[o]
                }),
                Nn[o].view = c,
                Kn({
                    url: n,
                    volume: i,
                    percent: En.soundVolume,
                    channel: "sound".concat(o),
                    target: Nn[o],
                    loop: s
                })) : this.setSoundVolume({
                    volume: i,
                    channel: o
                })
            }
        }, {
            key: "stopSound",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                Nn[t] && $n({
                    channel: "sound".concat(t),
                    target: Nn[t]
                })
            }
        }, {
            key: "stopAllSound",
            value: function() {
                for (var t = 0; t < Nn.length; t++)
                    $n({
                        channel: "sound".concat(t),
                        target: Nn[t]
                    })
            }
        }, {
            key: "setSoundVolume",
            value: function(e) {
                var n = e.volume
                  , r = void 0 === n ? 1 : n
                  , i = e.channel
                  , a = void 0 === i ? 0 : i;
                t.externalProhibitVolume || Xn({
                    channel: "sound".concat(a),
                    target: Nn[a],
                    volume: r,
                    percent: En.soundVolume
                })
            }
        }, {
            key: "updateSoundsVolume",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                  , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (n)
                    Nn.forEach((function(t, n) {
                        return t.url && Xn({
                            channel: "sound".concat(n),
                            target: t,
                            volume: e,
                            percent: En.soundVolume
                        })
                    }
                    ));
                else {
                    if (En.soundVolume = e,
                    !1 !== t.externalProhibitVolume)
                        return;
                    Nn.forEach((function(t, e) {
                        return t.url && Xn({
                            channel: "sound".concat(e),
                            target: t,
                            volume: t.volume,
                            percent: En.soundVolume
                        })
                    }
                    ))
                }
            }
        }, {
            key: "tweenToWithSound",
            value: function(e) {
                var n = e.volume
                  , r = void 0 === n ? 1 : n
                  , i = e.duration
                  , a = void 0 === i ? 10 : i
                  , o = e.delay
                  , s = void 0 === o ? 0 : o
                  , u = e.channel
                  , c = void 0 === u ? 0 : u;
                if (!t.externalProhibitVolume)
                    return tr({
                        volume: r,
                        channel: "sound".concat(c),
                        target: Nn[c],
                        duration: a,
                        delay: s,
                        percent: En.soundVolume
                    })
            }
        }, {
            key: "tweenFromWithSound",
            value: function(e) {
                var n = e.volume
                  , r = void 0 === n ? 1 : n
                  , i = e.duration
                  , a = void 0 === i ? 10 : i
                  , o = e.delay
                  , s = void 0 === o ? 0 : o
                  , u = e.channel
                  , c = void 0 === u ? 0 : u;
                if (!t.externalProhibitVolume)
                    return er({
                        volume: r,
                        channel: "sound".concat(c),
                        target: Nn[c],
                        duration: a,
                        delay: s,
                        percent: En.soundVolume
                    })
            }
        }, {
            key: "playButtonSound",
            value: function() {
                var t = Wn.audio
                  , e = Wn.volume
                  , n = En.buttonSoundUrl
                  , r = En.soundVolume;
                t ? t.play() : n && Kn({
                    url: n,
                    channel: "button-sound",
                    target: Wn,
                    volume: e,
                    percent: r
                })
            }
        }, {
            key: "play",
            value: function(e) {
                var n = e.url
                  , r = e.volume
                  , i = void 0 === r ? 1 : r
                  , a = e.loop
                  , o = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , s = {
                    url: n,
                    volume: i
                }
                  , u = -1;
                ~(u = Gn.findIndex((function(t) {
                    return t.url === n && t.volume === i
                }
                ))) ? s = Gn[u] : Gn.push(s),
                Kn({
                    url: n,
                    volume: t.externalProhibitVolume && o ? 0 : i,
                    percent: En.soundVolume,
                    channel: "temp-sound",
                    target: s,
                    loop: a
                })
            }
        }, {
            key: "stop",
            value: function(t) {
                var e = t.url
                  , n = t.volume
                  , r = void 0 === n ? 1 : n;
                "pc" === x.a.client && (r *= En.musicVolume);
                var i, a = null;
                ~(i = Gn.findIndex((function(t) {
                    return t.url === e && t.volume === r
                }
                ))) && (a = Gn[i],
                Gn.splice(i, 1),
                $n({
                    channel: "temp-sound",
                    target: a
                }))
            }
        }, {
            key: "free",
            value: function(t) {
                Qn(t);
                for (var e = 0; Gn.length > e; ) {
                    var n = Gn[e];
                    n.url !== t ? e++ : (n.audio && n.audio.destroy(),
                    n.audio = null,
                    Gn.splice(e, 1))
                }
            }
        }, {
            key: "toMuteAllSound",
            value: function() {
                Nn.forEach((function(t, e) {
                    Yn[e] = t.volume,
                    t.url && Xn({
                        channel: "sound".concat(e),
                        target: t,
                        volume: 0,
                        percent: En.soundVolume
                    })
                }
                )),
                Fn && (qn = Fn.volume,
                Xn({
                    channel: "music",
                    target: Fn,
                    volume: 0,
                    percent: En.musicVolume
                }))
            }
        }, {
            key: "cancelMuteAllSound",
            value: function() {
                Nn.forEach((function(t, e) {
                    return t.url && Xn({
                        channel: "sound".concat(e),
                        target: t,
                        volume: Yn[e],
                        percent: En.soundVolume
                    })
                }
                )),
                Fn && Xn({
                    channel: "music",
                    target: Fn,
                    volume: qn,
                    percent: En.musicVolume
                })
            }
        }, {
            key: "setMuisAndSoundView",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                Fn.view = t,
                Nn.forEach((function(e) {
                    return e.view = t
                }
                ))
            }
        }, {
            key: "getUsingUrls",
            value: function() {
                var t = [];
                return Fn.url && t.push(Fn.url),
                Wn.url && t.push(Wn.url),
                Nn.forEach((function(e) {
                    var n = e.url;
                    return n && t.push(n)
                }
                )),
                Gn.forEach((function(e) {
                    var n = e.url;
                    return n && t.push(n)
                }
                )),
                t
            }
        }, {
            key: "resumeSound",
            value: function(e) {
                var n = e.url
                  , r = void 0 === n ? "" : n
                  , i = e.volume
                  , a = void 0 === i ? 1 : i
                  , o = e.channel
                  , s = void 0 === o ? 0 : o
                  , u = e.loop
                  , c = e.view
                  , l = void 0 !== c && c;
                x.a.useExternalAudioLoader ? t.playSound({
                    url: r,
                    volume: a,
                    channel: s,
                    loop: u,
                    view: l
                }) : Nn[s] && Nn[s].audio.resume()
            }
        }, {
            key: "pauseSound",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                if (x.a.useExternalAudioLoader)
                    t.stopSound(e);
                else if (Nn[e]) {
                    var n = Nn[e].audio;
                    n.pause()
                }
            }
        }, {
            key: "music",
            get: function() {
                var t = Fn.url
                  , e = Fn.volume
                  , n = Fn.view;
                return {
                    url: t,
                    volume: e,
                    view: void 0 !== n && n
                }
            }
        }, {
            key: "sounds",
            get: function() {
                return Nn.map((function(t, e) {
                    return {
                        url: t.url,
                        volume: t.volume,
                        loop: t.loop,
                        index: e,
                        view: t.view
                    }
                }
                ))
            }
        }]),
        t
    }()
      , rr = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
          , e = Fn.audio;
        e && (t ? e.play() : e.pause()),
        Nn.forEach((function(e) {
            var n = e.audio;
            n && (t ? n.resume() : n.pause())
        }
        ))
    };
    On.setCallback("resumeAudio", (function() {
        return rr(!0)
    }
    )),
    On.setCallback("pauseAudio", (function() {
        return rr()
    }
    )),
    On.setCallback("audioCanPlay", (function(t) {
        return Bn.loadedCallBack(t)
    }
    )),
    On.setCallback("audioError", (function(t) {
        return Bn.faultCallBack(t)
    }
    )),
    nr.externalProhibitVolume = !1,
    n(173);
    var ir, ar, or, sr, ur, cr, lr, dr, fr, hr, pr = n(50), vr = n.n(pr), gr = n(16), mr = n.n(gr);
    function yr(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function br(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? yr(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : yr(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var wr = gn.N + "s"
      , xr = gn.C + "s"
      , kr = gn.I + "s"
      , _r = gn.x + "s"
      , Or = gn.K + "s"
      , Sr = gn.q + "s"
      , Pr = gn.D + "s"
      , Cr = function() {
        return x.a.vertical ? 540 : 960
    }
      , Er = function() {
        return x.a.vertical ? 960 : 540
    }
      , jr = (ir = {
        const: {
            type: gn.h,
            value: 0
        },
        string: {
            type: gn.H,
            value: ""
        },
        system: {
            type: gn.J,
            value: 0
        },
        value: {
            type: gn.N,
            value: 1
        }
    },
    c()(ir, gn.C, {
        type: gn.C,
        value: 1
    }),
    c()(ir, gn.I, {
        type: gn.I,
        value: 1
    }),
    c()(ir, gn.x, {
        type: gn.x,
        value: 1
    }),
    c()(ir, gn.s, {
        type: gn.N,
        value: 0
    }),
    c()(ir, Vn.y, {
        type: gn.N,
        range: [0, 1]
    }),
    ir)
      , Ar = {
        downloadUuid: "",
        lock: 0,
        md5: "",
        name: "",
        plots: [],
        subchapters: [],
        uuid: ""
    }
      , Ir = {
        flex: 1,
        height: Er(),
        name: "",
        opacity: 1,
        url: "",
        width: Cr(),
        x: 0,
        y: 0
    }
      , Rr = {
        dot: {
            url: "",
            md5: "",
            x: 0,
            y: 0,
            width: 50,
            height: 50,
            hidden: 0
        },
        bar: {
            style: "clip",
            x: 0,
            y: 0,
            scale: 1,
            width: 500,
            height: 100,
            basePoint: {
                x: 0,
                y: 0
            },
            background: {
                name: "",
                url: "",
                md5: ""
            },
            progress: {
                name: "",
                url: "",
                md5: ""
            },
            hidden: 0
        },
        percent: {
            x: 0,
            y: 0,
            fontSize: 20,
            color: "#000000",
            width: 0,
            height: 0,
            hidden: 0
        }
    }
      , Tr = [{
        uuid: "",
        type: "",
        invited: {
            tip: "",
            award: []
        },
        startDate: 0,
        endDate: 0,
        invite: [{
            number: 0,
            tip: "",
            award: []
        }]
    }]
      , Mr = {
        json: {
            cover: {
                loadMenu: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                overMenu: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                settingsMenu: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                startMenu: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                titleContainer: {
                    background: {
                        url: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    title: {
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    }
                }
            },
            dialog: {
                avatarContainer: {
                    avatar: {
                        clip: "",
                        height: 0,
                        width: 0,
                        x: 0,
                        y: 0
                    },
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                background: {
                    url: "",
                    name: ""
                },
                content: {
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                rect: {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                },
                titleContainer: {
                    background: {
                        url: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    title: {
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        },
                        text: {
                            color: "#000000",
                            fontSize: 20,
                            hidden: 0
                        }
                    }
                }
            },
            mainMenu: {
                autoplay: {
                    hidden: 0,
                    active: {
                        background: {
                            name: "",
                            url: "",
                            md5: ""
                        },
                        background2: {
                            name: "",
                            url: "",
                            md5: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: "",
                            md5: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                back: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                background: {
                    name: "",
                    url: ""
                },
                header: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    title: {
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    }
                },
                load: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                playback: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                save: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                settings: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                }
            },
            menu: {
                active: {
                    background: {
                        name: "",
                        url: ""
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                normal: {
                    background: {
                        name: "",
                        url: ""
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                rect: {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                }
            },
            option: {
                active: {
                    background: {
                        name: "",
                        url: ""
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                normal: {
                    background: {
                        name: "",
                        url: ""
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                rect: {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                },
                sound: {
                    time: 0,
                    volume: 1,
                    url: ""
                }
            },
            playback: {
                back: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                background: {
                    url: "",
                    name: ""
                },
                scrollBox: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    item: {
                        background: {
                            url: ""
                        },
                        content: {
                            background: {
                                url: ""
                            },
                            rect: {
                                x: 0,
                                y: 0,
                                width: 0,
                                height: 0
                            },
                            text: {
                                color: "0x000000",
                                fontSize: 20,
                                hidden: 0,
                                padding: ""
                            }
                        },
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        }
                    }
                }
            },
            record: {
                back: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                background: {
                    url: "",
                    name: ""
                },
                scrollBox: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    column: x.a.vertical ? 1 : 4,
                    itemSpaceX: 0,
                    itemSpaceY: 0,
                    itemsOffsetX: 0,
                    itemsOffsetY: 0,
                    total: 12,
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    item: {
                        column: x.a.vertical ? 1 : 4,
                        total: 12,
                        background: {
                            url: ""
                        },
                        content: {
                            background: {
                                url: ""
                            },
                            rect: {
                                x: 0,
                                y: 0,
                                width: 0,
                                height: 0
                            }
                        },
                        hint: {
                            background: {
                                color: "",
                                url: ""
                            },
                            height: 0,
                            rect: {
                                x: 0,
                                y: 0,
                                width: 0,
                                height: 0
                            },
                            text: {
                                color: "",
                                fontSize: 20,
                                hidden: 0
                            }
                        },
                        info: {
                            background: {
                                color: "",
                                url: ""
                            },
                            height: 0,
                            rect: {
                                x: 0,
                                y: 0,
                                width: 0,
                                height: 0
                            },
                            text: {
                                color: "",
                                fontSize: 20,
                                hidden: 0
                            }
                        },
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        }
                    }
                }
            },
            settings: {
                autoOff: {
                    checked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    unchecked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                autoOn: {
                    checked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    unchecked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                back: {
                    active: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    normal: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    hidden: 0
                },
                background: {
                    name: "",
                    url: ""
                },
                displayCaption: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                displayHeader: {
                    background: {
                        url: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    title: {
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    }
                },
                fullMode: {
                    checked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    unchecked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                header: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    title: {
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    }
                },
                musicCaption: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                musicVolume: {
                    hidden: 0,
                    normal: {
                        background: {
                            url: ""
                        }
                    },
                    progress: {
                        background: {
                            url: ""
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                soundCaption: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                soundVolume: {
                    hidden: 0,
                    normal: {
                        background: {
                            url: ""
                        }
                    },
                    progress: {
                        background: {
                            url: ""
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                textCaption: {
                    background: {
                        url: "",
                        md5: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                textHeader: {
                    background: {
                        url: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    title: {
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    }
                },
                volumeHeader: {
                    background: {
                        url: ""
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    title: {
                        rect: {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    }
                },
                windowMode: {
                    checked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    unchecked: {
                        background: {
                            name: "",
                            url: ""
                        },
                        text: {
                            color: "",
                            fontSize: 20,
                            hidden: 0
                        }
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                }
            },
            shanyiMenu: {
                active: {
                    background: {
                        name: "",
                        url: ""
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                normal: {
                    background: {
                        name: "",
                        url: ""
                    },
                    text: {
                        color: "",
                        fontSize: 20,
                        hidden: 0
                    }
                },
                rect: {
                    x: 866,
                    y: 26,
                    width: 68,
                    height: 68
                }
            },
            sound: {
                name: "",
                url: "",
                volume: 1
            }
        }
    }
      , Dr = {
        ref: "",
        instanceUuid: "",
        events: [],
        scale: 1,
        x: {
            type: gn.t,
            value: 0
        },
        y: {
            type: gn.t,
            value: 0
        }
    }
      , Br = {
        autoSaveOrLoad: [1],
        color: "#ffffff",
        dialogMode: "0",
        font_size: 20,
        immediate: 0,
        lockdialog: 0,
        mainMenu: Dr,
        option_color: "#ffffff",
        option_font_size: 20,
        pause: "0",
        records: [{
            uuid: "",
            price: 0
        }],
        role_color: "#ffffff",
        role_font_size: 20,
        speed: "20",
        mouse: {
            normal: {
                url: "",
                md5: ""
            },
            active: {
                url: "",
                md5: ""
            },
            size: 22
        }
    }
      , Ur = {
        fontFamily: "黑体",
        images: [{
            chars: "",
            url: ""
        }]
    }
      , zr = {
        frame: 0,
        height: Er(),
        width: Cr(),
        loop: 0,
        name: "",
        uuid: "",
        images: [{
            name: "",
            url: ""
        }],
        timelines: [[{
            during: 1,
            frame: 0,
            height: Er(),
            image: 0,
            name: "",
            opacity: 1,
            rotate: 0,
            width: Cr(),
            x: 0,
            y: 0
        }]]
    }
      , Lr = {
        container: {
            uuid: "",
            name: "",
            type: "container",
            width: 320,
            height: 569,
            content: {
                background: {
                    url: ""
                }
            },
            events: [],
            children: []
        },
        image: {
            uuid: "",
            name: "",
            type: "image",
            width: 0,
            height: 0,
            content: {
                background: {
                    url: ""
                }
            },
            events: []
        },
        button: {
            uuid: "",
            name: "",
            type: "button",
            width: 0,
            height: 0,
            content: {
                background: {
                    normal: {
                        url: ""
                    },
                    active: {
                        url: ""
                    }
                },
                sound: {
                    volume: 1
                }
            },
            events: []
        },
        bar: {
            uuid: "",
            name: "",
            type: "bar",
            width: 0,
            height: 0,
            content: {
                type: "",
                basePoint: {
                    x: 0,
                    y: 0
                },
                background: {
                    normal: {
                        url: ""
                    },
                    progress: {
                        url: ""
                    }
                },
                value: {
                    normal: {
                        width: c()({
                            type: gn.N
                        }, gn.a, ""),
                        height: c()({
                            type: gn.N
                        }, gn.a, "")
                    },
                    progress: {
                        width: c()({
                            type: gn.N
                        }, gn.a, ""),
                        height: c()({
                            type: gn.N
                        }, gn.a, "")
                    }
                }
            },
            events: []
        },
        text: {
            uuid: "",
            name: "",
            type: "text",
            width: 0,
            height: 0,
            content: {
                value: [{
                    data: "",
                    color: "#000000"
                }],
                font_size: 20
            },
            events: []
        },
        input: {
            uuid: "",
            name: "",
            type: "input",
            width: 0,
            height: 0,
            content: {
                value: c()({
                    type: gn.N
                }, gn.a, ""),
                color: "#000",
                font_size: 20,
                bold: 0,
                fontFamily: "黑体"
            },
            events: []
        },
        timer: {
            uuid: "",
            name: "",
            type: "timer",
            width: 0,
            height: 0,
            content: {
                step: {
                    type: gn.t,
                    value: 0
                },
                count: {
                    type: gn.t,
                    value: 0
                }
            },
            events: []
        }
    }
      , Vr = (ur = {
        callUI: {
            type: "callUI",
            handle: {}
        },
        refreshUI: {
            type: "refreshUI",
            handle: {
                uuid: ""
            }
        },
        closeUI: {
            type: "closeUI",
            handle: {}
        },
        reload: {
            type: "reload",
            handle: {}
        }
    },
    c()(ur, gn.D, {
        type: gn.D,
        handle: c()({}, wr, [])
    }),
    c()(ur, gn.w, {
        type: [gn.w],
        handle: c()({
            uuid: "",
            price: {
                type: gn.t,
                value: 1
            },
            introduction: "",
            name: "",
            count: -1,
            records: [],
            chapters: []
        }, wr, [])
    }),
    c()(ur, "advert", c()({
        type: "advert",
        handle: {
            type: "",
            value: -1
        }
    }, wr, [])),
    c()(ur, "share", {
        type: "share",
        handle: (or = {
            uuid: "",
            introduction: "",
            name: ""
        },
        c()(or, gn.m, (ar = {},
        c()(ar, gn.a, c()({
            tpye: ""
        }, gn.a, "")),
        c()(ar, "type", ""),
        c()(ar, gn.b, {
            type: "",
            value: ""
        }),
        ar)),
        c()(or, wr, []),
        c()(or, "desc", ""),
        c()(or, "image", {}),
        or)
    }),
    c()(ur, "back", {
        type: "back",
        handle: {}
    }),
    c()(ur, "jump", {
        type: "jump",
        handle: {
            uuid: ""
        }
    }),
    c()(ur, "insertPlot", {
        type: "insertPlot",
        handle: {
            uuid: ""
        }
    }),
    c()(ur, "nextPlot", {
        type: "nextPlot",
        handle: {
            uuid: ""
        }
    }),
    c()(ur, "jumpOption", {
        type: "jumpOption",
        handle: {
            type: gn.t,
            value: 1
        }
    }),
    c()(ur, "backOption", {
        type: "backOption",
        handle: {
            type: gn.t,
            value: 1
        }
    }),
    c()(ur, "playMusic", {
        type: "playMusic",
        handle: {
            music: {
                volume: 1,
                url: ""
            }
        }
    }),
    c()(ur, "stopMusic", {
        type: "stopMusic",
        handle: {}
    }),
    c()(ur, "playSound", {
        type: "playSound",
        handle: {
            sounds: new Array(10).fill({
                url: "",
                volume: 1
            })
        }
    }),
    c()(ur, "stopSound", {
        type: "stopSound",
        handle: {}
    }),
    c()(ur, "openUrl", {
        type: "openUrl",
        handle: {
            urlId: 0
        }
    }),
    c()(ur, "saveRecord", {
        type: "saveRecord",
        handle: {
            index: 0
        }
    }),
    c()(ur, "code", {
        type: "code",
        handle: (sr = {},
        c()(sr, wr, []),
        c()(sr, "bindValue", {}),
        sr)
    }),
    c()(ur, "invite", {
        type: "invite",
        handle: {}
    }),
    c()(ur, "inviteCode", {
        type: "inviteCode",
        handle: {
            bindValue: {}
        }
    }),
    ur)
      , Fr = {
        name: "",
        id: 1,
        avatarContainer: {
            avatar: {
                clip: "",
                height: 0,
                width: 0,
                x: 0,
                y: 0
            },
            background: {
                url: "",
                md5: ""
            },
            rect: {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            }
        },
        background: {
            url: "",
            md5: ""
        },
        rect: {
            x: 0,
            y: 0,
            width: 0,
            height: 0
        },
        titleContainer: {
            background: {
                url: ""
            },
            rect: {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            },
            title: {
                rect: {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                },
                text: {
                    color: "#ffffff",
                    fontSize: 20,
                    hidden: 0
                }
            }
        },
        content: {
            rect: {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            },
            text: {
                color: "#ffffff",
                fontSize: 20,
                hidden: 0
            }
        }
    }
      , Nr = {
        faster: {
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            active: {
                url: ""
            },
            normal: {
                url: ""
            },
            speed1: {
                url: ""
            },
            speed2: {
                url: ""
            },
            speed3: {
                url: ""
            },
            speed4: {
                url: ""
            },
            opacity: 1
        },
        loadRec: {
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            active: {
                url: ""
            },
            normal: {
                url: ""
            },
            opacity: 1
        },
        mMute: {
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            active: {
                url: ""
            },
            normal: {
                url: ""
            },
            off: {
                url: ""
            },
            opacity: 1
        },
        mouse: {
            width: 0,
            hidden: 0,
            height: 0
        },
        review: {
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            active: {
                url: ""
            },
            normal: {
                url: ""
            },
            opacity: 1
        },
        sMute: {
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            active: {
                url: ""
            },
            normal: {
                url: ""
            },
            off: {
                url: ""
            },
            opacity: 1
        },
        saveRec: {
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            active: {
                url: ""
            },
            normal: {
                url: ""
            },
            opacity: 1
        },
        visible: {
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            active: {
                url: ""
            },
            normal: {
                url: ""
            },
            opacity: 1
        }
    }
      , Hr = (cr = {
        chapters: [],
        cover: {
            background: Ir,
            music: {
                url: "",
                volume: 1,
                name: "",
                time: 0,
                md5: "",
                index: 0
            },
            title: {
                data: "",
                hidden: 0
            }
        },
        default_settings: Br,
        dialogs: [],
        font: Ur
    },
    c()(cr, Sr, []),
    c()(cr, "logo", {
        background: Ir,
        logo: "logo"
    }),
    c()(cr, "motionImgMap", {}),
    c()(cr, "name", ""),
    c()(cr, _r, []),
    c()(cr, xr, []),
    c()(cr, "strategy", ""),
    c()(cr, kr, []),
    c()(cr, Or, []),
    c()(cr, "template", Mr),
    c()(cr, "valueImgs", []),
    c()(cr, wr, []),
    c()(cr, "viewMap", {}),
    c()(cr, "views", []),
    c()(cr, "playerItem", Nr),
    c()(cr, "inviteRewards", Tr),
    cr)
      , Wr = {
        x: 0,
        y: 0,
        width: 0,
        height: 0,
        url: "",
        animations: [{
            duration: 0,
            type: "",
            trigger: "",
            x: 0,
            y: 0,
            delay: 0
        }],
        opacity: 1,
        name: "",
        filter: {
            type: "",
            value: 0
        }
    }
      , Gr = {
        x: 0,
        y: 0,
        width: Cr(),
        height: Er(),
        url: "",
        opacity: 1,
        name: ""
    }
      , qr = {
        url: "",
        hidden: 0,
        x: 0,
        y: 0,
        width: 80,
        height: 80
    }
      , Yr = {
        data: "",
        hidden: 0,
        font_size: 18,
        color: "#ffffff"
    }
      , Zr = {
        x: 0,
        y: 0,
        font_size: 20,
        speed: "20",
        data: [{
            data: "",
            line: "",
            bold: 0
        }],
        lockdialog: 1,
        hidden: 0,
        animations: [],
        immediate: 0,
        coverage: "",
        spacing: 0,
        align: ["left", "top"]
    }
      , Jr = {
        x: 866,
        y: 106,
        width: 68,
        height: 68,
        hidden: 0
    }
      , Kr = {
        uuid: "",
        name: "",
        plots: [],
        font: {
            normal: {
                font_size: 20,
                color: "#ffffff",
                hidden: 0
            },
            disable: {
                font_size: 20,
                color: "#ffffff",
                hidden: 0
            }
        },
        disable: 0,
        x: 0,
        y: 0,
        hideTimer: 1,
        option: 0,
        timer: {
            time: {
                type: gn.t,
                value: 0
            },
            type: "enable",
            countDown: 0
        },
        background: {
            normal: {
                width: 0,
                height: 0,
                url: "",
                name: ""
            },
            active: {
                width: 0,
                height: 0,
                url: "",
                name: ""
            }
        },
        condition: c()({
            enable: {
                type: "enable"
            },
            disable: {
                type: "enable"
            }
        }, gn.m, {}),
        width: 0,
        height: 0,
        default: 0,
        hidden: 0
    }
      , $r = c()({
        name: "",
        plots: [],
        count: "",
        type: "branch"
    }, gn.m, {})
      , Xr = {
        type: "text",
        content: {
            data: [{
                data: ""
            }],
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            font_size: 20,
            fontFamily: "",
            animations: [],
            opacity: 1,
            background: {},
            useDefualt: 0,
            adaptive: 1
        },
        avatar: {
            url: "",
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            hidden: 0,
            animations: [],
            view: ""
        },
        role: {
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            data: "",
            fontFamily: "",
            font_size: 20,
            color: "#ffffff",
            hidden: 0,
            animations: []
        },
        position: "left"
    }
      , Qr = {
        type: "image",
        content: {
            url: "",
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            animations: [],
            viewMode: 0,
            view: Dr
        },
        avatar: {
            url: "",
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            hidden: 0,
            animations: [],
            view: ""
        },
        role: {
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            data: "",
            fontFamily: "",
            font_size: 20,
            color: "#ffffff",
            hidden: 0,
            animations: []
        },
        position: "left"
    }
      , ti = {
        type: "voice",
        content: {
            url: "",
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            animations: [],
            viewMode: 0,
            view: Dr,
            name: ""
        },
        avatar: {
            url: "",
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            hidden: 0,
            animations: [],
            view: ""
        },
        role: {
            rect: {
                x: 0,
                y: 0,
                width: 65,
                height: 65
            },
            data: "",
            fontFamily: "",
            font_size: 20,
            color: "#ffffff",
            hidden: 0,
            animations: []
        },
        position: "left"
    }
      , ei = {
        events: [{
            name: "",
            index: 1,
            type: "drag",
            mode: "",
            x: {
                range: [0, Cr()],
                assign: (lr = {},
                c()(lr, gn.a, ""),
                c()(lr, "type", ""),
                lr)
            },
            y: {
                range: [0, Er()],
                assign: (dr = {},
                c()(dr, gn.a, ""),
                c()(dr, "type", ""),
                dr)
            }
        }],
        commands: []
    }
      , ni = {
        events: [{
            name: "",
            index: 1,
            type: "swipe",
            mode: ""
        }],
        commands: []
    }
      , ri = {
        time: 0,
        volume: 1,
        url: ""
    }
      , ii = (fr = {
        autotext: 0,
        plot_sound: [null, null, null, null, null, null, null, null, null, null],
        background: Gr,
        characters: [],
        props: [],
        avatar: qr,
        dialogtitle: Yr,
        speaking: Zr,
        music: {
            url: "",
            volume: 1,
            animation: {}
        },
        sound: {
            volume: 1
        },
        menu: Jr,
        options: [],
        wait: {
            value: 0
        },
        weather: {
            value: "none"
        },
        back: 0,
        jump: "",
        views: [],
        uuid: "",
        animations: [],
        condition_options: [],
        hideGlobalViews: [],
        disableSaveOrLoad: {
            save: 0,
            load: 0
        },
        timestamp: 0,
        insert: ""
    },
    c()(fr, wr, []),
    c()(fr, "dialogid", 0),
    c()(fr, "autoSaveOrLoad", {
        type: 0,
        index: 0
    }),
    fr)
      , ai = (hr = {
        showDialog: {
            type: "showDialog",
            uuid: "",
            args: [{
                avatar: {
                    url: "",
                    hidden: 0,
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                },
                dialogtitle: {
                    data: "",
                    hidden: 0,
                    font_size: 18
                },
                speaking: {
                    opacity: 1,
                    x: 0,
                    y: 0,
                    font_size: 20,
                    speed: "20",
                    data: [{
                        data: ""
                    }],
                    lockdialog: 1,
                    hidden: 0
                },
                dialogid: 0
            }]
        },
        hideDialog: {
            type: "hideDialog",
            uuid: "",
            args: []
        },
        animateDialog: {
            type: "animateDialog",
            uuid: "",
            args: [{
                x: 0,
                y: 0,
                scaleX: 1,
                scaleY: 1,
                duration: 0,
                delay: 0,
                opacity: 1,
                rotate: 0
            }]
        },
        addImage: {
            type: "",
            uuid: "",
            args: [{
                x: 0,
                y: 0,
                index: 0,
                opacity: 1,
                rotate: 0,
                category: "",
                url: "",
                width: 0,
                height: 0,
                name: "",
                filter: {
                    type: "",
                    value: 0
                }
            }]
        },
        delImage: {
            type: "delImage",
            uuid: "",
            args: [0]
        },
        animateImage: {
            type: "animateImage",
            uuid: "",
            args: [{
                x: 0,
                y: 0,
                duration: 0,
                delay: 0,
                rotate: 0,
                opacity: 1,
                index: 0,
                filter: {
                    type: "",
                    value: 0
                }
            }]
        },
        playMusic: {
            type: "playMusic",
            uuid: "",
            args: [{
                index: 0,
                volume: 1,
                url: "",
                name: ""
            }]
        },
        stopMusic: {
            type: "stopMusic",
            uuid: "",
            args: [0]
        },
        animateMusic: {
            type: "animateMusic",
            uuid: "",
            args: [{
                duration: 0,
                delay: 0,
                volume: 1
            }]
        },
        systemUI: {
            type: "systemUI",
            uuid: "",
            args: [""]
        },
        addView: {
            type: "addView",
            uuid: "",
            args: [{
                ref: "",
                instanceUuid: "",
                x: {
                    type: gn.t,
                    value: 0
                },
                y: {
                    type: gn.t,
                    value: 0
                },
                scale: 1,
                events: []
            }]
        },
        delView: {
            type: "delView",
            uuid: "",
            args: [""]
        },
        hideGlobalView: {
            type: "hideGlobalView",
            uuid: "",
            args: [""]
        },
        jump: {
            type: "jump",
            uuid: "",
            args: [""]
        },
        backOption: {
            type: "backOption",
            uuid: "",
            args: [{
                type: gn.t,
                value: 1
            }]
        },
        jumpOption: {
            type: "jumpOption",
            uuid: "",
            args: [{
                type: gn.t,
                value: 1
            }]
        },
        autoSaveOrLoad: {
            type: "jumpOption",
            uuid: "",
            args: [{
                type: 0,
                index: 0
            }]
        },
        disableSaveOrLoad: {
            type: "disableSaveOrLoad",
            uuid: "",
            args: [{
                save: 0,
                load: 0
            }]
        },
        wait: {
            type: "wait",
            uuid: "",
            args: [{
                value: 0
            }]
        },
        addImageEvent: {
            type: "addImageEvent",
            uuid: "",
            args: []
        },
        showBubble: {
            type: "showBubble",
            uuid: "",
            args: [{
                index: 1,
                lockbubble: 0,
                rect: {
                    x: 0,
                    y: 0,
                    width: 1,
                    height: 1
                },
                url: "",
                remove: 0,
                scale: 1
            }]
        },
        emitBubble: {
            type: "emitBubble",
            uuid: "",
            args: []
        },
        hideBubble: {
            type: "hideBubble",
            uuid: "",
            args: [0]
        },
        delImageEvent: {
            type: "delImageEvent",
            uuid: "",
            args: [{
                index: 1,
                type: "",
                mode: ""
            }]
        },
        options: {
            type: "options",
            uuid: "",
            args: []
        },
        conditionOptions: {
            type: "conditionOptions",
            uuid: "",
            args: []
        }
    },
    c()(hr, Pr, {
        type: Pr,
        uuid: "",
        args: []
    }),
    c()(hr, "playSound", {
        type: "playSound",
        uuid: "",
        args: [{
            index: 0,
            url: "",
            volume: 1,
            time: 0
        }]
    }),
    c()(hr, "stopSound", {
        type: "stopSound",
        uuid: "",
        args: []
    }),
    c()(hr, "animateSound", {
        type: "animateSound",
        uuid: "",
        args: [{
            index: 0,
            volume: 1,
            duration: 10,
            delay: 0
        }]
    }),
    c()(hr, "macro", {
        uuid: "",
        type: "macro",
        name: "",
        args: []
    }),
    c()(hr, "addItem", {
        uuid: "",
        type: "addItem",
        args: [{
            ref: "",
            position: []
        }]
    }),
    c()(hr, "delItem", {
        uuid: "",
        type: "delItem",
        args: []
    }),
    hr)
      , oi = function t(e, n) {
        return Object.keys(e).forEach((function(r) {
            void 0 === n[r] ? n[r] = JSON.parse(JSON.stringify(e[r])) : (Object(nn.o)(n[r]) && t(e[r], n[r]),
            Object(nn.b)(n[r]) && n[r][Vn.r]((function(n) {
                return Object(nn.b)(n) ? n[Vn.r]((function(n) {
                    return Object(nn.o)(n) && Object(nn.o)(e[r][0][0]) ? t(e[r][0][0], n) : n
                }
                )) : Object(nn.o)(n) && Object(nn.o)(e[r][0]) ? t(e[r][0], n) : n
            }
            )))
        }
        )),
        n
    }
      , si = function t(e) {
        switch (e.type) {
        case gn.t:
            e.value = e.value || 0;
            break;
        case gn.H:
            e.value = e.value || "";
            break;
        case gn.a:
        case "int":
            e[gn.a] = t(e[gn.a]);
            break;
        case "+":
        case "-":
        case "*":
        case "/":
        case "%":
        case "==":
        case "!=":
        case ">":
        case "<":
        case ">=":
        case "<=":
        case "contain":
        case "nin":
            e[gn.a] = t(e[gn.a]),
            e[gn.b] = t(e[gn.b]);
            break;
        case "random":
            return mr()(e, {
                range: {
                    0: {
                        $apply: function(t) {
                            return Object(nn.n)(t) ? {
                                type: gn.t,
                                value: t
                            } : t
                        }
                    },
                    1: {
                        $apply: function(t) {
                            return Object(nn.n)(t) ? {
                                type: gn.t,
                                value: t
                            } : t
                        }
                    }
                }
            });
        case "min":
        case "max":
        case "average":
        case "all":
        case "any":
            e.args = (e.args || [])[Vn.r](t)
        }
        return e
    }
      , ui = function(t) {
        return t[Vn.r]((function(t) {
            return (t = oi(Dr, t)).events.length > 0 && t.events[Vn.r]((function(t) {
                return t.events || (t.events = []),
                t[gn.m] = si(t[gn.m]),
                t.events = t.events[Vn.r]((function(t) {
                    if ((t = oi(Vr[t.type], t)).type === gn.D) {
                        var e = wr;
                        t.handle[e] = t.handle[e][Vn.r]((function(t) {
                            return t[gn.m] = si(t[gn.m]),
                            t
                        }
                        ))
                    }
                    return t
                }
                )),
                t
            }
            )),
            t
        }
        ))
    }
      , ci = function(t) {
        for (var e in t)
            t[e] = oi(Lr[t[e].type], t[e]),
            "container" === t[e].type && (t[e].children = ui(t[e].children)),
            t[e].events.length > 0 && (t[e].events = t[e].events[Vn.r]((function(t) {
                return t.events || (t.events = []),
                t.events = t.events[Vn.r]((function(t) {
                    return oi(Vr[t.type], t)
                }
                )),
                t
            }
            )));
        return t
    }
      , li = function(t) {
        return t[Vn.r]((function(t) {
            var e = JSON.parse(JSON.stringify(t));
            return (t = oi(Kr, t)).commands && (t = fi.fixPlots(t)),
            t.plots && (t.plots = t.plots[Vn.r]((function(t) {
                return fi.fixPlots(t)
            }
            ))),
            t[gn.m] && (t[gn.m] = si(t[gn.m])),
            e.hideTimer || (t.hideTimer = 0),
            e.timer || delete t.timer,
            e.background || delete t.background,
            e.condition || delete t.condition,
            t
        }
        ))
    }
      , di = function(t) {
        return t[Vn.r]((function(t) {
            return (t = oi($r, t)).plots && (t.plots = t.plots[Vn.r]((function(t) {
                return fi.fixPlots(t)
            }
            ))),
            t.commands && (t = fi.fixPlots(t)),
            t[gn.m] && (t[gn.m] = si(t[gn.m])),
            t
        }
        ))
    }
      , fi = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "fixGame",
            value: function(t) {
                var e, n = function t(e) {
                    return (e = oi(Ar, e)).subchapters = e.subchapters[Vn.r]((function(e) {
                        return t(e)
                    }
                    )),
                    e
                }, r = function(t) {
                    return Object(nn.p)(t) || t[Vn.r]((function(t) {
                        if (t[gn.r]) {
                            var e = t[gn.r].type;
                            t[gn.r] = jr[e] ? oi(jr[e], t[gn.r]) : t[gn.r]
                        }
                    }
                    )),
                    t
                };
                if ((t = mr()(oi(Hr, t), (e = {
                    chapters: {
                        $apply: function(t) {
                            return t[Vn.r]((function(t) {
                                return n(t)
                            }
                            ))
                        }
                    },
                    viewMap: {
                        $apply: function(t) {
                            return ci(t)
                        }
                    },
                    motionImgMap: {
                        $apply: function(t) {
                            return e = t,
                            Object.keys(e).forEach((function(t) {
                                return e[t] = oi(zr, e[t])
                            }
                            )),
                            e;
                            var e
                        }
                    },
                    views: {
                        $apply: function(t) {
                            return ui(t)
                        }
                    },
                    dialogs: {
                        $apply: function(t) {
                            return t[Vn.r]((function(t) {
                                return oi(Fr, t)
                            }
                            ))
                        }
                    }
                },
                c()(e, Sr, {
                    $apply: function(t) {
                        return r(t)
                    }
                }),
                c()(e, _r, {
                    $apply: function(t) {
                        return r(t)
                    }
                }),
                c()(e, xr, {
                    $apply: function(t) {
                        return r(t)
                    }
                }),
                c()(e, kr, {
                    $apply: function(t) {
                        return r(t)
                    }
                }),
                c()(e, Or, {
                    $apply: function(t) {
                        return r(t)
                    }
                }),
                c()(e, wr, {
                    $apply: function(t) {
                        return r(t)
                    }
                }),
                c()(e, "progress", {
                    $apply: function(t) {
                        return t ? oi(Rr, t) : t
                    }
                }),
                c()(e, "inviteRewards", {
                    $apply: function(t) {
                        return function(t) {
                            return oi(Tr, t)
                        }(t)
                    }
                }),
                e))).valueImgs && Object(nn.o)(t.valueImgs)) {
                    var i = [];
                    Object.keys(t.valueImgs).forEach((function(e) {
                        return i[e] = t.valueImgs[e]
                    }
                    )),
                    t.valueImgs = i
                }
                return t
            }
        }, {
            key: "fixPlots",
            value: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (e.commands || n) {
                    var r = function(e) {
                        return "emitBubble" === (e = ai[e.type] ? oi(ai[e.type], e) : e).type ? "text" === e.args[0].type ? (e.args[0] = oi(Xr, e.args[0]),
                        void 0 !== e.args[0].content.background.flex && void 0 === e.args[0].content.background.url && (e.args[0] = mr()(e.args[0], {
                            content: {
                                background: {
                                    url: {
                                        $set: ""
                                    }
                                }
                            }
                        }))) : "image" === e.args[0].type ? e.args[0] = oi(Qr, e.args[0]) : "voice" === e.args[0].type && (e.args[0] = oi(ti, e.args[0])) : "addImageEvent" === e.type ? e.args.length && (e.args[0].events[Vn.r]((function(t) {
                            return "drag" === t.type ? t = oi(ei.events[0], t) : "swipe" === t.type && (t = oi(ni.events[0], t)),
                            t
                        }
                        )),
                        e.args[0] = t.fixPlots(e.args[0], !0)) : "options" === e.type ? e.args = li(e.args) : "conditionOptions" === e.type ? e.args = di(e.args) : e.type === Pr ? e.args = e.args[Vn.r]((function(t) {
                            return br(br({}, t), {}, c()({}, gn.m, si(t[gn.m])))
                        }
                        )) : "macro" === e.type && (e.args[0] = t.fixPlots(e.args[0])),
                        e
                    };
                    e.commands ? e.commands = e.commands[Vn.r]((function(t) {
                        return r(t)
                    }
                    )) : e = r(e)
                } else {
                    var i = function(t) {
                        return t[Vn.r]((function(t) {
                            var e = JSON.parse(JSON.stringify(t));
                            return t = oi(Wr, t),
                            e.animations && 0 !== e.animations.length || (t.animations = []),
                            t
                        }
                        )),
                        t
                    }
                      , a = function(t) {
                        return t[Vn.r]((function(t) {
                            return null !== t && (t = oi(ri, t)),
                            t
                        }
                        )),
                        t
                    }
                      , o = JSON.parse(JSON.stringify(e));
                    e = mr()(oi(ii, e), {
                        options: {
                            $apply: function(t) {
                                return li(t)
                            }
                        },
                        condition_options: {
                            $apply: function(t) {
                                return di(t)
                            }
                        },
                        characters: {
                            $apply: function(t) {
                                return i(t)
                            }
                        },
                        props: {
                            $apply: function(t) {
                                return i(t)
                            }
                        },
                        views: {
                            $apply: function(t) {
                                return ui(t)
                            }
                        },
                        plot_sound: {
                            $apply: function(t) {
                                return a(t)
                            }
                        }
                    }),
                    o.autoSaveOrLoad || delete e.autoSaveOrLoad,
                    o.disableSaveOrLoad || delete e.disableSaveOrLoad
                }
                return e
            }
        }]),
        t
    }()
      , hi = n(109)
      , pi = n.n(hi)
      , vi = "800874300"
      , gi = "//url.cn/5sHv4eQ?_type=wpa&qidian=true"
      , mi = {
        ERROR_INIT_1: {
            code: "101",
            msg: "链接已过期，请重新加载作品，若无法解决，请联系客服~"
        },
        ERROR_INIT_2: {
            code: "102",
            msg: "作品解析失败，请重新加载作品，若无法解决，请联系客服~"
        },
        ERROR_INIT_3: {
            code: "103",
            msg: "作品加载失败，请重新加载作品，若无法解决，请联系客服~"
        },
        ERROR_INIT_4: {
            code: "104",
            msg: "很抱歉，预览码过期暂无法查看，请先看看其他作品~"
        },
        ERROR_INIT_5: {
            code: "105",
            msg: "很抱歉，预览码输入错误，请重新输入~"
        },
        ERROR_INIT_6: {
            code: "106",
            msg: "作品含有敏感词，暂时没有办法查看哦~"
        },
        ERROR_INIT_7: {
            code: "107",
            msg: "当前浏览器模式加载异常，请切换浏览器模式或更换浏览器体验~"
        },
        ERROR_INIT_8: {
            code: "108",
            msg: "当前章节数据获取异常，请刷新重试，若无法解决，请联系客服~"
        },
        ERROR_PLAY_1: {
            code: "201",
            msg: "云存档信息获取错误，请检查你的网络刷新后重新操作。若无法解决，请联系客服~"
        },
        ERROR_PLAY_2: {
            code: "202",
            msg: "存档中该剧情已被作者删除啦！无法从该剧情继续哦~"
        },
        ERROR_PLAY_3: {
            code: "203",
            msg: "存档章节获取失败，请检查你的网络刷新后重新操作。若无法解决，请联系客服~"
        },
        ERROR_PLAY_4: {
            code: "204",
            msg: "帐号异常，无法正确存档，请登录正确账号后重新刷新页面。若无法解决，请联系客服~"
        },
        ERROR_PLAY_5: {
            code: "205",
            msg: "读档错误，点击确定后返回封面，若无法解决，请联系客服~"
        },
        ERROR_PLAY_6: {
            code: "206",
            msg: "存档失败，请稍后重试，若始终无法存档，请联系客服~"
        },
        ERROR_PLAY_7: {
            code: "207",
            msg: "获取付费章节失败，请检查你的网络刷新后重新操作，若无法解决，请联系客服~"
        },
        ERROR_PLAY_8: {
            code: "208",
            msg: "获取商品支付信息异常，请重新操作。若无法解决，请联系客服~"
        },
        ERROR_PLAY_9: {
            code: "209",
            msg: "骨骼动画异常，请刷新尝试，若无法解决，请联系客服~"
        },
        ERROR_PLAY_10: {
            code: "210",
            msg: "未登录状态，云存档失败，请重新登录后重试~"
        },
        ERROR_PLAY_11: {
            code: "211",
            msg: "阅读记录章节获取异常失败，将从头开始作品~"
        },
        ERROR_PLAY_12: {
            code: "212",
            msg: "当前存档记录异常，请使用自己的存档。若有疑问，请联系客服~"
        },
        ERROR_PAYVALUE_1: {
            code: "301",
            msg: "数值出现异常，商城功能无法正常使用，请刷新作品重试~"
        },
        ERROR_PAYVALUE_2: {
            code: "302",
            msg: "帐号异常，商城操作失败。请检查网络、登录正确账号后，重开作品~"
        },
        ERROR_PAYVALUE_3: {
            code: "303",
            msg: "登录账号后值与当前数值不一致，继续可能会造成数值异常，建议刷新作品~"
        },
        ERROR_PAYVALUE_4: {
            code: "304",
            msg: "数值出现异常，继续操作数值无法同步存储，请刷新作品重试~"
        },
        ERROR_PAYVALUE_5: {
            code: "305",
            msg: "当前购买数值存在异常，请存档后刷新重试~"
        },
        ERROR_PAYVALUE_6: {
            code: "306",
            msg: "当前得到的数值异常，请刷新重试，若无法解决，请联系客服~"
        },
        ERROR_PAYVALUE_7: {
            code: "307",
            msg: "当前网络异常，商城功能无法正常使用，请重试或刷新作品后重试~"
        },
        ERROR_PAYVALUE_8: {
            code: "308",
            msg: "购买操作失败，请重试~"
        },
        ERROR_OTHER_1: {
            code: "901",
            msg: "群黑平台游戏初始化失败，请刷新重试~"
        },
        ERROR_OTHER_2: {
            code: "902",
            msg: "腾讯玩吧平台游戏初始化失败，请刷新重试~"
        },
        ERROR_OTHER_3: {
            code: "903",
            msg: "仍未查询到您的支付信息哦，请确认已经支付~ 如有疑问请联系客服~"
        },
        ERROR_OTHER_4: {
            code: "904",
            msg: "未查询到你的付费信息哦，请确认已支付再点击刷新。如未购买请退出或重新购买~"
        },
        ERROR_OTHER_5: {
            code: "905",
            msg: "快看游戏平台游戏初始化失败，请刷新重试~"
        },
        ERROR_OTHER_6: {
            code: "906",
            msg: "快看游戏平台章节获取异常，请稍后重试~"
        }
    }
      , yi = function(t, e, n) {
        if (!Xe.a.dialogIsShow) {
            var r = x.a.client
              , i = t.code
              , a = t.msg;
            switch (en.a.runOnline && "" !== r && Qe.a.cnzzTrackEvent(Qe.a.Events.ERROR + ":".concat(i)),
            i) {
            case "00000":
            case "101":
            case "102":
            case "103":
            case "201":
            case "203":
            case "206":
            case "207":
            case "208":
            case "209":
            case "903":
            case "306":
            case "107":
            case "108":
            case "106":
            case "212":
                Xe.a.custom("Error", "".concat(a), "错误：".concat(i), "重新加载", "pc" === r ? "联系客服" : "复制QQ", !0).then((function(t) {
                    window.location.reload && window.location.reload(),
                    n && n(t)
                }
                ), (function() {
                    if (pi()("".concat(vi), {
                        debug: !1,
                        message: "复制成功"
                    }),
                    e && e(),
                    "pc" === r) {
                        var t = window.open("about:blank");
                        window.setTimeout((function() {
                            t ? t.location.href = gi : window.top.location.href = gi
                        }
                        ), 200)
                    }
                }
                ));
                break;
            case "204":
                Xe.a.custom("Error", "".concat(a), "错误：".concat(i), "pc" === r ? "联系客服" : "复制QQ", "登录", !0).then((function() {
                    if (pi()("".concat(vi), {
                        debug: !1,
                        message: "复制成功"
                    }),
                    e && e(),
                    "pc" === r) {
                        var t = window.open("about:blank");
                        window.setTimeout((function() {
                            t ? t.location.href = gi : window.top.location.href = gi
                        }
                        ), 200)
                    }
                }
                ), (function(t) {
                    return n && n(t)
                }
                ));
                break;
            case "904":
            case "901":
            case "902":
            case "905":
            case "210":
                Xe.a.custom("Error", "".concat(a), "错误：".concat(i), "重试", "退出", !1).then((function() {
                    return e && e()
                }
                ), (function() {
                    return n && n()
                }
                ));
                break;
            case "205":
                Xe.a.custom("Error", "".concat(a), "错误：".concat(i), "确定", "pc" === r ? "联系客服" : "复制QQ", !0).then((function() {
                    return e && e()
                }
                ), (function(t) {
                    if ("close" !== t && pi()("".concat(vi), {
                        debug: !1,
                        message: "复制成功"
                    }),
                    n && n(),
                    "pc" === r) {
                        var e = window.open("about:blank");
                        window.setTimeout((function() {
                            e ? e.location.href = gi : window.top.location.href = gi
                        }
                        ), 200)
                    }
                }
                ));
                break;
            case "202":
            case "301":
            case "302":
            case "303":
            case "304":
            case "305":
            case "211":
            case "307":
            case "308":
            case "906":
                Xe.a.custom("Error", "".concat(a), "错误：".concat(i), "确定", "取消", !0).then((function() {
                    return e && e()
                }
                ), (function() {
                    return n && n()
                }
                ))
            }
        }
    }
      , bi = {};
    bi.gameInfoUrl = "".concat(on.gameDataHost, "/apis/soft/v1.0/game-info.html"),
    bi.gameInfoUrlTest = "".concat(on.gameDataHost, "/apis/soft/v1.0/game-test.html"),
    bi.gameInfoUrlExternal = "".concat(on.gameDataHost, "/apis/soft/v1.0/game-external.html"),
    bi.serverTimeUrl = "".concat(on.myHost, "/?m=timestamp&op=index&ac=get&api_v=1.0.0&api_from=webpc"),
    bi.sensitiveWordUrl = "".concat(on.gameDataHost, "/apis/soft/v1.0/game-GetSensitiveStr.html"),
    bi.appUserInfoUrl = "".concat(on.appHost, "/?m=user&op=index&ac=my_account"),
    bi.pcUserInfoUrl = "".concat(on.payHost, "/?m=player&op=h5_get_account_info"),
    bi.contriInfoUrl = "".concat(on.payHost, "/?m=payinterface&op=player_one_opus_fans"),
    bi.contriInfoRankUrl = "".concat(on.payHost, "/?m=rankingList&op=playerOpusContribution&api_from=api"),
    bi.chapterUrl = "".concat(on.gameDataHost, "/apis/soft/v1.0/chapter-chapterInfo.html"),
    bi.adInfoUrl = "".concat(on.webHost, "/apis/client/v1.0/client-flashAdv.html"),
    bi.pcMticketsInfoUrl = "".concat(on.myHost, "/index.php?m=MonthTicket&op=index&ac=ticketsInGame&api_v=1.0.0&api_from=webpc"),
    bi.appMticketsInfoUrl = "".concat(on.appHost, "/?m=game_info&op=month_ticket&ac=tickets_in_game&client=ios&app_version=2.0.0&v=1.0.0"),
    bi.pcMticketsByRoleUrl = "".concat(on.myHost, "/index.php?m=guard_role&op=guard&ac=valueToRoleOfUser&api_v=1.0.0&api_from=webpc"),
    bi.appMticketsByRoleUrl = "".concat(on.appHost, "/?m=game_info&op=role&ac=user_role_info&client=ios&app_version=2.0.0&v=1.0.0"),
    bi.pcGetPayValuesUrl = "".concat(on.myHost, "/?m=pay_value&op=index&ac=info&api_v=1.0.0&api_from=webpc"),
    bi.appGetPayValuesUrl = "".concat(on.appHost, "/?m=pay_value&op=index&ac=info"),
    bi.pcSavePayValuesUrl = "".concat(on.myHost, "/?m=pay_value&op=index&ac=save&api_v=1.0.0&api_from=webpc"),
    bi.appSavePayValuesUrl = "".concat(on.appHost, "/?m=pay_value&op=index&ac=save"),
    bi.pcDynamickeyUrl = "".concat(on.myHost, "/index.php?m=pay_value&op=index&ac=getPVCode&api_v=1.0.0&api_from=webpc"),
    bi.appDynamickeyUrl = "".concat(on.appHost, "/?m=pay_value&op=index&ac=get_code&v=1.0.0"),
    bi.pcGetPayValuesByDynamickeyUrl = "".concat(on.myHost, "/index.php?m=pay_value&op=index&ac=PVInfo&api_v=1.0.0&api_from=webpc"),
    bi.appGetPayValuesByDynamickeyUrl = "".concat(on.appHost, "/?m=pay_value&op=index&ac=pv_info&v=1.0.0"),
    bi.pcSavePayValuesByDynamickeyUrl = "".concat(on.myHost, "/index.php?m=pay_value&op=index&ac=PVSave&api_v=1.0.0&api_from=webpc"),
    bi.appSavePayValuesByDynamickeyUrl = "".concat(on.appHost, "/?m=pay_value&op=index&ac=pv_save&v=1.0.0"),
    bi.pcAchievementUrl = "".concat(on.myHost, "/?m=achievement&op=index&ac=addPVList&api_from=webpc&api_v=1.0.0"),
    bi.appAchievementUrl = "".concat(on.appHost, "/?m=achievement&op=index&ac=add_pv_list&client=android&v=1.0.0"),
    bi.getPayValuesByTestUrl = "".concat(on.myHost, "/?m=play&op=payValue&ac=getPayValue&api_v=1.0.0&api_from=webpc"),
    bi.savePayValuesByTestUrl = "".concat(on.myHost, "/?m=play&op=payValue&ac=savePayValue&api_v=1.0.0&api_from=webpc"),
    bi.pcCheckPayUrl = "".concat(on.payHost, "/?m=consume&op=h5_flash_request"),
    bi.appCheckPayUrl = "".concat(on.appHost, "/?m=consume&op=index&ac=market_order_status"),
    bi.pcCommodityInfoUrl = "".concat(on.payHost, "/?m=player&op=h5_purchase_market_count"),
    bi.appCommodityInfoUrl = "".concat(on.appHost, "/?m=consume&op=index&ac=h5_purchase_market_count"),
    bi.commodityDiscountUrl = "".concat(on.gameDataHost, "/apis/soft/v1.0/game-getCharge.html"),
    bi.commodityPackPriceUrl = "".concat(on.appHost, "/?m=consume&op=index&ac=market_package_price"),
    bi.pcGetCloudRecordUrl = "".concat(on.myHost, "/?m=cloud_save&op=index&ac=info&client_type=1&api_v=1.0.0&api_from=webpc"),
    bi.appGetCloudRecordUrl = "".concat(on.appHost, "/?m=cloud_save&op=index&ac=info"),
    bi.pcSaveCloudRecordUrl = "".concat(on.myHost, "/?m=cloud_save&op=index&ac=save&client_type=1&api_v=1.0.0&api_from=webpc"),
    bi.appSaveCloudRecordUrl = "".concat(on.appHost, "/?m=cloud_save&op=index&ac=save"),
    bi.pcUnlockRecordUrl = "".concat(on.myHost, "/?m=cloud_save&op=index&ac=getArchiveRecord&api_v=1.0.0&api_from=webpc"),
    bi.appUnlockRecordUrl = "".concat(on.appHost, "/?m=cloud_save&op=index&ac=get_archive_record"),
    bi.statisticsUrl = "".concat(on.appHost, "/?m=statistics&op=start&ac=h5"),
    bi.optionClickUrl = "".concat(on.webHost, "/apis/client/v1.0/trace-optionClick.html"),
    bi.sendGameStartedUrl = "".concat(on.webHost, "/apis/client/v1.0/trace-play.html"),
    bi.sendPlayTimeUrl = "".concat(on.myHost, "/?m=user_info&op=index&ac=add_user_play_time&api_v=1.0.0&api_from=webpc"),
    bi.logErrorURl = "".concat(on.gameDataHost, "/upload/index-clientLog.html"),
    bi.roleRanksUrl = "".concat(on.webHost, "/apis/client/Role-RoleRank.html"),
    bi.consRanksUrl = "".concat(on.payHost, "/?m=rankingList&op=fansContribution&api_from=api"),
    bi.fansRanksUrl = "".concat(on.payHost, "/?m=rankingList&op=fansRank&api_from=api"),
    bi.roleInfoUrl = "".concat(on.webHost, "/apis/client/Role-RoleList.html"),
    bi.gidUrl = "".concat(on.webHost, "/apis/client/game-GetSingleGame.html"),
    bi.payValueRanks = "".concat(on.myHost, "/index.php?m=pay_value&op=index&ac=getUserRanking&api_v=1.0.0&api_from=webpc"),
    bi.monthTicketRanksUrl = "".concat(on.myHost, "/index.php?m=MonthTicket&op=index&ac=rank&api_v=1.0.0&api_from=webpc"),
    bi.appCollectionsUrl = "".concat(on.appHost, "/?m=user&op=collections&ac=collect_appoint_search"),
    bi.pcCollectionsUrl = "".concat(on.myHost, "/index.php?m=user_info&op=index&ac=collect_appoint_search&api_v=1.0.0&api_from=webpc"),
    bi.appTotalrRleRanksUrl = "".concat(on.appHost, "/?m=game_info&op=role&ac=user_game_guard"),
    bi.pcTotalrRleRanksUrl = "".concat(on.myHost, "/index.php?m=guard_role&op=guard&ac=valueToGameOfUser&api_v=1.0.0&api_from=webpc"),
    bi.pcFollowedUrl = "".concat(on.myHost, "/?m=relation&op=index&ac=fs&api_v=1.0.0&api_from=webpc"),
    bi.appFollowedUrl = "".concat(on.appHost, "/?m=user&op=follow_fans&ac=fs"),
    bi.wapLoginInfoUrl = "".concat(on.loginHost, "/?m=ptlogin&ac=cookieuid"),
    bi.pcLoginInfoUrl = "".concat(on.webHost, "/apis/client/v1.0/user-login.html"),
    bi.checkUserInternalTestUrl = "".concat(on.appHost, "/?m=game_info&op=index&ac=alpha_status"),
    bi.gameNoticeInfoUrl = "".concat(on.myHost, "/index.php?m=message&op=authorNotice&ac=getAuthorGameNotice&api_v=1.0.0&api_from=webpc"),
    bi.gameNoticeUrl = "".concat(on.myHost, "/?m=rim&op=notice&ac=notice&gid="),
    bi.singleConfigUrl = "./config.json",
    bi.wapGameEndPageByTheaterUrl = "".concat(on.wapHost, "/?m=detail&op=index&ac=short_play&id="),
    bi.openAppUrl = "".concat(on.appHost),
    bi.appDownLoadUrl = "".concat(on.appHost, "/?m=index&op=index&ac=app_url&client=android&app_version=1.14.0&v=1.0.0"),
    bi.openDiailUrl = "".concat(on.wapHost, "/?m=detail&op=index&ac=index&id="),
    bi.pcShareUrl = "".concat(on.webHost, "/opusshare.html?id="),
    bi.checkNoUpdateValueOfflineUrl = "".concat(on.appHost, "/?m=game_info&op=download&ac=game_download_status"),
    bi.loadCoverImageUrl = "".concat(on.gameDataHost, "/apis/soft/v1.0/game-preparePlay.html"),
    bi.appWatchAdCountUrl = "".concat(on.appHost, "/?m=user&op=index&ac=play_watch_ad"),
    bi.pcWatchAdCountUrl = "".concat(on.myHost, "/index.php?m=user_info&op=index&ac=pcPlayWatchAd&api_v=1.0.0&api_from=webpc"),
    bi.steamAchieveListsUrl = "https:".concat(on.gameDataHost, "/apis/soft/v1.0/steamGame-getPlayerAchievements.html"),
    bi.steamHandleAchieveUrl = "https:".concat(on.gameDataHost, "/apis/soft/v1.0/steamGame-setUserStatsForGame.html"),
    bi.getFonts = "".concat(on.gameDataHost, "/apis/soft/v1.0/game-getFont.html"),
    bi.checkCdkeyUrl_pc = "".concat(on.myHost, "/?m=ex&op=maker&ac=use&api_v=1.0.0&api_from=webpc"),
    bi.checkCdkeyUrl_app = "".concat(on.appHost, "/?m=game_info&op=ex&ac=use"),
    bi.uploadBytesUrlPc = "".concat(on.myHost, "/index.php?m=flow&op=index&ac=flowUpload&api_v=1.0.0&api_from=webpc"),
    bi.uploadBytesUrlApp = "",
    bi.inviteUrlPc = "".concat(on.myHost, "?m=YQ&op=player&ac=some&api_v=1.0.0&api_from=webpc"),
    bi.inviteUrlApp = "".concat(on.appHost, "/?m=game_info&op=yq&ac=some&client=android&app_version=2.4.8&v=1.0.0"),
    bi.checkInviteUrlPc = "".concat(on.myHost, "?m=YQ&op=player&ac=checkCode&api_v=1.0.0&api_from=webpc"),
    bi.checkInviteUrlApp = "".concat(on.appHost, "/?m=game_info&op=yq&ac=checkCode&client=android&app_version=2.4.8&v=1.0.0"),
    bi.haveBeenInviteRewardPc = "".concat(on.myHost, "?m=YQ&op=player&ac=award&api_v=1.0.0&api_from=webpc"),
    bi.haveBeenInviteRewardApp = "".concat(on.appHost, "/?m=game_info&op=yq&ac=award&client=android&app_version=2.4.8&v=1.0.0"),
    bi.checkMallUrlPc = "".concat(on.myHost, "/?m=game&op=index&ac=consumeLimitStatus&api_v=1.0.0&api_from=webpc"),
    bi.checkMallUrlApp = "".concat(on.appHost, "/?m=game_info&op=index&ac=consume_limit_status"),
    bi.getOpenUrl = "".concat(on.myHost, "/?m=PlayerGuardRole&op=index&ac=getUrl&api_v=1.0.0&api_from=webpc");
    for (var wi = bi, xi = n(26), ki = n(10), _i = [], Oi = 0; Oi < 26; Oi++)
        Oi < 10 && _i.push(Oi + ""),
        _i.push(Object(ki.a)((Oi % 2 ? rn.b : rn.a) + Oi)),
        _i.push(Object(ki.a)((Oi % 2 ? rn.a : rn.b) + Oi));
    _i.push(Object(ki.a)(43)),
    _i.push(Object(ki.a)(47));
    var Si = _i[Vn.p];
    function Pi(t) {
        var e = t[Vn.e]();
        return e > 96 && e < 123
    }
    function Ci(t) {
        var e = t[Vn.e]();
        return e > 64 && e < 91
    }
    function Ei(t) {
        return Pi(t) ? rn.b : rn.a
    }
    function ji(t, e) {
        var n = _i[Vn.n](t);
        return _i[n = (n + 10 * Si + e) % Si]
    }
    function Ai(t) {
        for (var e = "", n = "", r = 300, i = 0, a = 0, o = t.length; a < o; a++) {
            var s = t[a];
            e += Pi(s) ? s : "",
            n += Ci(s) ? s : "",
            r = Object(un.r)(r, s[Vn.e]()),
            i = Object(un.q)(i, s[Vn.e]())
        }
        return [e, n, ~~((i - r + 1) / 2)]
    }
    function Ii(t) {
        return t[Vn.G]("").reduce((function(t, e) {
            return t + e[Vn.e]()
        }
        ), 0)
    }
    function Ri() {
        return ["1", "a", "A"][Object(un.k)(3 * Object(un.u)())]
    }
    function Ti() {
        return _i[Object(un.k)(Object(un.u)() * Si)]
    }
    function Mi(t, e) {
        for (var n = Ei(e), r = 0, i = e[Vn.p]; r < i; r++) {
            var a = e[Vn.e](r)
              , o = (a - n) % t[Vn.p];
            t = t[Vn.E](0, o) + ji(t[o], a) + t[Vn.E](o + 1)
        }
        return [t, ""]
    }
    function Di(t, e) {
        for (var n = "", r = Ei(e), i = 0, a = e[Vn.p]; i < a; i++) {
            var o = (e[i][Vn.e]() - r) % t[Vn.p];
            n += t[o],
            t = t[Vn.E](0, o) + Ti() + t[Vn.E](o + 1)
        }
        return [t, n]
    }
    function Bi(t, e) {
        for (var n = Ei(e), r = 0, i = e[Vn.p]; r < i; r++) {
            var a = (e[r][Vn.e]() - n) % t[Vn.p];
            t = t[Vn.E](0, a) + Ti() + t[Vn.E](a)
        }
        return [t, ""]
    }
    function Ui(t, e) {
        for (var n = "", r = Ei(e), i = 0, a = (e = e[Vn.E](0, t[Vn.p]))[Vn.p]; i < a; i++) {
            var o = (e[i][Vn.e]() - r) % t[Vn.p];
            n += t[o],
            t = t[Vn.E](0, o) + t[Vn.E](o + 1)
        }
        return [t, n]
    }
    function zi(t, e) {
        for (var n = Ei(e), r = e[Vn.p] - 1; r >= 0; r--) {
            var i = e[Vn.e](r)
              , a = (i - n) % t[Vn.p];
            t = t[Vn.E](0, a) + ji(t[a], -i) + t[Vn.E](a + 1)
        }
        return t
    }
    function Li(t, e, n) {
        for (var r = Ei(e), i = e[Vn.p] - 1; i >= 0; i--) {
            var a = (e[i][Vn.e]() - r) % t[Vn.p];
            t = t[Vn.E](0, a) + n[i] + t[Vn.E](a + 1)
        }
        return t
    }
    function Vi(t, e) {
        for (var n = Ei(e), r = e[Vn.p] - 1; r >= 0; r--) {
            var i = (e[r][Vn.e]() - n) % (t[Vn.p] - 1);
            t = t[Vn.E](0, i) + t[Vn.E](i + 1)
        }
        return t
    }
    function Fi(t, e, n) {
        for (var r = Ei(e), i = (e = e[Vn.E](0, n[Vn.p]))[Vn.p] - 1; i >= 0; i--) {
            var a = (e[i][Vn.e]() - r) % (t[Vn.p] + 1);
            t = t[Vn.E](0, a) + n[i] + t[Vn.E](a)
        }
        return t
    }
    var Ni = ["", 0];
    function Hi(t) {
        return Ni[0] = t ? encodeURIComponent(Object(xi.a)(t, 3)) : Ni[0],
        Ni[1] = an.a.getCurDate(),
        Ni[0]
    }
    function Wi() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return t ? Ni : Ni[0]
    }
    var Gi = Object(ki.a)(61)
      , qi = [Mi, Di, Bi, Ui]
      , Yi = [zi, Li, Vi, Fi];
    function Zi(t) {
        var e = Wi()
          , n = Ai(e)
          , r = s()(n, 3)
          , i = r[0]
          , a = r[1]
          , o = r[2]
          , u = t[Vn.n](Gi)
          , c = (u = ~u ? u : t[Vn.p]) - o
          , l = t[Vn.E](0, o)
          , d = t[Vn.E](o, c)
          , f = t[Vn.E](c, u)
          , h = t[Vn.E](u)
          , p = Ri()
          , v = Ii(e)
          , g = ""
          , m = [i, a]
          , y = v % 4
          , b = qi[y](l, m[y % 2])
          , w = s()(b, 2)
          , x = w[0]
          , k = w[1];
        l = x,
        g += k;
        var _ = qi[y = ~~(v / 2) % 4](f, m[y % 2])
          , O = s()(_, 2);
        return x = O[0],
        e + p + (g += k = O[1]) + l + d + (f = x) + h
    }
    function Ji(t) {
        var e = Wi()
          , n = Ai(e)
          , r = s()(n, 3)
          , i = r[0]
          , a = r[1]
          , o = r[2]
          , u = e[Vn.p]
          , c = t[Vn.n](Gi);
        c = ~c ? c : t[Vn.p];
        var l = t[Vn.E](c)
          , d = t[Vn.E](u, u + 1);
        if (!Object(ki.d)([16, 48, 0], 49)[Vn.m](d))
            return "";
        t = t[Vn.E](u + 1, c);
        var f, h = "", p = "", v = Ii(e), g = [i, a], m = v % 4, y = g[m % 2], b = [0, u = y[Vn.p], 0, Object(un.r)(o, u)][m], w = [o, o, o + u, Object(un.q)(o - u, 0)][m], x = ~~(v / 2) % 4, k = g[x % 2], _ = [o, o, o + (u = k[Vn.p]), Object(un.q)(o - u, 0)][x], O = t[Vn.E](0, b + [0, u, 0, Object(un.r)(o, u)][x]);
        return u = (t = t[Vn.E](O[Vn.p]))[Vn.p],
        h = t[Vn.E](0, w),
        f = t[Vn.E](w, u - _),
        p = t[Vn.E](u - _),
        (h = Yi[m](h, y, O[Vn.E](0, b))) + f + (p = Yi[x](p, k, O[Vn.E](b))) + l
    }
    var Ki, $i = [];
    function Xi(t) {
        $i = [t, Object(xi.h)(Object(un.v)(t)), ""];
        var e = 0
          , n = Wi();
        $i[Vn.J] = function() {
            var t = Wi();
            return n === t ? e++ : (e = 1,
            n = t),
            Zi(this[e])
        }
    }
    function Qi() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return t ? $i : $i[0]
    }
    function ta() {
        $i = []
    }
    function ea(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function na(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? ea(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ea(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var ra = {
        ERROR: 999,
        NORESULT: 9999,
        TIMEOUT: 99999
    }
      , ia = navigator
      , aa = ia.userAgent
      , oa = (Ki = {},
    c()(Ki, gn.M, ""),
    c()(Ki, "u", ""),
    c()(Ki, "token", ""),
    Ki)
      , sa = function() {
        return !(!x.a.isWapOther && "kk" !== x.a.wap) || On.isAppClient()
    }
      , ua = function() {
        return "ios" === x.a.client && x.a.offline
    }
      , ca = function() {
        return x.a.offlinepath && "" !== x.a.offlinepath ? x.a.offlinepath : "gamejson/"
    }
      , la = 5
      , da = {
        time: null,
        requestPromise: null,
        result: null
    }
      , fa = function() {
        return x.a.offline ? "offline".concat(x.a.uuid).concat(gn.v).concat(x.a.isSteam ? x.a.steamId : oa[gn.M]) : "".concat(x.a.uuid).concat(gn.v).concat(oa[gn.M])
    }
      , ha = ""
      , pa = Date.now()
      , va = encodeURIComponent
      , ga = function(t, e) {
        return va(Object(xi.b)(t, e))
    }
      , ma = function(t, e) {
        return va(Object(xi.a)(t, e))
    }
      , ya = function(t, e) {
        var n = e.match(new RegExp("[?&]" + t + "=([^&]+)","i"));
        return null == n || n.length < 1 ? "" : n[1]
    }
      , ba = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1
          , n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]
          , r = Object(un.n)(t).sort()
          , i = ""
          , a = {};
        return r.forEach((function(r) {
            -1 !== e ? n ? i += "".concat(r, "=").concat(ga("sign" === r ? vr.a.hash(vr.a.hash(t[r])) : t[r], e), "&") : a[r] = ga("sign" === r ? vr.a.hash(vr.a.hash(t[r])) : t[r], e) : i += "".concat(r, "=").concat(t[r], "&")
        }
        )),
        -1 === e || n ? i.substr(0, i.length - 1) : a
    }
      , wa = function() {
        var t = x.a.app_name
          , e = x.a.device_name
          , n = x.a.deviceOsVer;
        return ba({
            u: oa.u,
            token: oa.token,
            app_name: t || "shanyi",
            device_name: e || "Google Nexus S",
            device_system_version: n || "4.1.1"
        }, 1)
    }
      , xa = function(t) {
        if (0 === t.search(/(https|http):\/\//)) {
            var e = window.location.href.split("://")[0];
            t = t.replace(/(https|http)/, e)
        }
        return t
    }
      , ka = !1;
    function _a(t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
          , n = arguments.length > 2 ? arguments[2] : void 0
          , r = function(t) {
            return new Uint8Array(t.subarray(23, t.length - 21)).buffer
        }
          , i = function(t) {
            return Object(k.g)(t).then((function(t) {
                return Object(xi.c)(t)
            }
            ), (function(t) {
                return -1 === t && Object(jn.k)(),
                Promise.reject(t)
            }
            )).then((function(t) {
                var e;
                return e = {},
                c()(e, gn.e, "100"),
                c()(e, "result", t),
                e
            }
            ))
        }
          , a = new Uint8Array(t);
        return a && a[23] && 172 === a[23] ? (t = r(a),
        ka = !0,
        i(t)) : Object(xi.c)(t).then((function(t) {
            var i = t[gn.e];
            return e && "100" == i && (ka && Object(jn.k)(),
            n && Object(g.f)(new Blob([r(a)])).then((function(t) {
                return n != t && Object(jn.k)()
            }
            ))),
            t
        }
        ))
    }
    function Oa(t, e, n) {
        return _a(t, !1).then((function(t) {
            var r = t.code
              , i = t.result;
            return "100" === String(r) ? Object(nn.o)(i) ? Promise.resolve(t) : Object(An.a)({
                url: xa(i) + "?".concat(x.a.assetsversion),
                progress: e,
                responseType: "arraybuffer",
                isCount: !0
            }).then((function(t) {
                return _a(t.response, !0, n).catch((function(t) {
                    return aa.match(/Trident\/7.0/gi) ? Promise.reject({
                        code: "00001"
                    }) : Promise.reject(t)
                }
                ))
            }
            )) : Promise.resolve(t)
        }
        ))
    }
    var Sa = function(t, e) {
        var n = x.a.gid
          , r = x.a.offline
          , i = x.a.offlinetest
          , a = x.a.singleAlone;
        if (sa() && r && (t = "https:".concat(t)),
        a || ua() || i) {
            var o = ya("uuid", t);
            t = ua() ? "".concat(ca()).concat(o, ".json") : "game".concat(n, "/json/").concat(o, ".json")
        }
        return sa() && r && 0 === t.search(/file:\/\//) && (t = t.replace(/file/, "https")),
        Object(An.a)({
            url: t,
            progress: e,
            responseType: "arraybuffer"
        }).then((function(t) {
            return Oa(t.response, e).then((function(t) {
                var e = t.code
                  , n = t.result
                  , i = void 0 === n ? {} : n
                  , a = t.message;
                return "100" == String(e) ? i : r ? t : Promise.reject({
                    code: e,
                    message: a
                })
            }
            ))
        }
        ))
    }
      , Pa = function(t, e) {
        var n = x.a.offline
          , r = x.a.single;
        return (sa() && n || r) && (t = "https:".concat(t)),
        Object(An.c)({
            url: t,
            data: e,
            timeout: 4e3
        }).then((function(e) {
            var n = e.responseText;
            if (0 === n.length)
                return Promise.reject({
                    code: ra.ERROR,
                    message: "POST ERROR ".concat(t)
                });
            try {
                return JSON.parse(n)
            } catch (e) {
                return Promise.reject({
                    code: ra.NORESULT,
                    message: "POST ERROR ".concat(t)
                })
            }
        }
        ), (function(t) {
            return Promise.reject({
                code: ra.ERROR,
                message: "请求异常，请在网络稳定后重试~",
                reason: t
            })
        }
        ))
    }
      , Ca = function(t, e) {
        var n = x.a.offline
          , r = x.a.single;
        return (sa() && n || r) && (t = "https:".concat(t)),
        Object(An.a)({
            url: t,
            data: e
        }).then((function(e) {
            var n = e.responseText;
            return 0 === n.length ? Promise.reject({
                code: ra.ERROR,
                message: "GET ERROR ".concat(t)
            }) : Promise.resolve(JSON.parse(n))
        }
        ), (function(t) {
            return Promise.reject({
                code: ra.ERROR,
                message: "请求异常，请在网络稳定后重试~",
                reason: t
            })
        }
        ))
    }
      , Ea = function(t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ""
          , r = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3]
          , i = x.a.app_name
          , a = x.a.device_name
          , o = x.a.deviceOsVer
          , s = "" === n ? Object(rn.c)(sa() && r ? 17 : 18) : n
          , u = {};
        return sa() && r ? u = {
            app_name: i || "shanyi",
            token: oa.token,
            device_name: a || "Google Nexus S",
            device_system_version: o || "4.1.1",
            u: oa.u,
            v_key: s
        } : (u = {
            v_key: s
        },
        e && (u[gn.M] = oa[gn.M])),
        ba(Object(un.f)(u, t))
    }
      , ja = function() {
        return Da().then((function(t) {
            return an.a.updateServerTimeStamp(t),
            Promise.resolve()
        }
        )).catch((function() {
            return an.a.updateServerTimeStamp(Math.floor(Date.now() / 1e3)),
            Promise.resolve()
        }
        ))
    }
      , Aa = function() {
        var t = Wi(!0)
          , e = s()(t, 2)
          , n = e[0]
          , r = e[1];
        return "" !== n && an.a.getCurDate() - r < 3600 ? Promise.resolve(n) : so(0).then((function(t) {
            return Hi(t)
        }
        ))
    }
      , Ia = function(t) {
        var e = t.status
          , n = t.data
          , r = void 0 === n ? null : n
          , i = t.msg;
        return r && (r.data || r[gn.e]) && Hi(r[gn.e] || r.data[gn.e]),
        new Promise((function(t, n) {
            var a, o, s;
            switch (String(e)) {
            case "0":
                if (r) {
                    var u, l, d = r[gn.j] || "";
                    return t("" === String(d) ? (u = {},
                    c()(u, gn.e, 0),
                    c()(u, "data", null),
                    u) : (l = {},
                    c()(l, gn.e, 1),
                    c()(l, "data", d),
                    l))
                }
                return t((a = {},
                c()(a, gn.e, 0),
                c()(a, "data", null),
                a));
            case "-1":
            case "-2":
            case "-100":
            case "4":
                return t((o = {},
                c()(o, gn.e, 4 === e ? -1 : e),
                c()(o, "data", null),
                o));
            case "1":
            case "2":
            case "3":
            case "5":
            case "6":
            case "7":
            case "8":
                return t((s = {},
                c()(s, gn.e, -3),
                c()(s, "data", null),
                s));
            case "1001":
                if (en.a.runCheck && r) {
                    var f, h, p, v = r.uid, g = r[gn.j];
                    return "0" === String(v) ? t((f = {},
                    c()(f, gn.e, -1),
                    c()(f, "data", null),
                    f)) : t("" !== String(g) ? (h = {},
                    c()(h, gn.e, 1),
                    c()(h, "data", g),
                    h) : (p = {},
                    c()(p, gn.e, 0),
                    c()(p, "data", null),
                    p))
                }
                return n("".concat(Object(rn.c)(6)).concat(e, "：").concat(i));
            default:
                return n("".concat(Object(rn.c)(6)).concat(e, "：").concat(i))
            }
        }
        ))
    }
      , Ra = function(t) {
        var e = t.status
          , n = t.data
          , r = void 0 === n ? null : n
          , i = t.msg
          , o = t.test
          , s = void 0 !== o && o
          , u = t[gn.O];
        return new Promise((function(t, n) {
            var o = fa().replace(gn.v, gn.v + "Test");
            i && i.indexOf("还未登录") > -1 && (e = -1),
            r && (r.data || r[gn.e]) && Hi(r[gn.e] || r.data[gn.e]);
            var c = function(t, e) {
                var n = Object(k.o)()
                  , r = {
                    version: Object(xi.b)(String(n), n),
                    visitor: "" === oa[gn.M]
                }
                  , i = a()(t);
                e && i.push(r);
                var o = Object(k.h)(Object(xi.e)(Object(xi.f)(Object(un.v)(i))), 1, n);
                return Object(un.v)({
                    data: o
                })
            };
            switch (String(e)) {
            case "0":
                return t({
                    success: !0,
                    msg: Object(rn.c)(8),
                    isline: !0,
                    status: e
                });
            case "-100":
            case "-1":
            case "4":
                return x.a.singleAlone ? On.singleSaveValue(ga(fa(), 1), c(u, !0)) : On.localStorageSetItem(en.a.runCheck || s ? ga(o, 1) : ga(fa(), 1), c(u, !0)),
                t({
                    success: !0,
                    msg: Object(rn.c)(9),
                    isline: !1,
                    status: e
                });
            case "1001":
                return en.a.runCheck ? t({
                    success: !0,
                    msg: Object(rn.c)(10),
                    isline: !0,
                    status: e
                }) : n({
                    error: Object(rn.c)(11),
                    success: !1,
                    status: e
                });
            default:
                return n({
                    error: Object(rn.c)(11),
                    success: !1,
                    status: e
                })
            }
        }
        ))
    }
      , Ta = function(t) {
        var e = t.uid
          , n = void 0 === e ? "" : e
          , r = t.u
          , i = void 0 === r ? "" : r
          , a = t.token
          , o = void 0 === a ? "" : a;
        oa[gn.M] = n,
        oa.u = i,
        oa.token = o
    }
      , Ma = function() {
        var t = x.a.uuid;
        return "pc" !== x.a.client ? Promise.resolve() : Ca(wi.adInfoUrl, "?uuid=".concat(t, "&dynamic=").concat((new Date).getTime())).then((function(t) {
            var e = t.code
              , n = t.result;
            return "100" === String(e) ? n : Promise.resolve()
        }
        ), (function() {
            return Promise.resolve()
        }
        ))
    }
      , Da = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
          , e = x.a.singleAlone;
        return e ? Promise.resolve(0) : Ca(wi.serverTimeUrl).then((function(e) {
            var n = e.status
              , r = e.data
              , i = e.msg;
            return "0" === String(n) ? t && r.noPlay ? na({
                timestamp: r.timestamp || Math.floor(Date.now() / 1e3)
            }, r.noPlay) : r.timestamp || Math.floor(Date.now() / 1e3) : Promise.reject({
                code: ra.NORESULT,
                message: i
            })
        }
        ))
    }
      , Ba = function() {
        return x.a.singleAlone ? Promise.reject() : Pa(wi.sensitiveWordUrl, "action=all").then((function(t) {
            var e = t.code
              , n = t.result
              , r = t.message;
            return "100" === String(e) ? Object(nn.b)(n) ? n : JSON.parse(Object(xi.a)(n, 4)) : Promise.reject({
                code: ra.NORESULT,
                message: r
            })
        }
        ))
    }
      , Ua = function() {
        var t = x.a.gid
          , e = x.a.v
          , n = x.a.wap
          , r = x.a.client
          , i = x.a.app_version;
        if ("wap" === r && "wx" === n)
            return Promise.reject();
        var a = sa() ? "".concat(wi.appUserInfoUrl, "&client=").concat(r, "&v=").concat(e, "&app_version=").concat(i) : wi.pcUserInfoUrl
          , o = sa() ? ba({
            u: oa.u,
            token: oa.token,
            game_id: t
        }, 1) : "gid=".concat(t);
        return Pa(a, o).then((function(t) {
            var e, n = t.status, r = t.data;
            return "0" === String(n) ? (e = {},
            c()(e, gn.f, r["".concat(gn.w, "ment_available")] || 0),
            c()(e, gn.P, r.zcoin_payment_available || 0),
            c()(e, gn.G, r.game_coin_available || 0),
            c()(e, "usedStarCount", r.single_game_star_use || 0),
            c()(e, "gameStarLimit", r.single_game_star || 0),
            c()(e, gn.E, r.daily_share || 0),
            c()(e, gn.F, r.total_share || 0),
            c()(e, gn.M, r[gn.M] || oa[gn.M] || ""),
            c()(e, gn.n, r.fans_count || 0),
            e) : Promise.reject(t)
        }
        ))
    }
      , za = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , n = x.a.gid
          , r = sa() ? 1 : 0
          , i = an.a.getCurDate()
          , a = "" === n ? 1 : parseInt(n)
          , o = {}
          , s = 0 !== t && 0 !== e;
        s && (t = an.a.format(1e3 * t),
        e = an.a.format(1e3 * e),
        o.start = t,
        o.end = e,
        o.type = 2),
        o.time = i,
        o[sa() ? "game_id" : "gid"] = a;
        var u = Ea(Object(un.f)({}, o));
        o.sign = u,
        sa() || (o[gn.M] = oa[gn.M]);
        var c = sa() ? wi.appMticketsInfoUrl : wi.pcMticketsInfoUrl
          , l = sa() ? "".concat(ba(o, r), "&").concat(wa()) : "".concat(ba(o, r));
        return Pa(c, l).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "100" === String(e) || "0" === String(e) ? Promise.resolve(n.tickets || 0) : Promise.reject({
                code: e,
                message: r
            })
        }
        ))
    }
      , La = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
          , r = x.a.gid
          , i = sa() ? 1 : 0
          , a = an.a.getCurDate()
          , o = "" === r ? 1 : parseInt(r)
          , s = {}
          , u = 0 !== e && 0 !== n;
        s[sa() ? "role_id" : "role"] = t.join(","),
        s.gid = o,
        u && (e = an.a.format(1e3 * e),
        n = an.a.format(1e3 * n),
        s.start = e,
        s.end = n,
        s.type = 2),
        s.time = a;
        var c = Ea(Object(un.f)({}, s));
        s.sign = c,
        sa() || (s[gn.M] = oa[gn.M]);
        var l = sa() ? wi.appMticketsByRoleUrl : wi.pcMticketsByRoleUrl
          , d = sa() ? "".concat(ba(s, i), "&").concat(wa()) : "".concat(ba(s, i));
        return Pa(l, d).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "100" === String(e) || "0" === String(e) ? Promise.resolve(n || {}) : Promise.reject({
                code: e,
                message: r
            })
        }
        ))
    }
      , Va = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
          , r = x.a.gid
          , i = x.a.client
          , a = x.a.app_version
          , o = x.a.v
          , s = sa() ? 1 : 0
          , u = an.a.getCurDate()
          , c = "" === r ? 1 : parseInt(r)
          , l = {}
          , d = 0 !== e && 0 !== n
          , f = {
            month: 1,
            week: 2,
            day: 3
        };
        l.game_id = c,
        d ? (e = an.a.format(1e3 * e),
        n = an.a.format(1e3 * n),
        l.start = e,
        l.end = n,
        l.time_type = 0) : l.time_type = f[t],
        l.time = u;
        var h = Ea(Object(un.f)({}, l));
        l.sign = h,
        sa() || (l[gn.M] = oa[gn.M]);
        var p = sa() ? "".concat(wi.appTotalrRleRanksUrl, "&client=").concat(i, "&v=").concat(o, "&app_version=").concat(a, "&player_version=").concat(tn.a) : wi.pcTotalrRleRanksUrl
          , v = sa() ? "".concat(ba(l, s), "&").concat(wa()) : "".concat(ba(l, s));
        return Pa(p, v).then((function(t) {
            var e = t.status
              , n = t.data;
            return 0 == e || 100 == e ? Promise.resolve(n.guard_value || 0) : Promise.resolve(0)
        }
        )).catch((function() {
            return Promise.resolve(0)
        }
        ))
    }
      , Fa = function() {
        var t = x.a.gid;
        return Ca(wi.contriInfoUrl, "opus_id=".concat(t, "&uid=").concat(oa[gn.M])).then((function(t) {
            return t.data.fans_total || 0
        }
        ), (function() {
            return Promise.resolve(0)
        }
        ))
    }
      , Na = function(t) {
        var e = x.a.gid
          , n = "" === e ? 1 : parseInt(e)
          , r = an.a.getCurDate()
          , i = c()({
            gid: n,
            type: {
                month: 1,
                week: 2,
                day: 3
            }[t]
        }, gn.M, oa[gn.M])
          , a = ba(Object(un.f)({}, i), 4, !1);
        a.time = r;
        var o = vr.a.hash(Ea(Object(un.f)({}, a), !1, "4shan3yi9xia9men"));
        i.sign = o;
        var s = ba(Object(un.f)(i, a))
          , u = wi.contriInfoRankUrl;
        return Pa(u, s).then((function(t) {
            var e = t.status
              , n = t.data;
            return 100 == e || 0 == e ? Promise.resolve(n || 0) : Promise.resolve(0)
        }
        )).catch((function() {
            return Promise.resolve(0)
        }
        ))
    }
      , Ha = function(t, e) {
        return Sa("".concat(wi.gameInfoUrl, "?uuid=").concat(t), e)
    }
      , Wa = function(t, e) {
        return Sa("".concat(wi.gameInfoUrlExternal, "?uuid=").concat(t), e)
    }
      , Ga = function(t, e, n) {
        var r = "SYConformTime".concat(t)
          , i = On.localStorageGetItem(r);
        return i && (i = ma(i, 1)),
        Sa("".concat(wi.gameInfoUrlTest, "?uuid=").concat(t).concat(n), e).then((function(t) {
            return Promise.resolve(t)
        }
        ), (function(t) {
            var e = t.code
              , n = t.message;
            switch (String(e)) {
            case "90":
                return On.localStorageRemoveItem(r),
                Promise.reject(mi.ERROR_INIT_4);
            case "91":
                return Promise.reject(mi.ERROR_INIT_5);
            case "101":
                return Promise.reject(mi.ERROR_INIT_6);
            default:
                return Promise.reject({
                    code: "00000",
                    msg: n
                })
            }
        }
        ))
    }
      , qa = function(t, e, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
          , i = x.a.uuid
          , a = x.a.gid
          , o = x.a.offline
          , s = x.a.client
          , u = x.a.offlinetest
          , l = x.a.isWapOther
          , d = x.a.singleAlone
          , f = ""
          , h = "";
        if (d || ua() || u)
            f = ua() ? "".concat(ca()).concat(t, ".json") : "game".concat(a, "/json/").concat(t, ".json");
        else {
            var p, v = i + "2", g = (p = {
                uuid: en.a.runTest && 36 === i.length && r ? v : i
            },
            c()(p, gn.M, oa[gn.M]),
            c()(p, "chapter_uuid", t),
            c()(p, "md5", e),
            c()(p, "platform", s ? "app" : "pc"),
            p);
            l && (g.key = "external"),
            en.a.runTest && r && (g.action = "test"),
            h = ba(g),
            f = "".concat(wi.chapterUrl, "?").concat(h),
            sa() && o && (f = "https:".concat(f))
        }
        return Object(An.c)({
            url: f,
            data: h,
            progress: n,
            responseType: "arraybuffer"
        }).then((function(t) {
            return Oa(t.response, n, e).then((function(t) {
                var e = t.code
                  , n = t.result
                  , r = t.message
                  , i = t.plots;
                return "100" === String(e) ? n.plots.map((function(t) {
                    return fi.fixPlots(t)
                }
                )) : o ? i.map((function(t) {
                    return fi.fixPlots(t)
                }
                )) : Promise.reject({
                    code: e,
                    message: r
                })
            }
            ))
        }
        ), (function(t) {
            var e = t.message
              , n = void 0 === e ? "当前网络不稳定，请检查你的网络！" : e;
            return Promise.reject({
                code: ra.ERROR,
                message: n
            })
        }
        ))
    }
      , Ya = function() {
        var t, e = x.a.v, n = x.a.single, r = x.a.client;
        if (!sa() || n)
            return Promise.resolve();
        var i = Object(k.p)()
          , a = an.a.getCurDate()
          , o = "".concat(wi.statisticsUrl, "&v=").concat(e, "&client=").concat(r)
          , s = c()({
            time: a,
            sign: ba((t = {
                mac_name: i,
                time: a
            },
            c()(t, gn.M, oa[gn.M]),
            c()(t, "v_key", "shanyi_WDF#$H*#SJN*&G$&**"),
            t)),
            mac_name: i
        }, gn.M, oa[gn.M]);
        Pa(o, ba(s, 1))
    }
      , Za = function() {}
      , Ja = function(t) {
        var e = x.a.gid;
        if ("pc" === x.a.client) {
            var n = an.a.getCurDate();
            Pa(wi.sendPlayTimeUrl + "&gid=".concat(e, "&t=").concat(n), "gid=".concat(e, "&minute=").concat(Math.round(t / 60)))
        }
    }
      , Ka = function() {
        var t = {
            status: -1,
            msg: "您还没有登录！"
        };
        return new Promise((function(e, n) {
            Object(k.v)(wi.wapLoginInfoUrl, {}, (function(r, i) {
                if (r)
                    return n(t);
                if (i) {
                    var a = i.data;
                    return 0 != i.success && a[gn.M] ? e(a[gn.M]) : n(t)
                }
                return n(t)
            }
            ))
        }
        ))
    }
      , $a = function() {
        var t = {
            status: -1,
            msg: "您还没有登录！"
        };
        return Ca(wi.pcLoginInfoUrl, "t=".concat(1e6 * Object(un.u)())).then((function(e) {
            var n = e.result;
            return n[gn.M] ? n[gn.M] : Promise.reject(t)
        }
        ), (function(e) {
            return Promise.reject(na(na({}, t), {}, {
                status: e.code
            }))
        }
        ))
    }
      , Xa = function() {
        var t = x.a.gid
          , e = x.a.v
          , n = x.a.alpha
          , r = x.a.single
          , i = x.a.client
          , a = x.a.app_version
          , o = x.a.istheatre;
        if (!n || r || "wap" === i && !o)
            return Promise.resolve(!1);
        if ("pc" === i)
            return Promise.resolve(n);
        var s = da.time
          , u = da.result;
        if (s && an.a.getDate() - s <= la)
            return u();
        da.result = function() {
            return Promise.resolve(!1)
        }
        ,
        da.time = an.a.getDate();
        var c = ba({
            u: oa.u,
            token: oa.token,
            game_id: t
        }, 1)
          , l = "".concat(wi.checkUserInternalTestUrl, "&client=").concat(i, "&v=").concat(e, "&app_version=").concat(a);
        return da.requestPromise = function() {
            return Pa(l, c).then((function(t) {
                var e = t.success
                  , n = t.status
                  , r = t.data;
                return da.result = function() {
                    return Promise.resolve(0 === n && e && r && 1 == r.status)
                }
                ,
                da.result()
            }
            ), (function() {
                return da.result = function() {
                    return Promise.resolve(!1)
                }
                ,
                da.result()
            }
            ))
        }
        ,
        da.requestPromise()
    }
      , Qa = function(t, e, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "app"
          , i = x.a.client
          , a = x.a.isWapOther
          , o = {
            uuid: t,
            platform: r = "pc" === i ? "all" : r,
            key: a ? "external" : ""
        };
        e ? o.chapter_uuid = e : o.product_id = n;
        var s = ba(o);
        return Ca(wi.commodityDiscountUrl, s).then((function(t) {
            var e = t.result
              , n = e.charge
              , r = e.charge_app
              , a = e.charge_pc
              , o = e.special_price
              , s = e.buy_type
              , u = void 0 === s ? 0 : s;
            return n = parseInt(n),
            o = o || n,
            "pc" == i ? {
                charge: -1 == a ? n : a,
                special_price: o,
                charge_pc: a,
                charge_app: r,
                buy_type: u
            } : {
                charge: n,
                special_price: o,
                charge_pc: a,
                charge_app: r,
                buy_type: u
            }
        }
        )).catch((function() {
            return Promise.reject({
                code: ra.ERROR,
                message: "网络异常"
            })
        }
        ))
    }
      , to = function(t) {
        var e = x.a.gid
          , n = x.a.v
          , r = x.a.client
          , i = x.a.app_version
          , a = sa() ? "".concat(wi.appCommodityInfoUrl, "&client=").concat(r, "&v=").concat(n, "&app_version=").concat(i) : wi.pcCommodityInfoUrl
          , o = sa() ? ba({
            u: oa.u,
            token: oa.token,
            event_id: t,
            game_id: e
        }, 1) : ba({
            event_id: t,
            game_id: e
        }, 3);
        return Pa(a, o).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "0" === String(e) ? {
                status: "success",
                msg: r,
                count: n.count
            } : {
                status: "fail",
                msg: r,
                count: 0
            }
        }
        )).catch((function() {
            return Promise.resolve({
                status: "error",
                msg: "获取商品支付信息失败",
                count: 0
            })
        }
        ))
    }
      , eo = function(t, e) {
        var n = x.a.gid
          , r = x.a.v
          , i = x.a.client
          , a = x.a.app_version;
        return sa() ? Pa("".concat(wi.commodityPackPriceUrl, "&client=").concat(i, "&v=").concat(r, "&app_version=").concat(a), ba({
            u: oa.u,
            token: oa.token,
            event_id: t,
            amount: e,
            game_id: n
        }, 1)).then((function(t) {
            var n = t.status
              , r = t.data
              , i = t.msg;
            return "0" === String(n) ? {
                status: "success",
                msg: i,
                count: r.current_amount
            } : {
                status: "fail",
                msg: i,
                count: e
            }
        }
        )).catch((function() {
            return Promise.resolve({
                status: "error",
                msg: "获取商品实际价格失败",
                count: e
            })
        }
        )) : Promise.resolve(e)
    }
      , no = function() {
        var t = x.a.gid
          , e = x.a.v
          , n = x.a.client
          , r = x.a.app_version
          , i = sa() ? 1 : 0
          , a = {
            gid: "" === t ? 1 : parseInt(t),
            time: an.a.getCurDate()
        }
          , o = Ea(Object(un.f)({}, a), !1);
        a.sign = o;
        var s = sa() ? "".concat(wi.appUnlockRecordUrl, "&client=").concat(n, "&v=").concat(e, "&app_version=").concat(r) : wi.pcUnlockRecordUrl
          , u = sa() ? "".concat(ba(a, i), "&").concat(wa()) : ba(a, i);
        return Pa(s, u).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "100" === String(e) ? n || [] : Promise.reject({
                code: e,
                message: r
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = t.message;
            return Promise.reject({
                status: e,
                msg: n
            })
        }
        ))
    }
      , ro = function t(e) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , r = x.a.gid
          , i = x.a.v
          , a = x.a.client
          , o = x.a.app_version
          , s = sa() ? 1 : 0
          , u = "" === r ? 1 : parseInt(r)
          , c = an.a.getCurDate()
          , l = {
            gid: u,
            time: c,
            type: String(e)
        }
          , d = Ea(Object(un.f)({}, l), !1);
        l.sign = d;
        var f = sa() ? "".concat(wi.appGetCloudRecordUrl, "&client=").concat(a, "&v=").concat(i, "&app_version=").concat(o) : wi.pcGetCloudRecordUrl
          , h = sa() ? "".concat(ba(l, s), "&").concat(wa()) : ba(l, s);
        return Pa(f, h).then((function(r) {
            var i = r.status
              , a = r.data
              , o = r.msg;
            if ("0" === String(i)) {
                ha = xa(a.cover_url || "");
                var s = Object(xi.i)(a[gn.j] || "");
                return s && "{}" !== s ? s : null
            }
            return o.indexOf("请求已过期") > -1 && 0 === n ? Object(k.x)(Object(nn.i)() ? 1500 : 800).then((function() {
                return ja()
            }
            )).then((function() {
                return t(e, 1)
            }
            )) : Promise.reject({
                code: i,
                message: o
            })
        }
        )).catch((function(t) {
            return Promise.reject({
                status: t.code || t.status,
                msg: t.message || t.msg
            })
        }
        ))
    }
      , io = function t(e, n) {
        var r, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, a = x.a.gid, o = x.a.v, s = x.a.client, u = x.a.app_version, l = sa() ? 1 : 0, d = "" === a ? 1 : parseInt(a), f = an.a.getCurDate(), h = Object(un.f)({}, n), p = "";
        n.hasOwnProperty("thumb") && (p = Object(un.s)(Object(un.v)(n.thumb)).split(",")[1],
        delete n.thumb);
        var v = Object(xi.h)(Object(un.v)(n))
          , g = (r = {
            gid: d,
            time: f,
            type: String(e)
        },
        c()(r, gn.j, v),
        c()(r, "cover_content", p),
        c()(r, "progress", 1),
        r)
          , m = Ea(Object(un.f)({}, g), !1);
        g.sign = m;
        var y = sa() ? "".concat(wi.appSaveCloudRecordUrl, "&client=").concat(s, "&v=").concat(o, "&app_version=").concat(u) : wi.pcSaveCloudRecordUrl
          , b = sa() ? "".concat(ba(g, l), "&").concat(wa()) : ba(g, l);
        return Pa(y, b).then((function(n) {
            var r = n.status
              , a = n.msg;
            return "0" === String(r) ? Promise.resolve() : a.indexOf("请求已过期") > -1 && 0 == i ? ja().then((function() {
                return t(e, h, 1)
            }
            )) : Promise.reject({
                message: a
            })
        }
        )).catch((function(t) {
            var e = t.message;
            return Promise.reject(1 === i ? {
                message: e
            } : e)
        }
        ))
    };
    function ao() {
        return ja().then((function() {
            return so(1)
        }
        ))
    }
    function oo(t) {
        var e = Object(un.s)(Object(un.v)(t))
          , n = e.data
          , r = void 0 === n ? {} : n
          , i = r && r[gn.j] || "";
        try {
            return e.data[gn.j] = i ? decodeURIComponent(ma(Ji(i), 5)) : i,
            e
        } catch (t) {
            return Object(un.f)(e, {
                status: -100
            })
        }
    }
    var so = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , e = x.a.gid
          , n = x.a.v
          , r = x.a.client
          , i = x.a.app_version
          , a = sa() ? 1 : 0
          , o = "" === e ? 1 : parseInt(e)
          , s = 0 === t ? an.a.getCurDate() - 1e3 : an.a.getCurDate()
          , u = {
            gid: o,
            time: s
        }
          , c = Ea(Object(un.f)({}, u), !1);
        u.sign = c;
        var l = sa() ? "".concat(wi.appDynamickeyUrl, "&client=").concat(r, "&v=").concat(n, "&app_version=").concat(i) : wi.pcDynamickeyUrl
          , d = sa() ? "".concat(ba(u, a), "&").concat(wa()) : ba(u, a);
        return Pa(l, d).then((function(e) {
            var n = e.status
              , r = e.data
              , i = e.msg;
            if ("0" === String(n) && r) {
                var a = r[gn.e];
                return Hi(a),
                a
            }
            return "100" !== String(n) && "-12" !== String(n) || 0 !== t ? Promise.reject({
                code: n,
                message: i
            }) : ao()
        }
        )).catch((function(e) {
            var n = e.code
              , r = e.message;
            return Promise.reject(1 === t ? {
                code: n,
                message: r,
                data: null
            } : {
                status: n,
                msg: r,
                data: null
            })
        }
        ))
    }
      , uo = function t() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , n = x.a.gid
          , r = x.a.v
          , i = x.a.develop
          , a = x.a.client
          , o = x.a.app_version
          , s = x.a.tgp
          , u = sa() ? 1 : 0
          , c = "" === n ? 1 : parseInt(n)
          , l = an.a.getCurDate()
          , d = {
            gid: c,
            time: l,
            isEn: 1
        }
          , f = Ea(Object(un.f)({}, d), !1, Wi());
        d.sign = f;
        var h = sa() ? "".concat(wi[Object(rn.c)(1)], "&client=").concat(a, "&v=").concat(r, "&app_version=").concat(o) : wi[Object(rn.c)(0)]
          , p = sa() ? "".concat(ba(d, u), "&").concat(wa()) : ba(d, u);
        return i && (h = "" !== s ? s : h),
        Pa(h, p).then((function(n) {
            Object(un.l)(n.data);
            var r = n.status;
            return "-13" !== (r = String(r)) && "100" !== r && "-12" !== r || 0 !== e ? Ia(oo(n)) : ao().then((function() {
                return t(1)
            }
            ))
        }
        )).catch((function(t) {
            return t.reason ? Promise.reject({
                status: t.reason[gn.e],
                data: null,
                msg: t.message
            }) : Promise.reject("".concat(Object(rn.c)(6)).concat(JSON.stringify(t)))
        }
        ))
    }
      , co = function t() {
        var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = x.a.gid, i = x.a.v, a = x.a.develop, o = x.a.client, s = x.a.app_version, u = x.a.tsp, l = sa() ? 1 : 0, d = "" === r ? 1 : Object(un.t)(r), f = an.a.getCurDate(), h = "pc" === o ? "1" : "android" === o ? "2" : "ios" === o ? "3" : "0", p = (e = {
            client: h,
            gid: d,
            time: f
        },
        c()(e, gn.j, Qi(!0) + ""),
        c()(e, "player_version", tn.a),
        c()(e, "progress", 1),
        e), v = Ea(Object(un.f)({}, p), !1, Wi());
        p.sign = v;
        var g = sa() ? "".concat(wi[Object(rn.c)(3)], "&client=").concat(o, "&v=").concat(i, "&app_version=").concat(s, "&player_version=").concat(tn.a) : wi[Object(rn.c)(2)]
          , m = sa() ? "".concat(ba(p, l), "&").concat(wa()) : ba(p, l);
        return a && (g = "" !== u ? u : g),
        Pa(g, m).then((function(e) {
            var r = e.status;
            return "-13" === (r = String(r)) && 0 === n ? ao().then((function() {
                return t(1)
            }
            )) : Ra(na(na({}, e), {}, c()({}, gn.O, Qi())))
        }
        )).catch((function(t) {
            return Promise.reject("".concat(Object(rn.c)(12)).concat(JSON.stringify(t)))
        }
        ))
    }
      , lo = function() {
        var t = x.a.gid;
        if ("" === oa[gn.M])
            return Promise.resolve({
                code: -1,
                data: null
            });
        var e = "" === t ? 1 : parseInt(t)
          , n = an.a.getCurDate()
          , r = ""
          , i = c()({
            gameId: e,
            requestTime: n
        }, gn.M, oa[gn.M]);
        return Object(un.n)(Object(un.f)({}, i)).sort().forEach((function(t) {
            return r += "".concat(t, "=").concat(i[t])
        }
        )),
        i.sign = vr.a.hash(r + Object(rn.c)(13)),
        Pa(wi[Object(rn.c)(31)], i).then((function(t) {
            var e = t.code
              , n = t.msg
              , r = t.data;
            return e ? (Object(nn.b)(r) && Object(nn.f)(r) && (r = c()({}, gn.j, "")),
            Ia({
                status: "100" == String(e) ? 1001 : e,
                data: r,
                msg: n
            })) : Promise.reject()
        }
        )).catch((function() {
            return Promise.reject({
                error: Object(rn.c)(14),
                status: ra.ERROR
            })
        }
        ))
    }
      , fo = function(t) {
        var e, n, r = x.a.gid, i = "" === r ? 1 : parseInt(r), a = an.a.getCurDate();
        if ("" === oa[gn.M])
            return Ra((n = {
                status: -1
            },
            c()(n, gn.O, t),
            c()(n, "data", null),
            c()(n, "test", !0),
            c()(n, "msg", Object(rn.c)(15)),
            n));
        var o = Object(xi.h)(Object(un.v)(t))
          , s = ""
          , u = (e = {
            gameId: i,
            requestTime: a
        },
        c()(e, gn.M, oa[gn.M]),
        c()(e, gn.j, o),
        e);
        return Object(un.n)(Object(un.f)({}, u)).sort().forEach((function(t) {
            return s += "".concat(t, "=").concat(u[t])
        }
        )),
        u.sign = vr.a.hash(s + Object(rn.c)(5)),
        Pa(wi[Object(rn.c)(32)], u).then((function(e) {
            var n = e.code
              , r = e.data
              , i = e.msg;
            return n ? Ra(c()({
                status: "100" === String(n) ? 1001 : n,
                data: r,
                msg: i
            }, gn.O, t)) : Promise.reject()
        }
        )).catch((function() {
            return Promise.reject({
                error: Object(rn.c)(16),
                status: ra.ERROR
            })
        }
        ))
    }
      , ho = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
          , e = x.a.singleAlone;
        return t || e ? Ia({
            status: -100
        }) : en.a.runCheck ? lo() : Aa().then((function() {
            return uo()
        }
        )).catch((function(t) {
            return Ia(na({}, t))
        }
        ))
    }
      , po = function(t) {
        var e, n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r = x.a.singleAlone;
        return n || r ? Ra((e = {},
        c()(e, gn.O, t),
        c()(e, "status", -100),
        e)) : en.a.runCheck ? fo(t) : Xi(t) ? void 0 : Aa().then((function() {
            return co()
        }
        )).catch((function(e) {
            return Ra(na(na({}, e), {}, c()({}, gn.O, t)))
        }
        )).finally((function() {
            return ta()
        }
        ))
    }
      , vo = function(t) {
        var e, n = x.a.gid, r = x.a.v, i = x.a.client, a = x.a.app_version, o = sa() ? 1 : 0, s = Object(xi.h)(JSON.stringify(t)), u = (e = {
            gid: "" === n ? 1 : parseInt(n),
            time: an.a.getCurDate()
        },
        c()(e, gn.j, s),
        c()(e, "progress", 1),
        e), l = Ea(Object(un.f)({}, u), !1);
        u.sign = l;
        var d = sa() ? "".concat(wi.appAchievementUrl, "&client=").concat(i, "&v=").concat(r, "&app_version=").concat(a, "&player_version=").concat(tn.a) : wi.pcAchievementUrl
          , f = sa() ? "".concat(ba(u, o), "&").concat(wa()) : ba(u, o);
        return Pa(d, f).catch((function() {
            return Promise.resolve({
                error: "成就触发异常",
                status: ra.ERROR
            })
        }
        ))
    }
      , go = function() {
        var t = x.a.uuid;
        return "" !== x.a.gid ? Promise.resolve() : Pa(wi.gidUrl, "uuid=".concat(t)).then((function(t) {
            var e = t.code
              , n = t.result;
            return "100" === String(e) ? n.gid || "" : Promise.resolve("")
        }
        )).catch((function() {
            return Promise.resolve("")
        }
        ))
    }
      , mo = function(t) {
        return Pa(wi.roleInfoUrl, "uuid=".concat(t)).then((function(t) {
            var e = t.code
              , n = t.result;
            return "100" === String(e) ? n || [] : Promise.reject({
                code: e
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "Get getRoleInfoByUuid failed, no response data" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , yo = function(t, e) {
        return Pa(wi.roleRanksUrl, "roleId=".concat(t, "&type=").concat(e)).then((function(t) {
            var e = t.code
              , n = t.result;
            return "100" === String(e) ? n || null : Promise.reject({
                code: e
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "Get getRoleRanks failed, no response data" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , bo = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10
          , n = x.a.gid;
        return Pa(wi.fansRanksUrl, "game_id=".concat(n, "&type=").concat(t, "&limit=").concat(e)).then((function(t) {
            var e = t.status
              , n = t.msg
              , r = t.data;
            return "100" === String(e) ? r || [] : Promise.reject({
                code: e,
                message: n
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "Get getFansRanks failed, no response data" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , wo = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10
          , n = x.a.gid;
        return Pa(wi.consRanksUrl, "game_id=".concat(n, "&type=").concat(t, "&limit=").concat(e)).then((function(t) {
            var e = t.status
              , n = t.msg
              , r = t.data;
            return "100" === String(e) ? r || [] : Promise.reject({
                code: e,
                message: n
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "Get getConsRanks failed, no response data" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , xo = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 30
          , n = x.a.gid
          , r = 0
          , i = "" === n ? 1 : parseInt(n)
          , a = an.a.getCurDate()
          , o = {
            gid: i,
            time: a,
            limit: e,
            order: 0,
            uuid: t
        };
        return o.sign = ba(Object(un.f)({
            v_key: Object(rn.c)(18)
        }, o)),
        Pa(wi.payValueRanks, ba(o, r)).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "0" === String(e) ? n || [] : Promise.reject({
                code: e,
                message: r
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "Get getPayValuesRanks failed, no response data" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , ko = function(t) {
        var e = x.a.gid;
        return Ca(wi.monthTicketRanksUrl, "gid=".concat(e, "&type=").concat({
            total: 1,
            month: 2,
            week: 3
        }[t])).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "100" === String(e) ? n || [] : Promise.reject({
                code: e,
                message: r
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "Get getMonthTicketRanks failed, no response data" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , _o = function() {
        return ha
    }
      , Oo = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return "".concat(t ? "https:" : "").concat(wi.gameNoticeUrl).concat(x.a.gid)
    }
      , So = function() {
        return "".concat(wi.wapGameEndPageByTheaterUrl).concat(x.a.gid)
    }
      , Po = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "0";
        return "0" == t ? Promise.resolve(wi.openAppUrl) : Pa(wi.appDownLoadUrl, "client=".concat(ga(t, 1))).then((function(t) {
            return t.data.app_url || wi.openAppUrl
        }
        )).catch((function() {
            return Promise.resolve(wi.openAppUrl)
        }
        ))
    }
      , Co = function(t) {
        var e = t.desc
          , n = t.image;
        return "".concat(wi.pcShareUrl).concat(x.a.gid, "&shareDec=").concat(e, "&shareImg=").concat(n)
    }
      , Eo = function() {
        var t = x.a.gid
          , e = x.a.singleAlone;
        return !t || e ? Promise.reject() : Pa(wi.gameNoticeInfoUrl, "game_id=".concat(t)).then((function(t) {
            var e = t.status
              , n = t.data
              , r = void 0 === n ? {} : n;
            return "100" === String(e) || "1" === r.status ? r.pass_time : Promise.reject()
        }
        )).catch((function() {
            return Promise.reject()
        }
        ))
    }
      , jo = function() {
        return "" !== x.a.uuid ? Promise.resolve(!1) : Ca(wi.singleConfigUrl).then((function(t) {
            var e = t.uuid
              , n = t.offline
              , r = t.gid
              , i = t.vertical
              , a = t.name
              , o = t.wap
              , s = t.single
              , u = t.type
              , c = void 0 === u ? 0 : u
              , l = t.client;
            return x.a.uuid = e,
            x.a.type = c,
            x.a.offline = 1 == n,
            x.a.gid = r,
            x.a.vertical = 1 == i,
            x.a.name = a,
            x.a.wap = o,
            x.a.client = l,
            x.a.single = 1 == s || 2 == s,
            x.a.singleAlone = 2 == s,
            x.a.isSteam = x.a.single && "steam" == o,
            !0
        }
        ), (function(t) {
            return Promise.resolve(!1)
        }
        ))
    }
      , Ao = function() {
        Object(nn.a)() ? window.top.location.href = "lzj3000://index" : Object(nn.j)() && (window.top.location.href = "shanyihudong://index");
        var t = Object(nn.j)() ? "2" : Object(nn.a)() ? "1" : "0";
        Object(k.x)(2e3).then((function() {
            return Po(t)
        }
        )).then((function(t) {
            Qe.a.cnzzTrackEvent(Qe.a.Events.WAPPOPUPDOWNLOAD),
            window.top.location.href = t
        }
        ))
    }
      , Io = function(t) {
        var e = x.a.gid;
        t || (t = wi.openDiailUrl),
        Object(k.x)(1e3).then((function() {
            return window.top.location.href = "".concat(t).concat(e)
        }
        ))
    }
      , Ro = function() {
        var t = x.a.gid
          , e = x.a.v
          , n = x.a.client
          , r = x.a.app_version;
        return sa() ? Pa("".concat(wi.checkNoUpdateValueOfflineUrl, "&client=").concat(n, "&v=").concat(e, "&app_version=").concat(r), ba({
            game_id: t
        }, 1)).then((function(t) {
            var e = t.data;
            return e && "1" === String(e.download_status) ? Promise.resolve(!0) : Promise.resolve(!1)
        }
        )).catch((function() {
            return Promise.resolve(!1)
        }
        )) : Promise.resolve(!1)
    }
      , To = function() {
        var t = x.a.uuid
          , e = x.a.cover;
        if ("" !== e) {
            var n = e.split("//");
            return Promise.resolve(n.length > 1 ? e : pn(e))
        }
        var r = en.a.runTest || en.a.runCheck ? t.substr(0, 36) + "1" : t.substr(0, 36);
        return Pa(wi.loadCoverImageUrl, ba({
            uuid: r
        })).then((function(t) {
            var e = t.result;
            return e && e.player_cover && "" !== e.player_cover ? Promise.resolve(e.player_cover) : Promise.reject()
        }
        ))
    }
      , Mo = function() {
        var t = x.a.isSteam
          , e = x.a.steamAppid
          , n = x.a.steamId;
        return t ? Pa(wi.steamAchieveListsUrl, ba({
            steam_id: n,
            app_id: e
        })).then((function(t) {
            var e = t.code
              , n = t.result;
            if ("100" === String(e))
                return Promise.resolve(n.achievements || [])
        }
        )).catch((function() {
            return Promise.resolve([])
        }
        )) : Promise.resolve([])
    }
      , Do = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = x.a.isSteam
          , n = x.a.steamAppid
          , r = x.a.steamId;
        return e ? Pa(wi.steamHandleAchieveUrl, ba({
            steam_id: r,
            app_id: n,
            data: JSON.stringify(t)
        })) : Promise.resolve([])
    }
      , Bo = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
          , e = arguments.length > 1 ? arguments[1] : void 0
          , n = x.a.gid
          , r = x.a.v
          , i = x.a.client
          , a = x.a.app_version
          , o = "" === n ? 1 : parseInt(n)
          , s = sa() ? 1 : 0
          , u = t ? ja() : Promise.resolve();
        return u.then((function() {
            var n = an.a.getCurDate()
              , u = {
                count: t,
                gid: o,
                time: n,
                uuid: e
            }
              , c = Ea(Object(un.f)({}, u), !1);
            u.sign = c;
            var l = sa() ? "".concat(wi.appWatchAdCountUrl, "&client=").concat(i, "&v=").concat(r, "&app_version=").concat(a) : wi.pcWatchAdCountUrl
              , d = "".concat(ba(u, s)).concat(s ? "&" : "").concat(s ? wa() : "");
            return Pa(l, d).then((function(t) {
                var e = t.data;
                if (e) {
                    var n = e.total
                      , r = e.day;
                    return Promise.resolve({
                        total: n || 0,
                        day: r || 0
                    })
                }
                return Promise.reject()
            }
            ))
        }
        )).catch((function() {
            return Promise.reject()
        }
        ))
    };
    function Uo() {
        return Pa(wi.getFonts).then((function(t) {
            var e = t.code
              , n = t.result
              , r = t.message;
            return 100 == e ? n : Promise.reject(r)
        }
        ))
    }
    var zo = function t() {
        var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = x.a.gid, i = x.a.client, a = x.a.app_version, o = x.a.v, s = (e = {},
        c()(e, gn.o, 0),
        c()(e, gn.A, 0),
        e), u = "" === r ? 1 : parseInt(r), l = an.a.getCurDate(), d = sa() ? 1 : 0, f = {
            game_id: u,
            time: l,
            type: 0 == n ? 1 : n
        }, h = Ea(Object(un.f)({}, f), !1);
        f.sign = h;
        var p = sa() ? "".concat(wi.appCollectionsUrl, "&client=").concat(i, "&v=").concat(o, "&app_version=").concat(a, "&player_version=").concat(tn.a) : wi.pcCollectionsUrl
          , v = sa() ? "".concat(ba(f, d), "&").concat(wa()) : ba(f, d);
        return Pa(p, v).then((function(e) {
            var r = e.status
              , i = e.data;
            if (0 == r || 100 == r)
                if (0 == n || 1 == n) {
                    if (s[gn.o] = i.status || 0,
                    0 == n)
                        return t(2).then((function(t) {
                            return s[gn.A] = t[gn.A] || 0,
                            Promise.resolve(s)
                        }
                        ))
                } else
                    s[gn.A] = i.status || 0;
            return Promise.resolve(s)
        }
        )).catch((function() {
            return Promise.resolve(s)
        }
        ))
    }
      , Lo = function() {
        var t = x.a.gid
          , e = x.a.client
          , n = x.a.app_version
          , r = x.a.v
          , i = "" === t ? 1 : parseInt(t)
          , a = an.a.getCurDate()
          , o = sa() ? 1 : 0
          , s = {
            id: i,
            time: a
        }
          , u = Ea(Object(un.f)({}, s), !1);
        s.sign = u;
        var c = sa() ? "".concat(wi.appFollowedUrl, "&client=").concat(e, "&v=").concat(r, "&app_version=").concat(n, "&player_version=").concat(tn.a) : wi.pcFollowedUrl
          , l = sa() ? "".concat(ba(s, o), "&").concat(wa()) : {
            id: i
        };
        return (sa() ? Pa(c, l) : Ca(c, l)).then((function(t) {
            var e = t.status
              , n = t.data.is_focus
              , r = void 0 === n ? 0 : n;
            return 0 == e || 100 == e ? Promise.resolve(r ? 1 : 0) : Promise.resolve(0)
        }
        )).catch((function() {
            return Promise.resolve(0)
        }
        ))
    }
      , Vo = function(t, e) {
        var n = x.a.gid
          , r = x.a.client
          , i = x.a.app_version
          , a = x.a.v
          , o = "" === n ? 1 : parseInt(n)
          , s = an.a.getCurDate()
          , u = sa() ? 1 : 0
          , c = {
            gid: o,
            time: s,
            id: t,
            code: e
        };
        c.sign = sa() ? Ea(Object(un.f)({}, c), !1) : ba(Object(un.f)({
            v_key: Object(rn.c)(18)
        }, c));
        var l = sa() ? "".concat(wi.checkCdkeyUrl_app, "&client=").concat(r, "&v=").concat(a, "&app_version=").concat(i, "&player_version=").concat(tn.a) : wi.checkCdkeyUrl_pc
          , d = sa() ? "".concat(ba(c, u), "&").concat(wa()) : ba(c, u);
        return Pa(l, d).then((function(t) {
            var e = t.status
              , n = t.msg
              , r = t.success;
            return 0 == e || 100 == e ? void 0 !== r && r : Promise.reject({
                code: e,
                message: n
            })
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "check cdkey failed, no response data" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , Fo = function t() {
        var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        if (!(0 === n && 0 === r && Date.now() - pa <= 2e3) && "" !== oa[gn.M]) {
            pa = Date.now();
            var i = 0 !== r ? r : Object(T.c)()
              , a = 0;
            if (!(i <= 0)) {
                i >= 2e8 && (a = i - 2e8,
                i = 2e8);
                var o = x.a.gid
                  , s = x.a.client
                  , u = x.a.wap
                  , l = "" === o ? 1 : parseInt(o)
                  , d = an.a.getCurDate()
                  , f = 0
                  , h = (e = {
                    gid: l,
                    time: d,
                    flow: i,
                    client: s,
                    player_version: tn.a
                },
                c()(e, gn.M, oa[gn.M]),
                c()(e, "wap", u),
                e);
                Object.keys(h).forEach((function(t) {
                    return !h[t] && delete h[t]
                }
                )),
                h.sign = Ea(Object(un.f)({}, h), !1, "", !1);
                var p = wi.uploadBytesUrlPc
                  , v = ba(h, f);
                return Pa(p, v).then((function(e) {
                    var n = e.status
                      , r = e.msg
                      , o = e.success
                      , s = void 0 !== o && o;
                    return 0 == n || 100 == n ? (Object(T.a)(i),
                    0 !== a ? t(0, a) : s) : Promise.reject({
                        code: n,
                        message: r
                    })
                }
                )).catch((function(e) {
                    var r = e.code
                      , i = void 0 === r ? ra.error : r
                      , a = e.message
                      , o = void 0 === a ? "upload flow error!" : a;
                    return ++n < 3 ? t(n) : Promise.reject({
                        code: i,
                        message: o
                    })
                }
                ))
            }
        }
    }
      , No = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
        if (en.a.runTest || en.a.runCheck) {
            var n = Object(k.f)(10)
              , r = 0
              , i = {
                code: n,
                had_invite: r,
                msg: "你已成功邀请".concat(r, "人，快复制邀请码").concat(n, "给好友填写获取奖励吧~"),
                copy_msg: "".concat(n)
            };
            return sn.a.testInviteCode[t] = Object(un.f)(na({}, i), {
                inviteeTip: e
            }),
            Promise.resolve(i)
        }
        var a = x.a.gid
          , o = sa() ? 1 : 0
          , s = an.a.getCurDate()
          , u = "" === a ? 1 : parseInt(a)
          , c = {
            gid: u,
            time: s
        };
        "" !== t && (c.uuid = t);
        var l = Ea(Object(un.f)({}, c), !1);
        c.sign = l;
        var d = sa() ? wi.inviteUrlApp : wi.inviteUrlPc
          , f = sa() ? "".concat(ba(c, o), "&").concat(wa()) : "".concat(ba(c, o));
        return Pa(d, f).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "100" === String(e) || "0" === String(e) ? Promise.resolve(n) : Promise.reject({
                code: e,
                message: r
            })
        }
        ))
    }
      , Ho = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
        if (en.a.runTest || en.a.runCheck) {
            var n = sn.a.testInviteCode[e];
            if (n && t == n.code) {
                var r = n.had_invite || 0
                  , i = {
                    had_invite: r += 1,
                    msg: "你已成功邀请".concat(r, "人，快复制邀请码").concat(t, "给好友填写获取奖励吧~")
                };
                return sn.a.testInviteCode[e] = Object(un.f)(na({}, n), na({}, i)),
                Promise.resolve({
                    code: 0,
                    message: n.inviteeTip,
                    update: {
                        uuid: e,
                        data: Object(un.f)(na({}, n), na({}, i))
                    }
                })
            }
            return Promise.reject({
                code: t,
                message: "邀请码验证失败！请输入正确邀请码重试"
            })
        }
        if ("" === t)
            return Promise.reject({
                code: ra.error,
                message: "邀请码验证失败！邀请码不能为空~"
            });
        var a = x.a.gid
          , o = x.a.client
          , s = x.a.app_version
          , u = x.a.v
          , c = "" === a ? 1 : parseInt(a)
          , l = an.a.getCurDate()
          , d = sa() ? 1 : 0
          , f = {
            gid: c,
            time: l,
            code: t
        };
        "" !== e && (f.uuid = e),
        f.sign = sa() ? Ea(Object(un.f)({}, f), !1) : ba(Object(un.f)({
            v_key: Object(rn.c)(18)
        }, f));
        var h = sa() ? "".concat(wi.checkInviteUrlApp, "&client=").concat(o, "&v=").concat(u, "&app_version=").concat(s, "&player_version=").concat(tn.a) : wi.checkInviteUrlPc
          , p = sa() ? "".concat(ba(f, d), "&").concat(wa()) : ba(f, d);
        return Pa(h, p).then((function(t) {
            var e = t.status
              , n = t.msg
              , r = t.success;
            return 0 != e && 100 != e || 1 != (void 0 !== r && r) ? Promise.reject({
                code: e,
                message: n
            }) : {
                code: e,
                message: n
            }
        }
        )).catch((function(t) {
            var e = t.code
              , n = void 0 === e ? ra.error : e
              , r = t.message
              , i = void 0 === r ? "邀请码验证失败！请输入正确邀请码重试" : r;
            return Promise.reject({
                code: n,
                message: i
            })
        }
        ))
    }
      , Wo = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
          , e = x.a.gid
          , n = sa() ? 1 : 0
          , r = an.a.getCurDate()
          , i = "" === e ? 1 : parseInt(e)
          , a = {
            gid: i,
            uuids: t.reduce((function(t, e) {
                return t + e + ","
            }
            ), "").replace(/,$/, ""),
            time: r
        }
          , o = Ea(Object(un.f)({}, a), !1);
        a.sign = o;
        var s = sa() ? wi.haveBeenInviteRewardApp : wi.haveBeenInviteRewardPc
          , u = sa() ? "".concat(ba(a, n), "&").concat(wa()) : "".concat(ba(a, n));
        return Pa(s, u).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "100" === String(e) || "0" === String(e) ? Promise.resolve(n) : Promise.reject({
                code: e,
                message: r
            })
        }
        ))
    }
      , Go = function() {
        var t = x.a.gid
          , e = x.a.client
          , n = x.a.app_version
          , r = sa() ? 1 : 0
          , i = an.a.getCurDate()
          , a = {
            gid: "" === t ? 1 : parseInt(t),
            time: i
        }
          , o = Ea(Object(un.f)({}, a), !1);
        a.sign = o;
        var s = sa() ? wi.checkMallUrlApp + "&v=1.0.0&client=".concat(e, "&app_version=").concat(n) : wi.checkMallUrlPc
          , u = sa() ? "".concat(ba(a, r), "&").concat(wa()) : "".concat(ba(a, r));
        return Pa(s, u).then((function(t) {
            var e = t.status
              , n = t.data;
            return "100" !== String(e) && "0" !== String(e) || !n.limit_status ? Promise.resolve() : Promise.reject()
        }
        ))
    }
      , qo = function(t) {
        var e = {
            id: t,
            gid: x.a.gid
        };
        return Pa(wi.getOpenUrl, e).then((function(t) {
            var e = t.status
              , n = t.data
              , r = t.msg;
            return "100" === String(e) || "0" === String(e) ? n.url || "" : Promise.reject(r || "")
        }
        )).catch((function(t) {
            return Promise.reject(t)
        }
        ))
    };
    function Yo(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Zo(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Yo(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Yo(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Jo = null
      , Ko = null
      , $o = 1e8
      , Xo = {
        jump: 1,
        insert: 1,
        back: 1,
        options: 1,
        conditionOptions: 1,
        addImage: 1,
        showDialog: 1,
        playMusic: 1,
        playSound: 1,
        weather: 1,
        addView: 1,
        showBubble: 1,
        emitBubble: 1,
        video: 1,
        wait: 1,
        hideDialog: 1,
        animateImage: 1
    }
      , Qo = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "subRef",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "play";
                es.sub(t, e, n)
            }
        }, {
            key: "addRef",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "play";
                es.add(t, e, n),
                "image" === t && ns.pop(e)
            }
        }, {
            key: "addRefTo",
            value: function(t, e, n, r) {
                var i = es.count(t, e, n);
                i < r && es.add(t, e, n, r - i)
            }
        }, {
            key: "isSafeRef",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                  , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "play"
                  , i = es.count(t, e)
                  , a = es.count(t, e, r);
                return i - a > 0 || a >= n
            }
        }, {
            key: "inCache",
            value: function(t, e) {
                switch (t) {
                case "image":
                    return Ko.checkImageKey(e);
                case "audio":
                    return nr.inCache(e);
                case "spine":
                    return !!Ko.checkSpineKey(Object(k.s)(e).image);
                case "video":
                    return Ko.checkVideoKey(e)
                }
            }
        }, {
            key: "isLoading",
            value: function(t, e) {
                switch (t) {
                case "image":
                    return Jo.getAsset("image", e);
                case "audio":
                    return nr.isLoading(e);
                case "spine":
                    return Ko.checkSpineKey(Object(k.s)(e).image);
                case "video":
                    return Jo.getAsset("video", e)
                }
            }
        }, {
            key: "forceLoadAudio",
            value: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (es.add("audio", e, n ? "play" : "global"),
                !t.inCache("audio", e) && (t.load("audio", e, n, !0),
                !x.a.useExternalAudioLoader)) {
                    var r = Jo._fileList.find((function(t) {
                        return t.key === e
                    }
                    ));
                    r.data = y.get(),
                    Ko.addSound(r.key, r.url, r.data, !1, !0);
                    var i = Ko.getSound(r.key);
                    i.locked = !0,
                    i.decoded = !1;
                    var a = function t() {
                        i.locked = !1,
                        i.decoded = !0,
                        r.data.removeEventListener("canplaythrough", t, !1)
                    };
                    r.data.addEventListener("canplaythrough", a, !1),
                    Jo.start()
                }
            }
        }, {
            key: "load",
            value: function(e, n) {
                var r, i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], o = x.a.offline, s = x.a.single, u = x.a.offlinetest, c = n;
                if (t.inCache(e, c) || !u && !Object(jn.i)(s, On.isAppClient()))
                    return !1;
                if (n = pn(n),
                "video" === e && o && Object(nn.a)() && (n = On.getLocalResourcePathByAndroid(n)),
                !n)
                    return !1;
                "spine" === e && (r = Object(k.s)(c));
                var l = !0;
                if ("image" === e) {
                    var d = Jo.getAsset("image", c) || {}
                      , f = d.file;
                    l = !(f && f.loading && !f.loaded && !f.error)
                } else if ("spine" === e)
                    l = !Ko.checkSpineKey(r.image);
                else if ("video" === e) {
                    var h = Jo.getAsset("video", c) || {}
                      , p = h.file;
                    l = !(p && p.loading && !p.loaded && !p.error)
                } else
                    l = !nr.isLoading(c);
                return "image" === e ? (l && Jo.image(c, n, !0, a),
                !i && es.add("image", c, "global")) : "audio" === e ? (l && nr.load(c, n, a),
                !i && es.add("audio", c, "global")) : "spine" === e ? (l && Jo.spine(r.image, n.replace(/\/\/(apppic|synpic).3000test.com\//, "")),
                !i && es.add("spine", r.image, "global")) : "video" === e && (l && Jo.video(c, n, "canplaythrough", !1, !0, a),
                !i && es.add("video", c, "global")),
                l
            }
        }, {
            key: "removeCache",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                if (!es.absent(e, n) && !es.count(e, n)) {
                    var i = function() {
                        if (!es.count(e, n)) {
                            var r = t.getUsing().filter((function(t) {
                                return t.url === n
                            }
                            ));
                            if (r.length)
                                es.add(e, n, "play", r.length);
                            else {
                                var i = Ko.getImage(n, !0);
                                if (i) {
                                    var a = i.data.frames;
                                    a && a.forEach((function(t) {
                                        return t.image = null
                                    }
                                    )),
                                    /blob:/i.test(i.url) && URL.revokeObjectURL(i.url),
                                    Ko.removeImage(n)
                                }
                            }
                        }
                    };
                    if ("audio" === e)
                        nr.free(n),
                        ts.state.size += t.getSize(n, e);
                    else if ("image" === e) {
                        if (!r)
                            return ns.push(n),
                            void ts.start();
                        Ko.checkImageKey(n) ? i() : Jo.forceRemoveFile("image", n, (function() {
                            return i()
                        }
                        )),
                        ts.state.size += t.getSize(n, e)
                    } else if ("spine" === e) {
                        var a = Object(k.s)(n);
                        Ko.removeSpineCacheKey(a.image),
                        ts.state.size += t.getSize(a.image, e)
                    } else
                        "video" === e && (Ko.checkVideoKey(n) ? Ko.removeVideo(n) : Jo.forceRemoveFile("video", n, (function() {
                            return Ko.removeVideo(n)
                        }
                        )));
                    delete es[e][n],
                    ts.start()
                }
            }
        }, {
            key: "startLoadThread",
            value: function() {
                ts.start()
            }
        }, {
            key: "getCommandsPreloadType",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                  , n = [];
                return e.forEach((function(e) {
                    var r = e.type
                      , i = e.args
                      , o = e.uuid;
                    if ("options" === r || "conditionOptions" === r)
                        for (var s = 0, u = i.length; s < u; s++)
                            "options" === r ? n.push("$".concat(o, "o").concat(s, "-")) : (n.push("$".concat(o, "c").concat(s, "-")),
                            n.push("$".concat(o, "l").concat(s, "-"))),
                            n.push.apply(n, a()(t.getCommandsPreloadType(i[s].commands)))
                }
                )),
                n
            }
        }, {
            key: "getPlotPreloadType",
            value: function(e) {
                var n = []
                  , r = e.uuid
                  , i = e.commands
                  , o = e.options
                  , s = void 0 === o ? [] : o
                  , u = e.condition_options
                  , c = void 0 === u ? [] : u;
                i && n.push.apply(n, a()(t.getCommandsPreloadType(i)));
                for (var l = 0, d = s.length; l < d; l++)
                    n.push("$".concat(r, "o").concat(l, "-")),
                    n.push.apply(n, a()(t.getPlotsPreloadType(s[l].plots)));
                for (var f = 0, h = c.length; f < h; f++)
                    n.push("$".concat(r, "c").concat(f, "-")),
                    n.push("$".concat(r, "l").concat(f, "-")),
                    n.push.apply(n, a()(t.getPlotsPreloadType(c[f].plots)));
                return n
            }
        }, {
            key: "getPlotsPreloadType",
            value: function(e) {
                var n = [];
                return e.forEach((function(e) {
                    return n.push.apply(n, a()(t.getPlotPreloadType(e)))
                }
                )),
                n
            }
        }, {
            key: "resetInsertAfter",
            value: function(e, n) {
                ts.state.loadingChapterMap[e.uuid] = !1,
                t.getPlotsPreloadType(e.plots).forEach((function(t) {
                    es.transfer(t, !1),
                    ts.kill(t)
                }
                ));
                var r = c()({}, n.uuid, !0);
                vn.a.getJumpAndInsertChapterUuids(n).map((function(t) {
                    return r[t] = !0
                }
                )),
                vn.a.getJumpAndInsertChapterUuids(e).map((function(t) {
                    return r[t] ? null : "$".concat(t)
                }
                )).filter((function(t) {
                    return t
                }
                )).forEach((function(t) {
                    return ts.kill(t)
                }
                ))
            }
        }, {
            key: "resetInsert",
            value: function(t) {
                var e = "$".concat(t.uuid);
                ts.state.loadingChapterMap[t.uuid] = !0,
                es.transfer(e),
                ts.update(e, !0),
                ts.start()
            }
        }, {
            key: "resetJump",
            value: function(e) {
                var n = "$".concat(e.uuid)
                  , r = vn.a.getJumpAndInsertChapterUuids(e).map((function(t) {
                    return "$".concat(t)
                }
                ));
                ts.state.loadingChapterMap[e.uuid] = !0,
                es.clear([n].concat(a()(r))),
                es.transfer(n);
                var i = {};
                t.getUsing().forEach((function(t) {
                    var e = t.url;
                    return i[e] = (i[e] || 0) + 1
                }
                )),
                es.forEach((function(e, n, r) {
                    i[n] ? es.add(e, n, "play", i[n]) : 0 === r && t.removeCache(e, n)
                }
                )),
                ts.update(n, !1, r),
                ts.start()
            }
        }, {
            key: "resetCommandOption",
            value: function(t, e, n) {
                var r = t.type
                  , i = t.args
                  , a = t.uuid
                  , o = t.noAsstes;
                if (!("options" !== r && "conditionOptions" !== r || o)) {
                    var s = "options" === r ? "o" : "c"
                      , u = "$".concat(a).concat(s).concat(e, "-");
                    es.transfer(u);
                    var c = vn.a.getChapterRefMap({
                        chapter: n,
                        mark: a
                    });
                    i.forEach((function(t, n) {
                        if (n !== e) {
                            var r = t.commands
                              , i = vn.a.getChapterRefMap({
                                commands: r
                            });
                            Object.keys(i).forEach((function(t) {
                                c[t] -= i[t],
                                !c[t] && ts.kill("$".concat(t))
                            }
                            ));
                            var o = "$".concat(a).concat(s).concat(n, "-");
                            es.transfer(o, !1),
                            ts.kill(o)
                        }
                    }
                    )),
                    ts.update(u),
                    ts.start()
                }
            }
        }, {
            key: "resetComandAfter",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                ts.start();
                var e = t.uuid
                  , n = t.type
                  , r = t.args
                  , i = t.noAsstes;
                n && Xo[n] && !i && ts.state.loaded--,
                "conditionOptions" !== n || i || r.forEach((function(t, n) {
                    return es.transfer("$".concat(e, "l").concat(n, "-"), !1)
                }
                ))
            }
        }, {
            key: "resetPlotOption",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                  , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1
                  , r = arguments.length > 3 ? arguments[3] : void 0;
                e = "options" === e ? "o" : "condition_options" === e ? "c" : "";
                var i = t.uuid
                  , a = t.options
                  , o = void 0 === a ? [] : a
                  , s = t.condition_options
                  , u = void 0 === s ? [] : s;
                if (o.length || u.length) {
                    var c = vn.a.getChapterRefMap({
                        chapter: r,
                        mark: i
                    })
                      , l = function(t) {
                        var e = vn.a.getChapterRefMap({
                            plots: t
                        });
                        Object.keys(e).forEach((function(t) {
                            c[t] -= e[t],
                            !c[t] && ts.kill("$".concat(t))
                        }
                        ))
                    }
                      , d = "$".concat(i).concat(e).concat(n, "-");
                    es.transfer(d),
                    o.forEach((function(t, e) {
                        if (e !== n) {
                            var r = "$".concat(i, "o").concat(e, "-");
                            es.transfer(r, !1),
                            ts.kill(r),
                            l(t.plots)
                        }
                    }
                    )),
                    u.forEach((function(t, e) {
                        if (e !== n) {
                            var r = "$".concat(i, "c").concat(e, "-");
                            es.transfer(r, !1),
                            ts.kill(r),
                            l(t.plots)
                        }
                    }
                    )),
                    ts.update(d, !0),
                    ts.start()
                }
            }
        }, {
            key: "resetPlotAfter",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                ts.start(),
                ts.state.loaded--;
                var n = e.uuid
                  , r = e.commands
                  , i = void 0 === r ? [] : r
                  , a = e.condition_options;
                a && a.length ? a.forEach((function(t, e) {
                    return es.transfer("$".concat(n, "l").concat(e, "-"), !1)
                }
                )) : t.getCommandsPreloadType(i).forEach((function(t) {
                    es.transfer(t, !1),
                    ts.kill(t)
                }
                ))
            }
        }, {
            key: "getUsing",
            value: function() {
                for (var t = [], e = function e(n) {
                    return n.children.forEach((function(n) {
                        if ("MotionImage" === n.name) {
                            var r = n.motionImageData;
                            r && r.images.forEach((function(e) {
                                var n = e.url;
                                return t.push({
                                    url: n,
                                    type: "image"
                                })
                            }
                            ))
                        } else if ("spine" === n.name && n.key && Object(nn.p)(n.key)) {
                            var i = Object(k.s)(n.key);
                            t.push({
                                url: "".concat(i.image),
                                type: "spine"
                            })
                        } else
                            n.key && Object(nn.p)(n.key) && t.push({
                                url: n.key,
                                type: "image"
                            });
                        e(n)
                    }
                    ))
                }, n = Object(vn.c)().world.children, r = 0, i = n.length; r < i; r++)
                    "scene" === n[r].name && e(n[r]);
                return nr.getUsingUrls().forEach((function(e) {
                    return t.push({
                        url: e,
                        type: "audio"
                    })
                }
                )),
                t.filter((function(t) {
                    return t.url && "__default" !== t.url && "__missing" !== t.url
                }
                ))
            }
        }, {
            key: "needLoadByPlot",
            value: function(e) {
                return e ? e.commands ? t.needLoadByCommands(e.commands) : t.getPlot(e) : []
            }
        }, {
            key: "needLoadByCommands",
            value: function(e) {
                var n = []
                  , r = 0
                  , i = !1
                  , o = !1;
                return function e(s) {
                    for (var u = 0; u < s.length && r < 20; u++) {
                        var c = s[u]
                          , l = c.type
                          , d = c.args
                          , f = c.noAsstes;
                        if ("jump" === l || "insert" === l || "break" === l || f)
                            break;
                        var h = t.getCommand(c);
                        if (h.length && (n.push.apply(n, a()(h)),
                        r++),
                        "autotext" === l && (i = d[0]),
                        "options" === l && d.some((function(t) {
                            return !t.disable && !t.timer && !t.condition
                        }
                        ))) {
                            o = !0;
                            break
                        }
                        if (!i && "showDialog" === l || "wait" === l && d[0].value > 1500) {
                            o = !0;
                            break
                        }
                        if ("options" === l || "conditionOptions" === l) {
                            for (var p = [i, o], v = !0, g = n.length, m = 0; m < d.length && g < 20; m++)
                                o = !1,
                                e(d[m].commands),
                                o && (v = !1);
                            n.length !== g && (v = !1),
                            v && (c.noAsstes = !0),
                            i = p[0],
                            o = p[1]
                        }
                    }
                }(e),
                n
            }
        }, {
            key: "markCommandsAsset",
            value: function(e) {
                var n = []
                  , r = 0;
                !function e(i) {
                    for (var o = 0; o < i.length && r < 10; o++) {
                        var s = i[o]
                          , u = t.getCommand(s);
                        u.length && (n.push.apply(n, a()(u.filter((function(e) {
                            return !t.inCache(e.type, e.url)
                        }
                        )))),
                        r++);
                        var c = s.type
                          , l = s.args;
                        if ("jump" !== c && "insert" !== c && "break" !== c && ("options" === c || "conditionOptions" === c))
                            for (var d = 0; d < l.length && r < 10; d++)
                                e(l[d].commands)
                    }
                }(e),
                n.forEach((function(e) {
                    var n = e.type
                      , r = e.url
                      , i = e.useInPlot;
                    t.load(n, r, i, !0),
                    i && es.add(n, r, "play", 0)
                }
                ))
            }
        }, {
            key: "getCommandState",
            value: function(e) {
                var n = []
                  , r = Object(vn.d)().motionImgMap
                  , i = function(t, e) {
                    if (Object(nn.o)(t)) {
                        if (t.type && "spine" === t.type && t.image)
                            return n.push({
                                type: "spine",
                                url: t.image
                            }),
                            void Object(k.a)({
                                atlas: t.atlas,
                                skeleton: t.skeleton,
                                image: t.image
                            });
                        if (!r || !t.uuid || !r[t.uuid])
                            return;
                        r[t.uuid].images.forEach((function(t) {
                            var e = t.url;
                            return n.push({
                                type: "image",
                                url: e
                            })
                        }
                        ))
                    } else
                        t && Object(nn.p)(t) && "inherit" !== t && n.push({
                            type: e,
                            url: t
                        })
                }
                  , a = e.weather
                  , o = e.images
                  , s = e.bubbleMode;
                return a && t.getWeather(a.args[0]).forEach((function(t) {
                    var e = t.url
                      , n = t.type;
                    return i(e, n)
                }
                )),
                o && o.filter((function(t) {
                    return t
                }
                )).forEach((function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                      , e = t.command;
                    return e && i(e.args[0].url, "image")
                }
                )),
                s && s.length > 0 && s.forEach((function(t) {
                    return t && t.bubble.forEach((function(t) {
                        if (t) {
                            var e = t.avatar
                              , n = t.content;
                            e.url && "inherit" !== e.url && i(e.url, "image"),
                            n.url && "inherit" !== n.url && i(n.url, "image"),
                            n.background && n.background.url && i(n.background.url, "image")
                        }
                    }
                    ))
                }
                )),
                n
            }
        }, {
            key: "getWeather",
            value: function(t) {
                return []
            }
        }, {
            key: "loadChapter",
            value: function(t) {
                var e = t.uuid
                  , n = t.plots;
                ts.pushTasks([ts.fixTask({
                    stack: [],
                    chapter: t,
                    plots: n,
                    plotIndex: 0,
                    commands: null,
                    cmdIndex: 0,
                    loadType: "$".concat(e)
                })]),
                ts.state.loadingChapterMap[e] = !0
            }
        }, {
            key: "loadViewJumpAndInsert",
            value: function(e, n) {
                var r = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    return e.forEach((function(e) {
                        var r = e.type
                          , i = e[gn.m];
                        (!i || i.type === gn.t && i.value) && ("onClick" !== r && "onKeyUp" !== r || e[gn.l].forEach((function(e) {
                            var r = e.type
                              , i = e.handle
                              , a = (void 0 === i ? {} : i).uuid;
                            if (a !== n) {
                                var o = vn.a.getChapterByUUID(Object(vn.d)(), a);
                                "jump" !== r && "insert" !== r || !o || t.loadChapter(o)
                            }
                        }
                        )))
                    }
                    ))
                }
                  , i = function(t) {
                    var e = t.children
                      , n = void 0 === e ? [] : e;
                    r(t[gn.l]),
                    a(n)
                }
                  , a = function t(e) {
                    return e.forEach((function(e) {
                        var n = e.view
                          , a = e.calledViews
                          , o = void 0 === a ? [] : a;
                        r(e[gn.l]),
                        n && i(n),
                        o.length && t(o)
                    }
                    ))
                };
                a(e),
                ts.start()
            }
        }, {
            key: "getAssetsInViews",
            value: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , i = {}
                  , a = []
                  , o = {}
                  , s = Object(vn.d)()
                  , u = s.viewMap
                  , c = s.motionImgMap
                  , l = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                      , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image"
                      , i = arguments.length > 2 ? arguments[2] : void 0;
                    if (!(!e || "inherit" === e || Object(nn.p)(e) && o[e])) {
                        Object(nn.p)(e) && (o[e] = !0);
                        var s = function(e, n) {
                            return o[n] = !0,
                            !(!t.inCache(e, n) && !t.isLoading(e, n) || ("image" === e && !es.count(e, n, "global") && es.add(e, n, "global"),
                            "audio" === e && !es.count(e, n, "play") && es.add(e, n, "play"),
                            "video" === e && !es.count(e, n, "global") && es.add(e, n, "global"),
                            0))
                        };
                        switch (n) {
                        case "image":
                            if (Object(nn.o)(e)) {
                                var u = e.type && "spine" === e.type && e.image;
                                if (u) {
                                    if (Ko.checkSpineKey(e.image) && !o[e.image])
                                        return;
                                    return a.push({
                                        type: "spine",
                                        url: e.image,
                                        useInPlot: r,
                                        callView: i
                                    }),
                                    void Object(k.a)({
                                        atlas: e.atlas,
                                        skeleton: e.skeleton,
                                        image: e.image
                                    })
                                }
                                if (!c || !e.uuid || !c[e.uuid])
                                    return;
                                var l = c[e.uuid].images;
                                l.forEach((function(t) {
                                    var e = t.url;
                                    return !o[e] && !s(n, e) && a.push({
                                        type: n,
                                        url: e,
                                        useInPlot: r,
                                        callView: i
                                    })
                                }
                                ))
                            } else
                                e && Object(nn.p)(e) && !s(n, e) && a.push({
                                    type: "image",
                                    url: e,
                                    useInPlot: r,
                                    callView: i
                                });
                            break;
                        case "audio":
                        case "video":
                            !s(n, e) && a.push({
                                type: n,
                                url: e,
                                callView: i,
                                useInPlot: !0
                            })
                        }
                    }
                }
                  , d = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                      , e = arguments.length > 1 ? arguments[1] : void 0;
                    return t.forEach((function(t) {
                        var n = t.type;
                        "onClick" !== n && "onKeyUp" !== n && t[gn.l].forEach((function(t) {
                            var n = t.type
                              , r = t.handle.uuid;
                            "callUI" !== n && "reload" !== n || !u[r] || i[r] || (i[r] = !0,
                            f(u[r], e))
                        }
                        ))
                    }
                    ))
                }
                  , f = function(t, e) {
                    var r = t.type
                      , i = t.content
                      , a = void 0 === i ? {} : i
                      , o = t.children
                      , s = void 0 === o ? [] : o;
                    if (n && d(t[gn.l], e + 1),
                    h(s, e + 1),
                    "timer" !== r) {
                        var u = a.background
                          , c = a.sound;
                        u && (u.url && l(u.url, "image", e),
                        u.normal && l(u.normal.url, "image", e),
                        u.active && l(u.active.url, "image", e),
                        u.progress && l(u.progress.url, "image", e),
                        c && c.url && l(c.url, "audio", e))
                    }
                }
                  , h = function t(e) {
                    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    return e.forEach((function(e) {
                        var a = e.ref
                          , o = e.view
                          , s = e.calledViews
                          , c = void 0 === s ? [] : s;
                        n && d(e[gn.l], r),
                        o ? f(o, r) : u[a] && !i[a] && (i[a] = !0,
                        f(u[a], r)),
                        c.length && t(c, r)
                    }
                    ))
                };
                return h(e),
                a
            }
        }, {
            key: "getCommand",
            value: function(e) {
                var n = []
                  , r = e.args
                  , i = e.type
                  , o = r ? r[0] : {}
                  , s = Object(vn.d)().motionImgMap
                  , u = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                      , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image"
                      , r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                    if ("" !== t)
                        switch (e) {
                        case "image":
                            if (Object(nn.o)(t)) {
                                var i = t.type && "spine" === t.type && t.image;
                                if (i)
                                    return n.push({
                                        type: "spine",
                                        url: t.image,
                                        useInPlot: r
                                    }),
                                    void Object(k.a)({
                                        atlas: t.atlas,
                                        skeleton: t.skeleton,
                                        image: t.image
                                    });
                                if (!s || !t.uuid || !s[t.uuid])
                                    return;
                                var a = s[t.uuid].images;
                                a.forEach((function(t) {
                                    var e = t.url;
                                    return n.push({
                                        type: "image",
                                        url: e,
                                        useInPlot: r
                                    })
                                }
                                ))
                            } else
                                t && Object(nn.p)(t) && "inherit" !== t && n.push({
                                    type: "image",
                                    url: t
                                });
                            break;
                        case "audio":
                            n.push({
                                type: "audio",
                                url: t,
                                useInPlot: r
                            });
                            break;
                        case "video":
                            n.push({
                                type: "video",
                                url: t,
                                useInPlot: r
                            });
                            break;
                        default:
                            console.warn("未知素材类型", e, t)
                        }
                };
                switch (i) {
                case "addView":
                    n.push.apply(n, a()(t.getAssetsInViews(r, !0)));
                    break;
                case "addImage":
                    u(o.url);
                    break;
                case "showDialog":
                    u(o.avatar.url);
                    break;
                case "playMusic":
                case "playSound":
                    o.url && "inherit" !== o.url && u(o.url, "audio");
                    break;
                case "options":
                    for (var c = 0, l = r.length; c < l; c++) {
                        var d = r[c]
                          , f = d.background
                          , h = d.sound;
                        if (f) {
                            var p = f.normal
                              , v = f.active
                              , g = f.disable;
                            p && p.url && u(p.url),
                            v && v.url && u(v.url),
                            g && g.url && u(g.url)
                        }
                        h && h.url && u(h.url, "audio")
                    }
                    break;
                case "weather":
                    x.a.offline || n.push.apply(n, a()(t.getWeather(o)));
                    break;
                case "showBubble":
                    u(o.url);
                    break;
                case "emitBubble":
                    var m = o.avatar
                      , y = o.content;
                    u(m.url),
                    "image" === o.type && u(y.url, "image"),
                    y.background && u(y.background.url);
                    break;
                case "addImageEvent":
                    r.length && o.commands && n.push.apply(n, a()(t.needLoadByCommands(o.commands)));
                    break;
                case "video":
                    u(o.url, "video")
                }
                return n
            }
        }, {
            key: "getPlot",
            value: function(e) {
                if (e.commands)
                    return [];
                var n = e.plot_sound
                  , r = e.background
                  , i = e.avatar
                  , o = e.music
                  , s = e.characters
                  , u = e.props
                  , c = e.options
                  , l = e.weather
                  , d = e.views
                  , f = e.video
                  , h = []
                  , p = Object(vn.d)().motionImgMap
                  , v = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                      , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image"
                      , n = !0;
                    if ("" !== t)
                        switch (e) {
                        case "image":
                            if (Object(nn.o)(t)) {
                                var r = t.type && "spine" === t.type && t.image;
                                if (r)
                                    return h.push({
                                        type: "spine",
                                        url: t.image,
                                        useInPlot: n
                                    }),
                                    void Object(k.a)({
                                        atlas: t.atlas,
                                        skeleton: t.skeleton,
                                        image: t.image
                                    });
                                if (!p || !t.uuid || !p[t.uuid])
                                    return;
                                var i = p[t.uuid].images;
                                i.forEach((function(t) {
                                    var e = t.url;
                                    return h.push({
                                        type: "image",
                                        url: e,
                                        useInPlot: n
                                    })
                                }
                                ))
                            } else
                                t && Object(nn.p)(t) && "inherit" !== t && h.push({
                                    type: "image",
                                    url: t,
                                    useInPlot: n
                                });
                            break;
                        case "audio":
                            h.push({
                                type: "audio",
                                url: t,
                                useInPlot: n
                            });
                            break;
                        case "video":
                            h.push({
                                type: "video",
                                url: t,
                                useInPlot: n
                            });
                            break;
                        default:
                            console.warn("未知素材类型", e, t)
                        }
                };
                if (Object(nn.b)(n))
                    for (var g = 0, m = n.length; g < m; g++) {
                        var y = n[g];
                        y && y.url && "inherit" !== y.url && v(y.url, "audio")
                    }
                else
                    n.url && "inherit" !== n.url && v(n.url, "audio");
                r.url && "inherit" !== r.url && v(r.url),
                i.url && v(i.url),
                o.url && "inherit" !== o.url && v(o.url, "audio");
                for (var b = 0, w = s.length; b < w; b++)
                    s[b].url && v(s[b].url);
                for (var _ = 0, O = u.length; _ < O; _++)
                    u[_].url && v(u[_].url);
                for (var S = 0, P = c.length; S < P; S++) {
                    var C = c[S]
                      , E = C.background
                      , j = C.sound;
                    if (E) {
                        var A = E.normal
                          , I = E.active
                          , R = E.disable;
                        A && A.url && v(A.url),
                        I && I.url && v(I.url),
                        R && R.url && v(R.url)
                    }
                    j && j.url && v(j.url, "audio")
                }
                return d.length > 0 && h.push.apply(h, a()(t.getAssetsInViews(d, !0))),
                l.value && (x.a.offline || h.push.apply(h, a()(t.getWeather(e.weather.value)))),
                f && f.url && v(f.url, "video"),
                h
            }
        }, {
            key: "countOptionAssets",
            value: function(e) {
                var n = {}
                  , r = 0
                  , i = function(t) {
                    var e = t.url;
                    n[e] || (r++,
                    n[e] = !0)
                }
                  , o = function(e) {
                    for (var n = e.plots, r = 0, o = n.length; r < o; r++) {
                        var u = n[r]
                          , l = [];
                        u.commands ? l = u.commands.map((function(e) {
                            var n = e.args
                              , r = e.type;
                            return "options" !== r && "conditionOptions" !== r || c(n),
                            t.getCommand(e)
                        }
                        )).reduce((function(t, e) {
                            return [].concat(a()(e), [t])
                        }
                        ), []) : (u.options.length && s(u.options),
                        u.condition_options.length && s(u.condition_options),
                        l = t.getPlot(u)),
                        l.forEach((function(t) {
                            return i(t)
                        }
                        ))
                    }
                }
                  , s = function(t) {
                    return t.forEach((function(t) {
                        return o(t)
                    }
                    ))
                }
                  , u = function(e) {
                    for (var n = e.commands, r = 0, a = n.length; r < a; r++) {
                        var o = n[r];
                        t.getCommand(o).forEach((function(t) {
                            return i(t)
                        }
                        )),
                        "options" !== o.type && "conditionOptions" !== o.type || c(o.args)
                    }
                }
                  , c = function(t) {
                    return t.forEach((function(t) {
                        return u(t)
                    }
                    ))
                };
                return e.plots ? o(e) : u(e),
                r
            }
        }, {
            key: "clearPreload",
            value: function() {
                ts.queue.length = 0,
                ts.state.loadingChapterMap = {},
                ts.state.loaded = 0,
                ts.state.loading = !1,
                ts.clear && ts.clear(),
                es.clear(),
                Jo.isLoading = !1,
                Jo.hasLoaded = !0,
                t.getUsing().forEach((function(e) {
                    var n = e.url
                      , r = e.type;
                    return t.addRef(r, n)
                }
                ))
            }
        }, {
            key: "clearUselessRef",
            value: function() {
                es.forEach((function(e, n, r) {
                    return r <= 0 && t.removeCache(e, n)
                }
                ))
            }
        }, {
            key: "getPreload",
            value: function(e) {
                var n = e.stack
                  , r = void 0 === n ? [] : n
                  , i = e.chapter
                  , o = e.plots
                  , s = e.plotIndex
                  , u = void 0 === s ? 0 : s
                  , c = e.commands
                  , l = e.cmdIndex
                  , d = void 0 === l ? 0 : l
                  , f = e.commandState;
                t.clearPreload();
                var h = {
                    data: [],
                    size: 0
                };
                r = a()(r);
                var p = Object(vn.d)().motionImgMap
                  , v = {
                    count: 0,
                    stop: !1,
                    autoPlay: f && f.autotext && f.autotext.args[0],
                    videoCount: 0
                }
                  , g = function(e, n, r) {
                    if (e) {
                        var i = function(e, n, r) {
                            if (es.add(e, n, r),
                            !h.data.some((function(t) {
                                return t.url === n
                            }
                            ))) {
                                var i = "global" === r ? 0 : t.getSize(n, e);
                                h.data.push({
                                    url: n,
                                    type: e,
                                    size: i
                                }),
                                h.size += i
                            }
                        };
                        if (e && Object(nn.p)(e) && "inherit" !== e)
                            i(n, e, r);
                        else if (Object(nn.o)(e))
                            if (e.type && "spine" === e.type && e.image)
                                i(n, e, r);
                            else {
                                if (!p || !e.uuid || !p[e.uuid])
                                    return;
                                var a = p[e.uuid].images;
                                (void 0 === a ? [] : a).forEach((function(t) {
                                    var e = t.url;
                                    return i(n, e, r)
                                }
                                ))
                            }
                    }
                };
                if (f && t.getCommandState(f).forEach((function(t) {
                    var e = t.type
                      , n = t.url;
                    return g(n, e, "play")
                }
                )),
                c && !c[d] || o && !o[u])
                    return Promise.resolve(h.data);
                var m = function() {
                    return h.size > $o / 5 || h.data.length > 50 || v.stop || v.count > 4
                }
                  , y = function(t, e, n) {
                    var r = t.loadType
                      , i = vn.a.getChapterByUUID(Object(vn.d)(), n);
                    if (i)
                        return r = "$".concat(i.uuid),
                        ts.fixTask({
                            stack: [],
                            chapter: i,
                            plots: i.plots,
                            plotIndex: 0,
                            commands: null,
                            cmdIndex: 0,
                            loadType: r
                        })
                }
                  , b = function e(n) {
                    var r = n.commands
                      , a = n.cmdIndex
                      , o = n.loadType
                      , s = r[a]
                      , u = s.type
                      , c = s.args
                      , l = s.uuid
                      , d = []
                      , f = []
                      , h = function(t) {
                        return Zo(Zo({}, n), {}, {
                            stack: []
                        }, t)
                    };
                    "options" === u && c.some((function(t) {
                        return !t.disable && !t.timer && !t.condition
                    }
                    )) && (v.stop = !0);
                    for (var p = function(n, r) {
                        for (var a = c[n], s = "options" === u ? "o" : "branch" !== a.type && t.countOptionAssets(a) <= 50 ? "l" : "c", p = "".concat("play" === o ? "" : o, "$").concat(l).concat(s).concat(n, "-"), v = Promise.resolve(), b = a.commands, w = function(n) {
                            var r = a.commands[n]
                              , o = r.type
                              , s = r.args;
                            if (v = v.then((function() {
                                if (m())
                                    return Promise.reject(n);
                                var a = h({
                                    commands: b,
                                    cmdIndex: n,
                                    loadType: p
                                });
                                return t.getCommand(r).forEach((function(t) {
                                    var e = t.url
                                      , n = t.type
                                      , r = t.useInPlot;
                                    return g(e, n, r ? p : "global")
                                }
                                )),
                                "options" === o || "conditionOptions" === o ? e(a) : "jump" === o ? (i.uuid !== s[0] && ts.pushTasks([y(a, 0, s[0])]),
                                Promise.reject(-1)) : "insert" === o ? (i.uuid !== s[0] && ts.pushTasks([y(a, 0, s[0])]),
                                Promise.reject(n + 1)) : "back" === o ? Promise.reject(-1) : Promise.resolve()
                            }
                            )),
                            "options" === o || "conditionOptions" === o)
                                return n + 1 < a.commands.length && (v = v.then((function() {
                                    return Promise.reject(n)
                                }
                                ))),
                                "break"
                        }, x = 0; x < a.commands.length && x < 10 && "break" !== w(x); x++)
                            ;
                        v = v.then((function() {
                            a.commands.length > 10 && f.push(h({
                                commands: b,
                                cmdIndex: 10,
                                loadType: p
                            }))
                        }
                        ), (function(t) {
                            t >= 0 && a.commands.length > t && f.push(h({
                                commands: b,
                                cmdIndex: t,
                                loadType: p
                            }))
                        }
                        )),
                        d.push(v)
                    }, b = 0, w = c.length; b < w; b++)
                        p(b);
                    return Promise.all(d).then((function() {
                        return f.length && ts.pushTasks(f),
                        Promise.resolve()
                    }
                    ))
                }
                  , w = function(t) {
                    var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                      , n = t.stack
                      , r = t.commands
                      , a = t.plotIndex
                      , o = t.cmdIndex
                      , s = r[o] || {}
                      , u = s.type
                      , c = s.args;
                    if ("jump" === u)
                        return i.uuid !== c[0] && ts.pushTasks([y(t, 0, c[0])]),
                        Promise.resolve();
                    if ("insert" === u)
                        return i.uuid !== c[0] && ts.pushTasks([y(t, 0, c[0])]),
                        x(Zo(Zo({}, t), {}, {
                            cmdIndex: o + 1
                        }));
                    if ("back" === u)
                        return Promise.resolve();
                    if ("options" === u || "conditionOptions" === u)
                        return b(t).then((function() {
                            return x(Zo(Zo({}, t), {}, {
                                cmdIndex: o + 1
                            }), e)
                        }
                        ));
                    if (r.length > o + 1)
                        return x(Zo(Zo({}, t), {}, {
                            cmdIndex: o + 1
                        }), e);
                    if (e && n.length) {
                        var l = n[0];
                        if (n = n.slice(1),
                        l.commands)
                            return x(Zo(Zo({}, l), {}, {
                                stack: n,
                                loadType: "play"
                            }), e);
                        var d = n
                          , f = d.condition
                          , h = d.breakNext;
                        return k(Zo(Zo({}, f ? h : l), {}, {
                            stack: n,
                            loadType: "play"
                        }))
                    }
                    return e ? k(Zo(Zo({}, t), {}, {
                        plotIndex: a + 1,
                        commands: null
                    })) : Promise.resolve()
                }
                  , x = function(e) {
                    var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                      , r = e.commands
                      , i = e.cmdIndex
                      , a = e.loadType;
                    if (i >= r.length)
                        return w(e, n);
                    if (m())
                        return ts.pushTasks([ts.cloneTask(e)]),
                        Promise.resolve();
                    var o = r[i];
                    t.getCommand(o).forEach((function(t) {
                        var e = t.url
                          , n = t.type
                          , r = t.useInPlot;
                        return g(e, n, r ? a : "global")
                    }
                    ));
                    var s = o.type
                      , u = o.args;
                    return "autotext" === s && (v.autoPlay = u[0]),
                    "showDialog" === s && !v.autoPlay && v.count++,
                    "options" === s && u.some((function(t) {
                        return !t.disable && !t.timer && !t.condition
                    }
                    )) && (v.stop = !0),
                    "video" === s && (v.stop = !0),
                    w(e, n)
                }
                  , k = function(e) {
                    var n = e.plots
                      , r = e.plotIndex
                      , a = e.loadType
                      , o = n[r];
                    return !o || o.commands && !o.commands.length ? Promise.resolve() : o.commands ? x(Zo(Zo({}, e), {}, {
                        commands: o.commands,
                        cmdIndex: 0
                    })) : m() ? (ts.pushTasks([ts.cloneTask(e)]),
                    Promise.resolve()) : (v.autoPlay = o.autotext,
                    !v.autoPlay && v.count++,
                    !v.autoPlay && v.count > 5 && (v.stop = !0),
                    !!o.video && v.videoCount++,
                    (v.videoCount > 2 || v.count > 5) && (v.stop = !0),
                    t.getPlot(o).forEach((function(t) {
                        var e = t.url
                          , n = t.type
                          , r = t.useInPlot;
                        return g(e, n, r ? a : "global")
                    }
                    )),
                    function e(n) {
                        var r = n.plotIndex
                          , a = n.plots
                          , o = n.loadType
                          , s = a[r]
                          , u = s.uuid
                          , c = s.options
                          , l = s.condition_options
                          , d = function(t) {
                            return Zo(Zo({}, n), {}, {
                                stack: []
                            }, t)
                        }
                          , f = function(n, r) {
                            for (var a = [], s = [], c = function(c, l) {
                                var f = n[c];
                                "options" !== r || f.disable || f.timer || f.condition || (v.stop = !0);
                                for (var h = "options" === r ? "o" : "branch" !== f.type && t.countOptionAssets(f) <= 50 ? "l" : "c", p = "".concat("play" === o ? "" : o, "$").concat(u).concat(h).concat(c, "-"), b = Promise.resolve(), w = f.plots, k = function(n) {
                                    var r = w[n];
                                    b = b.then((function() {
                                        return m() ? Promise.reject(n) : r.commands ? x(d({
                                            loadType: p,
                                            commands: r.commands,
                                            cmdIndex: 0,
                                            plots: w,
                                            plotIndex: n
                                        })) : void t.getPlot(r).forEach((function(t) {
                                            var e = t.url
                                              , n = t.type
                                              , r = t.useInPlot;
                                            return g(e, n, r ? p : "global")
                                        }
                                        ))
                                    }
                                    )).then((function() {
                                        var t = d({
                                            loadType: p,
                                            plots: w,
                                            plotIndex: n,
                                            commands: null
                                        });
                                        return function(t) {
                                            for (var e = t.options, n = t.condition_options, r = 0, i = 0, a = e.length; i < a; i++)
                                                r += e[i].plots.length;
                                            for (var o = 0, s = n.length; o < s; o++)
                                                r += n[o].plots.length;
                                            return r
                                        }(r) ? e(t) : r.jump ? (i.uuid !== r.jump && ts.pushTasks([y(t, 0, r.jump)]),
                                        Promise.reject(-1)) : r.insert ? (i.uuid !== r.insert && ts.pushTasks([y(t, 0, r.insert)]),
                                        Promise.reject(n + 1)) : r.back ? Promise.reject(-1) : Promise.resolve()
                                    }
                                    ))
                                }, _ = 0; _ < w.length && _ < 5; _++)
                                    k(_);
                                b = b.then((function() {
                                    w.length > 5 && s.push(d({
                                        loadType: p,
                                        plots: w,
                                        plotIndex: 5,
                                        commands: null
                                    }))
                                }
                                ), (function(t) {
                                    return t >= 0 && f.plots.length > t && !f.plots[t].commands && s.push(d({
                                        loadType: p,
                                        plots: w,
                                        plotIndex: t,
                                        commands: null
                                    })),
                                    Promise.resolve()
                                }
                                )),
                                a.push(b)
                            }, l = 0, f = n.length; l < f; l++)
                                c(l);
                            return Promise.all(a).then((function() {
                                return s.length && ts.pushTasks(s)
                            }
                            ))
                        };
                        return Promise.all([f(c, "options"), f(l, "condition_options")])
                    }(e).then((function() {
                        return _(e)
                    }
                    )))
                }
                  , _ = function(t) {
                    var e = t.stack
                      , n = t.plots
                      , r = t.plotIndex
                      , a = n[r];
                    if (a.back)
                        return Promise.resolve();
                    if (a.jump)
                        return i.uuid !== a.jump && ts.pushTasks([y(t, 0, a.jump)]),
                        Promise.resolve();
                    if (a.insert)
                        return i.uuid !== a.insert && ts.pushTasks([y(t, 0, a.insert)]),
                        k(Zo(Zo({}, t), {}, {
                            plotIndex: r + 1
                        }));
                    if (n.length > r + 1)
                        return k(Zo(Zo({}, t), {}, {
                            plotIndex: r + 1
                        }));
                    if (e.length) {
                        var o = e[0];
                        if (e = e.slice(1),
                        o.commands)
                            return x(Zo(Zo({}, o), {}, {
                                stack: e,
                                loadType: "play"
                            }));
                        var s = e
                          , u = s.condition
                          , c = s.breakNext;
                        return k(Zo(Zo({}, u ? c : o), {}, {
                            stack: e,
                            loadType: "play"
                        }))
                    }
                    return Promise.resolve()
                }
                  , O = function() {
                    return h.size < $o && (ts.state.size = $o - h.size),
                    ts.state.loadingChapterMap[i.uuid] = !0,
                    h.data
                }
                  , S = {
                    stack: r,
                    chapter: i,
                    plots: o,
                    plotIndex: u,
                    commands: c,
                    cmdIndex: d,
                    loadType: "play"
                };
                return c ? x(S).then((function() {
                    return O()
                }
                )) : k(S).then((function() {
                    return O()
                }
                ))
            }
        }, {
            key: "getSize",
            value: function(t, e) {
                return "image" === e ? "gif" === t.substr((Math.max(0, t.lastIndexOf(".")) || 1 / 0) + 1).toLowerCase() ? 1e6 : 2e5 : "audio" === e ? 2e6 : "spine" === e ? 1e6 : "video" === e ? 5e6 : void 0
            }
        }, {
            key: "loader",
            set: function(t) {
                Jo = t
            }
        }, {
            key: "cache",
            set: function(t) {
                Ko = t
            }
        }]),
        t
    }();
    c()(Qo, "getViewsMenuAssets", (function() {
        var t = Object(vn.d)().default_settings
          , e = (t = void 0 === t ? {} : t).mainMenu;
        return Qo.getAssetsInViews([e])
    }
    )),
    c()(Qo, "getGlobalViewsAssets", (function() {
        var t = Object(vn.d)().views;
        return Qo.getAssetsInViews(t, !0)
    }
    )),
    c()(Qo, "getMouseStyleAssets", (function() {
        var t = Object(vn.d)()
          , e = t.default_settings
          , n = (e = void 0 === e ? {} : e).mouse
          , r = t.motionImgMap
          , i = []
          , a = function(t) {
            if (Object(nn.o)(t)) {
                if (t.type && "spine" === t.type && t.image)
                    return i.push({
                        type: "spine",
                        url: t.image
                    }),
                    void Object(k.a)({
                        atlas: t.atlas,
                        skeleton: t.skeleton,
                        image: t.image
                    });
                if (!r || !t.uuid || !r[t.uuid])
                    return;
                r[t.uuid].images.forEach((function(t) {
                    var e = t.url;
                    return i.push({
                        type: "image",
                        url: e
                    })
                }
                ))
            } else
                t && Object(nn.p)(t) && "inherit" !== t && i.push({
                    type: "image",
                    url: t
                })
        }
          , o = n.normal.url
          , s = void 0 === o ? "" : o
          , u = n.active.url
          , c = void 0 === u ? "" : u;
        return s && a(s),
        c && a(c),
        i
    }
    ));
    var ts = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "start",
            value: function() {
                if (!x.a.upserver) {
                    var e = t.state;
                    if (!(e.loading || e.size < 0)) {
                        e.loading = !0,
                        Jo.onFileComplete.remove(t.loadCallViewAsset),
                        Jo.onFileComplete.add(t.loadCallViewAsset),
                        Jo.onLoadComplete.remove(t.loadCompleteCheck),
                        Jo.onLoadComplete.add(t.loadCompleteCheck);
                        var n = setTimeout((function n() {
                            var r = !1;
                            t.clear = function() {
                                return r = !0
                            }
                            ;
                            var i = !1
                              , a = []
                              , o = t.queue
                              , s = 15;
                            e.loaded > 50 && e.loaded < 80 ? s += 2 : e.loaded >= 80 && (s += 4 * Math.floor(e.loaded / 40));
                            for (var u = function(n, u) {
                                for (var c = [], l = o[n], d = function(a, o) {
                                    var u = l[a];
                                    if (u.lock)
                                        return "continue";
                                    var d = Promise.resolve().then((function() {
                                        return r ? Promise.reject() : void 0
                                    }
                                    )).then((function() {
                                        return t.queue[n] && t.queue[n][a] && u === t.queue[n][a] ? t.getChapter(u) : Promise.reject()
                                    }
                                    )).then((function(t) {
                                        return r ? Promise.reject() : t
                                    }
                                    )).then((function(e) {
                                        var n = []
                                          , r = []
                                          , i = [];
                                        return t.getAssets(e).forEach((function(t) {
                                            var e = t.callView;
                                            1 === e ? r.push(t) : e > 1 ? i.push(t) : n.push(t)
                                        }
                                        )),
                                        (r.length || i.length) && (t.addViewAsset(r, i),
                                        t.loadCallViewAsset()),
                                        n.map((function(t) {
                                            return t.needLoad = Qo.load(t.type, t.url, !0),
                                            t
                                        }
                                        ))
                                    }
                                    )).then((function(t) {
                                        var n = t.filter((function(t) {
                                            return t.needLoad
                                        }
                                        ))
                                          , r = n.reduce((function(t, e) {
                                            return t + e.size
                                        }
                                        ), 0);
                                        return e.size -= r,
                                        n.length && (i = !0) && Jo.start(),
                                        i
                                    }
                                    )).then((function(t) {
                                        return Object(k.z)(t ? s : 1)
                                    }
                                    ));
                                    c.push(d)
                                }, f = 0, h = l.length; f < h; f++)
                                    d(f);
                                a.push(Promise.all(c).catch((function(t) {
                                    return t && console.warn(t)
                                }
                                )))
                            }, c = 0, l = o.length; c < l && e.loaded < 200; c++)
                                u(c);
                            var d = function() {
                                if (!r)
                                    if (t.updateQueue(),
                                    i && e.loaded++,
                                    e.size <= 0 || !t.queue.length || e.loaded >= 200)
                                        e.loading = !1;
                                    else {
                                        var a = setTimeout(n, 0);
                                        t.clear = function() {
                                            return clearTimeout(a)
                                        }
                                    }
                            };
                            a.length ? Promise.all(a).then(d, d) : e.loading = !1
                        }
                        ), 0);
                        t.clear = function() {
                            return clearTimeout(n)
                        }
                    }
                }
            }
        }, {
            key: "loadCompleteCheck",
            value: function() {
                var e = t.callViewTask
                  , n = e.assets
                  , r = e.depthAssets;
                n.length || r.length ? t.loadCallViewAsset() : Jo.onFileComplete.remove(t.loadCallViewAsset)
            }
        }, {
            key: "addViewAsset",
            value: function(e, n) {
                var r = {}
                  , i = t.callViewTask;
                i.assets.forEach((function(t) {
                    var e = t.url;
                    return r[e] = !0
                }
                )),
                i.depthAssets.forEach((function(t) {
                    var e = t.url;
                    return r[e] = !0
                }
                )),
                e.forEach((function(t) {
                    return !r[t.url] && i.assets.push(t)
                }
                )),
                n.forEach((function(t) {
                    return !r[t.url] && i.depthAssets.push(t)
                }
                ))
            }
        }, {
            key: "loadCallViewAsset",
            value: function() {
                var e = t.callViewTask
                  , n = e.assets
                  , r = e.depthAssets
                  , i = e.depth;
                if (n.length + r.length !== 0) {
                    var a = Jo._fileList.length;
                    if (!(a > 20 && i)) {
                        var o = Math.max(30 - a, 2)
                          , s = function(t, e) {
                            for (var n = t[0]; n && Qo.inCache(n.type, n.url); )
                                t.shift(),
                                n = t[0];
                            for (; t[0] && e > 0; )
                                n = t[0],
                                Qo.load(n.type, n.url, n.useInPlot),
                                t.shift(),
                                e--
                        };
                        if (2 === i) {
                            var u = n.length ? Math.max(o / 3, 2) : o;
                            s(n, u),
                            s(r, n.length ? u : o)
                        } else
                            s(n, o);
                        t.callViewTask.depth = (i + 1) % 3,
                        Jo.start()
                    }
                }
            }
        }, {
            key: "update",
            value: function(e) {
                for (var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], i = t.queue, a = 0; a < i.length; a++) {
                    for (var o = function(t) {
                        var o = i[a][t]
                          , u = o.loadType;
                        if (u.startsWith(e))
                            u = u.substring(e.length),
                            o.loadType = u || "play";
                        else if (!n) {
                            if (r.some((function(t) {
                                return u.startsWith(t)
                            }
                            )))
                                return s = t,
                                "continue";
                            i[a].splice(t--, 1)
                        }
                        s = t
                    }, s = 0; s < i[a].length; s++)
                        o(s);
                    i[a].length || i.splice(a--, 1)
                }
            }
        }, {
            key: "kill",
            value: function(e) {
                for (var n = t.queue, r = 0; r < n.length; r++) {
                    for (var i = 0; i < n[r].length; i++)
                        n[r][i].loadType.startsWith(e) && n[r].splice(i--, 1);
                    n[r].length || n.splice(r--, 1)
                }
            }
        }, {
            key: "getAssets",
            value: function(t) {
                var e = []
                  , n = function(t, n) {
                    es.add(t.type, t.url, n),
                    e.some((function(e) {
                        return e.url === t.url
                    }
                    )) || (t.size = "global" === n ? 0 : Qo.getSize(t.url, t.type),
                    e.push(t))
                }
                  , r = t.commands
                  , i = t.plots
                  , a = t.plotIndex
                  , o = void 0 === a ? 0 : a
                  , s = t.cmdIndex
                  , u = void 0 === s ? 0 : s
                  , c = t.loadType
                  , l = void 0 === c ? "play" : c;
                if (r && r[u]) {
                    var d = r[u];
                    Qo.getCommand(d).forEach((function(t) {
                        return n(t, t.useInPlot ? l : "global")
                    }
                    ))
                } else if (!r && i && i[o]) {
                    var f = i[o];
                    Qo.getPlot(f).forEach((function(t) {
                        return n(t, t.useInPlot ? l : "global")
                    }
                    ))
                }
                return e
            }
        }, {
            key: "getTaskPriority",
            value: function(t) {
                for (var e = t.loadType, n = (void 0 === e ? "play" : e).split("$").slice(1).map((function(t) {
                    var e = t.slice(36);
                    return /o\d-$/.test(e) ? "option" : /(c|l)\d-$/.test(e) ? "condOption" : "chapter"
                }
                )), r = 0, i = 0; i < n.length; i++)
                    switch (n[i]) {
                    case "chapter":
                    case "option":
                        r += 2;
                        break;
                    case "condOption":
                        r += 1
                    }
                return r
            }
        }, {
            key: "cloneTask",
            value: function(t) {
                return Zo(Zo({}, t), {}, {
                    stack: a()(t.stack || [])
                })
            }
        }, {
            key: "createTask",
            value: function(e) {
                var n = e.task
                  , r = e.type
                  , i = e.chapter
                  , a = (n = t.cloneTask(n)).stack
                  , o = null;
                switch (r) {
                case "pop":
                    o = a.pop(),
                    Object.assign(n, o, {
                        loadType: "play",
                        stack: a
                    }),
                    o && "insert" === o.type && (o = a.pop(),
                    Object.assign(n, o, {
                        loadType: o.loadType || "play",
                        stack: a
                    }));
                    break;
                case "jump":
                case "insert":
                    n.stack = [],
                    n.chapter = i,
                    n.plots = i.plots,
                    n.commands = null,
                    n.plotIndex = 0,
                    n.cmdIndex = 0,
                    n.loadType = "$".concat(i.uuid),
                    t.state.loadingChapterMap[i.uuid] = !0
                }
                return t.fixTask(n)
            }
        }, {
            key: "fixTask",
            value: function(t) {
                var e = t.plots
                  , n = t.commands
                  , r = t.plotIndex
                  , i = void 0 === r ? 0 : r;
                if (!n && e && e[i]) {
                    var a = e[i];
                    if (a.commands)
                        return Zo(Zo({}, t), {}, {
                            commands: a.commands,
                            cmdIndex: 0
                        })
                }
                return t
            }
        }, {
            key: "createTasksByPlotOption",
            value: function(e) {
                for (var n = e.task, r = e.plot, i = e.optionType, a = n.loadType, o = [], s = r[i], u = 0; u < s.length; u++) {
                    var c = s[u];
                    if (c.plots.length) {
                        var l = Qo.countOptionAssets(c);
                        if (!(l < 1)) {
                            var d = Zo(Zo({}, n), {}, {
                                stack: [],
                                plots: c.plots,
                                plotIndex: 0,
                                commands: null
                            })
                              , f = "options" === i ? "o" : "branch" !== c.type && l <= 50 ? "l" : "c";
                            d.loadType = "".concat("play" === a ? "" : a, "$").concat(r.uuid).concat(f).concat(u, "-"),
                            o.push(t.fixTask(d))
                        }
                    }
                }
                return o
            }
        }, {
            key: "createTasksByCommandOption",
            value: function(t) {
                for (var e = t.task, n = t.command, r = e.loadType, i = [], a = n.args, o = 0; o < a.length; o++) {
                    var s = a[o];
                    if (s.commands.length) {
                        var u = Zo(Zo({}, e), {}, {
                            stack: [],
                            commands: s.commands,
                            cmdIndex: 0
                        })
                          , c = "options" === n.type ? "o" : "branch" !== s.type && Qo.countOptionAssets(s) ? "l" : "c";
                        u.loadType = "".concat("play" === r ? "" : r, "$").concat(n.uuid).concat(c).concat(o, "-"),
                        i.push(u)
                    }
                }
                return i
            }
        }, {
            key: "updateQueue",
            value: function() {
                for (var e = t.queue, n = !0, r = 0, i = e.length; r < i && n; r++)
                    for (var a = e[r], o = 0; o < a.length && n; o++)
                        if (!a[o].lock) {
                            n = !1;
                            break
                        }
                for (var s = 0, u = e.length; s < u; s++)
                    for (var c = e[s], l = function(r) {
                        var i = c[r]
                          , a = i.stack
                          , o = i.plots
                          , s = i.plotIndex
                          , u = void 0 === s ? 0 : s
                          , l = i.commands
                          , f = i.cmdIndex
                          , h = void 0 === f ? 0 : f
                          , p = i.lock;
                        if (n && (i.lock = !1,
                        i.loaded = 0),
                        i.lock) {
                            if (i.lockTotal--,
                            i.lockTotal)
                                return d = r,
                                "continue";
                            i.lock = !1,
                            i.loaded = 0
                        }
                        var v = n || p && !i.lock ? 0 : t.getTaskPriority(i);
                        if (v) {
                            var g = 0;
                            if (l) {
                                var m = l[h] || {}
                                  , y = m.type
                                  , b = m.args;
                                g = "options" === y || "conditionOptions" === y ? b.length : 0
                            } else {
                                var w = o[u] || {}
                                  , x = w.options
                                  , k = void 0 === x ? [] : x
                                  , _ = w.condition_options
                                  , O = void 0 === _ ? [] : _;
                                g = Math.max(k.length, O.length)
                            }
                            if (i.loaded = i.loaded || 0,
                            i.loaded > 40 || 2 === v && i.loaded > 10 || v >= 3 || g > 5)
                                return i.lock = !0,
                                i.lockTotal = 10,
                                d = r,
                                "continue";
                            i.loaded++
                        }
                        if (l)
                            if (l.length <= h) {
                                if (o.length > u + 1 && l === o[u].commands)
                                    return i.plotIndex += 1,
                                    i.commands = o[i.plotIndex].commands || null,
                                    i.cmdIndex = 0,
                                    d = r,
                                    "continue";
                                c.splice(r--, 1),
                                a.length && e.push([t.createTask({
                                    task: i,
                                    type: "pop"
                                })])
                            } else {
                                var S = l[h]
                                  , P = S.type;
                                if ("options" === P || "conditionOptions" === P) {
                                    var C = t.createTasksByCommandOption({
                                        command: S,
                                        task: i
                                    });
                                    C.length && e.push(C),
                                    i.cmdIndex++
                                } else if ("back" === P || "jump" === P || "insert" === P) {
                                    "insert" !== P && c.splice(r--, 1);
                                    var E = S.args && S.args[0] || "";
                                    if ("back" !== P && !t.state.loadingChapterMap[E]) {
                                        var j = vn.a.getChapterByUUID(Object(vn.d)(), S.args[0]);
                                        j && e.push([t.createTask({
                                            task: i,
                                            type: P,
                                            chapter: j
                                        })])
                                    }
                                    i.cmdIndex++
                                } else {
                                    for (var A = (l[++i.cmdIndex] || {}).type; A && !Xo[A]; )
                                        A = (l[++i.cmdIndex] || {}).type;
                                    l[i.cmdIndex] ? Qo.getCommand(l[i.cmdIndex]).forEach((function(t) {
                                        var e = t.url;
                                        e && Object(nn.p)(e) && e.toLowerCase().includes(".gif") && (i.loaded = (i.loaded || 0) + 10)
                                    }
                                    )) : a.length && e.push([t.createTask({
                                        task: i,
                                        type: "pop"
                                    })])
                                }
                            }
                        else if (o.length <= u)
                            c.splice(r--, 1),
                            a.length && e.push([t.createTask({
                                task: i,
                                type: "pop"
                            })]);
                        else {
                            var I = o[u]
                              , R = I.options
                              , T = void 0 === R ? [] : R
                              , M = I.condition_options
                              , D = void 0 === M ? [] : M;
                            if (T.length || D.length) {
                                var B = t.createTasksByPlotOption({
                                    plot: I,
                                    optionType: "options",
                                    task: i
                                })
                                  , U = t.createTasksByPlotOption({
                                    plot: I,
                                    optionType: "condition_options",
                                    task: i
                                });
                                B.length && e.push(B),
                                U.length && e.push(U)
                            } else if (I.back || I.jump || I.insert) {
                                if (I.jump) {
                                    var z = I.jump;
                                    if (!t.state.loadingChapterMap[z]) {
                                        var L = vn.a.getChapterByUUID(Object(vn.d)(), z);
                                        L && e.push([t.createTask({
                                            task: i,
                                            type: "jump",
                                            chapter: L
                                        })])
                                    }
                                }
                                if (I.insert) {
                                    var V = I.insert;
                                    if (!t.state.loadingChapterMap[V]) {
                                        var F = vn.a.getChapterByUUID(Object(vn.d)(), V);
                                        F && e.push([t.createTask({
                                            task: i,
                                            type: "insert",
                                            chapter: F
                                        })])
                                    }
                                }
                                if (!I.insert)
                                    return c.splice(r--, 1),
                                    d = r,
                                    "continue"
                            }
                            i.plotIndex++,
                            c[r] = t.fixTask(i)
                        }
                        d = r
                    }, d = 0; d < c.length; d++)
                        l(d);
                for (var f = 0; f < e.length; f++)
                    e[f] && !e[f].length && e.splice(f--, 1)
            }
        }, {
            key: "getChapter",
            value: function(e) {
                var n = e.chapter
                  , r = x.a.client;
                if (n) {
                    var i = n.md5
                      , o = n.downloadUuid
                      , s = n.uuid
                      , u = n.plots
                      , c = n.charge;
                    if (i && !u.length) {
                        var l = o || s
                          , d = function() {
                            var r, i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                            return i.length && !n.plots.length && ((r = n.plots).push.apply(r, a()(i)),
                            e.plots = n.plots),
                            delete t.loadingChapterMap[l],
                            Object.assign(e, t.fixTask(e))
                        };
                        if (t.loadingChapterMap[l])
                            return t.loadingChapterMap[l].then(d);
                        var f = ("ios" === r || "android" === r || en.a.runTest || en.a.runCheck || "pc" === r) && c ? Promise.reject([]) : qa(l, i, null, !1).then(null, (function() {
                            return []
                        }
                        ));
                        return t.loadingChapterMap[l] = f,
                        f.then(d)
                    }
                }
                return Promise.resolve(e)
            }
        }, {
            key: "pushTasks",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                (e = e.map((function(e) {
                    if (!e)
                        return null;
                    var n = e.chapter
                      , r = e.plots
                      , i = e.plotIndex
                      , a = e.commands
                      , o = e.cmdIndex;
                    if (n && r === n.plots && 0 === i && r.length) {
                        var s = r[0];
                        if (t.state.loadingChapterMap[n.uuid])
                            return null;
                        (!s.commands || s.commands && a === s.commands && 0 === o) && (t.state.loadingChapterMap[n.uuid] = !0)
                    }
                    return t.fixTask(e)
                }
                )).filter((function(t) {
                    return t
                }
                ))).length && t.queue.push(e)
            }
        }]),
        t
    }();
    ts.state = {
        size: 0,
        loading: !1,
        loaded: 0,
        loadingChapterMap: {}
    },
    ts.loadingChapterMap = {},
    ts.queue = [],
    ts.callViewTask = {
        assets: [],
        depthAssets: [],
        depth: 0
    },
    ts.queue = [];
    var es = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "absent",
            value: function(e, n) {
                return !t[e][n] && !t.global[n]
            }
        }, {
            key: "count",
            value: function(e, n, r) {
                return t.global[n] ? 1 : t[e][n] ? r ? t[e][n][r] || 0 : Object.keys(t[e][n]).reduce((function(r, i) {
                    return r + t[e][n][i]
                }
                ), 0) : 0
            }
        }, {
            key: "add",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "play"
                  , i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                  , a = Object(vn.c)()
                  , o = a.load;
                if ("spine" === e && "/" === n[0] && (n = n.substring(1)),
                o.cancelForceRemoveFile(e, n),
                "global" === r || t.global[n])
                    return t.global[n] = !0,
                    void delete t[e][n];
                t[e][n] = t[e][n] || {},
                t[e][n][r] = (t[e][n][r] || 0) + i
            }
        }, {
            key: "sub",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "play"
                  , i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
                if (t.global[n])
                    delete t[e][n];
                else {
                    var a = t[e][n] || {};
                    a[r] = (a[r] || 0) - i,
                    a[r] = a[r] < 0 ? 0 : a[r],
                    0 === t.count(e, n) && Qo.removeCache(e, n)
                }
            }
        }, {
            key: "del",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "play";
                if (t.global[n])
                    delete t[e][n];
                else {
                    var i = t[e][n];
                    i[r] = 0
                }
            }
        }, {
            key: "forEach",
            value: function(e) {
                [t.image, t.audio, t.spine, t.video].forEach((function(n, r) {
                    return Object.keys(n).forEach((function(n) {
                        var i = 0 === r ? "image" : 1 === r ? "audio" : 2 === r ? "spine" : "video";
                        e && e(i, n, t.count(i, n))
                    }
                    ))
                }
                ))
            }
        }, {
            key: "clear",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                [t.image, t.audio, t.spine, t.video].forEach((function(t) {
                    return Object.keys(t).forEach((function(n) {
                        var r = t[n]
                          , i = r.global
                          , a = void 0 === i ? 0 : i
                          , o = r.cache
                          , s = void 0 === o ? 0 : o
                          , u = r.using
                          , c = {
                            global: a,
                            cache: s,
                            using: void 0 === u ? 0 : u
                        }
                          , l = Object.keys(t[n]);
                        e.forEach((function(t) {
                            return l.forEach((function(e) {
                                return ~e.indexOf(t) ? c[e] = r[e] : void 0
                            }
                            ))
                        }
                        )),
                        t[n] = c
                    }
                    ))
                }
                ))
            }
        }, {
            key: "move",
            value: function(e, n) {
                [t.image, t.audio, t.spine, t.video].forEach((function(t) {
                    Object.keys(t).forEach((function(r) {
                        var i = t[r];
                        i[n] = (i[n] || 0) + (i[e] || 0),
                        delete i[e]
                    }
                    ))
                }
                ))
            }
        }, {
            key: "transfer",
            value: function(e) {
                var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                  , r = e.length;
                r && [t.image, t.audio, t.spine, t.video].forEach((function(t, i) {
                    Object.keys(t).forEach((function(a) {
                        t[a] && Object.keys(t[a]).forEach((function(o) {
                            if (!(o.length < r) && o.startsWith(e)) {
                                var s = o.indexOf(e)
                                  , u = o.slice(s + e.length) || "play"
                                  , c = t[a][o] || 0;
                                if (delete t[a][o],
                                n)
                                    t[a][u] = (t[a][u] || 0) + c;
                                else {
                                    var l = 0 === i ? "image" : 1 === i ? "audio" : 2 === i ? "spine" : "video";
                                    Qo.removeCache(l, a)
                                }
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
        }]),
        t
    }();
    es.global = {},
    es.image = {},
    es.audio = {},
    es.spine = {},
    es.video = {};
    var ns = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "push",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                if (!Object(nn.o)(e)) {
                    var n = t.gifs
                      , r = t.images
                      , i = "gif" === e.substr((Math.max(0, e.lastIndexOf(".")) || 1 / 0) + 1).toLowerCase()
                      , a = i ? n : r
                      , o = function() {
                        var t = a.findIndex((function(t) {
                            var e = t.url;
                            return 1 === es.count("image", e)
                        }
                        ));
                        if (~t) {
                            var e = a[t].url;
                            a.splice(t, 1),
                            es.del("image", e, "cache"),
                            Qo.removeCache("image", e, !0)
                        }
                    }
                      , s = a.findIndex((function(t) {
                        return t.url === e
                    }
                    ));
                    if (~s) {
                        var u = a[s];
                        u.timestamp = Date.now(),
                        a.splice(s, 1),
                        a.push(u)
                    } else
                        a.push({
                            url: e,
                            timestamp: Date.now()
                        }),
                        es.add("image", e, "cache");
                    i && n.length > 10 && o(),
                    !i && r.length > 50 && o()
                }
            }
        }, {
            key: "pop",
            value: function(e) {
                if (!Object(nn.o)(e)) {
                    var n = t.gifs
                      , r = t.images
                      , i = "gif" === e.substr((Math.max(0, e.lastIndexOf(".")) || 1 / 0) + 1).toLowerCase() ? n : r
                      , a = i.findIndex((function(t) {
                        return t.url === e
                    }
                    ));
                    ~a && (i.splice(a, 1),
                    es.sub("image", e, "cache"))
                }
            }
        }]),
        t
    }();
    ns.gifs = [],
    ns.images = [],
    n(238);
    var rs = w.a.DOM
      , is = navigator
      , as = is.userAgent
      , os = Object(nn.a)() && On.isAppClient()
      , ss = On.isHardwareStartByAndroid()
      , us = function() {
        return !(!window.ActiveXObject && !("ActiveXObject"in window))
    }
      , cs = function() {
        var t = as.toUpperCase();
        return !!(os && t.indexOf("OPPO R7") > -1) || !!(os && t.indexOf("MI 4LTE") > -1) || !(!Object(nn.e)() || !us())
    }
      , ls = top.location !== self.location
      , ds = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
          , n = x.a.offline;
        return n ? Object(nn.a)() ? On.getLocalResourcePathByAndroid(t) : pn(t) : cs() || e ? pn(t) : pn(Object(k.e)(t))
    }
      , fs = function() {
        function t(e) {
            var n = this;
            h()(this, t),
            c()(this, "createVideoElement", (function(t) {
                var e = document.createElement("div");
                return e.id = t,
                document.querySelector(".wrapper").appendChild(e),
                e.style.visibility = "hidden",
                e
            }
            )),
            c()(this, "initMp4", (function(t) {
                var e = x.a.vertical;
                n.element = n.createVideoElement("videoDiv"),
                n.player = new w.a(n.element,{
                    src: ds(n.url, !0),
                    width: n.width,
                    height: n.height,
                    controls: n.controls,
                    volume: n.volume,
                    "x5-video-player-type": "h5",
                    "webkit-playsinline": !0,
                    "x5-playsinline": !0,
                    "x-webkit-airplay": "allow",
                    "x5-video-orientation": "".concat(e ? "portraint" : "landscape"),
                    playsinline: !0,
                    muted: !0,
                    loop: !1,
                    playbackRate: n.playbackRate,
                    defaultPlaybackRate: n.defaultPlaybackRate,
                    preload: "metadata"
                },(function() {
                    n.hide(),
                    n.toReady(t)
                }
                ))
            }
            )),
            c()(this, "toReady", (function(t) {
                var e = x.a.vertical;
                n.defaultPlaybackRate = sn.a.currentPlaybackRate,
                n.player.skip = n.skip,
                n.player.skipCall = function() {
                    return n.complete("skip")
                }
                ,
                n.player.changePlayBackRate = n.changePlayBackRate,
                n.player.playbackRateList = n.playbackRate,
                n.player.curPlaybackRate = n.defaultPlaybackRate,
                n.VideoElement && (rs.setAttribute(n.VideoElement, "x5-video-player-type", "h5"),
                rs.setAttribute(n.VideoElement, "x5-video-orientation", "".concat(e ? "portraint" : "landscape")),
                rs.setAttribute(n.VideoElement, "x-webkit-airplay", "allow"),
                rs.setAttribute(n.VideoElement, "webkit-playsinline", "true"),
                rs.setAttribute(n.VideoElement, "x5-playsinline", "true")),
                !n.supportHls || cs() ? n.player.one("loadedmetadata", (function() {
                    n.preloadId && clearTimeout(n.preloadId),
                    n.resize(),
                    n.preload_callback && n.preload_callback(),
                    t && t(),
                    Object(An.b)({
                        url: pn(n.key)
                    })
                }
                )) : (t || (n.player.on("hlspreload", (function() {
                    n.player.MSHandler && n.player.MSHandler.stopLoad(),
                    n.preload_callback && n.preload_callback(),
                    n.preload_callback = null,
                    n.preloadId && clearTimeout(n.preloadId)
                }
                )),
                n.preloadId && clearTimeout(n.preloadId),
                n.preloadId = setTimeout((function() {
                    n.preload_callback && n.preload_callback(),
                    n.preload_callback = null,
                    clearTimeout(n.preloadId)
                }
                ), 2e4)),
                t && t()),
                n.initEvents()
            }
            )),
            c()(this, "update", (function(t) {
                var e = x.a.vertical;
                Ze(),
                n.player = new w.a(n.element,{
                    src: ds(n.url),
                    width: n.width,
                    height: n.height,
                    controls: n.controls,
                    volume: n.volume,
                    "x5-video-player-type": "h5",
                    "webkit-playsinline": !0,
                    "x5-playsinline": !0,
                    "x-webkit-airplay": "allow",
                    "x5-video-orientation": "".concat(e ? "portraint" : "landscape"),
                    playsinline: !0,
                    muted: !0,
                    loop: !1,
                    playbackRate: n.playbackRate,
                    defaultPlaybackRate: n.defaultPlaybackRate,
                    preload: "metadata",
                    source: {
                        src: pn(n.url)
                    }
                },(function() {
                    t || n.hide(),
                    n.toReady(t)
                }
                ))
            }
            )),
            c()(this, "hide", (function() {
                n.element && document.querySelector(".wrapper").removeChild(n.element)
            }
            )),
            c()(this, "show", (function() {
                n.element && (document.querySelector(".wrapper").appendChild(n.element),
                n.element.style.visibility = "visible")
            }
            )),
            c()(this, "preload", (function(t, e) {
                n.error_callback = e,
                n.preload_callback = t,
                n.update()
            }
            )),
            c()(this, "start", (function(t) {
                if (Qo.clearPreload(),
                n.error_callback = null,
                n.preload_callback = null,
                t) {
                    var e = t.controls
                      , r = t.url
                      , i = t.volume
                      , a = t.skip
                      , o = t.width
                      , s = t.height
                      , u = t.playbackRate
                      , c = t.autoPlay;
                    n.url = r && r !== n.url ? pn(r) : n.url,
                    n.volume = i && i !== n.volume ? En.videoVolume || i : n.volume,
                    n.skip = a && a !== n.skip ? a : n.skip,
                    n.width = o && o !== n.width ? o : n.width,
                    n.height = s && s !== n.height ? s : n.height,
                    n.playbackRate = u && u !== n.playbackRate ? u : n.playbackRate,
                    n.controls = e && e !== n.controls ? e : n.controls,
                    n.autoPlay = c && c !== n.autoPlay ? c : n.autoPlay
                }
                os && !ss ? Xe.a.error("为了更好的播放体验，请在设置中开启硬件加速~").then((function() {
                    return n.complete("noOpenHard")
                }
                ), (function() {
                    return n.complete("noOpenHard")
                }
                )) : (n.toStart = !0,
                n.defaultPlaybackRate = sn.a.currentPlaybackRate,
                n.player ? (n.player.MSHandler && n.player.MSHandler.startLoad(),
                n.player.muted(!1),
                n.changeVolume(n.volume),
                n.player.skip = n.skip,
                n.isReplay && n.replay(),
                n.player.trigger("playStart"),
                n.resize(),
                n.play(),
                n.player.curPlaybackRate = n.defaultPlaybackRate,
                n.player.playbackRate(n.player.curPlaybackRate),
                n.player.trigger("updateplaybackrate"),
                n.volume > 0 && n.player.trigger("volumechange"),
                ls && n.replayResize(5)) : (n.element && (n.element.style.visibility = "hidden"),
                n.update((function() {
                    n.player.MSHandler && n.player.MSHandler.startLoad(),
                    n.player.muted(!1),
                    n.changeVolume(n.volume),
                    n.element.style.visibility = "visible",
                    n.player.trigger("playStart"),
                    n.resize(),
                    n.play(),
                    n.volume > 0 && n.player.trigger("volumechange"),
                    ls && n.replayResize(5)
                }
                ))),
                En.video = n)
            }
            )),
            c()(this, "replayResize", (function(t) {
                var e = 0
                  , r = 0;
                e && clearInterval(e),
                e = setInterval((function() {
                    ++r >= t && (clearInterval(e),
                    r = 0),
                    n.resize()
                }
                ), 200)
            }
            )),
            c()(this, "replay", (function() {
                n.player.currentTime(0),
                n.player.curPlaybackRate = n.defaultPlaybackRate,
                n.player.playbackRate(n.player.curPlaybackRate),
                n.changeVolume(n.volume),
                n.initEvents(),
                n.player.reset(),
                n.player.trigger("durationchange"),
                n.player.trigger("replay")
            }
            )),
            c()(this, "play", (function() {
                n.player && n.player.play(),
                n.hasRegisterEvents || n.initEvents()
            }
            )),
            c()(this, "changePlayBackRate", (function() {
                n.player.playbackRate(n.player.curPlaybackRate),
                n.VideoElement.playbackRate = n.player.curPlaybackRate,
                sn.a.currentPlaybackRate = n.player.curPlaybackRate
            }
            )),
            c()(this, "changeVolume", (function(t) {
                n.player && n.player.volume(t)
            }
            )),
            c()(this, "onVideoResize", (function() {
                return n.resize()
            }
            )),
            c()(this, "initEvents", (function() {
                n.player && (n.player.on("firstplay", n.onFirstPlay),
                n.player.on("loadstart", n.onLoadStart),
                n.player.on("suspend", n.onSuspend),
                n.player.on("abort", n.onAbort),
                n.player.on("error", n.onError),
                n.player.on("playing", n.onPlaying),
                n.player.on("waiting", n.onWaiting),
                n.player.on("seeking", n.onSeeking),
                n.player.on("seeked", n.onSeeked),
                n.player.on("ended", n.onEnded),
                n.player.on("timeupdate", n.onTimeUpdate),
                n.player.on("play", n.onPlay),
                n.player.on("pause", n.onPause),
                n.player.on("fullscreenchange", n.onFullScreenChange),
                n.player.on("resize", n.onVideoResize),
                window.addEventListener("resize", n.resize),
                window["οnresize"] = n.resize,
                n.hasRegisterEvents = !0)
            }
            )),
            c()(this, "resize", (function() {
                var t = x.a.vertical
                  , e = x.a.client
                  , r = Object(vn.c)();
                n.player && function() {
                    var i, a = Object(k.n)() || n.width, o = Object(k.m)() || n.height, s = r.scale.bounds, u = Object(nn.e)() && ("pc" !== e || t) && Math.min(s.width, a) || a, c = Object(nn.e)() && (("pc" !== e || t) && Math.min(s.height, o) || o) || o, l = n.ParentElement, d = n.player.videoWidth() || a, f = n.player.videoHeight() || o;
                    Object(nn.e)() && !t && (a > o && s.width < s.height || a < o && s.width > s.height) && (u = s.height,
                    c = s.width);
                    var h = d * (i = t ? Math.min(u / d, c / f) : a < o && u < c ? Math.min(c / d, u / f) : Math.min(u / d, c / f))
                      , p = f * i
                      , v = (a - h) / 2
                      , g = (o - p) / 2;
                    l.style.left = "".concat(v, "px"),
                    l.style.top = "".concat(g, "px"),
                    l.style.width = "".concat(h, "px"),
                    l.style.height = "".concat(p, "px"),
                    l.style.transform = a > o || t ? "rotate(0deg)" : "rotate(90deg)"
                }()
            }
            )),
            c()(this, "tryMp4", (function() {
                n.player.reset(),
                n.player.src(pn(n.url)),
                n.player.currentTime(0)
            }
            )),
            c()(this, "onFirstPlay", (function() {}
            )),
            c()(this, "onLoadStart", (function() {}
            )),
            c()(this, "onSuspend", (function() {}
            )),
            c()(this, "onAbort", (function() {}
            )),
            c()(this, "onError", (function() {
                var t = n.player.src();
                !n.player.MSHandler && t.indexOf(".m3u8") > -1 ? n.tryMp4() : (console.log("异常", n.key),
                n.error_callback ? n.error_callback && n.error_callback() : n.complete("error"))
            }
            )),
            c()(this, "onPlaying", (function() {}
            )),
            c()(this, "onWaiting", (function() {}
            )),
            c()(this, "onSeeking", (function() {}
            )),
            c()(this, "onSeeked", (function() {}
            )),
            c()(this, "onEnded", (function() {
                n.complete("ended")
            }
            )),
            c()(this, "onTimeUpdate", (function() {
                n.player && n.player.currentTime() >= n.player.duration() && n.complete("complete")
            }
            )),
            c()(this, "onPlay", (function() {}
            )),
            c()(this, "onPause", (function() {}
            )),
            c()(this, "onFullScreenChange", (function() {
                n.replayResize(5)
            }
            )),
            c()(this, "removeEvents", (function() {
                n.player && (n.player.off("firstplay", n.onFirstPlay),
                n.player.off("loadstart", n.onLoadStart),
                n.player.off("suspend", n.onSuspend),
                n.player.off("abort", n.onAbort),
                n.player.off("error", n.onError),
                n.player.off("playing", n.onPlaying),
                n.player.off("waiting", n.onWaiting),
                n.player.off("seeking", n.onSeeking),
                n.player.off("seeked", n.onSeeked),
                n.player.off("ended", n.onEnded),
                n.player.off("timeupdate", n.onTimeUpdate),
                n.player.off("play", n.onPlay),
                n.player.off("pause", n.onPause),
                n.player.off("resize", n.onVideoResize),
                n.player.off("fullscreenchange", n.onFullScreenChange),
                window.removeEventListener("resize", n.resize),
                window["οnresize"] = null,
                n.hasRegisterEvents = !1)
            }
            )),
            c()(this, "onSeeked", (function() {
                n.player.playbackRate(n.player.curPlaybackRate)
            }
            )),
            c()(this, "complete", (function(t) {
                n.onPlayEnd.dispatch(t),
                n.dispose(),
                n.toReplay = !0
            }
            )),
            c()(this, "dispose", (function() {
                n.player && (n.removeEvents(),
                n.hide(),
                En.video = null)
            }
            ));
            var r = e.element
              , i = e.skip
              , a = void 0 !== i && i
              , o = e.controls
              , s = e.url
              , u = e.volume
              , l = e.width
              , d = e.height
              , f = e.playbackRate
              , p = e.autoPlay;
            this.key = s,
            this.url = s,
            this.element = r || this.createVideoElement("videoDiv"),
            this.volume = En.videoVolume || u || 1,
            this.skip = a,
            this.width = l || 960,
            this.height = d || 540,
            this.playbackRate = f || [.5, 1, 1.5, 2],
            this.defaultPlaybackRate = sn.a.currentPlaybackRate || 1,
            this.controls = o || !1,
            this.autoPlay = p || !1,
            this.player = null,
            this.onPlayEnd = new Phaser.Signal,
            this.preloadId = 0,
            this.toReplay = !1,
            this.toStart = !1,
            this.supportHls = !0,
            this.hasRegisterEvents = !1
        }
        return v()(t, [{
            key: "VideoElement",
            get: function() {
                return this.player ? rs.$("video") : null
            }
        }, {
            key: "ParentElement",
            get: function() {
                return this.player ? this.player.player.el : null
            }
        }, {
            key: "onComplete",
            get: function() {
                return this.onPlayEnd
            }
        }, {
            key: "isReplay",
            get: function() {
                return this.toReplay
            }
        }]),
        t
    }()
      , hs = []
      , ps = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "push",
            value: function(t) {
                !hs.filter((function(e) {
                    return e == t
                }
                )).length && hs.push(t)
            }
        }, {
            key: "get",
            value: function(t) {
                var e = hs.filter((function(e) {
                    return e.key === t
                }
                ));
                return e.length ? e[0] : new fs({
                    url: t
                })
            }
        }]),
        t
    }()
      , vs = {}
      , gs = /^[\s\x20\xA0\u2002\u2003\u3000]+$/
      , ms = function(t, e) {
        if (Worker)
            return g.g(t, e);
        var n = !1
          , r = new Promise((function(e, n) {
            var r, i, o, s = [], u = document.createElement("canvas"), c = document.createElement("canvas"), l = 0, d = null, f = null, h = null, p = null, v = null, g = 1, m = function(t) {
                return t.reduce((function(t, e) {
                    return 2 * t + e
                }
                ), 0)
            }, y = function(t) {
                for (var e = [], n = 7; n >= 0; n--)
                    e.push(!!(t & 1 << n));
                return e
            }, b = function() {
                if (i) {
                    var t = u.toDataURL("image/png")
                      , e = new Image;
                    e.src = t,
                    s.push({
                        image: e,
                        delay: 10 * Math.max(f, 10)
                    })
                }
            }, w = {
                hdr: function(t) {
                    var e, n;
                    e = (r = t).width,
                    n = r.height,
                    u.width = e,
                    u.height = n,
                    u.style.width = e + "px",
                    u.style.height = n + "px",
                    u.getContext("2d").setTransform(1, 0, 0, 1, 0, 0),
                    c.width = e,
                    c.height = e
                },
                gce: function(t) {
                    b(),
                    d = null,
                    f = null,
                    o = h,
                    h = null,
                    i = null,
                    d = t.transparencyGiven ? t.transparencyIndex : null,
                    f = t.delayTime,
                    h = t.disposalMethod
                },
                com: function() {},
                app: {
                    NETSCAPE: function(t) {
                        g = t.iterations
                    }
                },
                img: function(t) {
                    i || (i = u.getContext("2d"));
                    var e = s.length
                      , n = t.lctFlag ? t.lct : r.gct;
                    e > 0 && (3 === o ? null !== p ? s[p].data && i.putImageData(s[p].data, 0, 0) : i.clearRect(v.leftPos, v.topPos, v.width, v.height) : p = e - 1,
                    2 === o && i.clearRect(v.leftPos, v.topPos, v.width, v.height));
                    for (var a = i.getImageData(t.leftPos, t.topPos, t.width, t.height), c = 0; c < t.pixels.length; c++) {
                        var l = t.pixels[c];
                        if (l !== d) {
                            var f = n[l]
                              , h = 4 * c;
                            a.data[h] = f[0],
                            a.data[h + 1] = f[1],
                            a.data[h + 2] = f[2],
                            a.data[h + 3] = 255
                        }
                    }
                    i.putImageData(a, t.leftPos, t.topPos),
                    v = t
                },
                eof: function() {
                    b()
                }
            };
            try {
                var x = new function(t) {
                    l = 0,
                    this.readByte = function() {
                        if (l >= t.length)
                            throw new Error("Attempted to read past end of stream.");
                        return t instanceof Uint8Array ? t[l++] : 255 & t.charCodeAt(l++)
                    }
                    ,
                    this.readBytes = function(t) {
                        for (var e = [], n = 0; n < t; n++)
                            e.push(this.readByte());
                        return e
                    }
                    ,
                    this.read = function(t) {
                        for (var e = "", n = 0; n < t; n++)
                            e += Object(ki.a)(this.readByte());
                        return e
                    }
                    ,
                    this.readUnsigned = function() {
                        var t = this.readBytes(2);
                        return (t[1] << 8) + t[0]
                    }
                }
                (new Uint8Array(t));
                setTimeout(function(t, n) {
                    n || (n = {});
                    var r = function(e) {
                        for (var n = [], r = 0; r < e; r++)
                            n.push(t.readBytes(3));
                        return n
                    }
                      , i = function() {
                        var e, n, r, i = 0;
                        n = new Uint8Array(8192);
                        do {
                            for (e = t.readByte(); i + e > n.length; )
                                r = void 0,
                                (r = new Uint8Array(n.length + 8192)).set(n),
                                n = r;
                            n.set(t.readBytes(e), i),
                            i += e
                        } while (0 !== e);
                        return n.subarray(0, i)
                    };
                    !function() {
                        var e = {};
                        if (e.sig = t.read(3),
                        e.ver = t.read(3),
                        "GIF" !== e.sig)
                            throw new Error("Not a GIF file.");
                        e.width = t.readUnsigned(),
                        e.height = t.readUnsigned();
                        var i = y(t.readByte());
                        e.gctFlag = i.shift(),
                        e.colorRes = m(i.splice(0, 3)),
                        e.sorted = i.shift(),
                        e.gctSize = m(i.splice(0, 3)),
                        e.bgColor = t.readByte(),
                        e.pixelAspectRatio = t.readByte(),
                        e.gctFlag && (e.gct = r(1 << e.gctSize + 1)),
                        n.hdr && n.hdr(e)
                    }(),
                    setTimeout((function o() {
                        var u = {};
                        switch (u.sentinel = t.readByte(),
                        Object(ki.a)(u.sentinel)) {
                        case "!":
                            u.type = "ext",
                            function(e) {
                                switch (e.label = t.readByte(),
                                e.label) {
                                case 249:
                                    e.extType = "gce",
                                    function(e) {
                                        var r = y(t.readByte());
                                        e.reserved = r.splice(0, 3),
                                        e.disposalMethod = m(r.splice(0, 3)),
                                        e.userInput = r.shift(),
                                        e.transparencyGiven = r.shift(),
                                        e.delayTime = t.readUnsigned(),
                                        e.transparencyIndex = t.readByte(),
                                        e.terminator = t.readByte(),
                                        n.gce && n.gce(e)
                                    }(e);
                                    break;
                                case 254:
                                    e.extType = "com",
                                    function(t) {
                                        t.comment = i(),
                                        n.com && n.com(t)
                                    }(e);
                                    break;
                                case 1:
                                    e.extType = "pte",
                                    function(e) {
                                        e.ptHeader = t.readBytes(12),
                                        e.ptData = i(),
                                        n.pte && n.pte(e)
                                    }(e);
                                    break;
                                case 255:
                                    e.extType = "app",
                                    function(e) {
                                        switch (e.identifier = t.read(8),
                                        e.authCode = t.read(3),
                                        e.identifier) {
                                        case "NETSCAPE":
                                            !function(e) {
                                                e.unknown = t.readByte(),
                                                e.iterations = t.readUnsigned(),
                                                e.terminator = t.readByte(),
                                                n.app && n.app.NETSCAPE && n.app.NETSCAPE(e)
                                            }(e);
                                            break;
                                        default:
                                            !function(t) {
                                                t.appData = i(),
                                                n.app && n.app[t.identifier] && n.app[t.identifier](t)
                                            }(e)
                                        }
                                    }(e);
                                    break;
                                default:
                                    e.extType = "unknown",
                                    function(t) {
                                        t.data = i(),
                                        n.unknown && n.unknown(t)
                                    }(e)
                                }
                            }(u);
                            break;
                        case ",":
                            u.type = "img",
                            function(e) {
                                e.leftPos = t.readUnsigned(),
                                e.topPos = t.readUnsigned(),
                                e.width = t.readUnsigned(),
                                e.height = t.readUnsigned();
                                var o = y(t.readByte());
                                e.lctFlag = o.shift(),
                                e.interlaced = o.shift(),
                                e.sorted = o.shift(),
                                e.reserved = o.splice(0, 2),
                                e.lctSize = m(o.splice(0, 3)),
                                e.lctFlag && (e.lct = r(1 << e.lctSize + 1)),
                                e.lzwMinCodeSize = t.readByte();
                                var s = i();
                                e.pixels = function(t, e) {
                                    var n, r, i, a, o, s = 0, u = function(t) {
                                        for (var n = 0, r = 0; r < t; r++)
                                            e[s >> 3] & 1 << (7 & s) && (n |= 1 << r),
                                            s++;
                                        return n
                                    }, c = 1 << t, l = c + 1, d = t + 1, f = 4096, h = 4096, p = new Uint8Array(f), v = new Uint8Array(h), g = [], m = 0, y = 0, b = function(t, e) {
                                        for (var n, r, i = g[e].byteLength + 1; m + i > v.length; )
                                            r = void 0,
                                            n = v.length + h,
                                            (r = new Uint8Array(n)).set(v),
                                            v = r,
                                            h <<= 1;
                                        var a = v.subarray(m, m + i);
                                        a.set(g[e]),
                                        a[i - 1] = g[t][0],
                                        m += i,
                                        g.push(a)
                                    };
                                    for (function() {
                                        for (var t = 0; t < c; t++)
                                            g[t] = new Uint8Array(1),
                                            g[t][0] = t;
                                        g[c] = new Uint8Array(0),
                                        g[l] = null
                                    }(); ; )
                                        if (r = n,
                                        (n = u(d)) !== c) {
                                            if (n === l)
                                                break;
                                            if (n < g.length)
                                                r !== c && b(n, r);
                                            else {
                                                if (n !== g.length)
                                                    throw new Error("Invalid LZW code.");
                                                b(r, r)
                                            }
                                            for (var w = g[n].length; y + w > p.length; )
                                                a = void 0,
                                                i = p.length + f,
                                                (a = new Uint8Array(i)).set(p),
                                                p = a,
                                                f <<= 1;
                                            p.set(g[n], y),
                                            y += w,
                                            g.length === 1 << d && d < 12 && d++
                                        } else
                                            o = c + 2,
                                            g.splice(o, g.length - o),
                                            d = t + 1,
                                            m = 0;
                                    return p.subarray(0, y)
                                }(e.lzwMinCodeSize, s),
                                e.interlaced && (e.pixels = function(t, e) {
                                    for (var n = new Array(t.length), r = t.length / e, i = function(r, i) {
                                        var o, s = t.slice(i * e, (i + 1) * e);
                                        n.splice[Vn.a](n, (o = [r * e, e]).concat.apply(o, a()(s)))
                                    }, o = [0, 4, 2, 1], s = [8, 8, 4, 2], u = 0, c = 0; c < 4; c++)
                                        for (var l = o[c]; l < r; l += s[c])
                                            i(l, u),
                                            u++;
                                    return n
                                }(e.pixels, e.width)),
                                n.img && n.img(e)
                            }(u);
                            break;
                        case ";":
                            u.type = "eof",
                            n.eof && n.eof(u);
                            break;
                        default:
                            throw new Error("Unknown block: 0x" + u.sentinel.toString(16))
                        }
                        "eof" !== u.type ? setTimeout(o, 0) : e({
                            loopCount: g,
                            frames: s
                        })
                    }
                    ), 0)
                }(x, w), 0)
            } catch (t) {
                n(t),
                console.error("parseGIF ERROR!!" + t)
            }
        }
        )).then((function(t) {
            var r = t.frames;
            t.frames = r.slice(0, 1),
            t.frameLength = r.length,
            t.parsed = t.frames <= 1;
            var i = function(t) {
                var e = r[t].image;
                return e.complete ? Promise.resolve() : new Promise((function(t, n) {
                    var r = function() {
                        return e.onerror = e.onload = null
                    };
                    e.onerror = function() {
                        r(),
                        n()
                    }
                    ,
                    e.onload = function() {
                        r(),
                        t()
                    }
                }
                ))
            };
            return i(0).then((function() {
                return function t(a) {
                    return a >= r.length || n ? Promise.resolve() : i(a).then((function() {
                        return n ? Promise.resolve() : (e(r[a], a === r.length - 1),
                        t(a + 1))
                    }
                    ))
                }(1),
                t
            }
            ))
        }
        ));
        return r.cancel = function() {
            return n = !0
        }
        ,
        r
    }
      , ys = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "measureLine",
            value: function(t) {
                for (var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n = 0, r = this.style.wordSpacing || 0, i = Math.ceil(t.length * r), a = this.context.measureText("闪").width / 2, o = !1, s = 0; s < t.length; s++) {
                    var u = t[s];
                    if (this.bolds[this._charCount] && "normal" !== this.bolds[this._charCount] && (o = !0),
                    this.fontWeights.length > 0 || this.fontStyles.length > 0) {
                        var c = this.fontToComponents(this.context.font);
                        this.fontStyles[this._charCount] && (c.fontStyle = this.fontStyles[this._charCount]),
                        this.fontWeights[this._charCount] && (c.fontWeight = this.fontWeights[this._charCount]),
                        this.context.font = this.componentsToFont(c)
                    }
                    this.style.stroke && this.style.strokeThickness && (this.strokeColors[this._charCount] && (this.context.strokeStyle = this.strokeColors[this._charCount]),
                    this.updateShadow(this.style.shadowStroke)),
                    this.style.fill && (this.colors[this._charCount] && (this.context.fillStyle = this.colors[this._charCount]),
                    this.updateShadow(this.style.shadowFill));
                    var l = gs.test(u) ? a : this.context.measureText(u).width;
                    n += l,
                    e && this._charCount++
                }
                var d = o ? a : 0;
                return Math.ceil(n) + i + d
            }
        }, {
            key: "updateText",
            value: function() {
                this.texture.baseTexture.resolution = this._res,
                this.context.font = this.style.font;
                var t = this.text;
                this.characterLimitSize > -1 && this.characterLimitSize < t.length && (t = this.text.substring(0, this.characterLimitSize) + this.characterLimitSuffix),
                this.style.wordWrap && (t = this.runWordWrap(this.text));
                var e, n = t.split(this.splitRegExp), r = this.style.tabs, i = [], a = 0, o = this.determineFontProperties(this.style.font), s = n.length;
                this.style.maxLines > 0 && this.style.maxLines < n.length && (s = this.style.maxLines),
                this._charCount = 0;
                for (var u = 0; u < s; u++) {
                    if (0 === r)
                        e = this.style.strokeThickness + this.padding.x,
                        this.colors.length > 0 || this.strokeColors.length > 0 || this.fontWeights.length > 0 || this.fontStyles.length > 0 || this.style.wordSpacing > 0 || this.bolds.length > 0 || this.textDecorations.length > 0 ? e += this.measureLine(n[u]) : e += this.context.measureText(n[u]).width + (n[u].length * this.style.wordSpacing || 0);
                    else {
                        var c = n[u].split(/(?:\t)/)
                          , l = 0;
                        if (e = this.padding.x + this.style.strokeThickness,
                        Array.isArray(r)) {
                            var d = 0;
                            for (l = 0; l < c.length; l++) {
                                var f;
                                f = this.colors.length > 0 || this.strokeColors.length > 0 || this.fontWeights.length > 0 || this.fontStyles.length > 0 || this.style.wordSpacing > 0 || this.bolds.length > 0 || this.textDecorations.length > 0 ? this.measureLine(c[l]) : Math.ceil(this.context.measureText(c[l]).width),
                                l > 0 && (d += r[l - 1]),
                                e = d + f
                            }
                        } else
                            for (l = 0; l < c.length; l++)
                                this.colors.length > 0 || this.strokeColors.length > 0 || this.fontWeights.length > 0 || this.fontStyles.length > 0 || this.style.wordSpacing > 0 || this.bolds.length > 0 || this.textDecorations.length > 0 ? e += this.measureLine(c[l]) : e += Math.ceil(this.context.measureText(c[l]).width),
                                e += this.game.math.snapToCeil(e, r) - e
                    }
                    i[u] = Math.ceil(e),
                    a = Math.max(a, i[u])
                }
                this.canvas.width = a * this._res;
                var h, p, v = o.fontSize + this.style.strokeThickness + this.padding.y, g = v * s, m = this.lineHeight ? this.lineHeight - v : this._lineSpacing;
                for (m < 0 && Math.abs(m) > v && (m = -v),
                0 !== m && (g += m > 0 ? m * n.length : m * (n.length - 1)),
                this.canvas.height = g * this._res,
                this.context.scale(this._res, this._res),
                navigator.isCocoonJS && this.context.clearRect(0, 0, this.canvas.width, this.canvas.height),
                this.style.backgroundColor && (this.context.fillStyle = this.style.backgroundColor,
                this.context.fillRect(0, 0, this.canvas.width, this.canvas.height)),
                this.context.fillStyle = this.style.fill,
                this.lineStyle = "none",
                this.boldStyle = "normal",
                this.context.font = this.style.font,
                this.context.strokeStyle = this.style.stroke,
                this.context.textBaseline = "middle",
                this.context.lineWidth = this.style.strokeThickness,
                this.context.lineCap = "round",
                this.context.lineJoin = "round",
                this._charCount = 0,
                u = 0; u < s; u++)
                    h = this.style.strokeThickness / 2,
                    p = this.style.strokeThickness / 2 + u * v + o.ascent,
                    u > 0 ? p += m * u + (this.lineHeight ? m / 2 : 0) : this.lineHeight && (p += m / 2),
                    "right" === this.style.align ? h += a - i[u] : "center" === this.style.align && (h += (a - i[u]) / 2),
                    this.autoRound && (h = Math.round(h),
                    p = Math.round(p)),
                    this.colors.length > 0 || this.strokeColors.length > 0 || this.fontWeights.length > 0 || this.fontStyles.length > 0 || this.style.wordSpacing > 0 || this.bolds.length > 0 || this.textDecorations.length > 0 ? this.updateLine(n[u], h, p) : (this.style.stroke && this.style.strokeThickness && (this.updateShadow(this.style.shadowStroke),
                    0 === r ? this.context.strokeText(n[u], h, p) : this.renderTabLine(n[u], h, p, !1)),
                    this.style.fill && (this.updateShadow(this.style.shadowFill),
                    0 === r ? this.context.fillText(n[u], h, p) : this.renderTabLine(n[u], h, p, !0)));
                this.updateTexture(),
                this.dirty = !1
            }
        }, {
            key: "advancedWordWrap",
            value: function(t) {
                for (var e = this.context, n = this.style.wordWrapWidth, r = this.style.wordSpacing || 0, i = e.measureText("闪").width / 2, a = "", o = t.split(this.splitRegExp), s = 0; s < o.length; s++) {
                    var u = o[s];
                    if (this.measureLine(u, !1) < n)
                        a += u + "\n";
                    else {
                        for (var c = "", l = n, d = 0; d < u.length; d++) {
                            var f = u[d]
                              , h = gs.test(f) ? i : e.measureText(f).width;
                            if ((h += r) > l) {
                                var p = u.slice(d);
                                o.splice(s + 1, 0, p);
                                break
                            }
                            c += f,
                            l -= h
                        }
                        a += c + "\n"
                    }
                }
                return a.replace(/[\s|\n]*$/gi, "")
            }
        }, {
            key: "updateLine",
            value: function(t, e, n) {
                var r = this;
                this.updateLinesPos(t, e, n);
                for (var i = this.style.wordSpacing || 0, a = !0, o = this.context.measureText("闪").width / 2, s = 0; s < t.length; s++) {
                    var u = t[s];
                    if (this.fontWeights.length > 0 || this.fontStyles.length > 0) {
                        var c = this.fontToComponents(this.context.font);
                        this.fontStyles[this._charCount] && (c.fontStyle = this.fontStyles[this._charCount]),
                        this.fontWeights[this._charCount] && (c.fontWeight = this.fontWeights[this._charCount]),
                        this.context.font = this.componentsToFont(c)
                    }
                    if (this.style.stroke && this.style.strokeThickness && (this.strokeColors[this._charCount] && (this.context.strokeStyle = this.strokeColors[this._charCount]),
                    this.updateShadow(this.style.shadowStroke),
                    this.context.strokeText(u, e, n)),
                    this.style.fill) {
                        if (this.colors[this._charCount] && (this.context.fillStyle = this.colors[this._charCount]),
                        this.bolds[this._charCount]) {
                            var l = this.bolds[this._charCount] + " " + this.style.font;
                            this.context.font = l,
                            this.boldStyle = this.bolds[this._charCount]
                        }
                        if (this.textDecorations[this._charCount] && (this.lineStyle = this.textDecorations[this._charCount]),
                        this.lineStyle) {
                            var d = this.lineStyles.length;
                            if (d) {
                                var f = this.lineStyles[d - 1];
                                if (!a && f && f.line == this.lineStyle && this.context.fillStyle == f.color) {
                                    var h = f.data;
                                    Object.assign(f, {
                                        data: h + u,
                                        bold: this.boldStyle
                                    })
                                } else
                                    this.lineStyles.push({
                                        data: u,
                                        line: this.lineStyle,
                                        x: e,
                                        y: n,
                                        color: this.context.fillStyle,
                                        bold: this.boldStyle
                                    })
                            } else
                                this.lineStyles.push({
                                    data: u,
                                    line: this.lineStyle,
                                    x: e,
                                    y: n,
                                    color: this.context.fillStyle,
                                    bold: this.boldStyle
                                })
                        }
                        this.updateShadow(this.style.shadowFill),
                        this.context.fillText(u, e, n)
                    }
                    a = !1,
                    e += (gs.test(u) ? o : this.context.measureText(u).width) + i,
                    this._charCount++
                }
                this.lineStyles.forEach((function(t) {
                    return r.underLine(t)
                }
                ))
            }
        }, {
            key: "addLines",
            value: function(t, e) {
                return this.textDecorations[e] = t,
                this.dirty = !0,
                this
            }
        }, {
            key: "updateLinesPos",
            value: function(t, e, n) {
                this.linesPos || (this.linesPos = {}),
                this.linesPos[t] = {
                    x: e,
                    y: n
                }
            }
        }, {
            key: "addBolds",
            value: function(t, e) {
                return this.bolds[e] = t,
                this.dirty = !0,
                this
            }
        }, {
            key: "clearLines",
            value: function() {
                return this.textDecorations = [],
                this.lineStyles = [],
                this.lineStyle = "none",
                this.dirty = !0,
                this
            }
        }, {
            key: "clearBolds",
            value: function() {
                return this.bolds = [],
                this.dirty = !0,
                this.boldStyle = "normal",
                this
            }
        }, {
            key: "underLine",
            value: function(t) {
                var e = t.data
                  , n = t.x
                  , r = t.y
                  , i = t.color
                  , a = t.line;
                if ("none" != a) {
                    var o = this.style
                      , s = o.fontSize
                      , u = o.wordSpacing
                      , c = this.context.measureText(e).width + Math.ceil(e.length * u)
                      , l = parseFloat(s.replace("px", ""));
                    "under" == a && (r += l / 2),
                    this.context.beginPath(),
                    this.context.strokeStyle = i,
                    this.context.lineWidth = 1.5,
                    this.context.moveTo(n, r),
                    this.context.lineTo(n + c, r),
                    this.context.stroke()
                }
            }
        }, {
            key: "loadImageTag",
            value: function(e) {
                var n, r = this;
                Object(jn.c)()(arguments[Vn.d]),
                e.url = fn(this.transformUrl(e.url, e) || "");
                var i = this.game
                  , a = i.device
                  , o = i.cache
                  , s = function() {
                    URL.revokeObjectURL(e.url),
                    e.data.onload = null,
                    e.data.onerror = null,
                    clearTimeout(n)
                }
                  , u = !0
                  , c = function(t) {
                    for (var e = function e(n) {
                        var r = n.texture
                          , i = n.key;
                        t && (r && r.baseTexture === t.base || t.key === i) && (n.setTexture(new PIXI.Texture(t.base)),
                        n.redo && n.redo(),
                        n.onTextureUpdate(),
                        n.updateTransform()),
                        n.children.forEach((function(t) {
                            return e(t)
                        }
                        ))
                    }, n = r.game.world.children, i = 0, a = n.length; i < a; i++)
                        e(n[i])
                }
                  , l = function() {
                    return "ui" !== e.key
                }
                  , d = function t() {
                    var i = e.data || new Image;
                    if (i.style.display = "none",
                    e.data = i,
                    i.name = e.key,
                    r.crossOrigin && (i.crossOrigin = r.crossOrigin),
                    l()) {
                        var d = x.a.upserver ? 5e3 : 3e3
                          , p = x.a.upserver ? 8e3 : 5e3;
                        n = setTimeout((function() {
                            try {
                                i.width = 100,
                                i.height = 100
                            } catch (t) {
                                console.log(t)
                            }
                            u && r.fileComplete(e),
                            u = !1
                        }
                        ), a.desktop ? d : p)
                    }
                    i.onload = function() {
                        s(),
                        vs[e.key] = !0;
                        try {
                            if (u)
                                r.fileComplete(e),
                                c(o.getImage(e.key, !0));
                            else {
                                i.width = i.naturalWidth || i.width,
                                i.height = i.naturalHeight || i.height;
                                var t = o.getImage(e.key, !0);
                                t && t.key === e.key && (t.base.forceLoaded(i.width, i.height),
                                t.frame = new Phaser.Frame(0,0,0,i.width || 1,i.height || 1,e.key),
                                t.frameData = new Phaser.FrameData,
                                t.frameData.addFrame(new Phaser.Frame(0,0,0,i.width || 1,i.height || 1,e.url)),
                                c(t))
                            }
                        } catch (t) {
                            console.log(t)
                        }
                        u = !1
                    }
                    ,
                    i.onerror = function() {
                        s();
                        var n = i.src
                          , a = hn(n);
                        sn.a.isSupportWebp && (a = n.replace("~webp", "")),
                        a !== n ? (t(),
                        i.src = f(a, "ran", (new Date).getTime()),
                        h()) : (i.src = "",
                        u && r.fileError(e),
                        u = !1)
                    }
                }
                  , f = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                      , e = arguments.length > 1 ? arguments[1] : void 0
                      , n = arguments.length > 2 ? arguments[2] : void 0;
                    if (!n)
                        return t;
                    var r = new RegExp("([?&])" + e + "=.*?(&|$)","i")
                      , i = -1 !== t.indexOf("?") ? "&" : "?";
                    return t.match(r) ? t.replace(r, "$1" + e + "=" + n + "$2") : t + i + e + "=" + n
                }
                  , h = function() {
                    var t = e.data;
                    u && t.complete && t.width && t.height && (s(),
                    setTimeout((function() {
                        return r.fileComplete(e)
                    }
                    ), 0),
                    vs[e.key] = !0)
                }
                  , p = function(t) {
                    return t[0] === "G".charCodeAt() && t[1] === "I".charCodeAt() && t[2] === "F".charCodeAt() && t[3] === "8".charCodeAt() && (t[4] === "9".charCodeAt() || "7".charCodeAt()) && t[5] === "a".charCodeAt()
                }
                  , v = function(n) {
                    var i, a = n.requestObject.response;
                    a instanceof ArrayBuffer && (i = new Uint8Array(a));
                    var u = p(i);
                    if (d(),
                    u) {
                        s();
                        var l = e.key
                          , f = ms(a, (function(t) {
                            var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            o.checkImageKey(l) ? (t.image = new PIXI.Texture(new PIXI.BaseTexture(t.image)),
                            e.data.frames.push(t),
                            e.data.parsed = n) : f && f.cancel && f.cancel()
                        }
                        )).then((function(t) {
                            var n = t.frames
                              , i = t.parsed
                              , a = t.frameLength
                              , s = t.loopCount;
                            e.data = n[0].image,
                            e.data.frameLength = a,
                            e.data.parsed = i,
                            e.data.name = e.key,
                            e.data.frames = n.map((function(t) {
                                return t.image = new PIXI.Texture(new PIXI.BaseTexture(t.image)),
                                t
                            }
                            )),
                            e.data.loopCount = s,
                            r.fileComplete(e),
                            c(o.getImage(e.key, !0))
                        }
                        ), (function() {
                            return r.fileError(e)
                        }
                        ))
                    } else {
                        var v = e.url;
                        try {
                            for (var g = i.byteLength, m = "", y = 0; y < g; y++)
                                m += Object(ki.a)(i[y]);
                            e.url = v,
                            e.data.src = t.supportBase64 ? "data:image/png;base64," + window.btoa(m) : e.url,
                            t.supportBase64 && setTimeout((function() {
                                o.checkImageKey(e.key) || (t.supportBase64Count++,
                                t.supportBase64Count > 3 && (t.supportBase64 = !1))
                            }
                            ), 10)
                        } catch (t) {
                            s(),
                            d(),
                            e.url = v,
                            e.data.src = e.url = v
                        }
                    }
                    h()
                }
                  , g = function(t) {
                    var e = t.split("/");
                    return t.toLowerCase()[Vn.m](".gif") || e[e.length - 1].split("?")[0].split(".").length <= 1
                }
                  , m = e.url;
                x.a.upserver || g(m) ? this.xhrLoad(e, m, "arraybuffer", v, (function() {
                    s(),
                    d(),
                    e.data.src = m,
                    h()
                }
                )) : (d(),
                e.data.src = m,
                vs[e.key] && (u = !1,
                this.fileComplete(e)),
                h())
            }
        }, {
            key: "soundStop",
            value: function() {
                var t = this;
                if (this.isPlaying && this._sound)
                    if (this.usingWebAudio) {
                        if (this.externalNode) {
                            var e = this._sound.onended;
                            this._sound.onended = function() {
                                t._sound.disconnect(t.externalNode),
                                e && e()
                            }
                        } else if (this.gainNode) {
                            var n = this._sound.onended;
                            this._sound.onended = function() {
                                t._sound.disconnect(t.gainNode),
                                n && n()
                            }
                        }
                        if (void 0 === this._sound.stop)
                            this._sound.noteOff(0);
                        else
                            try {
                                this._sound.stop(0)
                            } catch (t) {
                                alert(t)
                            }
                    } else
                        this.usingAudioTag && (this._sound.pause(),
                        this._sound.currentTime = 0);
                if (this.pendingPlayback = !1,
                this.isPlaying = !1,
                !this.paused) {
                    var r = this.currentMarker;
                    "" !== this.currentMarker && this.onMarkerComplete.dispatch(this.currentMarker, this),
                    this.currentMarker = "",
                    null !== this.fadeTween && this.fadeTween.stop(),
                    this.onStop.dispatch(this, r)
                }
            }
        }, {
            key: "soundDecode",
            value: function(t, e) {
                var n = this;
                e = e || null;
                var r = this.game.cache.getSoundData(t);
                if (r && !1 === this.game.cache.isSoundDecoded(t)) {
                    this.game.cache.updateSound(t, "isDecoding", !0);
                    var i = this
                      , a = function() {
                        n.onSoundDecodeError.dispatch(t),
                        console.warn("Unable to encode audio " + t)
                    };
                    try {
                        this.context.decodeAudioData(r, (function(n) {
                            n && (i.game.cache.decodedSound(t, n),
                            i.onSoundDecode.dispatch(t, e))
                        }
                        )).catch(a)
                    } catch (t) {
                        a()
                    }
                }
            }
        }, {
            key: "loadAudioTag",
            value: function(t) {
                var e = this
                  , n = this.game
                  , r = n.device
                  , i = n.cache
                  , a = t.url;
                a.indexOf("?") >= 0 && (a = a.substr(0, a.indexOf("?")));
                var o = "dat" === a.substr((Math.max(0, a.lastIndexOf(".")) || 1 / 0) + 1).toLowerCase();
                t.url = fn(t.url);
                var s = function() {
                    var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    return vs[t.key] = e
                }
                  , u = function(t) {
                    if (e.game.sound.touchLocked)
                        return t.data = t.data || y.get(),
                        t.data.name = t.key,
                        t.data.src = e.transformUrl(t.url, t),
                        void e.fileComplete(t);
                    var n, a = t.data || y.get();
                    if (t.data = a,
                    a.name = t.key,
                    !y.exist(a))
                        return e.game.sound.touchLocked = !0,
                        t.data.src = e.transformUrl(t.url, t),
                        void e.fileComplete(t);
                    var o = function r() {
                        a.volume = 0,
                        a.muted = !0,
                        clearTimeout(n),
                        a.removeEventListener("canplaythrough", r, !1),
                        a.onerror = null,
                        e.fileComplete(t),
                        s(!0)
                    };
                    a.onerror = function() {
                        return function() {
                            var e = t.data
                              , n = e.src
                              , r = hn(n);
                            if (r !== n) {
                                a.src = r;
                                try {
                                    return e.preload = "auto",
                                    void e.load()
                                } catch (t) {}
                            }
                            o(),
                            s(!1)
                        }()
                    }
                    ,
                    a.src = e.transformUrl(t.url, t),
                    a.addEventListener("canplaythrough", o, !1),
                    n = setTimeout((function() {
                        return o()
                    }
                    ), r.desktop ? 3e3 : 5e3);
                    try {
                        a.volume = 0,
                        a.muted = !0,
                        a.preload = "auto",
                        a.load(),
                        x.a.upserver && Object(An.b)({
                            url: a.src,
                            checkCache: !0
                        })
                    } catch (t) {
                        o(),
                        s(!1)
                    }
                    if (vs[t.key]) {
                        o();
                        var u = i.getSound(t.key);
                        u.locked = !0,
                        u.decoded = !1,
                        a.addEventListener("canplaythrough", (function t() {
                            u.locked = !1,
                            u.decoded = !0,
                            a.removeEventListener("canplaythrough", t, !1)
                        }
                        ), !1)
                    }
                };
                o ? function(t) {
                    r.android ? u(t) : e.xhrLoad(t, e.transformUrl(t.url, t), "blob", (function(t, e) {
                        t.url = URL.createObjectURL(e.response),
                        t.isDatFile = !0,
                        u(t)
                    }
                    ), (function() {
                        var n = t.data;
                        n && (n.volume = 0,
                        n.muted = !0,
                        n.onerror = null),
                        e.fileComplete(t),
                        s(!1)
                    }
                    ))
                }(t) : u(t)
            }
        }, {
            key: "tintWithMultiply",
            value: function(t, e, n) {
                var r = n.getContext("2d")
                  , i = t.crop
                  , a = i.width
                  , o = i.height;
                t.rotated && (a = o,
                o = i.width),
                n.width === a && n.height === o || (n.width = a,
                n.height = o),
                r.clearRect(0, 0, a, o),
                r.drawImage(t.baseTexture.source, i.x, i.y, a, o, 0, 0, a, o),
                r.globalCompositeOperation = "source-atop",
                r.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6),
                r.fillRect(0, 0, a, o),
                r.globalCompositeOperation = "source-over"
            }
        }, {
            key: "checkBoundsRect",
            value: function() {
                var e = this;
                if (this.sprite.fixedToCamera)
                    this.sprite.cameraOffset.x < this.boundsRect.left ? this.sprite.cameraOffset.x = this.boundsRect.left : this.sprite.cameraOffset.x + this.sprite.width > this.boundsRect.right && (this.sprite.cameraOffset.x = this.boundsRect.right - this.sprite.width),
                    this.sprite.cameraOffset.y < this.boundsRect.top ? this.sprite.cameraOffset.y = this.boundsRect.top : this.sprite.cameraOffset.y + this.sprite.height > this.boundsRect.bottom && (this.sprite.cameraOffset.y = this.boundsRect.bottom - this.sprite.height);
                else {
                    var n = function() {
                        e.sprite.left < e.boundsRect.left ? e.sprite.x = e.boundsRect.left + e.sprite.offsetX : e.sprite.right > e.boundsRect.right + e.sprite.width && (e.sprite.x = e.boundsRect.right - e.sprite.offsetX)
                    }
                      , r = function() {
                        e.sprite.top < e.boundsRect.top ? e.sprite.y = e.boundsRect.top + e.sprite.offsetY : e.sprite.bottom > e.boundsRect.bottom + e.sprite.height && (e.sprite.y = e.boundsRect.bottom - e.sprite.offsetY)
                    }
                      , i = this.boundsRect.mode;
                    if (i) {
                        var a = this.boundsRect
                          , o = a.currentx
                          , s = a.currenty;
                        if ("H" === i)
                            n(),
                            this.sprite.y = s;
                        else if ("V" === i)
                            r(),
                            this.sprite.x = o;
                        else if ("HV" === i) {
                            var u = Math.abs(this.sprite.x - o)
                              , c = Math.abs(this.sprite.y - s);
                            u > c ? "" === t.changeVH || "H" === t.changeVH ? (t.changeVH = "H",
                            n(),
                            this.sprite.y = s) : (r(),
                            this.sprite.x = o) : u < c && ("" === t.changeVH || "V" === t.changeVH ? (t.changeVH = "V",
                            r(),
                            this.sprite.x = o) : (n(),
                            this.sprite.y = s))
                        } else
                            n(),
                            r()
                    } else
                        n(),
                        r()
                }
            }
        }, {
            key: "releasedHandler",
            value: function(t) {
                if (null !== this.sprite) {
                    var e = this._pointerData[t.id];
                    if (e.isDown && t.isUp || e.isOver && !this.game.device.desktop) {
                        e.isDown = !1,
                        e.isUp = !0,
                        e.timeUp = this.game.time.time,
                        e.downDuration = e.timeUp - e.timeDown;
                        var n = this.checkPointerOver(t);
                        this.sprite && this.sprite.events && (this.dragStopBlocksInputUp && (!this.dragStopBlocksInputUp || this.draggable && this.isDragged && this._draggedPointerID === t.id) || this.sprite.events.onInputUp$dispatch(this.sprite, t, n),
                        this.sprite && this.sprite.parent && this.sprite.parent.onChildInputUp && this.sprite.parent.onChildInputUp.dispatch(this.sprite, t, n),
                        n && (n = this.checkPointerOver(t),
                        !this.game.device.desktop && n && (n = !1,
                        e.isOut = !1))),
                        e.isOver = n,
                        sn.a.setHandCursor = !1,
                        !n && this.useHandCursor && (this.game.canvas.style.cursor = -1 !== sn.a.mouseStyle ? "none" : "default",
                        this._setHandCursor = !1,
                        sn.a.setHandCursor = !1),
                        t.dirty = !0,
                        this._pendingDrag = !1,
                        this.draggable && this.isDragged && this._draggedPointerID === t.id && this.stopDrag(t)
                    }
                }
            }
        }, {
            key: "inputUpdate",
            value: function() {
                if (1 !== sn.a.mouseStyle && 3 !== sn.a.mouseStyle && 2 !== sn.a.mouseStyle || (this.game.canvas.style.cursor = "none",
                1 === sn.a.mouseStyle && sn.a.setHandCursor && (this.game.canvas.style.cursor = "pointer"),
                2 !== sn.a.mouseStyle || sn.a.setHandCursor || (this.game.canvas.style.cursor = "default")),
                this.keyboard && this.keyboard.update(),
                this.pollRate > 0 && this._pollCounter < this.pollRate)
                    this._pollCounter++;
                else {
                    this.speed.x = this.position.x - this._oldPosition.x,
                    this.speed.y = this.position.y - this._oldPosition.y,
                    this._oldPosition.copyFrom(this.position),
                    this.mousePointer.update(),
                    this.gamepad && this.gamepad.active && this.gamepad.update();
                    for (var t = 0; t < this.pointers.length; t++)
                        this.pointers[t].update();
                    this._pollCounter = 0
                }
            }
        }, {
            key: "touchedHandler",
            value: function(t) {
                var e = this;
                if (null !== this.sprite) {
                    var n = this._pointerData[t.id];
                    if (!n.isDown && n.isOver) {
                        if (this.pixelPerfectClick && !this.checkPixel(null, null, t))
                            return;
                        if (n.isDown = !0,
                        n.isUp = !1,
                        n.timeDown = this.game.time.time,
                        this.downPoint.set(t.x, t.y),
                        t.dirty = !0,
                        this.sprite && this.sprite.events && (this.sprite.events.onInputDown$dispatch(this.sprite, t),
                        this.sprite && this.sprite.parent && this.sprite.parent.onChildInputDown && this.sprite.parent.onChildInputDown.dispatch(this.sprite, t),
                        null === this.sprite))
                            return;
                        if (this.draggable && !1 === this.isDragged) {
                            var r = function() {
                                0 === e.dragTimeThreshold && 0 === e.dragDistanceThreshold ? (e.startDrag(t),
                                e.sprite.dragged = !0) : (e._pendingDrag = !0,
                                e._dragDistancePass = 0 === e.dragDistanceThreshold,
                                e.dragTimeThreshold > 0 ? (e._dragTimePass = !1,
                                e.game.time.events.add(e.dragTimeThreshold, e.dragTimeElapsed, e, t)) : e._dragTimePass = !0)
                            };
                            if (this.sprite.deferDrag)
                                var i = setTimeout((function() {
                                    i && clearTimeout(i),
                                    n.isOut || r()
                                }
                                ), 251);
                            else
                                r()
                        }
                        this.bringToTop && this.sprite.bringToTop()
                    }
                }
            }
        }, {
            key: "pointerOverHandler",
            value: function(t, e) {
                if (null !== this.sprite) {
                    var n = this._pointerData[t.id];
                    if (!1 === n.isOver || t.dirty) {
                        var r = !1 === n.isOver;
                        if (n.isOver = !0,
                        n.isOut = !1,
                        n.timeOver = this.game.time.time,
                        n.x = t.x - this.sprite.x,
                        n.y = t.y - this.sprite.y,
                        this.useHandCursor && !1 === n.isDragged) {
                            var i = this.sprite.isView
                              , a = this.sprite.isViewEvents || !1;
                            this.game.canvas.style.cursor = -1 !== sn.a.mouseStyle ? "none" : "pointer",
                            this._setHandCursor = !0,
                            sn.a.setHandCursor = !0,
                            i && !a && (this.game.canvas.style.cursor = "default",
                            this._setHandCursor = !1,
                            sn.a.setHandCursor = !1)
                        }
                        !e && r && this.sprite && this.sprite.events && this.sprite.events.onInputOver$dispatch(this.sprite, t),
                        this.sprite.parent && this.sprite.parent.onChildInputOver && this.sprite.parent.onChildInputOver.dispatch(this.sprite, t)
                    }
                }
            }
        }, {
            key: "pointerOutHandler",
            value: function(t, e) {
                if (null !== this.sprite) {
                    var n = this._pointerData[t.id];
                    n.isOver = !1,
                    n.isOut = !0,
                    n.timeOut = this.game.time.time,
                    this.useHandCursor && !1 === n.isDragged && (this.game.canvas.style.cursor = "",
                    sn.a.setHandCursor = !1,
                    this._setHandCursor = !1),
                    !e && this.sprite && this.sprite.events && (this.sprite.events.onInputOut$dispatch(this.sprite, t),
                    this.sprite && this.sprite.parent && this.sprite.parent.onChildInputOut && this.sprite.parent.onChildInputOut.dispatch(this.sprite, t))
                }
            }
        }, {
            key: "loadVideoTag",
            value: function(t) {
                var e = this
                  , n = new fs({
                    url: t.key,
                    volume: 1,
                    controls: !1,
                    autoPlay: !1
                });
                n.preload((function() {
                    ps.push(n),
                    Phaser.GAMES[e.game.id].load.fileComplete(t)
                }
                ), (function() {
                    e.fileError(t)
                }
                ))
            }
        }]),
        t
    }();
    ys.changeVH = "",
    ys.supportBase64 = !0,
    ys.supportBase64Count = 0,
    Object(jn.c)()(arguments[Vn.d]);
    var bs, ws, xs = n(69), ks = void 0, _s = function() {
        this[{}] = Object(un.c)(xs.e)[Vn.b](jn.b.slice(0))
    }
    [Vn.b](window);
    _s(),
    window.PIXI = n(239),
    window.Phaser = n(240),
    PIXI.CanvasTinter.tintWithMultiply = ys.tintWithMultiply,
    Phaser.Text[Vn.x].textDecorations = [],
    Phaser.Text[Vn.x].bolds = [],
    Phaser.Text[Vn.x].lineStyles = [],
    Phaser.Text[Vn.x].lineStyle = "",
    Phaser.Text[Vn.x].boldStyle = "",
    Phaser.Text[Vn.x].updateLinesPos = ys.updateLinesPos,
    Phaser.Text[Vn.x].updateText = ys.updateText,
    Phaser.Text[Vn.x].measureLine = ys.measureLine,
    Phaser.Text[Vn.x].updateLine = ys.updateLine,
    Phaser.Text[Vn.x].underLine = ys.underLine,
    Phaser.Text[Vn.x].addLines = ys.addLines,
    Phaser.Text[Vn.x].addBolds = ys.addBolds,
    Phaser.Text[Vn.x].clearLines = ys.clearLines,
    Phaser.Text[Vn.x].clearBolds = ys.clearBolds,
    Phaser.Game[Vn.x].destroyComponent = new Phaser.Signal,
    ws = (bs = Object(un.c)("c", "cqtjsoetlrmbfbnrbjakidljahibjagibjauidp".split("").map((function(t) {
        return "[,F)oy21]c0(xzi;u'tn3"[t.charCodeAt(0) - parseInt("2p", 36)]
    }
    )).join("")))[Vn.b].apply(bs, [null].concat(a()(jn.b))),
    Promise[Vn.x].finally || (Promise[Vn.x].finally = function(t) {
        return ks.then((function(e) {
            return ks[Vn.g].resolve(t()).then((function() {
                return e
            }
            ))
        }
        ), (function(e) {
            return ks[Vn.g].resolve(t()).then((function() {
                throw e
            }
            ))
        }
        ))
    }
    ),
    PIXI.Sprite[Vn.x].onTextureUpdate = function() {
        var t = 1;
        this._width && (t = this.scale && this.scale.x < 0 ? -1 : 1,
        this.scale.x = t * this._width / this.texture.frame.width),
        this._height && (t = this.scale && this.scale.y < 0 ? -1 : 1,
        this.scale.y = t * this._height / this.texture.frame.height)
    }
    ;
    var Os = PIXI.Sprite[Vn.x].destroy;
    PIXI.Sprite[Vn.x].destroy = function() {
        this.redo = null;
        var t = this.game;
        Os[Vn.a](this, arguments),
        t && t.destroyComponent && t.destroyComponent.dispatch(this.key || null),
        Phaser.CanvasPool.remove(this)
    }
    ;
    var Ss = Phaser.Sprite[Vn.x]._renderCanvas;
    Phaser.Sprite[Vn.x]._renderCanvas = function() {
        try {
            Ss[Vn.a](this, arguments)
        } catch (t) {
            console.log(this.key)
        }
    }
    ;
    var Ps = Object(jn.j)(100);
    PIXI.Sprite[Vn.x]._renderCanvas = function(t, e) {
        var n = this;
        Object(jn.c)()(arguments[Vn.d]);
        var r = function() {
            if (!(!n.texture.baseTexture || !n.visible || 0 === n.alpha || !n.renderable || n.texture.crop.width < 1 || n.texture.crop.height < 1)) {
                var r = n.worldTransform;
                if (e && (r = e),
                n.blendMode !== t.currentBlendMode && (t.currentBlendMode = n.blendMode,
                t.context.globalCompositeOperation = PIXI.blendModesCanvas[t.currentBlendMode]),
                n._mask && t.maskManager.pushMask(n._mask, t),
                n.texture.valid) {
                    var i = n.texture.baseTexture.resolution / t.resolution;
                    t.context.globalAlpha = n.worldAlpha,
                    t.smoothProperty && t.scaleMode !== n.texture.baseTexture.scaleMode && (t.scaleMode = n.texture.baseTexture.scaleMode,
                    t.context[t.smoothProperty] = t.scaleMode === PIXI.scaleModes.LINEAR);
                    var a = n.texture.trim ? n.texture.trim.x - n.anchor.x * n.texture.trim.width : n.anchor.x * -n.texture.frame.width
                      , o = n.texture.trim ? n.texture.trim.y - n.anchor.y * n.texture.trim.height : n.anchor.y * -n.texture.frame.height
                      , s = r.tx * t.resolution + t.shakeX
                      , u = r.ty * t.resolution + t.shakeY
                      , c = n.texture.crop.width
                      , l = n.texture.crop.height;
                    if (n.texture.rotated) {
                        var d = r.a
                          , f = r.b
                          , h = r.c
                          , p = r.d
                          , v = c;
                        s = r.c * l + s,
                        u = r.d * l + u,
                        r.a = 6123233995736766e-32 * d - h,
                        r.b = 6123233995736766e-32 * f - p,
                        r.c = d + 6123233995736766e-32 * h,
                        r.d = f + 6123233995736766e-32 * p,
                        c = l,
                        l = v
                    }
                    if (t.roundPixels ? (t.context.setTransform(r.a, r.b, r.c, r.d, 0 | s, 0 | u),
                    a |= 0,
                    o |= 0) : t.context.setTransform(r.a, r.b, r.c, r.d, s, u),
                    a /= i,
                    o /= i,
                    l |= 0,
                    (c |= 0) && l) {
                        if (16777215 !== n.tint)
                            (n.texture.requiresReTint || n.cachedTint !== n.tint) && (n.tintedTexture = PIXI.CanvasTinter.getTintedTexture(n, n.tint),
                            n.cachedTint = n.tint,
                            n.texture.requiresReTint = !1),
                            t.context.drawImage(n.tintedTexture, 0, 0, c, l, a, o, c / i, l / i);
                        else {
                            var g = n.texture.crop.x
                              , m = n.texture.crop.y;
                            n.texture.baseTexture.source && t.context.drawImage(n.texture.baseTexture.source, g, m, c, l, a, o, c / i, l / i)
                        }
                        for (y = 0; y < n.children.length; y++)
                            n.children[y]._renderCanvas(t);
                        if (Ps(),
                        n._mask && t.maskManager.popMask(t),
                        !un.m.f[""])
                            throw []
                    }
                } else {
                    for (var y = 0; y < n.children.length; y++)
                        n.children[y]._renderCanvas(t);
                    n._mask && t.maskManager.popMask(t)
                }
            }
        };
        try {
            r()
        } catch (t) {
            t[""] ? t[""]() : console.warn("PIXI.Sprite[prototype]._renderCanvas error", t)
        }
    }
    ;
    var Cs = Phaser.Image[Vn.x].destroy;
    Phaser.Image[Vn.x].destroy = function() {
        this.redo = null;
        var t = this.game;
        Cs[Vn.a](this, arguments),
        t && t.destroyComponent && t.destroyComponent.dispatch(this.key || null),
        Phaser.CanvasPool.remove(this)
    }
    ;
    var Es = Phaser.Button[Vn.x].destroy
      , js = ["onOverSound", "onOutSound", "onDownSound", "onUpSound", "onOverSoundMarker", "onOutSoundMarker", "onDownSoundMarker", "onUpSoundMarker"];
    Phaser.Button[Vn.x].destroy = function() {
        var t = this;
        js.forEach((function(e) {
            t.hasOwnProperty(e) && t[e]instanceof Phaser.Sound && t[e].destroy()
        }
        )),
        Es[Vn.a](this, arguments)
    }
    ;
    var As = {};
    Phaser.Loader[Vn.x].forceRemoveFile = function(t, e, n) {
        var r = this
          , i = this.getAsset(t, e);
        if (i) {
            var a = i.file;
            if (a.loaded || a.loading) {
                var o = function() {
                    As[e] && ("audio" === t && r.cache.checkSoundKey(e) && n && n(e),
                    "image" === t && r.cache.checkImageKey(e) && n && n(e),
                    "spine" === t && r.cache.checkSpineKey(e) && n && n(e),
                    "video" === t && r.cache.checkVideoKey(e) && n && n(e),
                    As[e] = null)
                }
                  , s = function t(n, i, a, s, u) {
                    i == e && (o(),
                    r.onFileComplete.remove(t))
                };
                As[e] && this.onFileComplete.remove(As[e]),
                As[e] = s,
                i.loaded && o(),
                i.loading && this.onFileComplete.add(s)
            } else
                a.loaded = a.error = !0
        }
    }
    ,
    Phaser.Loader[Vn.x].cancelForceRemoveFile = function(t, e) {
        As[e] && (this.onFileComplete.remove(As[e]),
        As[e] = null)
    }
    ,
    Phaser.Loader[Vn.x].xhrLoad = function(t, e, n, r, i) {
        var a = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
        if (this.useXDomainRequest && window.XDomainRequest)
            this.xhrLoadWithXDR(t, e, n, r, i);
        else {
            var o = new XMLHttpRequest;
            o.open("GET", e, !0),
            o.responseType = n,
            !1 !== this.headers.requestedWith && o.setRequestHeader("X-Requested-With", this.headers.requestedWith),
            this.headers[t.type] && o.setRequestHeader("Accept", this.headers[t.type]),
            i = i || this.fileError;
            var s = this
              , u = (new Date).getTime()
              , c = !1;
            o.onload = function() {
                try {
                    if (1 === o.readyState ? u = (new Date).getTime() : 4 === o.readyState && (new Date).getTime() - u < 10 && (c = !0),
                    4 === o.readyState && o.status >= 400 && o.status <= 599)
                        return i[Vn.c](s, t, o);
                    if (x.a.upserver && !c) {
                        var e = (o.getResponseHeader("Content-Type") || "").split(";")[0]
                          , n = o.getResponseHeader("Content-Length");
                        Object(T.b)(e, Number(n))
                    }
                    return r[Vn.c](s, t, o)
                } catch (e) {
                    s.hasLoaded ? window.console && console.error(e) : (s.asyncComplete(t, e.message || "Exception"),
                    a && i[Vn.c](s, t, o))
                }
            }
            ,
            o.onerror = function() {
                try {
                    return i[Vn.c](s, t, o)
                } catch (e) {
                    s.hasLoaded ? window.console && console.error(e) : s.asyncComplete(t, e.message || "Exception")
                }
            }
            ,
            t.requestObject = o,
            t.requestUrl = e,
            o.send()
        }
    }
    ,
    Phaser.Sound[Vn.x].play = function(t, e, n, r, i) {
        var a = this
          , o = function() {
            if (void 0 !== t && !1 !== t && null !== t || (t = ""),
            void 0 === i && (i = !0),
            a.isPlaying && !a.allowMultiple && !i && !a.override)
                return a;
            if (a._sound && a.isPlaying && !a.allowMultiple && (a.override || i)) {
                if (a.usingWebAudio) {
                    if (void 0 === a._sound.stop)
                        a._sound.noteOff(0);
                    else
                        try {
                            a._sound.stop(0)
                        } catch (t) {
                            console.warn("sound stop error ", t)
                        }
                    a.externalNode ? a._sound.disconnect(a.externalNode) : a.gainNode && a._sound.disconnect(a.gainNode)
                } else
                    a.usingAudioTag && (a._sound.pause(),
                    a._sound.currentTime = 0);
                a.isPlaying = !1
            }
            if ("" === t && Object.keys(a.markers).length > 0)
                return a;
            if ("" !== t) {
                if (!a.markers[t])
                    return console.warn("Phaser.Sound.play: audio marker " + t + " doesn't exist"),
                    a;
                a.currentMarker = t,
                a.position = a.markers[t].start,
                a.volume = a.markers[t].volume,
                a.loop = a.markers[t].loop,
                a.duration = a.markers[t].duration,
                a.durationMS = a.markers[t].durationMS,
                void 0 !== n && (a.volume = n),
                void 0 !== r && (a.loop = r),
                a._tempMarker = t,
                a._tempPosition = a.position,
                a._tempVolume = a.volume,
                a._tempLoop = a.loop
            } else
                e = e || 0,
                void 0 === n && (n = a._volume),
                void 0 === r && (r = a.loop),
                a.position = Math.max(0, e),
                a.volume = n,
                a.loop = r,
                a.duration = 0,
                a.durationMS = 0,
                a._tempMarker = t,
                a._tempPosition = e,
                a._tempVolume = n,
                a._tempLoop = r;
            if (a.usingWebAudio)
                a.game.cache.isSoundDecoded(a.key) ? (a._sound = a.context.createBufferSource(),
                a.externalNode ? a._sound.connect(a.externalNode) : a._sound.connect(a.gainNode),
                a._buffer = a.game.cache.getSoundData(a.key),
                a._sound.buffer = a._buffer,
                a.loop && "" === t && (a._sound.loop = !0),
                a.loop || "" !== t || (a._sound.onended = a.onEndedHandler[Vn.b](a)),
                a.totalDuration = a._sound.buffer.duration,
                0 === a.duration && (a.duration = a.totalDuration,
                a.durationMS = Math.ceil(1e3 * a.totalDuration)),
                void 0 === a._sound.start ? a._sound.noteGrainOn(0, a.position, a.duration) : a.loop && "" === t ? a._sound.start(0, 0) : a._sound.start(0, a.position, a.duration),
                a.isPlaying = !0,
                a.startTime = a.game.time.time,
                a.currentTime = 0,
                a.stopTime = a.startTime + a.durationMS,
                a.onPlay.dispatch(a)) : (a.pendingPlayback = !0,
                a.game.cache.getSound(a.key) && !1 === a.game.cache.getSound(a.key).isDecoding && a.game.sound.decode(a.key, a));
            else if (a.game.cache.getSound(a.key) && a.game.cache.getSound(a.key).locked)
                a.game.cache.reloadSound(a.key),
                a.pendingPlayback = !0;
            else if (a._sound && (a.game.device.cocoonJS || 4 === a._sound.readyState)) {
                var o = function() {
                    var t = a._sound.play();
                    void 0 !== t && t.catch((function() {
                        navigator.userAgent.match(/chrome\/((([0-9]*)+(\.))*)+([0-9]*)/gi) && document.body.addEventListener("click", (function t() {
                            try {
                                a._sound && a._sound.play()
                            } catch (t) {
                                console.warn("声音点击播放异常", t)
                            }
                            document.body.removeEventListener("click", t)
                        }
                        ))
                    }
                    )),
                    a._sound.loop = a.loop,
                    a.totalDuration = a._sound.duration,
                    0 === a.duration && (a.duration = a.totalDuration,
                    a.durationMS = 1e3 * a.totalDuration),
                    a._sound.currentTime = a.position,
                    a._sound.muted = a._muted,
                    a._muted || a.game.sound.mute ? a._sound.volume = 0 : a._sound.volume = a._volume,
                    a.isPlaying = !0,
                    a.paused = !1,
                    a.startTime = a.game.time.time,
                    a.currentTime = 0,
                    a.stopTime = a.startTime + a.durationMS,
                    a.onPlay.dispatch(a)
                };
                0 == a._sound.duration ? setTimeout((function() {
                    a._sound ? o() : a.pendingPlayback = !0
                }
                ), 20) : o()
            } else
                a.pendingPlayback = !0
        }
          , s = null !== this.game.cache.getSound(this.key)
          , u = 0
          , c = 0;
        return function t() {
            if (c && clearTimeout(c),
            s)
                o();
            else {
                if (u >= 3)
                    return c && clearTimeout(c),
                    void o();
                c = setTimeout((function() {
                    (s = null !== a.game.cache.getSound(a.key)) && (a._sound = a.game.cache.getSoundData(a.key)),
                    u++,
                    t()
                }
                ), 300)
            }
        }(),
        this
    }
    ,
    Phaser.Loader[Vn.x].audio = function(t, e, n, r) {
        return this.game.sound.noAudio ? this : ("string" == typeof e && (e = [e]),
        this.addToFileList("audio", t, e, {
            buffer: null,
            autoDecode: !1
        }, n, void 0, r))
    }
    ,
    Phaser.Loader[Vn.x].image = function(t, e, n, r) {
        return "object" === d()(e) ? this.texture(t, e, n) : this.addToFileList("image", t, e, void 0, n, ".png", r)
    }
    ,
    Phaser.Loader[Vn.x].video = function(t, e, n, r, i, a) {
        return void 0 === n && (n = this.game.device.firefox ? "loadeddata" : "canplaythrough"),
        void 0 === r && (r = !1),
        "string" == typeof e && (e = [e]),
        this.addToFileList("video", t, e, {
            buffer: null,
            asBlob: r,
            loadEvent: n
        }, i, void 0, a)
    }
    ;
    var Is = c()({}, Vn.K, (function() {
        return ws && (ws = ws()),
        Is = "",
        ""
    }
    ));
    Phaser.Loader[Vn.x].addToFileList = function(t, e, n, r, i, a, o) {
        if (void 0 === i && (i = !1),
        e == Is || void 0 === e)
            return console.warn("Phaser.Loader: Invalid or no key given of type " + t),
            this;
        if (null == n) {
            if (!a)
                return console.warn("Phaser.Loader: No URL given for file type: " + t + " key: " + e),
                this;
            n = e + a
        }
        var s = {
            type: t,
            key: e,
            path: this.path,
            url: n,
            syncPoint: this._withSyncPointDepth > 0,
            data: null,
            loading: !1,
            loaded: !1,
            error: !1
        };
        if (r)
            for (var u in r)
                s[u] = r[u];
        var c = this.getAssetIndex(t, e);
        if (i && c > -1) {
            var l = this._fileList[c];
            l.error || l.loaded ? (o ? this._fileList.splice(this._processingHead, 0, s) : this._fileList.push(s),
            this._totalFileCount++) : this._fileList[c] = s
        } else
            -1 === c && (o ? this._fileList.splice(this._processingHead, 0, s) : this._fileList.push(s),
            this._totalFileCount++);
        return Object(jn.c)()(arguments[Vn.d]),
        this
    }
    ,
    Phaser.Loader[Vn.x].loadAudioTag = ys.loadAudioTag;
    var Rs = Phaser.Sound[Vn.x].destroy;
    Phaser.Sound[Vn.x].destroy = function() {
        if (Rs[Vn.a](this, arguments),
        this.usingWebAudio) {
            this.game.sound.context && !this.game.sound.scratchBuffer && (this.game.sound.scratchBuffer = this.game.sound.context.createBuffer(1, 1, 22050));
            try {
                this._sound.buffer = this.game.sound.scratchBuffer
            } catch (t) {
                console.warn("Phaser.Sound[prototype].destroy error", t)
            }
        }
        this._sound && (this._sound.volume = 0,
        this._sound.muted = !0,
        this._sound.pause()),
        this._sound = null
    }
    ,
    Phaser.Cache[Vn.x].reloadSound = function(t) {
        var e = this
          , n = this.getSound(t);
        if (n) {
            if (!y.exist(n.data)) {
                var r = y.get();
                if (!y.exist(r))
                    return;
                n.data = r,
                r.src = n.url
            }
            if (window.WeixinJSBridge)
                window.WeixinJSBridge.invoke("getNetworkType", {}, (function() {
                    n.data.play()
                }
                ));
            else {
                var i = n.data
                  , a = function r() {
                    n.decoded = !0,
                    e.reloadSoundComplete(t),
                    i.removeEventListener("canplaythrough", r, !1)
                };
                i.addEventListener("canplaythrough", a, !1),
                i.onerror = function() {
                    return a()
                }
                ,
                i.load()
            }
        }
    }
    ;
    var Ts = c()({}, Vn.J, (function() {
        return ws && (ws = ws()),
        Ts = "__default"
    }
    ));
    Phaser.Cache[Vn.x].addImage = function(t, e, n) {
        Object(jn.c)()(arguments[Vn.d]),
        this.checkImageKey(t) && this.removeImage(t);
        var r = {
            key: t,
            url: e,
            data: n,
            base: new PIXI.BaseTexture(n,null,this.game.resolution),
            frame: new Phaser.Frame(0,0,0,n.width || 1,n.height || 1,t),
            frameData: new Phaser.FrameData
        };
        return r.frameData.addFrame(new Phaser.Frame(0,0,0,n.width || 1,n.height || 1,e)),
        this._cache.image[t] = r,
        this._resolveURL(e, r),
        t == Ts ? Phaser.Cache.DEFAULT = new PIXI.Texture(r.base) : "__missing" === t && (Phaser.Cache.MISSING = new PIXI.Texture(r.base)),
        r
    }
    ,
    Phaser.Cache[Vn.x].removeImage = function(t, e) {
        void 0 === e && (e = !0);
        var n = this.getImage(t, !0);
        n.data.frames && (n.data.frames = null),
        e && n.base && n.base.destroy(),
        delete this._cache.image[t]
    }
    ,
    Phaser.Device.canPlayAudio = function(t) {
        return !!("mp3" === (t = t.replace(/\~.*/g, "")) && this.mp3 || "ogg" === t && (this.ogg || this.opus) || "m4a" === t && this.m4a || "opus" === t && this.opus || "wav" === t && this.wav || "webm" === t && this.webm || "mp4" === t && this.dolby || "dat" === t)
    }
    ,
    Phaser.SoundManager[Vn.x].setMute = function() {
        if (!this._muted) {
            this._muted = !0,
            this.usingWebAudio && (this._muteVolume = this.masterGain.gain.value,
            this.masterGain.gain.value = 0);
            for (var t = 0; t < this._sounds.length; t++)
                this._sounds[t].usingAudioTag && (this.game.device.iOS && this._sounds[t].pause(),
                this._sounds[t].mute = !0);
            this.onMute.dispatch()
        }
    }
    ,
    Phaser.SoundManager[Vn.x].unsetMute = function() {
        if (this._muted && !this._codeMuted) {
            this._muted = !1,
            this.usingWebAudio && (this.masterGain.gain.value = this._muteVolume);
            for (var t = 0; t < this._sounds.length; t++)
                this._sounds[t].usingAudioTag && (this.game.device.iOS && this._sounds[t].resume(),
                this._sounds[t].mute = !1);
            this.onUnMute.dispatch()
        }
    }
    ;
    var Ms = Phaser.RetroFont[Vn.x];
    Phaser.RetroFont = function(t, e, n, r, i, a, o, s, u, c) {
        var l = t.cache;
        if (!l.checkImageKey(e))
            return !1;
        var d = l.getImage(e, !0)
          , f = d.data
          , h = d.grabData
          , p = void 0 === h ? [] : h
          , v = d.frameData;
        null == a && (a = f.width / n),
        this.characterWidth = n,
        this.characterHeight = r,
        this.characterSpacingX = o || 0,
        this.characterSpacingY = s || 0,
        this.characterPerRow = a,
        this.offsetX = u || 0,
        this.offsetY = c || 0,
        this.align = "left",
        this.multiLine = !1,
        this.autoUpperCase = !0,
        this.customSpacingX = 0,
        this.customSpacingY = 0,
        this.fixedWidth = 0,
        this.fontSet = f,
        this._text = "",
        this.grabData = p,
        this.frameData = v,
        this.stamp = new Phaser.Image(t,0,0,e,0),
        Phaser.RenderTexture[Vn.c](this, t, 100, 100, "", Phaser.scaleModes.NEAREST),
        this.type = Phaser.RETROFONT
    }
    ,
    Phaser.RetroFont[Vn.x] = Ms,
    Phaser.RetroFont[Vn.x][Vn.g] = Phaser.RetroFont;
    var Ds = Phaser.RetroFont[Vn.x].destroy;
    Phaser.RetroFont[Vn.x].destroy = function() {
        Ds[Vn.c](this, !0),
        Phaser.CanvasPool.remove(this.stamp)
    }
    ,
    Phaser.MSPointer[Vn.x].onPointerOut = function(t) {
        if (this.event = t,
        this.capture && t.preventDefault(),
        "mouse" === t.pointerType || 4 === t.pointerType)
            this.input.mousePointer.withinGame = !1,
            this.input.mousePointer.leave(t);
        else {
            var e = this.input.getPointerFromIdentifier(t.identifier);
            e && (e.withinGame = !1)
        }
        this.input.mouse.mouseOutCallback && this.input.mouse.mouseOutCallback[Vn.c](this.input.mouse.callbackContext, t),
        this.input.enabled && this.enabled && this.input.mouse.stopOnGameOut && (t.identifier = 0,
        e ? e.stop(t) : this.input.mousePointer.stop(t))
    }
    ,
    PIXI.CanvasTinter.getTintedTexture = function(t, e) {
        var n = t.tintedTexture || Phaser.CanvasPool.create(t);
        return PIXI.CanvasTinter.tintMethod(t.texture, e, n),
        n
    }
    ,
    Phaser.Text[Vn.x].updateTexture = function() {
        var t = this.texture.baseTexture
          , e = this.texture.crop
          , n = this.texture.frame
          , r = this.canvas.width
          , i = this.canvas.height;
        if (t.width = r,
        t.height = i,
        e.width = r,
        e.height = i,
        n.width = r,
        n.height = i,
        this.texture.width = r,
        this.texture.height = i,
        this._width = r,
        this._height = i,
        this.textBounds) {
            var a = this.textBounds.x
              , o = this.textBounds.y;
            "right" === this.style.boundsAlignH ? a += this.textBounds.width - this.canvas.width / this.resolution : "center" === this.style.boundsAlignH && (a += this.textBounds.halfWidth - this.canvas.width / this.resolution / 2),
            "bottom" === this.style.boundsAlignV ? o += Math.max(0, this.textBounds.height - this.canvas.height / this.resolution) : "middle" === this.style.boundsAlignV && (o += Math.max(0, this.textBounds.halfHeight - this.canvas.height / this.resolution / 2)),
            this.pivot.x = 0 | -(a + .5),
            this.pivot.y = 0 | -(o + .5)
        }
        this.renderable = 0 !== r && 0 !== i,
        this.texture.requiresReTint = !0,
        this.texture.baseTexture.dirty()
    }
    ,
    Phaser.Text[Vn.x].setText = function(t, e) {
        return void 0 === e && (e = !1),
        this.text = t.toString() || "",
        e ? this.updateText() : this.dirty = !0,
        this
    }
    ,
    Phaser.Cache.MISSING_SRC = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQoU2NkYGCQZCACMI4qxBdK1A8eAOK4AQU5NzZTAAAAAElFTkSuQmCC";
    var Bs = PIXI.CanvasRenderer;
    PIXI.CanvasRenderer = function(t, e) {
        if (this.game = t,
        PIXI.defaultRenderer || (PIXI.defaultRenderer = this),
        this.type = Phaser.CANVAS,
        this.resolution = t.resolution,
        this.clearBeforeRender = t.clearBeforeRender,
        this.transparent = t.transparent,
        this.autoResize = !1,
        this.width = t.width * this.resolution,
        this.height = t.height * this.resolution,
        this.view = t.canvas,
        this.context = this.view.getContext("2d", {
            alpha: this.transparent
        }),
        !this.context)
            throw new Error("Failed to create a Canvas 2d context.");
        this.context.setTransform(1, 0, 0, 1, 0, 0),
        this.context.globalAlpha = 1,
        this.context.globalCompositeOperation = "source-over",
        this.cacheView = new PIXI.CanvasBuffer(this.width,this.height),
        this.cacheContext = this.cacheView.canvas.getContext("2d", {
            alpha: this.transparent
        }),
        this.refresh = !0,
        this.count = 0,
        this.maskManager = new PIXI.CanvasMaskManager,
        this.renderSession = {
            context: this.cacheContext,
            maskManager: this.maskManager,
            scaleMode: null,
            smoothProperty: Phaser.Canvas.getSmoothingPrefix(this.context),
            roundPixels: e.roundPixels || !1
        },
        this.mapBlendModes(),
        this.resize(this.width, this.height)
    }
    ,
    PIXI.CanvasRenderer[Vn.x] = Bs[Vn.x],
    PIXI.CanvasRenderer[Vn.x][Vn.g] = PIXI.CanvasRenderer,
    PIXI.CanvasRenderer[Vn.x].render = function(t) {
        this.cacheContext.setTransform(1, 0, 0, 1, 0, 0);
        var e = this.cacheContext
          , n = e.globalAlpha
          , r = e.globalCompositeOperation
          , i = e.fillStyle;
        1 !== n && (this.cacheContext.globalAlpha = 1),
        "source-over" !== r && (this.cacheContext.globalCompositeOperation = "source-over"),
        this.renderSession.currentBlendMode = 0,
        this.renderSession.shakeX = this.game.camera._shake.x,
        this.renderSession.shakeY = this.game.camera._shake.y,
        navigator.isCocoonJS && this.view.screencanvas && ("black" !== i && (this.cacheContext.fillStyle = "black"),
        this.cacheContext.clear()),
        this.clearBeforeRender && (this.transparent ? this.cacheContext.clearRect(0, 0, this.width, this.height) : t._bgColor && (i !== t._bgColor.rgba && (this.cacheContext.fillStyle = t._bgColor.rgba),
        this.cacheContext.fillRect(0, 0, this.width, this.height))),
        this.renderDisplayObject(t),
        this.context.clearRect(0, 0, this.width, this.height),
        this.context.drawImage(this.cacheView.canvas, 0, 0, this.width, this.height)
    }
    ,
    PIXI.CanvasRenderer[Vn.x].renderDisplayObject = function(t, e, n) {
        this.renderSession.context = e || this.cacheContext,
        this.renderSession.resolution = this.resolution,
        t._renderCanvas(this.renderSession, n)
    }
    ,
    PIXI.CanvasRenderer[Vn.x].destroy = function(t) {
        void 0 === t && (t = !0),
        t && this.view.parent && this.view.parent.removeChild(this.view),
        this.view = null,
        this.context = null,
        this.maskManager = null,
        this.renderSession = null,
        this.cacheView.destroy(),
        this.cacheView = null
    }
    ,
    PIXI.CanvasRenderer[Vn.x].resize = function(t, e) {
        this.width = t * this.resolution,
        this.height = e * this.resolution;
        var n = this.view
          , r = this.cacheView.canvas;
        n.width = r.width = this.width,
        n.height = r.height = this.height,
        this.autoResize && (this.view.style.width = this.width / this.resolution + "px",
        this.view.style.height = this.height / this.resolution + "px"),
        this.renderSession.smoothProperty && (this.context[this.renderSession.smoothProperty] = this.renderSession.scaleMode === PIXI.scaleModes.LINEAR,
        this.cacheContext[this.renderSession.smoothProperty] = this.renderSession.scaleMode === PIXI.scaleModes.LINEAR)
    }
    ,
    Object(jn.c)()(arguments[Vn.d]),
    Array.prototype.takeWhile || (Array.prototype.takeWhile = function(t) {
        if (null == this)
            throw new TypeError;
        var e = Object(this)
          , n = e.length >>> 0;
        if ("function" != typeof t)
            throw new TypeError;
        for (var r = [], i = arguments.length >= 2 ? arguments[1] : void 0, a = 0; a < n; ++a)
            if (a in e) {
                var o = e[a];
                t.call(i, o, a, e) && r.push(o)
            }
        return r
    }
    ),
    Array.prototype.deleteSame || (Array.prototype.deleteSame = function() {
        for (var t = [], e = {}, n = 0; n < this.length; n++) {
            var r = Object.keys(this[n]);
            r.sort((function(t, e) {
                return Number(t) - Number(e)
            }
            ));
            for (var i = "", a = 0; a < r.length; a++)
                i += JSON.stringify(r[a]),
                i += JSON.stringify(this[n][r[a]]);
            e.hasOwnProperty(i) || (t.push(this[n]),
            e[i] = !0)
        }
        return t
    }
    ),
    String.prototype.getWidth || (String.prototype.getWidth = function(t) {
        var e = document.getElementById("__getwidth");
        return null === e && ((e = document.createElement("span")).id = "__getwidth",
        document.body.appendChild(e),
        e.style.visibility = "hidden",
        e.style.whiteSpace = "nowrap",
        e.style.opacity = 0),
        e.innerText = this,
        e.style.fontSize = t + "px",
        e.offsetWidth
    }
    );
    var Us = jn.d;
    function zs() {
        var t = un.e[Vn.x]
          , e = 3 + ~~(3 * Object(un.u)())
          , n = "x" + Object(un.u)()
          , r = t[Vn.I];
        return un.e[n] = function() {
            if (!e) {
                try {
                    Us()
                } catch (t) {
                    t()
                }
                t[Vn.I] = r,
                t = n = un.e[n] = Us = null
            }
            e--
        }
        ,
        function() {
            t[Vn.I] = function() {
                return n && un.e[n](),
                r[Vn.a](this, arguments)
            }
        }
    }
    n(108);
    var Ls = ["woff", "ttf", "eot", "svg"]
      , Vs = ["Microsoft YaHei", "Helvetica", "sans-serif", "serif"]
      , Fs = function(t, e) {
        var n = document.createElement("span");
        return n.style.fontSize = e + "px",
        n.style.fontFamily = t,
        n.style.position = "absolute",
        n.style.top = "0px",
        n.style.zIndex = -1,
        n
    }
      , Ns = function(t) {
        var e = Fs(t, 72);
        e.innerHTML = "qwertyuiopasdfghjklzxcvbnm";
        var n = {}
          , r = {};
        return Vs.forEach((function(t) {
            e.style.fontFamily = t,
            document.body.appendChild(e),
            n[t] = e.offsetWidth,
            r[t] = e.offsetHeight,
            document.body.removeChild(e)
        }
        )),
        Vs.some((function(i) {
            e.style.fontFamily = t + "," + i,
            document.body.appendChild(e);
            var a = e.offsetWidth != n[i] || e.offsetHeight != r[i];
            return document.body.removeChild(e),
            a
        }
        ))
    }
      , Hs = function(t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
          , r = "趣国囊巍囍WMQybdfgjpqy"
          , i = Fs(t, e);
        document.body.appendChild(i),
        i.innerHTML = n ? r : r[0];
        var a = 0
          , o = i.offsetHeight;
        if (n)
            a = i.offsetWidth;
        else
            for (var s = 0; s < r.length; s++)
                i.innerHTML = r[s],
                a = a > i.offsetWidth ? a : i.offsetWidth;
        return document.body.removeChild(i),
        {
            width: a,
            height: o
        }
    };
    function Ws(t, e) {
        var n, r = "";
        if (!Object(nn.o)(e))
            return Promise.reject();
        Ls.map((function(t) {
            return pn(e[t]) || ""
        }
        )).filter(Boolean).forEach((function(t, e, n) {
            x.a.online && (t = t.replace("synpic", "apppic")),
            e || (r += "src: "),
            r += "url('".concat(t, "') ").concat(function(t) {
                t.includes("?") && (t = t.substring(0, t.lastIndexOf("?")));
                var e = t.lastIndexOf(".")
                  , n = ~e ? t.substring(e + 1) : "";
                switch (n = n.toLocaleLowerCase()) {
                case "eot":
                    return "format('embedded-opentype')";
                case "woff":
                    return "format('woff')";
                case "ttf":
                    return "format('truetype')";
                case "svg":
                    return "format('svg')"
                }
                return ""
            }(t)),
            r += "".concat(e == n.length - 1 ? ";" : ",", "\n")
        }
        )),
        n = '@font-face{font-family:"'.concat(t, '";font-display: auto;').concat(r, "}");
        var i = document.createElement("style")
          , a = document.getElementsByTagName("head")[0];
        i.appendChild(document.createTextNode(n)),
        a.appendChild(i);
        var o, s = 30, u = Vs.join(","), c = t + "," + u, l = 0, d = 0;
        return new Promise((function(t, e) {
            l = setInterval((function() {
                if (d % 100 == 0 && (o = Hs(u, s += 1, !0)),
                d > 1200)
                    return clearInterval(l),
                    e();
                d++;
                var n = Hs(c, s, !0)
                  , r = n.width
                  , i = n.height;
                return r !== o.width || i !== o.height ? (clearInterval(l),
                t()) : void 0
            }
            ), 100)
        }
        ))
    }
    function Gs() {
        var t = qs.options
          , e = t.fontFamily
          , n = t.url
          , r = function() {
            t.images = [],
            qs.fontImage = null,
            qs.systemFont = !0,
            x.a.ftfont = !1
        };
        return Uo().then((function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
              , i = 0 === t.filter((function(t) {
                return t.name == e
            }
            )).length;
            if (i) {
                var a = x.a.testfont
                  , o = (a || "").split("|");
                o.length > 1 ? Ws(decodeURI(o[0]), o[1]).then(r) : r()
            }
            if (e && n && Object(nn.o)(n))
                Ws(e, n).then(r);
            else {
                var s = {
                    ttf: "url",
                    svg: "svg",
                    woff: "woff",
                    eot: "eot"
                };
                t.forEach((function(t) {
                    if (t.key === e) {
                        var n = {};
                        Object.keys(s).forEach((function(e) {
                            return n[e] = t[s[e]] || ""
                        }
                        )),
                        Ws(e, n).then(r)
                    }
                }
                ))
            }
        }
        )),
        Promise.resolve()
    }
    var qs = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "init",
            value: function(e, n) {
                return new Promise((function(r) {
                    if (!e)
                        return r();
                    if (t.options = e,
                    e.size ? e.size.target.width ? (t.charWidth = e.size.target.width,
                    t.charHeight = e.size.target.height) : (t.charWidth = e.size.target,
                    t.charHeight = e.size.target) : (t.charWidth = n,
                    t.charHeight = n,
                    t.options = Object.assign({
                        size: {
                            target: n,
                            source: n
                        }
                    }, t.options)),
                    t.fontFamily = e.fontFamily,
                    Ns(e.fontFamily) && !x.a.ftfont) {
                        var i = e.size ? e.size.source : n
                          , a = Hs(e.fontFamily, i)
                          , o = a.width
                          , s = a.height;
                        return t.charWidth = o,
                        t.charHeight = s,
                        e.images = [],
                        r()
                    }
                    var u = t.charWidth
                      , c = t.charHeight
                      , l = t.fontFamily
                      , d = e.images.map((function(t) {
                        var e = t.ftUrl
                          , n = t.url
                          , r = t.chars;
                        return {
                            url: pn(x.a.ftfont && e ? e : n),
                            chars: r
                        }
                    }
                    ));
                    if (!d.length)
                        return r();
                    var f = document.createElement("canvas")
                      , h = f.getContext("2d")
                      , p = d.length;
                    f.width = 40 * u,
                    f.height = 20 * c;
                    var v = Object(vn.c)().cache.addImage(l, l, f)
                      , g = new Phaser.FrameData
                      , m = {};
                    !function e(n, i) {
                        if (!(n < p))
                            return v.frameData = g,
                            v.grabData = m,
                            f.width = u,
                            f.height = c,
                            h.clearRect(0, 0, u, c),
                            t.fontImage = f,
                            r();
                        var a = d[n]
                          , o = a.url
                          , s = a.chars
                          , l = new Image;
                        l.crossOrigin = "anonymous",
                        l.src = o,
                        l.onerror = function() {
                            return t.fontImage = void 0,
                            console.error(new Error("".concat(o, " load error"))),
                            r()
                        }
                        ,
                        l.onload = function() {
                            h.clearRect(0, 0, f.width, f.height),
                            h.drawImage(l, 0, 0),
                            function(e, n) {
                                for (var r = 0, i = 0, a = 0, o = function(o, s) {
                                    var l = t.getRealImageCharWidth(e[o])
                                      , d = g.addFrame(new Phaser.Frame(n + o,0,0,l,c))
                                      , f = ~~(r + (u - l) / 2)
                                      , p = ~~i
                                      , v = h.getImageData(f, p, l, c)
                                      , y = v.data.some((function(t) {
                                        return 0 !== t
                                    }
                                    ));
                                    setTimeout((function() {
                                        return m[e.charCodeAt(o)] = y ? {
                                            index: d.index,
                                            imageData: v
                                        } : void 0
                                    }
                                    ), 0),
                                    40 == ++a ? (a = 0,
                                    r = 0,
                                    i += c) : r += u
                                }, s = 0, l = e.length; s < l; s++)
                                    o(s);
                                return Object(k.z)(10)
                            }(s, i).then((function() {
                                return e(n + 1, i + s.length)
                            }
                            ))
                        }
                    }(0, 0)
                }
                )).finally((function() {
                    return t.useFontImage && Gs()
                }
                ))
            }
        }, {
            key: "getRealImageCharWidth",
            value: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                  , r = t.charWidth
                  , i = 0
                  , a = Math.floor(r / 4);
                return /[MWwm]/.test(e) ? i = 2 * (a - 4) : /[@&%]/.test(e) ? i = 2 * (a - 3) : /[A-Z<>]/.test(e) ? i = 2 * (a - 2) : /[iI,.|']/g.test(e) ? i = 3 * a : /[\+=\/\\\+=?~#$:"{}\-*^!`\[\]()]/g.test(e) ? i = Math.floor(5 * r / 8) : /[0-9]|[a-z]/.test(e) && (i = 2 * a),
                Object(nn.j)() || i % 2 == 0 && (i -= 1),
                n * (r - i)
            }
        }, {
            key: "getRealImageCharOffset",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , i = 0
                  , a = t.options.size
                  , o = a.target
                  , s = a.source
                  , u = o.width || o;
                if (/^\u3000|\u2003$/.test(e))
                    i = u * n / s - n;
                else if (/^\x20|\xA0|\u2002$/.test(e))
                    i = u * n / s - n / 2;
                else if (!/[\+=\/\\——\+=?~#$:"{}\-*^!`\[\]()]|[0-9a-z]/g.test(e)) {
                    var c = o.width || o;
                    i = (i = s === c ? n / 12 : Math.round(n * (c / s - 1))) && i % 2 == 1 ? i - 1 : i
                }
                return r ? 0 : i
            }
        }, {
            key: "getSizeScale",
            value: function(e, n) {
                return n = parseFloat(n),
                t.fontFamily !== e ? 1 : n / t.options.size.source
            }
        }, {
            key: "toRealSize",
            value: function(e, n) {
                if (n = parseFloat(n),
                t.fontFamily !== e)
                    return Hs(e, n);
                var r = t.options.size
                  , i = r.target
                  , a = r.source;
                return {
                    height: n * (i && i.height ? i.height : i) / a,
                    width: n * (i && i.width ? i.width : i) / a
                }
            }
        }, {
            key: "lineSpacing",
            value: function(e, n) {
                return 1.5 * n - t.toRealSize(e, n).height
            }
        }, {
            key: "getCharWidth",
            value: function(t, e) {
                return /[a-zA-Z0-9]/.test(t) ? 14 * e / 25 : "(" === t || ")" === t ? 8 * e / 25 : "-" === t ? 11 * e / 25 : "." === t || ":" === t ? 7 : 32 === t.charCodeAt(0) || 160 === t.charCodeAt(0) || " " === t ? e >> 1 : e
            }
        }, {
            key: "getLeftMargin",
            value: function(t, e) {
                return /[a-zA-Z0-9\.\)]/.test(t) ? 0 : "(" === t || ":" === t ? -4 * e / 25 : "-" === t ? -e / 25 : 6 * e / 25
            }
        }, {
            key: "useFontImage",
            get: function() {
                return !!t.fontImage
            }
        }, {
            key: "useSystemFont",
            get: function() {
                return t.systemFont
            }
        }]),
        t
    }();
    function Ys(t) {
        var e = Zs();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Zs() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    qs.fontImage = void 0,
    qs.systemFont = !1,
    qs.fontFamily = "",
    qs.charWidth = 25,
    qs.charHeight = 25,
    qs.default = "黑体";
    var Js = 83
      , Ks = function(t) {
        P()(n, t);
        var e = Ys(n);
        function n(t, r, i, o, s) {
            var u;
            h()(this, n),
            (u = e.call(this, o, t, r)).name = "MotionImage";
            var c = Object(vn.d)().motionImgMap;
            if (!(c && i && i.uuid && c[i.uuid]))
                return E()(u);
            var l = c[i.uuid]
              , d = l.width
              , f = l.height
              , p = l.timelines
              , v = l.frames
              , g = l.loop
              , m = l.images;
            u.motionImageData = l;
            var y = new PIXI.BaseTexture;
            y.width = d,
            y.height = f,
            y._glTextures = [],
            y.resolution = 1,
            y.scaleMode = Phaser.scaleModes.DEFAULT,
            y.hasLoaded = !0,
            u.texture = new PIXI.Texture(y,new Phaser.Rectangle(0,0,d,f));
            var b = s.rectMask({
                alpha: 0,
                rect: {
                    width: d,
                    height: f
                }
            });
            u.addChild(b);
            for (var w = [], x = function(t, e) {
                var n = t.rotate
                  , r = void 0 === n ? 0 : n;
                r = parseInt(r);
                var i = s.image(m[t.image].url, t)
                  , a = i.redo
                  , o = function() {
                    a && a();
                    var e = t.width
                      , n = t.height
                      , r = t.x
                      , o = t.y
                      , s = i.pivot
                      , u = i.scale;
                    i.width = e,
                    i.height = n,
                    i.x = r,
                    i.y = o,
                    s.x = e / 2 / u.x,
                    s.y = n / 2 / u.y,
                    i.x += e / 2,
                    i.y += n / 2,
                    i.updateTransform()
                };
                i.redo = o,
                o(),
                i.angle = 180 === r ? 179.9 : r,
                i.frameData = t,
                i.key = null,
                e.add(i)
            }, _ = 0, O = p.length; _ < O; _++) {
                var S = s.group()
                  , P = p[_][0];
                P && !P.frame && x(P, S),
                S.mask = b,
                w.push(S),
                u.addChild(S)
            }
            var C = 0
              , j = 0
              , A = function t() {
                var e = C;
                if (++C >= v) {
                    if (j++,
                    g && j >= g)
                        return;
                    C = 0
                }
                var n = !0;
                if (u.game) {
                    var r = u.game.cache;
                    if (w.forEach((function(t, e) {
                        return p[e].forEach((function(t) {
                            if (t.frame === C) {
                                var e = m[t.image].url;
                                if (!e)
                                    return;
                                var i = r.getImage(e, !0);
                                n = i.key === e && i.data && i.data.complete
                            }
                        }
                        ))
                    }
                    )),
                    !n)
                        return C = e,
                        void Object(k.x)(10).then((function() {
                            return t()
                        }
                        ));
                    w.forEach((function(t, e) {
                        !C && t.removeAll(!0);
                        for (var n = t.children, r = 0, i = (n = a()(n)).length; r < i; r++) {
                            var o = n[r].frameData
                              , s = o.frame;
                            (s + o.during <= C || s > C) && n[r].destroy()
                        }
                        p[e].forEach((function(e) {
                            e.frame === C && x(e, t)
                        }
                        ))
                    }
                    )),
                    Object(k.x)(Js).then((function() {
                        return t()
                    }
                    ))
                }
            };
            return Object(k.x)(Js).then((function() {
                return A()
            }
            )),
            u
        }
        return v()(n, [{
            key: "destroy",
            value: function(t, e) {
                var r = this.motionImageData;
                r && r.images && r.images.forEach((function(t) {
                    var e = t.url;
                    return Qo.subRef("image", e, "play")
                }
                )),
                clearTimeout(this.timeoutID),
                F()(A()(n.prototype), "destroy", this).call(this, t, e)
            }
        }]),
        n
    }(Phaser.Image)
      , $s = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "findImage",
            value: function(t) {
                var e = t.value
                  , n = Object(vn.d)().valueImgs;
                return e && e > 0 ? (void 0 === n ? [] : n)[e - 1] : (console.warn("未再图片库中找到对应内容".concat(JSON.stringify(e))),
                null)
            }
        }]),
        t
    }();
    function Xs(t) {
        var e = Qs();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Qs() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    $s.playContext = null,
    n(241);
    var tu = /@(.+)x/
      , eu = function(t) {
        P()(n, t);
        var e = Xs(n);
        function n(t, r, i, a, o, s) {
            var u, c = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0, l = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0;
            h()(this, n),
            u = e.call(this, t, i, a);
            try {
                var d = t.cache;
                u.debugRendering = !1;
                var f = d.getSpine(r);
                u.offsetx = 0,
                u.offsety = 0;
                var p = new spine.TextureAtlas(d.getText(f.atlas),(function() {
                    var e = t.make.image(0, 0, d.getSpine(r).png);
                    return null === e.texture.baseTexture.source ? new spine.FakeTexture(d.getImage(d.getSpine(r).png)) : new spine.FakeTexture(e.texture.baseTexture.source)
                }
                ))
                  , v = new spine.AtlasAttachmentLoader(p)
                  , g = new spine.SkeletonJson(v);
                if (u.skeletonData = g.readSkeletonData(d.getJSON(f.json)),
                !u.skeletonData)
                    throw new Error("Spine data must be preloaded using Loader.spine");
                u.onEvent = new Phaser.Signal,
                u.onComplete = new Phaser.Signal,
                u.onEnd = new Phaser.Signal,
                u.skeleton = new spine.Skeleton(u.skeletonData),
                u.skeleton.updateWorldTransform(),
                u.stateData = new spine.AnimationStateData(u.skeletonData),
                u.state = new spine.AnimationState(u.stateData),
                u.state.onEvent = u.onEvent.dispatch[Vn.b](u.onEvent),
                u.state.onComplete = u.onComplete.dispatch[Vn.b](u.onComplete),
                u.state.onEnd = u.onEnd.dispatch[Vn.b](u.onEnd),
                u.bounds = u.calculateBounds(u.skeleton);
                var m = u.bounds
                  , y = m.offset
                  , b = y.x
                  , w = y.y
                  , x = m.size
                  , k = x.x
                  , _ = x.y;
                o = Math.max(o, k),
                s = Math.max(s, _),
                u.offsetx = c > 0 ? Math.max(c, b) : Math.min(c, b),
                u.offsety = l > 0 ? Math.max(l, w) : Math.min(l, w),
                u.canvas = document.createElement("canvas"),
                u.canvas.width = o,
                u.canvas.height = s,
                u.context = u.canvas.getContext("2d", {
                    alpha: !1
                });
                var S = new PIXI.BaseTexture(u.canvas)
                  , P = new PIXI.Rectangle(0,0,u.canvas.width,u.canvas.height);
                return u.texture = new PIXI.Texture(S,P),
                u.autoUpdate = !0,
                E()(u, O()(u))
            } catch (t) {
                throw yi(mi.ERROR_PLAY_9, null, null),
                new Error("骨骼异常" + t)
            }
            return u
        }
        return v()(n, [{
            key: "calculateBounds",
            value: function(t) {
                t.setToSetupPose(),
                t.updateWorldTransform();
                var e = new spine.Vector2
                  , n = new spine.Vector2;
                return t.getBounds(e, n, []),
                {
                    offset: e,
                    size: n
                }
            }
        }, {
            key: "renderSkeletonByCanvas",
            value: function(t) {
                this.debugRendering && (this.context.strokeStyle = "green");
                var e = t.drawOrder;
                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height),
                this.context.save(),
                this.context.translate(-this.offsetx, -this.offsety),
                this.debugRendering && (this.context.fillStyle = "#ff0fff",
                this.context.fillRect(this.offsetx, this.offsety, this.canvas.width, this.canvas.height));
                for (var n = 0, r = e.length; n < r; n++) {
                    var i = e[n]
                      , a = i.getAttachment()
                      , o = null
                      , s = null
                      , u = null;
                    if (a instanceof spine.RegionAttachment) {
                        u = (s = (o = a).region).texture.getImage();
                        var c = i.bone.skeleton.color
                          , l = i.color
                          , d = o.color
                          , f = c.a * l.a * d.a
                          , h = new ru;
                        h.set(c.r * l.r * d.r, c.g * l.g * d.g, c.b * l.b * d.b, f);
                        var p = a
                          , v = i.bone
                          , g = s.width
                          , m = s.height;
                        this.context.save(),
                        this.context.transform(v.a, v.c, v.b, v.d, v.worldX, v.worldY),
                        this.context.translate(a.offset[0], a.offset[1]),
                        this.context.rotate(a.rotation * Math.PI / 180);
                        var y = p.width / g;
                        if (this.context.scale(y * a.scaleX, y * a.scaleY),
                        this.context.translate(g / 2, m / 2),
                        a.region.rotate) {
                            var b = g;
                            g = m,
                            m = b,
                            this.context.rotate(-Math.PI / 2)
                        }
                        this.context.scale(1, -1),
                        this.context.translate(-g / 2, -m / 2),
                        1 == h.r && 1 == h.g && 1 == h.b && 1 == h.a || (this.context.globalAlpha = h.a),
                        this.context.drawImage(u, s.x, s.y, g, m, 0, 0, g, m),
                        this.debugRendering && this.context.strokeRect(0, 0, g, m),
                        this.context.restore()
                    }
                }
                this.context.restore(),
                this.context.scale(1, -1),
                this.context.translate(0, -this.canvas.height)
            }
        }, {
            key: "updateTexture",
            value: function() {
                this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas)), !0)
            }
        }, {
            key: "update",
            value: function(t) {
                sn.a.getFocus && void 0 !== t && (this.state.update(t),
                this.state[Vn.a](this.skeleton),
                this.skeleton.updateWorldTransform(),
                this.renderSkeletonByCanvas(this.skeleton),
                this.updateTexture())
            }
        }, {
            key: "getScaleFromVariant",
            value: function(t) {
                var e = tu.exec(t);
                return e ? parseFloat(e[1]) : 1
            }
        }, {
            key: "setTint",
            value: function(t) {
                this.globalTint = t;
                for (var e = this.skeleton.slots, n = 0; n < e.length; n++) {
                    var r = e[n];
                    r.currentSprite && (r.currentSprite.tint = t)
                }
            }
        }, {
            key: "destroy",
            value: function(t, e) {
                this.canvas.width = this.canvas.height = 1,
                this.canvas = null,
                F()(A()(n.prototype), "destroy", this)[Vn.c](this, !0, e)
            }
        }, {
            key: "autoUpdateTransform",
            value: function() {
                if (n.globalAutoUpdate) {
                    this.lastTime = this.lastTime || Date.now();
                    var t = .001 * (Date.now() - this.lastTime);
                    this.lastTime = Date.now(),
                    this.update(t)
                } else
                    this.lastTime = 0;
                PIXI.DisplayObjectContainer[Vn.x].updateTransform[Vn.c](this)
            }
        }, {
            key: "setMixByName",
            value: function(t, e, n) {
                this.stateData.setMixByName(t, e, n)
            }
        }, {
            key: "setAnimationByName",
            value: function(t, e, n) {
                return void 0 === n && (n = !1),
                this.state.data.skeletonData.findAnimation(e) ? this.state.setAnimation(t, e, n) : (console.warn("Animation not found: " + e),
                null)
            }
        }, {
            key: "addAnimationByName",
            value: function(t, e, n, r) {
                return void 0 === n && (n = !1),
                void 0 === r && (r = 0),
                this.state.data.skeletonData.findAnimation(e) ? this.state.addAnimation(t, e, n, r) : (console.warn("Animation not found: " + e),
                null)
            }
        }, {
            key: "getCurrentAnimationForTrack",
            value: function(t) {
                return this.state.tracks[t].animation.name
            }
        }, {
            key: "setSkinByName",
            value: function(t) {
                var e = this.skeleton.data.findSkin(t);
                e ? this.skeleton.setSkin(e) : console.warn("Skin not found: " + t)
            }
        }, {
            key: "setSkin",
            value: function(t) {
                this.skeleton.setSkin(t)
            }
        }, {
            key: "setToSetupPose",
            value: function() {
                this.skeleton.setToSetupPose()
            }
        }, {
            key: "createCombinedSkin",
            value: function(t) {
                for (var e = [], n = 1; n < arguments.length; n++)
                    e[n - 1] = arguments[n];
                if (0 !== e.length) {
                    for (var r = new spine.Skin(t), i = 0; i < e.length; i++) {
                        var a = e[i]
                          , o = this.skeleton.data.findSkin(a);
                        if (!o)
                            return void console.warn("Skin not found: " + a);
                        for (var s in o.attachments) {
                            var u = s.split(":")
                              , c = u[0]
                              , l = u[1]
                              , d = o.attachments[s];
                            if (void 0 === c || void 0 === l)
                                return void console.warn("something went wrong with reading the attachments index and/or name");
                            void 0 === r.getAttachment(c, l) ? r.addAttachment(c, l, d) : console.warn("Found double attachment for: " + a + ". Skipping")
                        }
                    }
                    return this.skeleton.data.skins.push(r),
                    r
                }
                console.warn("Unable to combine skins when no skins are passed...")
            }
        }, {
            key: "autoUpdate",
            get: function() {
                return this.updateTransform === n[Vn.x].autoUpdateTransform
            },
            set: function(t) {
                this.updateTransform = t ? n[Vn.x].autoUpdateTransform : PIXI.DisplayObjectContainer[Vn.x].updateTransform
            }
        }]),
        n
    }(Phaser.Sprite);
    c()(eu, "globalAutoUpdate", !0);
    var nu = function(t) {
        P()(n, t);
        var e = Xs(n);
        function n(t) {
            var r;
            return h()(this, n),
            (r = e.call(this, t)).addSpineCache(),
            r.addSpineFactory(),
            r.addSpineLoader(),
            E()(r, O()(r))
        }
        return v()(n, [{
            key: "addSpineLoader",
            value: function() {
                Phaser.Loader[Vn.x].spine = function(t) {
                    var e = this
                      , n = Object(k.s)(t)
                      , r = "".concat(n.atlas)
                      , i = "".concat(n.skeleton)
                      , a = "".concat(n.image)
                      , o = pn("".concat(r))
                      , s = pn("".concat(i))
                      , u = pn("".concat(a))
                      , c = {
                        atlas: r,
                        json: i,
                        png: a,
                        pngurl: u,
                        jsonurl: s,
                        atlasurl: o
                    }
                      , l = x.a.app_version
                      , d = x.a.client
                      , f = x.a.offline;
                    Object(k.c)(l, "1.15.1") < 0 && On.isAppClient() && "android" === d && f ? console.log("android app 1.15.1 skip spine") : (this.onFileComplete.add((function(t, n) {
                        n === r && e.image(a, u)
                    }
                    )),
                    this.text(r, o),
                    this.json(i, s)),
                    this.game.cache.addSpine(t, c)
                }
            }
        }, {
            key: "addSpineFactory",
            value: function() {
                Phaser.GameObjectFactory[Vn.x].spine = function(t, e, n, r) {
                    void 0 === r && (r = this.world);
                    var i = new eu(this.game,n);
                    return i.setToSetupPose(),
                    i.position.x = t,
                    i.position.y = e,
                    r.add(i)
                }
            }
        }, {
            key: "addSpineCache",
            value: function() {
                Phaser.Cache[Vn.x].spine = {},
                Phaser.Cache[Vn.x].addSpine = function(t, e) {
                    this.spine[t] = e
                }
                ,
                Phaser.Cache[Vn.x].getSpine = function(t) {
                    return this.spine.hasOwnProperty(t) || console.warn('Phaser.Cache.getSpine: Key "' + t + '" not found in Cache.'),
                    this.spine[t]
                }
                ,
                Phaser.Cache[Vn.x].checkSpineKey = function(t) {
                    var e = this.spine;
                    return e && void 0 !== e[t]
                }
                ,
                Phaser.Cache[Vn.x].removeSpineCacheKey = function(t) {
                    var e = this.spine
                      , n = this.game.cache
                      , r = Object(k.s)(t);
                    n.removeImage("".concat(r.image), !0),
                    n.removeText("".concat(r.atlas)),
                    n.removeJSON("".concat(r.skeleton)),
                    delete e[t]
                }
            }
        }]),
        n
    }(Phaser.Plugin)
      , ru = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, [{
            key: "set",
            value: function(t, e, n, r) {
                return this.r = t,
                this.g = e,
                this.b = n,
                this.a = r,
                this.clamp(),
                this
            }
        }, {
            key: "setFromColor",
            value: function(t) {
                return this.r = t.r,
                this.g = t.g,
                this.b = t.b,
                this.a = t.a,
                this
            }
        }, {
            key: "setFromString",
            value: function(t) {
                return t = "#" == t.charAt(0) ? t.substr(1) : t,
                this.r = parseInt(t.substr(0, 2), 16) / 255,
                this.g = parseInt(t.substr(2, 2), 16) / 255,
                this.b = parseInt(t.substr(4, 2), 16) / 255,
                this.a = (8 != t.length ? 255 : parseInt(t.substr(6, 2), 16)) / 255,
                this
            }
        }, {
            key: "add",
            value: function(t, e, n, r) {
                return this.r += t,
                this.g += e,
                this.b += n,
                this.a += r,
                this.clamp(),
                this
            }
        }, {
            key: "clamp",
            value: function() {
                return this.r < 0 ? this.r = 0 : this.r > 1 && (this.r = 1),
                this.g < 0 ? this.g = 0 : this.g > 1 && (this.g = 1),
                this.b < 0 ? this.b = 0 : this.b > 1 && (this.b = 1),
                this.a < 0 ? this.a = 0 : this.a > 1 && (this.a = 1),
                this
            }
        }]),
        t
    }();
    c()(ru, "WHITE", new ru(1,1,1,1)),
    c()(ru, "RED", new ru(1,0,0,1)),
    c()(ru, "GREEN", new ru(0,1,0,1)),
    c()(ru, "BLUE", new ru(0,0,1,1)),
    c()(ru, "MAGENTA", new ru(1,0,1,1));
    var iu = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "is",
            value: function(t) {
                return "number" == typeof t
            }
        }, {
            key: "toN",
            value: function(t) {
                var e = Number(t);
                return isNaN(e) ? 0 : e
            }
        }, {
            key: "toInt",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10
                  , n = parseInt(t, e);
                return isNaN(n) ? 0 : n
            }
        }, {
            key: "roundToInt",
            value: function(t) {
                return Number(t) + .5 | 0
            }
        }]),
        t
    }();
    function au(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function ou(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? au(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : au(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var su = {
        boundsAlignH: "center",
        boundsAlignV: "middle",
        align: "center"
    }
      , uu = function(t) {
        var e = !1;
        return "v-center" !== t && "top" !== t && "bottom" !== t || (e = !0),
        "v-center" === t && (t = "middle"),
        {
            name: t,
            v: e
        }
    }
      , cu = function(t) {
        if (!t || !Object(nn.b)(t)) {
            switch (t) {
            case "left":
                return ["left", "top", "top"];
            case "center":
                return ["center", "top", "center"];
            case "right":
                return ["right", "top", "right"];
            case "top":
                return ["left", "top", "left"];
            case "v-center":
                return ["left", "middle", "left"];
            case "bottom":
                return ["left", "bottom", "left"]
            }
            return ["left", "top", "left"]
        }
        var e = uu(t[0])
          , n = uu(t[1]);
        return e.v ? [n.name || "left", e.name, n.name || "left"] : e.v ? void 0 : [e.name || "left", n.name || "top", e.name]
    }
      , lu = function(t) {
        var e = t.forceFontFamily
          , n = t.fontWeight
          , r = t.fontSize
          , i = void 0 === r ? 12 : r
          , a = t.color
          , o = void 0 === a ? "#000000" : a
          , u = t.stroke
          , c = t.boundsAlignH
          , l = t.boundsAlignV
          , d = t.align
          , f = t.wordSpacing
          , h = void 0 === f ? 0 : f
          , p = t.textDecoration
          , v = t.bold
          , g = void 0 === v ? "normal" : v;
        i = parseInt(i);
        var m = e || qs.fontFamily || t.fontFamily || qs.default
          , y = "".concat(n || "normal", " ").concat(g, " ").concat(i ? i + "px" : "", " ").concat(m);
        if (!c || !l) {
            var b = cu(d)
              , w = s()(b, 3);
            c = w[0],
            l = w[1],
            d = w[2]
        }
        return {
            font: y,
            stroke: u,
            strokeThickness: u ? 2 : 0,
            fill: Object(k.k)(o || "#000000"),
            boundsAlignH: c,
            boundsAlignV: l,
            align: d,
            fontSize: i,
            fontFamily: m,
            wordSpacing: h,
            textDecoration: p,
            color: o
        }
    }
      , du = function(t, e) {
        var n = e.width
          , r = e.height
          , i = t.texture
          , a = i.frame;
        if (i && i.baseTexture === Object(vn.c)().cache.getImage(Phaser.Cache.MISSING_KEY, !0).base)
            t.scale.setTo(1, 1),
            t.x = t.y = 0,
            t.width = n,
            t.height = r;
        else {
            var o = Math.min(n / a.width, r / a.height);
            t.scale.setTo(o, o),
            t.x = (n - t.width) / 2,
            t.y = (r - t.height) / 2
        }
    }
      , fu = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return function(n, r, i) {
            var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
              , o = this.game.world
              , s = (o = void 0 === o ? {} : o).angle
              , u = this.characterWidth
              , c = this.characterHeight
              , l = this.stamp
              , d = this.xSpacing
              , f = void 0 === d ? 0 : d;
            a = f;
            var h = qs.useFontImage
              , p = qs.getRealImageCharOffset
              , v = qs.getRealImageCharWidth
              , g = qs.fontFamily
              , m = qs.useSystemFont;
            l.angle = -s;
            for (var y = 0; y < n.length; y++) {
                var b = n[y]
                  , w = p(b, t);
                if (mu.test(b))
                    r += u - w + a;
                else {
                    var x = v(b) * l.scale.x - w;
                    if (!h && (this.grabData = {}),
                    !m && this.grabData[n.charCodeAt(y)]) {
                        var _ = this.grabData[n.charCodeAt(y)]
                          , O = _.index
                          , S = _.imageData;
                        l.frame = O;
                        var P = l.texture.baseTexture.source
                          , C = P.getContext("2d");
                        C.clearRect(0, 0, u, c);
                        var E = l.scale.x
                          , j = S
                          , A = j.width
                          , I = j.height
                          , R = j.data;
                        if (E > 1.3 && this.game.device.desktop) {
                            for (var T = C.createImageData(A, I), M = T.data, D = 0; D < I; D++)
                                for (var B = 0; B < A; B++) {
                                    var U = 4 * (D * A + B)
                                      , z = Math.floor(1.5 * R[U + 3]);
                                    z = z > 255 ? 255 : z,
                                    M.set([R[U], R[U + 1], R[U + 2], z], U)
                                }
                            S = T
                        }
                        C.putImageData(S, 0, 0),
                        this.renderXY(this.stamp, r, i, !1)
                    } else {
                        for (var L = 1; void 0 === this.grabData[n.charCodeAt(y + L)] && y + L <= n.length; )
                            x += v(n[y + L]) * l.scale.x - p(n[y + L], t, !e),
                            L++;
                        var V = h || m ? g : qs.default
                          , F = wu.text({
                            width: x,
                            height: c
                        }, {
                            fontSize: t,
                            forceFontFamily: V,
                            text: n.substr(y, L),
                            color: Object(k.i)(l.tint)
                        });
                        F.angle = -s,
                        this.renderXY(F, r, i, !1),
                        y += L - 1
                    }
                    if (r += x + a,
                    this.underLine && this.underLine(),
                    r > this.width)
                        break
                }
            }
        }
    }
      , hu = function(t, e) {
        return function() {
            if (e && "none" != e) {
                var n = this.baseTexture
                  , r = n.source
                  , i = n.width
                  , a = n.height
                  , o = r.getContext("2d")
                  , s = "under" == e ? a : a / 2;
                o.beginPath(),
                o.strokeStyle = t,
                o.lineWidth = 1.5,
                o.moveTo(0, s),
                o.lineTo(0 + i, s),
                o.stroke()
            }
        }
    }
      , pu = function(t) {
        var e = t.fontFamily
          , n = t.fontSize
          , r = Phaser.Text.fontPropertiesCache
          , i = "".concat(n, "px '").concat(e, "'");
        if (!r[i]) {
            var a = qs.toRealSize(e, n).height;
            r[i] = {
                fontSize: a,
                ascent: a / 2,
                descent: 0
            }
        }
    }
      , vu = function() {
        for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e = arguments.length > 1 ? arguments[1] : void 0, n = arguments.length > 2 ? arguments[2] : void 0, r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, i = 0, a = qs.getSizeScale(e, n), o = 0; o < t.length; o++)
            i += qs.getRealImageCharWidth(t[o]) * a - qs.getRealImageCharOffset(t[o], n);
        return i + r * t.length
    }
      , gu = /(?:\r\n|\r|\n)/
      , mu = /^[\s\x20\xA0\u2002\u2003\u3000]+$/;
    function yu(t, e) {
        var n = t.x
          , r = void 0 === n ? 0 : n
          , i = t.y
          , a = void 0 === i ? 0 : i
          , o = t.width
          , s = t.height
          , u = Object(vn.c)().make
          , c = e.color
          , l = void 0 === c ? "#fefefe" : c
          , d = e.fontSize
          , f = void 0 === d ? 12 : d
          , h = e.name
          , p = void 0 === h ? "" : h;
        pu(lu(e));
        var v = u.text(r, a);
        return v.setTextBounds(0, 0, o, s),
        p && (v.name = p),
        v.fill = l,
        v.useAdvancedWrap = !0,
        v.advancedWordWrap = ys.advancedWordWrap,
        v.lineHeight = 1.5 * parseInt(f),
        v.setStyle = function(t) {
            t = lu(t),
            pu(t),
            v.lineHeight = 1.5 * parseInt(t.fontSize),
            Phaser.Text[Vn.x].setStyle[Vn.c](v, ou(ou({}, t), {}, {
                wordWrap: !0,
                wordWrapWidth: Math.max(o, f)
            }), !0)
        }
        ,
        v.setTexts = function(t) {
            v.clearColors(),
            v.clearBolds(),
            v.clearLines();
            for (var e = 0, n = "", r = 0; r < t.length; r++) {
                var i = t[r]
                  , a = i.data
                  , o = void 0 === a ? "" : a
                  , s = i.lineBreak
                  , u = i.color
                  , c = void 0 === u ? l : u
                  , d = i.bold
                  , f = i.line;
                n += o,
                c = c ? Object(k.k)(c) : l,
                v.addColor(c, e),
                v.addLines(f, e),
                v.addBolds(d ? "bold" : "normal", e),
                e += s ? 0 : o.length
            }
            v.setText(n, !0)
        }
        ,
        v.getLines = function() {
            return v.advancedWordWrap(v.text).split(gu)
        }
        ,
        v.getCharsWidth = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            return v.measureLine(t, !1)
        }
        ,
        v.getLinePoition = function(t) {
            return v.linesPos && v.linesPos[t] || {
                x: 0,
                y: 0
            }
        }
        ,
        v.getBase = function() {
            return {
                x: v.pivot.x,
                y: v.pivot.y
            }
        }
        ,
        v.setStyle(e),
        v
    }
    function bu(t, e) {
        t.setStyle = function(t) {
            return e.setStyle(t)
        }
        ,
        t.getBase = function() {
            return e.getBase()
        }
        ,
        t.setTexts = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return e.setTexts(t)
        }
        ,
        t.getLines = function() {
            return e.getLines()
        }
        ,
        t.getCharsWidth = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            return e.getCharsWidth(t)
        }
        ,
        t.getLinePoition = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            return e.getLinePoition(t)
        }
    }
    var wu = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "group",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                  , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                  , n = Object(vn.c)().make.group(void 0, t);
                if (e) {
                    var r = e.x
                      , i = e.y
                      , a = e.width
                      , o = e.height;
                    n.x = r,
                    n.y = i,
                    n.width = a,
                    n.height = o
                }
                return n
            }
        }, {
            key: "textarea",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , i = e.x
                  , a = void 0 === i ? 0 : i
                  , o = e.y
                  , u = void 0 === o ? 0 : o
                  , l = e.width
                  , d = void 0 === l ? 0 : l
                  , f = e.height
                  , h = void 0 === f ? 0 : f
                  , p = n.forceFontFamily
                  , v = n.color
                  , g = void 0 === v ? "#fefefe" : v
                  , m = n.fontSize
                  , y = void 0 === m ? 12 : m
                  , b = (n.name,
                n.align)
                  , w = n.wordSpacing
                  , _ = void 0 === w ? 0 : w;
                if (u = iu.roundToInt(u),
                g = Object(k.k)(g || "#000000"),
                (p || !qs.useFontImage || !p && qs.useSystemFont) && !x.a.ftfont)
                    return yu({
                        x: a,
                        y: u,
                        width: d,
                        height: h
                    }, ou(ou({}, n), {}, {
                        color: g
                    }));
                var O = Object(vn.c)()
                  , S = O.add
                  , P = qs.fontFamily
                  , C = qs.charWidth
                  , E = qs.charHeight
                  , j = t.group("textarea");
                j.x = a,
                j.y = u,
                j.texts = [];
                var A, I = cu(b), R = s()(I, 2), T = R[0], M = R[1], D = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , n = e;
                    return "center" === T ? n = (d - t) / 2 : "right" === T && (n = d - t),
                    n
                }, B = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , n = e;
                    return "middle" === M ? n = Math.max(0, (h - t) / 2) : "bottom" === M && (n = Math.max(0, h - t)),
                    n
                }, U = 0, z = 0, L = 0, V = function(t) {
                    var e = t.text
                      , n = t.color
                      , i = t.x
                      , a = t.y
                      , o = t.fontKey
                      , s = t.lineObj
                      , u = Math.round(vu(e, P, y, _));
                    if (i = D(u, i),
                    z = i,
                    U == a && j.children.length) {
                        var c = j.children.filter((function(t) {
                            return t.y === a && !t.delete
                        }
                        ))
                          , l = c.reduce((function(t, e) {
                            return t + e.textWidth
                        }
                        ), 0);
                        if (i = D(l + u, l),
                        "left" !== T) {
                            var d = c[c.length - 1];
                            d && (c.forEach((function(t, e) {
                                0 == e ? (z = Math.min(i, z),
                                t.x = i) : t.x = c[e - 1].x + c[e - 1].textWidth
                            }
                            )),
                            i = d.x + d.textWidth)
                        } else
                            z = 0
                    }
                    L = a,
                    U = a;
                    var f = S.retroFont(P, C, E)
                      , h = qs.getSizeScale(P, y);
                    f.characterWidth = C * h,
                    f.characterHeight = E * h,
                    f.stamp.scale.setTo(h, h),
                    f.stamp.tint = Object(k.A)(n),
                    f.xSpacing = _,
                    f.underLine = hu(n, s[e] || "none"),
                    f.pasteLine = fu(y, r),
                    f.setFixedWidth(u),
                    f.setText(e, !1, 0, 0, "left", !0);
                    var p = S.image(i, a, f);
                    p.fontKey = o,
                    p.delete = 0,
                    p.textWidth = u,
                    p.destroy = function() {
                        return Phaser.Image[Vn.x].destroy[Vn.c](p, !0, !0)
                    }
                    ,
                    j.add(p)
                };
                return j.setStyle = function(t) {
                    j.options = t,
                    t = lu(t),
                    j.style = t,
                    g = t.color || g,
                    y = parseFloat(t.fontSize),
                    _ = t.wordSpacing || 0,
                    T = t.boundsAlignH || "left",
                    M = t.boundsAlignV || "top"
                }
                ,
                j.setTexts = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    if (qs.systemFont)
                        return A = yu({
                            width: d,
                            height: h
                        }, ou(ou({}, j.options), {}, {
                            color: g,
                            fontSize: y
                        })),
                        j.removeAll(!0, !1, !0),
                        bu(j, A),
                        j.addChild(A),
                        j.setTexts(t),
                        void (j.isChange = !0);
                    var e = {};
                    j.children.forEach((function(t) {
                        t.delete = 1,
                        e[t.fontKey] = e[t.fontKey] || [],
                        e[t.fontKey].push(t)
                    }
                    )),
                    U = 0;
                    var n = 1.5 * y
                      , r = [""]
                      , i = {}
                      , a = 0
                      , o = 0
                      , s = 0
                      , u = qs.toRealSize(P, y)
                      , l = u.height
                      , f = (n - l) / 2 - .5 | 0
                      , p = t[0] && t[0].color || g
                      , v = ""
                      , m = -1
                      , b = !1
                      , w = {};
                    z = 0;
                    for (var x = function(t, n) {
                        if (v) {
                            var r = iu.roundToInt(f)
                              , i = "".concat(v, "_").concat(g, "_").concat(y)
                              , a = e[i];
                            if (!b && a && a.length) {
                                m++;
                                var o = a.shift()
                                  , u = o.x !== s ? s : o.x
                                  , c = o.y !== f ? r : o.y;
                                o.position.set(u, c),
                                o.delete = 0
                            } else
                                m > -1 && (b = !0),
                                V({
                                    text: v,
                                    color: p,
                                    x: s,
                                    y: r,
                                    fontKey: i,
                                    lineObj: n
                                });
                            s += vu(v, P, y, _)
                        }
                        v = "",
                        p = t
                    }, k = function() {
                        return j.children.slice(0).forEach((function(t) {
                            t.delete && j.remove(t, !0, !1)
                        }
                        ))
                    }, O = 0; O < t.length; O++) {
                        var S = t[O]
                          , C = S.data
                          , E = S.lineBreak
                          , I = S.color
                          , R = void 0 === I ? g : I
                          , T = S.line;
                        if (Object.assign(w, c()({}, C, T)),
                        !v || p === R && w[v] === T || x(R, w),
                        E)
                            !mu.test(v) && x(t[O + 1] && t[O + 1].color || g, w),
                            i[r[a]] = {
                                x: z,
                                y: L
                            },
                            s = o = 0,
                            z = 0,
                            L = f += n,
                            v = r[++a] = "";
                        else {
                            for (var M = 0; M < C.length; M++) {
                                var D = vu(C[M], P, y, _);
                                o + D > d ? (Object.assign(w, c()({}, v, T)),
                                x(R, w),
                                i[r[a]] = {
                                    x: z,
                                    y: L
                                },
                                s = 0,
                                o = D,
                                z = 0,
                                L = f += n,
                                v = r[++a] = C[M]) : (o += D,
                                r[a] += C[M],
                                v += C[M])
                            }
                            Object.assign(w, c()({}, v, T))
                        }
                    }
                    for (!mu.test(v) && x(p, w),
                    k(); r.length && (mu.test(r[r.length - 1]) || !r[r.length - 1]); )
                        r.splice(r.length - 1, 1);
                    e = null,
                    j.lines = r,
                    j.linesPos = i,
                    j.y = B(j.height),
                    j.pivot.y = 0 | -(j.y + .5),
                    j.alignPos = {
                        x: 0,
                        y: j.pivot.y
                    }
                }
                ,
                j.getLines = function() {
                    return j.lines
                }
                ,
                j.getCharsWidth = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return vu(t, P, y, _)
                }
                ,
                j.getLinePoition = function(t) {
                    return j.linesPos && j.linesPos[t] || {
                        x: 0,
                        y: 0
                    }
                }
                ,
                j.setStyle(n),
                j.getBase = function() {
                    return {
                        x: j.pivot.x,
                        y: j.pivot.y
                    }
                }
                ,
                j
            }
        }, {
            key: "text",
            value: function(t, e) {
                var n = this
                  , r = t.x
                  , i = void 0 === r ? 0 : r
                  , a = t.y
                  , o = void 0 === a ? 0 : a
                  , s = t.width
                  , u = void 0 === s ? 0 : s
                  , c = t.height
                  , l = void 0 === c ? 0 : c
                  , d = e.forceFontFamily
                  , f = e.hidden
                  , h = e.text
                  , p = void 0 === h ? "" : h
                  , v = e.name
                  , g = void 0 === v ? "" : v;
                if (f)
                    return null;
                var m = Object(vn.c)()
                  , y = m.make
                  , b = m.add;
                if (d || !qs.useFontImage || !d && qs.useSystemFont) {
                    o = iu.roundToInt(o),
                    pu(lu(e));
                    var w = y.text(0, 0);
                    return w.setTextBounds(i, o, u, l),
                    g && (w.name = g),
                    w.setStyle = function(t) {
                        t = lu(t),
                        pu(t),
                        Phaser.Text[Vn.x].setStyle[Vn.c](w, t, !0)
                    }
                    ,
                    w.setText = function(t) {
                        Phaser.Text[Vn.x].setText[Vn.c](w, t, !0);
                        var e = w.width - u
                          , n = w.style
                          , r = n.align
                          , a = n.boundsAlignH;
                        "center" === r && "center" === a && e > 0 ? w.setTextBounds(i - e / 2, o, w.width, l) : w.setTextBounds(i, o, u, l)
                    }
                    ,
                    w.setStyle(e),
                    w.setText(p),
                    w
                }
                var x = qs.fontFamily
                  , _ = qs.charWidth
                  , O = qs.charHeight
                  , S = b.retroFont(x, _, O)
                  , P = b.image(0, 0, S);
                return g && (P.name = g),
                P.setStyle = function(t) {
                    var e = lu(t)
                      , r = e.fill
                      , i = e.boundsAlignH
                      , a = e.boundsAlignV
                      , o = e.align
                      , s = void 0 === o ? "left" : o
                      , u = e.fontSize
                      , c = qs.getSizeScale(x, u);
                    S.characterWidth = _ * c,
                    S.characterHeight = O * c,
                    S.stamp.scale.setTo(c, c),
                    S.stamp.tint = Object(k.A)(r),
                    S.pasteLine = fu(u),
                    S.setFixedWidth(Math.round(vu(p, x, u))),
                    S.setText = function() {
                        for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++)
                            e[r] = arguments[r];
                        Phaser.RetroFont[Vn.x].setText[Vn.a](S, e),
                        e[0] === S._text && (S.removeUnsupportedCharacters(n.multiLine),
                        S.buildRetroFontText())
                    }
                    ,
                    S.align = s,
                    P.fontStyle = {
                        boundsAlignH: i,
                        boundsAlignV: a,
                        fontSize: u
                    }
                }
                ,
                P.setText = function(t) {
                    S.setText(t || " ", !1, 0, 0, "left", !0);
                    for (var e = P.fontStyle, n = e.boundsAlignH, r = e.boundsAlignV, a = e.fontSize, s = 0, c = qs.getSizeScale(x, a), d = 0; d < t.length; d++)
                        s += qs.getRealImageCharWidth(t[d]) * c - qs.getRealImageCharOffset(t[d], a);
                    var f = 0;
                    "center" === n ? f = (u - s) / 2 : "right" === n && (f = u - s),
                    P.x = iu.roundToInt(i + f);
                    var h = 0;
                    "middle" === r ? h = (l - S.height) / 2 : "bottom" === r && (h = l - S.height),
                    P.y = iu.roundToInt(o + h)
                }
                ,
                P.setStyle(e),
                P.setText(p),
                Object.defineProperty(P, "text", {
                    get: function() {
                        return S.text
                    },
                    set: function(t) {
                        S.setText(t)
                    }
                }),
                P.destroy = function() {
                    return Phaser.Image[Vn.x].destroy[Vn.c](P, !0, !0)
                }
                ,
                P
            }
        }, {
            key: "image",
            value: function(e) {
                var n = this
                  , r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                  , a = e
                  , o = Object(nn.o)(e) && e.type && "spine" !== e.type
                  , s = r.x
                  , u = void 0 === s ? 0 : s
                  , c = r.y
                  , l = void 0 === c ? 0 : c
                  , d = r.centre
                  , f = void 0 !== d && d
                  , h = r.width
                  , p = r.height
                  , v = r.name
                  , g = void 0 === v ? "" : v
                  , m = r.opacity
                  , y = void 0 === m ? 1 : m
                  , b = Object(vn.c)()
                  , w = b.make
                  , x = b.cache
                  , k = b.time.events
                  , _ = null;
                if (Object(nn.o)(e)) {
                    var O = e
                      , S = O.type;
                    switch (S) {
                    case "spine":
                        var P = e
                          , C = P.image
                          , E = P.x
                          , j = P.y
                          , A = P.action
                          , I = P.width
                          , R = P.height;
                        return t.phaserspine({
                            key: C,
                            options: ou(ou({}, r), {}, {
                                action: A,
                                sx: E,
                                sy: j,
                                width: I,
                                height: R
                            })
                        });
                    default:
                        if (o) {
                            var T = $s.findImage(e)
                              , M = T && T.url ? T.url : "";
                            e = x.checkImageKey(M) ? M : null,
                            _ = w.image(u, l, e, i),
                            a = e
                        } else
                            _ = new Ks(u,l,e,b,t)
                    }
                } else
                    _ = w.image(u, l, e, i),
                    e = x.checkImageKey(e) ? e : null;
                _.alpha = y,
                _.key = a,
                g && (_.name = g),
                void 0 !== h && (_.width = h),
                void 0 !== p && (_.height = p);
                var D = _
                  , B = D.pivot
                  , U = D.scale;
                f && (B.x = _.width / 2 / U.x,
                B.y = _.height / 2 / U.y);
                var z = function() {
                    var t = x.getImage(a, !0).data
                      , e = Object(nn.e)()
                      , r = t.frameLength
                      , i = t.loopCount
                      , o = t.frames;
                    if (o && r > 1) {
                        var s = 0
                          , u = 0
                          , c = 0
                          , l = function(t) {
                            o[t] && (_.parent || _.game) && _.setTexture(o[t].image)
                        };
                        !function t() {
                            if (_.parent || _.game)
                                if (o[s] && !_.delayRedo) {
                                    var a = k._now;
                                    k.add(o[s].delay, (function() {
                                        var e = s;
                                        for (u += k._now - a; o[s] && u >= o[s].delay; )
                                            u -= o[s].delay,
                                            s + 1 >= r ? (s = 0,
                                            c++) : s++;
                                        o[s] ? i && c >= i || !_.parent && !_.game ? e != r - 1 && l(r - 1) : (t(),
                                        e !== s && l(s)) : t()
                                    }
                                    ), n)
                                } else
                                    e && window.requestAnimationFrame ? window.requestAnimationFrame(t) : setTimeout(t, 10)
                        }()
                    }
                };
                return !e || Object(nn.o)(e) && !o ? a && !e && (_.redo = function() {
                    return z()
                }
                ) : z(),
                _.updateTransform(),
                _
            }
        }, {
            key: "button",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ""
                  , i = Object(vn.c)()
                  , a = i.make
                  , o = e.x
                  , s = e.y
                  , u = e.width
                  , c = e.height
                  , l = n.normalUrl
                  , d = n.activeUrl
                  , f = n.disableUrl
                  , h = n.audio
                  , p = n.onClick
                  , v = n.name
                  , g = void 0 === v ? "" : v
                  , m = n.textOptions
                  , y = void 0 === m ? {} : m
                  , b = n.opacity
                  , w = void 0 === b ? 1 : b
                  , x = y.normal
                  , k = y.active
                  , _ = y.disable
                  , O = y.center
                  , S = void 0 === O || O
                  , P = t.group(g, e);
                P.x = o,
                P.y = s,
                P.alpha = w;
                var C = [l, d, f]
                  , E = "" !== r ? [t.image(r, {}, l), t.image(r, {}, d), t.image(r, {}, f)] : [t.image(l), t.image(d), t.image(f)];
                E.forEach((function(t, n) {
                    t instanceof eu && (P.spine = !0),
                    t.visible = !n,
                    t.redo = function() {
                        du(t, e),
                        t.updateTransform()
                    }
                    ,
                    t.redo(),
                    P.add(t)
                }
                ));
                var j = a.button(0, 0, null, p, this);
                j.width = u,
                j.height = c,
                P.add(j);
                var A = null;
                if (x) {
                    var I = S ? ou(ou({}, e), {}, {
                        x: 0,
                        y: 0
                    }) : y.rect;
                    (A = t.text(I, ou(ou({}, x), su))) && P.add(A)
                }
                var R = function(t, e) {
                    A && e && A.setStyle(e);
                    var n = C.findIndex((function(e) {
                        return e === t
                    }
                    ));
                    E.forEach((function(t) {
                        return t.visible = !1
                    }
                    )),
                    E[n].visible = !0
                }
                  , T = function() {
                    j.inputEnabled && R(d, ou(ou({}, k || {}), su)),
                    h && nr.inCache(h.url) && nr.play(h, !0)
                }
                  , M = function() {
                    j.inputEnabled && R(l, ou(ou({}, x || {}), su)),
                    h && nr.inCache(h.url) && nr.stop(h)
                };
                j.onInputOver.add(T),
                j.onInputDown.add(T),
                j.onInputOut.add(M),
                j.onInputUp.add(M),
                P.disable = function() {
                    j.inputEnabled = !1,
                    R(f, ou(ou({}, _ || {}), su))
                }
                ,
                P.enable = function() {
                    j.inputEnabled = !0,
                    j.input.useHandCursor = !0,
                    R(l, ou(ou({}, x || {}), su))
                }
                ,
                P.setText = function(t) {
                    return A && A.setText(t, !0)
                }
                ,
                P.showText = function(t) {
                    return A.visible = !!t
                }
                ;
                var D = P.destroy;
                return P.destroy = function() {
                    p = null,
                    P.setText = null,
                    P.disable = null,
                    P.enable = null,
                    j.input.mouseOut = null;
                    for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                        e[n] = arguments[n];
                    D[Vn.a](P, e)
                }
                ,
                P
            }
        }, {
            key: "checkbox",
            value: function(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ""
                  , i = Object(vn.c)()
                  , a = i.make
                  , o = e.x
                  , s = e.y
                  , u = e.width
                  , c = e.height
                  , l = n.uncheckedUrl
                  , d = n.checkedUrl
                  , f = n.onClick
                  , h = n.name
                  , p = void 0 === h ? "" : h
                  , v = n.textOptions
                  , g = void 0 === v ? {} : v
                  , m = g.unchecked
                  , y = g.checked
                  , b = t.group(p, e);
                b.x = o,
                b.y = s;
                var w = [l, d]
                  , x = "" !== r ? [t.image(r, {}, l), t.image(r, {}, d)] : [t.image(l), t.image(d)];
                x.forEach((function(t, n) {
                    t.visible = !n,
                    t.redo = function() {
                        du(t, e),
                        t.updateTransform()
                    }
                    ,
                    t.redo(),
                    b.add(t)
                }
                ));
                var k = a.button(0, 0, null, f, this);
                k.width = u,
                k.height = c,
                b.add(k);
                var _ = null;
                m && (_ = t.text(ou(ou({}, e), {}, {
                    x: 0,
                    y: 0
                }), ou(ou({}, m), su))) && b.add(_);
                var O = function(t, e) {
                    _ && e && _.setStyle(e);
                    var n = w.findIndex((function(e) {
                        return e === t
                    }
                    ));
                    x.forEach((function(t) {
                        return t.visible = !1
                    }
                    )),
                    x[n].visible = !0
                };
                b.check = function(t) {
                    return t ? O(d, ou(ou({}, y || {}), su)) : O(l, ou(ou({}, m || {}), su))
                }
                ;
                var S = b.destroy;
                return b.destroy = function() {
                    k.check = null;
                    for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                        e[n] = arguments[n];
                    S[Vn.a](b, e)
                }
                ,
                b
            }
        }, {
            key: "sprite",
            value: function(t) {
                var e = Object(vn.c)().make
                  , n = t.x
                  , r = void 0 === n ? 0 : n
                  , i = t.y
                  , a = void 0 === i ? 0 : i;
                return e.sprite(r, a)
            }
        }, {
            key: "rectMask",
            value: function(t) {
                var e = t.color
                  , n = void 0 === e ? 0 : e
                  , r = t.alpha
                  , i = void 0 === r ? 1 : r
                  , a = t.x
                  , o = void 0 === a ? 0 : a
                  , s = t.y
                  , u = void 0 === s ? 0 : s
                  , c = t.rect
                  , l = t.round
                  , d = void 0 === l ? 0 : l
                  , f = t.name
                  , h = void 0 === f ? "" : f
                  , p = t.circle
                  , v = void 0 !== p && p
                  , g = c.x
                  , m = void 0 === g ? 0 : g
                  , y = c.y
                  , b = void 0 === y ? 0 : y
                  , w = c.width
                  , x = c.height
                  , _ = Object(vn.c)().make.graphics(o, u);
                return _.name = h,
                _.beginFill(Object(k.A)(n), i),
                v ? _.drawCircle(m, b, w) : 0 !== d ? _.drawRoundedRect(m, b, w, x, d) : _.drawRect(m, b, w, x),
                _.endFill(),
                _
            }
        }, {
            key: "tileSprite",
            value: function(t) {
                var e = t.x
                  , n = t.y
                  , r = t.width
                  , i = t.height
                  , a = t.url;
                return Object(vn.c)().make.tileSprite(e, n, r, i, a)
            }
        }, {
            key: "phaserspine",
            value: function(e) {
                var n = e.key
                  , r = e.options
                  , i = x.a.app_version
                  , a = x.a.client
                  , o = x.a.offline
                  , s = r.action
                  , u = r.x
                  , c = void 0 === u ? 0 : u
                  , l = r.y
                  , d = void 0 === l ? 0 : l
                  , f = r.sx
                  , h = r.sy
                  , p = r.width
                  , v = r.height
                  , g = Object(vn.c)();
                if (Object(k.c)(i, "1.15.1") < 0 && On.isAppClient() && "android" === a && o) {
                    var m = t.sprite({
                        x: 0,
                        y: 0
                    });
                    return m.texture = {
                        frame: {
                            width: p,
                            height: v
                        }
                    },
                    m.name = "spine",
                    m.key = n,
                    m.action = s,
                    m
                }
                var y = new eu(g,n,c,d,p,v,f,h);
                return y.name = "spine",
                y.key = n,
                y.action = s,
                y.setAnimationByName(0, s, !0),
                y.spine = !0,
                y
            }
        }, {
            key: "registerScroll",
            value: function(e) {
                var n = e.group
                  , r = e.width
                  , i = e.height
                  , a = e.updateMax
                  , o = e.interval
                  , u = e.replaces
                  , c = void 0 === u ? "textarea" : u
                  , l = e.maskName
                  , d = void 0 === l ? "textMask" : l
                  , f = x.a.vertical
                  , h = n.getByName(c)
                  , p = Object(vn.c)();
                if (h) {
                    var v = function() {
                        return a && a() || i
                    }
                      , g = !1
                      , m = 0
                      , y = {
                        width: 8,
                        height: i,
                        x: r + 3,
                        y: 0,
                        bar: Math.max(18, i / 8)
                    }
                      , b = n.getByName(d);
                    b && (b.clear(),
                    b.beginFill(4095, .5),
                    b.drawRect(0, 0, r + 2 * y.width, i),
                    b.endFill());
                    var w = [0, r + y.width, 0, i]
                      , k = function(t, e) {
                        return t >= (w = [0, r + y.width, 0, i])[0] && t <= w[1] && e >= w[2] && e <= w[3]
                    }
                      , _ = t.sprite({
                        width: r,
                        height: i
                    });
                    n.add(_),
                    n.removeChild(h),
                    _.addChild(h);
                    var O = t.rectMask({
                        alpha: 0,
                        rect: {
                            width: r,
                            height: v(),
                            x: 0,
                            y: 0
                        }
                    });
                    _.addChild(O),
                    _.onUpdate = function(t, e) {
                        O.clear(),
                        O.beginFill(4095, 0),
                        O.drawRect(0, 0, t, e),
                        O.endFill()
                    }
                    ,
                    _.onUpdate(r, v());
                    var S = function(t) {
                        var e, n, r = t.worldX, i = t.worldY, a = p.world.angle;
                        if (f && 90 === a || !f && 0 === a) {
                            var o = f ? [i, -r] : [r, i]
                              , u = s()(o, 2);
                            e = u[0],
                            n = u[1]
                        } else {
                            var c = f ? [r, i] : [i, -r]
                              , l = s()(c, 2);
                            e = l[0],
                            n = l[1]
                        }
                        return {
                            x: e,
                            y: n
                        }
                    };
                    _.scrollY = function(t, e) {
                        t > 0 ? _.y = 0 : t <= -(v() - i) ? _.y = -(v() - i) : _.y = t,
                        e || (m = Math.abs(_.y / (v() - i)),
                        _.onUpdatePercent())
                    }
                    ;
                    var P = function(t) {
                        if (_.isDown) {
                            t.preventDefault && t.preventDefault();
                            var e = t.wheelDelta ? t.wheelDelta / 120 : -t.detail / 3;
                            _.scrollY(_.y + e * o)
                        }
                    }
                      , C = t.rectMask({
                        alpha: 1,
                        color: 11184810,
                        rect: {
                            width: y.width,
                            height: y.bar,
                            x: y.x,
                            y: y.y
                        }
                    })
                      , E = function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        C.clear(),
                        C.beginFill(11184810, 1),
                        C.drawRect(y.x, y.y, y.width * (t ? 2 : 1), y.bar),
                        C.endFill()
                    };
                    C.inputEnabled = !0,
                    Object(nn.e)() && C.events.onInputOver.add((function() {
                        return E(!0)
                    }
                    )),
                    C.events.onInputOut.add((function() {
                        return E(!1)
                    }
                    ));
                    var j = i - y.bar;
                    C.events.onDragUpdate.add((function(t, e, n, r) {
                        C.x = 0,
                        C.y < 0 && (C.y = 0),
                        C.y > j && (C.y = j);
                        var a = C.y / j * (v() - i) * -1;
                        _.scrollY(a, !0)
                    }
                    )),
                    C.events.onInputDown.add((function(t, e) {
                        return S(e) ? t.input.enableDrag() : t.input.disableDrag()
                    }
                    )),
                    n.addChild(C),
                    _.onUpdatePercent = function() {
                        C.y = m * j
                    }
                    ,
                    C.visible = !1,
                    _.isDown = !1,
                    _.inputEnabled = !0;
                    var A = _.input
                      , I = _.events;
                    A.enableDrag(),
                    A.allowHorizontalDrag = !1,
                    I.onDragUpdate.add((function(t, e, n, r) {
                        return _.scrollY(r)
                    }
                    )),
                    I.onInputDown.add((function(t, e) {
                        var r = p.input.getLocalPosition(n, S(e));
                        k(r.x, r.y) ? (_.isDown = !0,
                        C.visible = !0,
                        S(e) ? t.input.enableDrag() : t.input.disableDrag()) : t.input.disableDrag()
                    }
                    )),
                    I.onInputOut.add((function() {
                        _.isDown = !1,
                        C.visible = !1
                    }
                    )),
                    h instanceof Phaser.Text && (h.inputEnabled = !1),
                    p.input.addMoveCallback((function(t) {
                        var e = p.input.getLocalPosition(n, S(t));
                        if (Object(nn.e)()) {
                            var r = k(e.x, e.y);
                            C.visible = r,
                            _.isDown = r
                        }
                        var i = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
                        !e && g ? (document.removeEventListener(i, P),
                        g = !1) : e && !g && (document.addEventListener(i, P, {
                            passive: !1
                        }),
                        g = !0)
                    }
                    ))
                }
            }
        }]),
        t
    }();
    function xu(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function ku(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? xu(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : xu(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    n(148),
    n(242);
    var _u, Ou = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "flex",
            value: function(e, n, r) {
                var i = r.width
                  , a = r.height;
                if (3 === e) {
                    var o = n.width / n.height < i / a ? i / n.width : a / n.height;
                    n.width *= o,
                    n.height *= o,
                    n.x = -(n.width - i) / 2,
                    n.y = -(n.height - a) / 2
                } else if (5 === e) {
                    var s = 0;
                    n.width / n.height > i / a ? (s = i / n.width,
                    n.width *= s,
                    n.height *= s,
                    n.y = (a - n.height) / 2) : (s = a / n.height,
                    n.width *= s,
                    n.height *= s,
                    n.x = (i - n.width) / 2)
                } else
                    n.width = i,
                    n.height = a;
                var u = n.texture;
                u && u.baseTexture === Object(vn.c)().cache.getImage(Phaser.Cache.MISSING_KEY, !0).base && (n.x = n.y = 0,
                n.width = i,
                n.height = a),
                n.redo = function() {
                    n.scale.setTo(1, 1),
                    t.flex(e, n, {
                        width: i,
                        height: a
                    }),
                    n.updateTransform()
                }
            }
        }, {
            key: "fullScreenTip",
            value: function(t) {
                var e = t.text
                  , n = void 0 === e ? "" : e
                  , r = t.alpha
                  , i = void 0 === r ? 1 : r
                  , a = t.fontSize
                  , o = void 0 === a ? 24 : a
                  , s = t.name
                  , u = void 0 === s ? "" : s
                  , c = Object(vn.c)().world
                  , l = c.width
                  , d = c.height
                  , f = wu.group(u)
                  , h = wu.rectMask({
                    alpha: i,
                    rect: {
                        width: l,
                        height: d
                    }
                });
                return h.inputEnabled = !0,
                f.add(h),
                f.add(wu.text({
                    width: l,
                    height: d
                }, {
                    text: n,
                    name: "text",
                    fontSize: o,
                    forceFontFamily: qs.default,
                    color: "#fff",
                    boundsAlignH: "center",
                    boundsAlignV: "middle"
                })),
                f
            }
        }, {
            key: "addMask",
            value: function(e) {
                var n = Object(vn.c)().world
                  , r = t.fullScreenTip(ku({}, e));
                r.inputEnabled = !0,
                n.addChild(r)
            }
        }, {
            key: "clearMask",
            value: function(t) {
                var e = Object(vn.c)().world
                  , n = e.getByName(t);
                n && e.remove(n, !0)
            }
        }]),
        t
    }(), Su = n(59), Pu = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "get",
            value: function(e, n) {
                if (n && 2 === n.length) {
                    var r = t.get(e, n[1]);
                    return void 0 !== r && r.hasOwnProperty(n[0]) ? r[n[0]] : void 0
                }
                return e
            }
        }, {
            key: "toArray",
            value: function(e) {
                if (e && 2 === e.length) {
                    var n = t.toArray(e[1]);
                    return n.push(e[0]),
                    n
                }
                return []
            }
        }, {
            key: "fromArray",
            value: function(t) {
                var e = null;
                return t.forEach((function(t) {
                    e = [t, e]
                }
                )),
                e
            }
        }, {
            key: "stringify",
            value: function(t) {
                for (var e = ""; t && t.length > 0; )
                    e = "/" + t[0] + e,
                    t = t[1];
                return e && (e += "/"),
                e
            }
        }, {
            key: "isSame",
            value: function(e, n) {
                return t.stringify(e) === t.stringify(n)
            }
        }, {
            key: "merge",
            value: function(e, n) {
                return n && 2 === n.length ? [n[0], t.merge(e, n[1])] : e
            }
        }, {
            key: "createQuery",
            value: function(e, n) {
                return e && 2 === e.length ? t.createQuery(e[1], c()({}, e[0], n)) : n
            }
        }, {
            key: "mergeQuerys",
            value: function(t) {
                var e = ["$push", "$set", "$unshift", "$splice", "$merge", "$apply"]
                  , n = function t(n, r) {
                    return "object" !== d()(n) || null === n ? r : ("object" !== d()(r) || null === r || Object.keys(r).forEach((function(i) {
                        var a;
                        a = e.some((function(t) {
                            return i === t
                        }
                        )) ? n.hasOwnProperty(i) ? n[i] : r[i] : t(n[i], r[i]),
                        n = mr()(n, c()({}, i, {
                            $set: a
                        }))
                    }
                    )),
                    n)
                }
                  , r = {};
                return t.forEach((function(t) {
                    return r = n(r, t)
                }
                )),
                r
            }
        }, {
            key: "compare",
            value: function(e, n) {
                if (t.isSame(e, n))
                    return 0;
                for (var r = [], i = []; e && e.length; )
                    r.unshift(e[0]),
                    e = e[1];
                for (; n && n.length; )
                    i.unshift(n[0]),
                    n = n[1];
                var a = (r.length > i.length ? r.map((function(t, e) {
                    return e >= i.length ? 1 : t === i[e] ? 0 : t > i[e] ? 1 : -1
                }
                )) : i.map((function(t, e) {
                    return e >= r.length ? -1 : t === r[e] ? 0 : t > r[e] ? -1 : 1
                }
                ))).find((function(t) {
                    return 0 !== t
                }
                ));
                return void 0 === a ? 0 : a
            }
        }, {
            key: "getTopPaths",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return e.filter((function(n) {
                    return !e.some((function(e) {
                        return t.stringify(n).startsWith(t.stringify(e)) && !t.isSame(e, n)
                    }
                    ))
                }
                ))
            }
        }]),
        t
    }(), Cu = n(83), Eu = function(t, e) {
        return t.split("").map((function(t) {
            return t.repeat(e)
        }
        )).join("")
    }, ju = function() {
        return Number(Eu("9", 14))
    }, Au = function() {
        return -1 * Number(Eu("9", 14))
    }, Iu = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 12;
        return +parseFloat(t.toPrecision(e))
    }, Ru = function(t) {
        t = t.toString();
        for (var e = 0, n = 0, r = 0; r < t.length; r++) {
            var i = t[r];
            if ("e" === i || "E" === i) {
                n = +t.substr(r + 1);
                break
            }
            ("." === t[r - 1] || e) && e++
        }
        var a = e - n;
        return a > 0 ? a : 0
    }, Tu = function(t, e) {
        return (e = void 0 !== e ? e : Ru(t)) > 0 ? Iu(t * Math.pow(10, e)) : t
    }, Mu = function(t) {
        return t > ju() ? ju() : t < Au() ? Au() : t
    }, Du = function t() {
        for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), o = 2; o < r; o++)
            i[o - 2] = arguments[o];
        if (i.length > 0)
            return t.apply(void 0, [t(e, n), i[0]].concat(a()(i.slice(1))));
        var s = Ru(e)
          , u = Ru(n)
          , c = Tu(e, s)
          , l = Tu(n, u)
          , d = s + u
          , f = c * l
          , h = f / Math.pow(10, d);
        return Mu(h)
    }, Bu = function t() {
        for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), o = 2; o < r; o++)
            i[o - 2] = arguments[o];
        if (i.length > 0)
            return t.apply(void 0, [t(e, n), i[0]].concat(a()(i.slice(1))));
        var s = Math.pow(10, Math.max(Ru(e), Ru(n)))
          , u = (e * s + n * s) / s;
        return Mu(u)
    }, Uu = function t() {
        for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), o = 2; o < r; o++)
            i[o - 2] = arguments[o];
        if (i.length > 0)
            return t.apply(void 0, [t(e, n), i[0]].concat(a()(i.slice(1))));
        var s = Math.pow(10, Math.max(Ru(e), Ru(n)))
          , u = (e * s - n * s) / s;
        return Mu(u)
    }, zu = function t() {
        for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), o = 2; o < r; o++)
            i[o - 2] = arguments[o];
        if (i.length > 0)
            return t.apply(void 0, [t(e, n), i[0]].concat(a()(i.slice(1))));
        var s = Ru(e)
          , u = Ru(n)
          , c = Tu(e, s)
          , l = Tu(n, u)
          , d = Du(c / l, Math.pow(10, u - s));
        return Mu(d)
    }, Lu = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
          , n = 0
          , r = 0;
        n = Ru(t),
        r = Ru(e);
        var i = Tu(t, n)
          , a = Tu(e, r)
          , o = Math.pow(10, Math.abs(n - r));
        return n > r && (a *= o),
        n < r && (i *= o),
        i % a / Math.pow(10, Math.max(n, r))
    }, Vu = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2
          , n = 0;
        return n = Ru(t),
        t = Tu(t, n),
        n > e && e >= 0 && (t -= t % Math.pow(10, n - e)),
        t / Math.pow(10, n)
    }, Fu = [], Nu = (_u = {
        roleList: [],
        role: {},
        payValue: {}
    },
    c()(_u, gn.n, {}),
    c()(_u, gn.k, {}),
    c()(_u, gn.u, {}),
    _u), Hu = c()({
        uname: "暂无数值",
        value: 0,
        uid: 0,
        uavatar: "defaultuavatar",
        utitle: "暂无数值",
        rname: "暂无数值",
        rimg: "defaultroleimg",
        rid: "暂无数值"
    }, gn.u, 0), Wu = [{
        value: "0",
        name: "贡献榜",
        key: gn.k
    }, {
        value: "1",
        name: "粉丝榜",
        key: gn.n
    }, {
        value: "2",
        name: "角色守护榜",
        key: "role"
    }, {
        value: "3",
        name: "购买数值",
        key: gn.x
    }, {
        value: "4",
        name: "月票",
        key: gn.u
    }], Gu = [{
        value: "0",
        name: "周榜",
        key: "week"
    }, {
        value: "1",
        name: "月榜",
        key: "month"
    }, {
        value: "2",
        name: "总榜",
        key: "total"
    }], qu = [{
        value: "0",
        name: "粉丝名称",
        key: "uname"
    }, {
        value: "1",
        name: "粉丝值",
        key: "value"
    }, {
        value: "2",
        name: "粉丝uid",
        key: [gn.M]
    }, {
        value: "3",
        name: "粉丝头像",
        key: "uavatar"
    }, {
        value: "4",
        name: "粉丝头衔",
        key: "utitle"
    }, {
        value: "5",
        name: "角色名",
        key: "rname"
    }, {
        value: "6",
        name: "角色图片",
        key: "rimg"
    }, {
        value: "7",
        name: "月票数",
        key: gn.u
    }], Yu = ["一", "二", "三", "四", "五", "六", "七", "八", "九", "十", "十一", "十二", "十三", "十四", "十五", "十六", "十七", "十八", "十九", "二十", "二十一", "二十二", "二十三", "二十四", "二十五", "二十六", "二十七", "二十八", "二十九", "三十"].map((function(t, e) {
        return {
            value: e + 1 + "",
            name: "第".concat(t, "名")
        }
    }
    )), Zu = function(t, e, n) {
        var r = t.filter((function(t) {
            return t[e] == n
        }
        ));
        return r.length > 0 ? r[0] : void 0
    }, Ju = function(t, e, n) {
        return Zu(t, e, n) || Hu
    }, Ku = function(t, e, n) {
        return t[e] ? Ju(t[e], "ranking", n) : Hu
    }, $u = function(t, e, n) {
        t[e] = n,
        t.timer = an.a.getCurDate()
    }, Xu = function(t, e, n, r) {
        return t[n] && t[n][e] ? Ju(t[n][e], "ranking", r) : Hu
    }, Qu = function(t, e, n, r) {
        t[n] || (t[n] = {}),
        t.timer = an.a.getCurDate(),
        t[n][e] = r
    }, tc = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "parseListValue",
            value: function(e, n) {
                if (!t.legalListValue(e))
                    return Promise.resolve("[不合法数值]");
                var r, i, a = e.split("_"), o = Wu.map((function(t) {
                    return t.key
                }
                )), s = Nu[o[a[0]]], u = a[0], c = a[1], l = a[2], d = a[3];
                if ("3" == a[0] || "2" == a[0]) {
                    if (r = a[2],
                    "3" == a[0] && !(r = n[Object(rn.i)()][r] ? n[Object(rn.i)()][r].uuid : void 0))
                        return Promise.resolve("[已被删除]");
                    l = a[3],
                    d = a[4]
                }
                if (function(t, e, n) {
                    return void 0 !== n ? !(!t[n] || !t[n][e]) : !!t[e]
                }(s, c, r) && !function(t) {
                    return an.a.getCurDate() - t.timer > 2
                }(s)) {
                    var f = void 0 !== r ? Xu(s, c, r, l) : Ku(s, c, l);
                    i = Promise.resolve(f)
                } else
                    i = function(t, e, n, r, i) {
                        var a, o = Number(e);
                        switch (o) {
                        case 0:
                            a = go().then((function() {
                                return wo(Zu(Gu, "value", n).key)
                            }
                            ));
                            break;
                        case 1:
                            a = go().then((function() {
                                return bo(Zu(Gu, "value", n).key)
                            }
                            ));
                            break;
                        case 2:
                            a = go().then((function() {
                                return yo(r, Zu(Gu, "value", n).key)
                            }
                            ));
                            break;
                        case 3:
                            a = go().then((function() {
                                return xo(r)
                            }
                            ));
                            break;
                        case 4:
                            a = go().then((function() {
                                return ko(Zu(Gu, "value", n).key)
                            }
                            ));
                            break;
                        default:
                            return Promise.resolve()
                        }
                        var s = function(e) {
                            return void 0 !== r ? Qu(t, n, r, e) : $u(t, n, e)
                        };
                        return a.then((function(t) {
                            return 4 === o && (t = t.list).forEach((function(t) {
                                t.ranking = t.rank || -1,
                                t[gn.u] = t.tickets || 0,
                                t.uname = t.userInfo.nickname || "",
                                t.uavatar = t.userInfo.avatar || ""
                            }
                            )),
                            s(t),
                            Zu(t, "ranking", i)
                        }
                        )).catch((function() {
                            return s([])
                        }
                        ))
                    }(s, u, c, r, l);
                var h = function(t, e) {
                    return t.match("[?]") ? t + e : t + "?" + e
                };
                return i.then((function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Hu
                      , e = Zu(qu, "value", d)
                      , n = e ? e.key : ""
                      , r = t[n]
                      , i = "uavatar" == n || "rimg" == n;
                    return i && "" != r && "defaultuavatar" !== r && "defaultroleimg" !== r && (r.match("//") && (r = "/" + (r = h(r, "listvalues")).split("/").slice(3).join("/")),
                    r = r.replace(/(\/middle|\/small)/g, "/large"),
                    Fu.some((function(t) {
                        return t.url == r
                    }
                    )) || Fu.push({
                        type: "image",
                        url: r
                    })),
                    r
                }
                ))
            }
        }, {
            key: "legalListValue",
            value: function(t) {
                var e = t.split("_")
                  , n = e[0]
                  , r = {
                    0: 3,
                    1: 3,
                    2: 4,
                    3: 4,
                    4: 3
                }[n]
                  , i = new RegExp("^((?:\\d+_){".concat(r, ",").concat(r, "}\\d+)$"))
                  , a = [].concat(Gu);
                "3" == n && a.splice(0, 2);
                var o = function(t, e) {
                    return t.some((function(t) {
                        return e(parseInt(t.value))
                    }
                    ))
                };
                return !!(i.test(t) && o(Wu, (function(t) {
                    return t == parseInt(e[0])
                }
                )) && o(a, (function(t) {
                    return t == parseInt(e[1])
                }
                )) && o(Yu, (function(t) {
                    return t == parseInt(e[e.length - 2])
                }
                )) && o(qu, (function(t) {
                    return t == parseInt(e[e.length - 1])
                }
                )))
            }
        }, {
            key: "getAssets",
            value: function() {
                return Fu
            }
        }]),
        t
    }();
    Object(jn.c)()(arguments[Vn.d]);
    var ec = []
      , nc = {}
      , rc = {}
      , ic = {}
      , ac = {}
      , oc = {}
      , sc = {}
      , uc = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "RoleValues",
            get: function() {
                return rc
            }
        }, {
            key: "RoleIds",
            get: function() {
                return ec
            }
        }, {
            key: "RolesMap",
            get: function() {
                return nc
            }
        }, {
            key: "TotalRangeRoleValue",
            get: function() {
                return Object.keys(t.RoleValues).reduce((function(e, n) {
                    return e + t.RoleValues[n]
                }
                ), 0)
            }
        }, {
            key: "RoleRangeValues",
            get: function() {
                return ic
            }
        }, {
            key: "MticketsRange",
            get: function() {
                return sc
            }
        }, {
            key: "TotalRoleValus",
            get: function() {
                return ac
            }
        }]),
        t
    }();
    c()(uc, "updateRoleId", (function() {
        var t = x.a.uuid;
        return en.a.runCheck && (t = t.substr(0, 36)),
        mo(t).then((function(t) {
            return nc = {},
            ec = [],
            nc = t,
            Object.keys(t).forEach((function(e) {
                ec.push(t[e].id)
            }
            )),
            ec
        }
        ), (function() {
            return ec = [],
            Promise.resolve(ec)
        }
        ))
    }
    )),
    c()(uc, "updateRoleValue", (function() {
        return La(uc.RoleIds).then((function(t) {
            return uc.RoleIds.forEach((function(e) {
                return rc[e] = t[e] || 0
            }
            )),
            rc
        }
        ), (function() {
            return rc = {},
            Promise.resolve(rc)
        }
        ))
    }
    )),
    c()(uc, "updateRoleRangeValue", (function(t, e, n) {
        var r = "role".concat(t).concat(e, "-").concat(n);
        if (uc.RoleRangeValues[r])
            return uc.RoleRangeValues[r];
        var i = [t];
        return uc.RoleIds.length > 0 && uc.RoleIds.indexOf(t) > -1 && (i = uc.RoleIds),
        La(i, e, n).then((function(t) {
            return i.forEach((function(r) {
                return ic["role".concat(r).concat(e, "-").concat(n)] = t[r] || 0
            }
            )),
            ic[r] || 0
        }
        ), (function() {
            return Promise.resolve(0)
        }
        ))
    }
    )),
    c()(uc, "updateMticketsRange", (function(t, e) {
        var n = "mtickets".concat(t, "-").concat(e);
        return sc[n] ? sc[n] : za(t, e).then((function(t) {
            return sc[n] = t || 0,
            t
        }
        ), (function() {
            return Promise.resolve(0)
        }
        ))
    }
    )),
    c()(uc, "updateTotalRoleValue", (function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
          , r = "totalrole".concat(t).concat(e, "-").concat(n);
        return ac[r] ? ac[r] : Va(t, e, n).then((function(t) {
            return ac[r] = t,
            Promise.resolve(t)
        }
        ))
    }
    )),
    c()(uc, "updateContributionRange", (function(t) {
        var e = "".concat(gn.k, "range").concat(t);
        return oc[e] ? oc[e] : Na(t).then((function(t) {
            return oc[e] = t,
            Promise.resolve(t)
        }
        ))
    }
    ));
    var cc, lc, dc, fc, hc = Promise, pc = function() {
        return hc.all.apply(hc, arguments)
    }, vc = function() {
        return hc.resolve.apply(hc, arguments)
    }, gc = function() {
        return hc.reject.apply(hc, arguments)
    }, mc = vn.a.gameValuesMap, yc = /&(s|v|sv|p|x|i|iv|lv)\[([^\]]+)\]/, bc = /^(?!_)(?!.*?_$)((?:\d+_){3,4}\d+)+$/, wc = /^\d+$/, xc = /^(?!_)(?!.*?_$)((?:\d+_)\d+)+$/, kc = Cu.Base64.decode, _c = Cu.Base64.encode;
    function Oc(t) {
        return Math.floor(Object(un.u)() * t + 1)
    }
    function Sc(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
          , n = Cc(t)
          , r = n.uuid
          , i = n.value;
        return e ? [r, null == i ? Wc(t) : i] : {
            uuid: r,
            value: null == i ? Wc(t) : i
        }
    }
    function Pc(t) {
        var e = t.value
          , n = (e = _c(e)[Vn.G](""))[Vn.p];
        if (!n)
            return t.k ? Object(un.f)({}, t, {
                k: void 0
            }) : t;
        var r = Oc(n - 1)
          , i = "".concat(e[r]).concat(Object(nn.n)(t[gn.N]) ? "n" : "s").concat(r);
        return e[r] = Object(ki.a)(Oc(255)),
        e = _c(e[Vn.o]("")),
        Object(un.f)({}, t, {
            value: e,
            k: i
        })
    }
    function Cc(t) {
        var e = t.value
          , n = t.k;
        if (!n)
            return t;
        e = kc(e)[Vn.G]("");
        var r = +n[Vn.E](2)
          , i = "n" == n[1];
        return e[r] = n[0],
        e = kc(e[Vn.o]()),
        e = i ? +e : e,
        Object(un.f)({}, t, {
            value: e,
            k: void 0
        })
    }
    function Ec(t, e, n) {
        var r = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
        return n >= e[Vn.p] || !r ? vc(r) : Rc(e[n], t)[Vn.I]((function(r) {
            return Ec(t, e, n + 1, r)
        }
        ))
    }
    function jc(t, e, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
        return n >= e[Vn.p] || r ? vc(r) : Rc(e[n], t)[Vn.I]((function(r) {
            return jc(t, e, n + 1, r)
        }
        ))
    }
    var Ac = (cc = {},
    c()(cc, gn.a, (function(t, e) {
        return Rc(t[gn.a], e)
    }
    )),
    c()(cc, Object(ki.a)(43), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return iu.is(n) && iu.is(r) ? Vu(Bu(n, r)) : ("#" + n + r)[Vn.E](1)
        }
        ))
    }
    )),
    c()(cc, Object(ki.a)(45), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return iu.is(n) && iu.is(r) ? Vu(Uu(n, r)) : (n + "")[Vn.G](r + "")[Vn.o]("")
        }
        ))
    }
    )),
    c()(cc, Object(ki.a)(42), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return Vu(Du(n, r))
        }
        ))
    }
    )),
    c()(cc, Object(ki.a)(47), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return 0 === r ? (Xe.a.error(Object(rn.c)(24)),
            0) : Vu(zu(n, r))
        }
        ))
    }
    )),
    c()(cc, Object(ki.a)(37), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return n = parseInt(n),
            0 === (r = parseInt(r)) ? (Xe.a.error(Object(rn.c)(24)),
            0) : Vu(Lu(n, r))
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([61, 61]), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2);
            return e[0] === e[1]
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([33, 61]), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2);
            return e[0] !== e[1]
        }
        ))
    }
    )),
    c()(cc, Object(ki.a)(62), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2);
            return e[0] > e[1]
        }
        ))
    }
    )),
    c()(cc, Object(ki.a)(60), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2);
            return e[0] < e[1]
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([62, 61]), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2);
            return e[0] >= e[1]
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([60, 61]), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2);
            return e[0] <= e[1]
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([109, 105, 110]), (function(t, e) {
        return pc(t[gn.c][Vn.r]((function(t) {
            return Rc(t, e)
        }
        )))[Vn.I]((function(t) {
            return Math.min.apply(null, t)
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([109, 97, 120]), (function(t, e) {
        return pc(t[gn.c][Vn.r]((function(t) {
            return Rc(t, e)
        }
        )))[Vn.I]((function(t) {
            return Math.max.apply(null, t)
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([97, 108, 108]), (function(t, e) {
        return Ec(e, t[gn.c] || [], 0)
    }
    )),
    c()(cc, Object(ki.b)([97, 110, 121]), (function(t, e) {
        return jc(e, t[gn.c] || [], 0)
    }
    )),
    c()(cc, gn.t, (function(t, e) {
        return vc(iu.toN(t[gn.N]))
    }
    )),
    c()(cc, Object(ki.b)([105, 110, 116]), (function(t, e) {
        return vc(Rc(t[gn.a], e))[Vn.I]((function(t) {
            return iu.toInt(t)
        }
        ))
    }
    )),
    c()(cc, Vn.y, (function(t, e) {
        var n = Object(nn.o)(t[gn.y][0]) ? Rc(t[gn.y][0], e) : iu.toInt(t[gn.y][0])
          , r = Object(nn.o)(t[gn.y][1]) ? Rc(t[gn.y][1], e) : iu.toInt(t[gn.y][1]);
        return pc([n, r])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return n = Math.min(n, r),
            r = Math.max(n, r),
            parseInt(Object(un.u)() * (r - n + 1) + n)
        }
        ))
    }
    )),
    c()(cc, gn.N, (function(t, e) {
        return vc(Ic(t, e[Object(rn.g)(t[gn.L])]))
    }
    )),
    c()(cc, gn.x, (function(t, e) {
        return vc(Ic(t, e[Object(rn.g)(t[gn.L])]))
    }
    )),
    c()(cc, gn.C, (function(t, e) {
        return vc(Ic(t, e[Object(rn.g)(t[gn.L])]))
    }
    )),
    c()(cc, gn.q, (function(t, e) {
        return vc(Ic(t, e[Object(rn.g)(t[gn.L])]))
    }
    )),
    c()(cc, gn.K, (function(t, e) {
        return vc(Ic(t, e[Object(rn.g)(t[gn.L])]))
    }
    )),
    c()(cc, gn.z, (function(t, e) {
        var n = t[gn.a] ? String(t[gn.a])[Vn.p] >= 36 ? mc[Object(rn.h)()][t[gn.a]] : t[gn.a] : 0
          , r = {
            value: 0
        };
        void 0 !== n && (r = e[Object(rn.h)()][n]);
        var i = r[gn.r].id || 0
          , a = r[gn.r][gn.L] + "s"
          , o = (void 0 !== r[gn.N] ? iu.toN(Cc(r)[gn.N]) : Wc(r)) - 1;
        if (i && (o = mc[Object(rn.g)(a)][i][o]),
        void 0 === e[Object(rn.g)(a)][o])
            return Xe.a.info(Object(rn.c)(22)),
            vc(Object(rn.c)(25));
        var s = e[Object(rn.g)(a)][o];
        return r = void 0 !== s[gn.N] ? Cc(s)[gn.N] : Wc(s),
        r = a === "".concat(gn.I, "s") ? r + "" : iu.toN(r),
        vc(r)
    }
    )),
    c()(cc, gn.H, (function(t, e) {
        return vc((t[gn.N] || "") + "")
    }
    )),
    c()(cc, gn.I, (function(t, e) {
        var n = t[gn.a] ? String(t[gn.a])[Vn.p] >= 36 ? mc[Object(rn.k)()][t[gn.a]] : t[gn.a] : 0
          , r = {
            value: ""
        };
        return void 0 !== n && (r = e[Object(rn.k)()][n]),
        vc(void 0 !== r[gn.N] ? Cc(r)[gn.N] + "" : Wc(r))
    }
    )),
    c()(cc, gn.i, (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return (n + "").indexOf(r + "") > -1
        }
        ))
    }
    )),
    c()(cc, Object(ki.b)([110, 105, 110]), (function(t, e) {
        return pc([Rc(t[gn.a], e), Rc(t[gn.b], e)])[Vn.I]((function(t) {
            var e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            return !(n + "")[Vn.m](r + "")
        }
        ))
    }
    )),
    c()(cc, Object(ki.d)([28, 40, 27, 34, 25, 0, 27, 34, 29, 38, 40, 39], 76), (function(t, e) {
        return vc(Rc(t[gn.a], e))[Vn.I]((function(t) {
            return t ? t[Vn.p] : 0
        }
        ))
    }
    )),
    c()(cc, gn.d, (function(t, e) {
        return 0 === t[gn.c][Vn.p] ? (Xe.a.error(Object(rn.c)(24)),
        vc(0)) : pc(t[gn.c][Vn.r]((function(t) {
            return Rc(t, e)
        }
        )))[Vn.I]((function(e) {
            return Vu(zu(e.reduce((function(t, e) {
                return t + e
            }
            ), 0), t[gn.c][Vn.p]))
        }
        ))
    }
    )),
    c()(cc, gn.s, (function(t, e) {
        return tc.parseListValue(t[gn.a], e)
    }
    )),
    cc);
    function Ic(t, e) {
        var n = {
            value: 0
        };
        if ("".concat(t[gn.L], "s") === Object(rn.e)(5)) {
            var r = t[gn.a]
              , i = t[gn.b]
              , a = t[gn.c];
            switch (e[r[Vn.p] >= 36 ? mc[Object(rn.g)(t[gn.L])][r] : r].key) {
            case Object(ki.d)([0, 7, 10, 13], 101):
                return uc.RoleValues[i] || 0;
            case Object(ki.d)([19, 26, 29, 0, 19, 21, 28, 15, 32], 82):
                return uc.updateRoleRangeValue(a[0], a[1], a[2]);
            case Object(ki.d)([38, 39, 24, 30, 22, 28, 7, 0, 24, 26, 33, 20, 37], 77):
                return uc.updateMticketsRange(a[0], a[1]);
            case Object(ki.d)([43, 44, 38, 49, 50, 31, 38, 47, 49, 43, 44, 0, 34, 36, 43, 30, 47], 67):
                return uc.updateContributionRange(a[0]);
            case Object(ki.d)([26, 15, 34, 29, 2, 19, 26, 29, 0, 19, 21, 28, 15, 32], 82):
                return uc.updateTotalRoleValue(a[0], Number(a[0]) || 0, Number(a[1]) || 0)
            }
        }
        var o = t[gn.a] ? String(t[gn.a])[Vn.p] >= 36 ? mc[Object(rn.g)(t[gn.L])][t[gn.a]] : t[gn.a] : 0;
        return void 0 !== o && (n = e[o] || {
            value: 0
        }),
        void 0 !== n[gn.N] ? iu.toN(Cc(n)[gn.N]) : Wc(n)
    }
    function Rc(t, e) {
        var n = Ac[t[gn.L]];
        return n ? n(t, e) : gc("expr type  is  error")
    }
    function Tc(t, e) {
        return Cc(e[gn.r])[gn.N]
    }
    var Mc = (lc = {},
    c()(lc, gn.g, (function(t, e) {
        return iu.toInt(Cc(e[gn.r])[gn.N])
    }
    )),
    c()(lc, gn.G, (function(t, e) {
        return iu.toInt(Cc(e[gn.r])[gn.N])
    }
    )),
    c()(lc, Object(ki.c)("~swo}~kwz", 10), (function(t, e) {
        return null !== t ? iu.toInt(t.getTime() / 1e3) : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, Object(ki.c)("{gct", 2), (function(t, e) {
        return null !== t ? t.getFullYear() : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, Object(ki.c)("sutzn", 6), (function(t, e) {
        return null !== t ? t.getMonth() + 1 : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, Object(ki.c)("gd|", 3), (function(t, e) {
        return null !== t ? t.getDate() : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, Object(ki.c)("lsyv", 4), (function(t, e) {
        return null !== t ? t.getHours() : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, Object(ki.c)("sot{zk", 6), (function(t, e) {
        return null !== t ? t.getMinutes() : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, Object(ki.c)("~pnzyo", 11), (function(t, e) {
        return null !== t ? t.getSeconds() : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, Object(ki.c)("|jjp", 5), (function(t, e) {
        return null !== t ? zc(t.getDay()) : Cc(e[gn.r])[gn.N]
    }
    )),
    c()(lc, gn.k, Tc),
    c()(lc, gn.P, Tc),
    c()(lc, gn.u, Tc),
    c()(lc, Object(ki.c)("|yvo", 10), Tc),
    c()(lc, gn.B, Tc),
    c()(lc, gn.F, Tc),
    c()(lc, gn.E, Tc),
    c()(lc, gn.n, Tc),
    c()(lc, gn.M, Tc),
    c()(lc, gn.f, Tc),
    c()(lc, Object(ki.c)("udqjhUroh", 3), Tc),
    c()(lc, Object(ki.c)("yhunlT[pjrl{z", 7), Tc),
    c()(lc, gn.o, Tc),
    c()(lc, gn.A, Tc),
    c()(lc, Object(ki.c)("udqjhFrqwulexwlrq", 3), Tc),
    c()(lc, Object(ki.c)("xgtmkXurkZuzgr", 6), Tc),
    c()(lc, gn.p, Tc),
    c()(lc, Object(ki.c)("pun{{ry", 13), Tc),
    c()(lc, Object(ki.d)([31, 39, 0, 22, 23, 38, 27, 40, 32, 27], 78), Tc),
    lc);
    function Dc(t) {
        var e = new Date(1e3 * an.a.getCurDate() + Date.now() % 1e3)
          , n = Mc[t.key];
        return n ? n(e, t) : t[gn.r][gn.N]
    }
    var Bc = function(t) {
        return Cc(t[gn.r])[gn.N]
    }
      , Uc = (dc = {},
    c()(dc, gn.h, Bc),
    c()(dc, gn.J, (function(t) {
        return Dc(t)
    }
    )),
    c()(dc, Vn.y, (function(t) {
        var e = Number(t[gn.r][gn.y][0] || 0)
          , n = Number(t[gn.r][gn.y][1] || 0);
        return parseInt(Object(un.u)() * (n - e + 1) + e)
    }
    )),
    c()(dc, gn.H, (function(t) {
        return Cc(t[gn.r])[gn.N]
    }
    )),
    c()(dc, gn.N, Bc),
    c()(dc, gn.C, Bc),
    c()(dc, gn.I, Bc),
    c()(dc, gn.x, Bc),
    dc);
    function zc(t) {
        return 0 === t ? 7 : t
    }
    function Lc(t) {
        var e = mc[Object(rn.m)()][t];
        return void 0 !== e ? [Object(rn.e)(0), e] : void 0 !== (e = mc[Object(rn.h)()][t]) ? [Object(rn.e)(4), e] : void 0 !== (e = mc[Object(rn.j)()][t]) ? [Object(rn.e)(1), e] : void 0 !== (e = mc[Object(rn.i)()][t]) ? [Object(rn.e)(3), e] : void 0 !== (e = mc[Object(rn.k)()][t]) ? [Object(rn.e)(2), e] : null
    }
    function Vc(t, e, n, r) {
        var i = t[e][Vn.E](0);
        if (!i[n])
            return t;
        var a = Cc(i[n])[gn.N];
        return i[n] = Pc(Object(un.f)({}, i[n], {
            value: r(a)
        })),
        Object(un.f)({}, t, c()({}, e, i))
    }
    function Fc(t, e, n, r, i) {
        var a = e[t = Object(rn.g)(t)];
        i[t] || (e[t] = a[Vn.E](0),
        i[t] = !0),
        i.changedValues.push([t, n]),
        e[t][n] = Pc(Object(un.f)({}, a[n], {
            value: r
        }))
    }
    var Nc = (fc = {},
    c()(fc, gn.N + "s", Fc),
    c()(fc, gn.C + "s", Fc),
    c()(fc, gn.I + "s", (function(t, e, n, r, i) {
        Fc(t, e, n, r = iu.is(r) ? Vu(r) : r, i)
    }
    )),
    c()(fc, gn.q + "s", (function(t, e, n, r, i, a, o) {
        var s = !1
          , u = e[Object(rn.g)(t)]
          , c = u[n][gn.r][gn.L] + "s";
        c = Object(rn.g)(c);
        var l = u[n][gn.r].id || 0
          , d = (a ? Cc(u[n])[gn.N] : r) - 1;
        if (l && (d = mc[c][l][d]),
        s = !1,
        void 0 === e[c][d] && (s = !0),
        a) {
            if (s)
                return;
            Fc(Object(rn.f)(c), e, d, r, i)
        } else {
            if (o && e[c] && r > e[c][Vn.p])
                return void Xe.a.info(Object(rn.c)(22));
            Fc(t, e, n, r, i)
        }
    }
    )),
    fc);
    function Hc(t, e) {
        return Rc(t, e).catch((function(t) {
            return console.error(t),
            NaN
        }
        ))
    }
    function Wc(t) {
        var e = Uc[t[gn.r][gn.L]];
        return e ? e(t) : (console.error(Object(rn.c)(26)),
        0)
    }
    function Gc(t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
          , r = function(t) {
            return void 0 === t[gn.N] ? t[gn.r] ? Wc(t) : NaN : Cc(t)[gn.N]
        }
          , i = function t(n, i, a) {
            a || (a = {});
            var o = yc.exec(n)
              , s = -1;
            if (!o)
                return i ? vc(n) : n;
            var u = o[1]
              , c = -1;
            if (wc.test(o[2]))
                c = parseInt(o[2]);
            else if (bc.test(o[2]))
                c = o[2];
            else if (xc.test(o[2])) {
                var l = o[2][Vn.G]("_");
                s = l[1],
                c = parseInt(l[0])
            }
            var d = Object(rn.c)(25);
            if ("s" === u && e[Object(rn.j)()][c])
                d = Vu(r(e[Object(rn.j)()][c]));
            else if ("v" === u && e[Object(rn.m)()][c])
                d = Vu(r(e[Object(rn.m)()][c]));
            else if ("sv" === u && e[Object(rn.k)()][c])
                d = a[n] ? "" : r(e[Object(rn.k)()][c]) + "",
                a[n] = 1;
            else if ("p" === u && e[Object(rn.i)()][c])
                d = Vu(r(e[Object(rn.i)()][c]));
            else if ("x" === u && e[Object(rn.l)()][c])
                d = Vu(-1 !== s ? uc.RoleValues[s] || 0 : r(e[Object(rn.l)()][c]));
            else if ("i" === u && e[Object(rn.h)()][c])
                d = r(e[Object(rn.h)()][c]);
            else if ("iv" === u && e[Object(rn.h)()][c]) {
                var f = r(e[Object(rn.h)()][c]) - 1
                  , h = e[Object(rn.h)()][c][gn.r][gn.L]
                  , p = e[Object(rn.h)()][c][gn.r].id || 0;
                p && (f = mc[Object(rn.g)(h)][p][f]);
                var v = e[Object(rn.g)(h)][f];
                void 0 !== v ? d = h + "s" !== Object(rn.e)(2) ? Vu(r(v)) : r(v) : Xe.a.info(Object(rn.c)(22))
            } else
                "lv" == u && (-1 == c ? Xe.a.info(Object(rn.c)(22)) : d = "LV[".concat(c, "]"));
            if (i) {
                var g = vc(d);
                return "lv" == u && -1 !== c && (g = tc.parseListValue(c, e)),
                g[Vn.I]((function(e) {
                    return t(n[Vn.G](o[0])[Vn.o](e), !0, a)
                }
                ))
            }
            return t(n[Vn.G](o[0])[Vn.o](d))
        };
        if (!Object(nn.b)(t))
            return n ? i(t, !0) : i(t);
        if (!n)
            return mr()(t, {
                $apply: function(t) {
                    return t[Vn.r]((function(t) {
                        return mr()(t, {
                            data: {
                                $set: i(t.data)
                            }
                        })
                    }
                    ))
                }
            });
        var a = function t(n, r) {
            return r >= n[Vn.p] ? vc(n) : (Object(nn.o)(n[r]) || (n[r] = {
                data: n[r]
            }),
            i(n[r].data, e, !0)[Vn.I]((function(e) {
                return t([].concat(n[Vn.E](0, r), Object(un.f)({}, n[r], {
                    data: e
                }), n[Vn.E](r + 1)), r + 1)
            }
            )))
        };
        return a(t, 0)
    }
    function qc(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
          , n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
        t = Object(un.f)({}, t);
        var r = []
          , i = {
            changedValues: []
        }
          , a = function a(o) {
            if (o >= e[Vn.p])
                return r.forEach((function(e) {
                    var n = s()(e, 2)
                      , r = n[0]
                      , i = n[1];
                    return Object(un.l)(t[r][i])
                }
                )),
                vc(t);
            var u = e[o];
            return Hc(u[gn.m], t)[Vn.I]((function(e) {
                var r = u.uuid
                  , s = Lc(r);
                if (!s)
                    return a(o + 1);
                var c = s[0]
                  , l = Nc[c];
                return l ? l(c, t, s[1], e, i, u[gn.z], n) : console.error(Object(rn.c)(23), r),
                a(o + 1)
            }
            ))
        };
        return a(0)
    }
    function Yc(t) {
        var e = Zc();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Zc() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    Nc[Object(rn.e)(3)] = Fc,
    Object(jn.c)()(arguments[Vn.d]);
    var Jc = function(t) {
        P()(n, t);
        var e = Yc(n);
        function n(t, r, i) {
            var a;
            return h()(this, n),
            (a = e.call(this, t)).layer = i,
            a.layer.addChild(O()(a)),
            a.init(r),
            a
        }
        return v()(n, [{
            key: "init",
            value: function(t) {
                var e = this
                  , n = t.normal.url
                  , r = t.active.url
                  , i = t.size
                  , a = void 0 === i ? 22 : i
                  , o = function(t) {
                    if (t) {
                        var e = Math.min(a / t.width, a / t.height) || 1;
                        t.scale.setTo(e, e)
                    }
                };
                this.normalImg = n ? wu.image(n) : null,
                this.activeImg = r ? wu.image(r) : null,
                o(this.normalImg),
                o(this.activeImg),
                this.setPublicMouseStyle(),
                this.activeImg && this.addChild(this.activeImg),
                this.normalImg && this.addChild(this.normalImg),
                Object(nn.e)() ? this.normal() : this.hide(),
                this.game.input.addMoveCallback((function() {
                    e.activeImg && (e.activeImg.x = e.game.input.x,
                    e.activeImg.y = e.game.input.y),
                    e.normalImg && (e.normalImg.x = e.game.input.x,
                    e.normalImg.y = e.game.input.y),
                    sn.a.setHandCursor ? e.active() : e.normal()
                }
                ), this),
                this.game.input.onDown.add((function() {
                    Object(nn.e)() || e.active()
                }
                ))
            }
        }, {
            key: "setPublicMouseStyle",
            value: function() {
                this.normalImg && (sn.a.mouseStyle = 1),
                this.activeImg && (sn.a.mouseStyle = 2),
                this.normalImg && this.activeImg && (sn.a.mouseStyle = 3)
            }
        }, {
            key: "active",
            value: function() {
                this.activeImg && (this.activeImg.visible = !0),
                this.normalImg && (this.normalImg.visible = !1),
                this.setPublicMouseStyle()
            }
        }, {
            key: "normal",
            value: function() {
                this.activeImg && (this.activeImg.visible = !1),
                this.normalImg && (this.normalImg.visible = !0),
                this.setPublicMouseStyle()
            }
        }, {
            key: "hide",
            value: function() {
                this.activeImg && (this.activeImg.visible = !1),
                this.normalImg && (this.normalImg.visible = !1),
                sn.a.mouseStyle = 0
            }
        }, {
            key: "destroy",
            value: function() {
                this.parent && this.parent.removeChild(this),
                sn.a.mouseStyle = 0
            }
        }]),
        n
    }(Phaser.Group)
      , Kc = null
      , $c = function(t) {
        var e = t.game
          , n = t.mouse
          , r = t.layer
          , i = n.normal.url
          , a = n.active.url;
        Object(nn.e)() && (i || a) && (Kc || (Kc = new Jc(e,n,r)))
    }
      , Xc = function() {
        return Kc && Kc.normal()
    }
      , Qc = function() {
        return Kc && Kc.hide()
    }
      , tl = function(t) {
        for (var e = t.x, n = t.y, r = t.width, i = t.height, a = t.view, o = Object(vn.c)(), s = o.canvas, u = o.world, c = s.getBoundingClientRect(), l = u.width, d = u.height, f = x.a.vertical, h = [], p = a.parent; p !== u && null !== p; )
            h.unshift(p),
            p = p.parent;
        for (var v = 0, g = 0, m = 1, y = 1, b = 0; b < h.length; b++) {
            var w = h[b]
              , k = w.scale
              , _ = w.x
              , O = w.y;
            v += _ * m,
            g += O * y,
            m *= k.x,
            y *= k.y
        }
        var S = 1
          , P = 1;
        e = e * m + v,
        n = n * y + g;
        var C = function() {
            r *= m,
            i *= y
        };
        if (c.width > c.height) {
            S = (f ? c.height : c.width) / l,
            P = (f ? c.width : c.height) / d,
            C();
            var E = e
              , j = n;
            e = f ? c.left + c.width - j * P : c.left + E * S,
            n = f ? c.top + E * S : c.top + j * P
        } else {
            S = (f ? c.width : c.height) / l,
            P = (f ? c.height : c.width) / d,
            C();
            var A = e
              , I = n;
            e = f ? c.left + A * S : c.left + c.width - I * P,
            n = f ? c.top + I * P : c.top + A * S
        }
        return {
            x: e,
            y: n += c.top < 0 ? -c.top : 0,
            width: r,
            height: i,
            scale: y * P * a.scale.y
        }
    };
    function el(t) {
        var e = this
          , n = t.game
          , r = t.x
          , i = t.y
          , a = t.width
          , o = t.height
          , s = t.text
          , u = t.color
          , c = t.fontSize
          , l = t.fontFamily
          , d = t.bold;
        Phaser.Group[Vn.c](this, n, null),
        this.game = n,
        this.name = "input";
        var f = document.createElement("input");
        f.style.position = "absolute",
        f.style.margin = "0",
        f.style.border = "0",
        f.style.padding = "0",
        f.style.left = r + "px",
        f.style.top = i + "px",
        f.style.width = a + "px",
        f.style.height = c + 6 + "px",
        f.style.color = u,
        f.style.backgroundColor = "transparent",
        f.style.borderColor = "transparent transparent transparent transparent",
        f.style.outline = "none",
        f.style.fontSize = c + "px",
        f.style.fontFamily = l,
        f.style.fontWeight = d ? "bold" : "normal",
        f.style.visibility = "hidden",
        Object(k.y)(f, "transformOrigin", "left top"),
        document.body.appendChild(f),
        this.element = f,
        this.addEventListeners = [],
        f.onmouseover = function() {
            Qc()
        }
        ,
        f.onmouseout = function() {
            Object(nn.e)() ? Xc() : Qc()
        }
        ,
        this._x = r,
        this._y = i,
        this._width = a,
        this._height = o,
        this._fontSize = c,
        this.text = s,
        this.isNumber = !1,
        this.onDestroy.add((function() {
            return document.body.removeChild(e.element)
        }
        ), this)
    }
    el[Vn.x] = Object.create(Phaser.Group[Vn.x]),
    el[Vn.x][Vn.g] = el,
    el[Vn.x].update = function() {
        var t = this.game.canvas
          , e = x.a.vertical
          , n = t.getBoundingClientRect();
        if (!this.oldRect || this.oldRect.width != n.width || this.oldRect.height != n.height || this.oldRect.left != n.left || this.oldRect.top != n.top) {
            this.oldRect = {
                left: n.left,
                top: n.top,
                width: n.width,
                height: n.height
            },
            this.visible && this.parent && "visible" !== this.element.style.visibility && this.show(!0);
            var r, i = this._x, a = this._y, o = this._width, s = this._height, u = (this.scale,
            tl({
                x: i,
                y: a,
                width: o,
                height: s,
                view: this
            }));
            i = u.x,
            a = u.y,
            o = u.width,
            s = u.height,
            r = u.scale,
            n.width > n.height ? Object(k.y)(this.element, "transform", "".concat(e ? "rotate(90deg)" : "rotate(0deg)", " scale(").concat(r, ")")) : Object(k.y)(this.element, "transform", "".concat(e ? "rotate(0deg)" : "rotate(90deg)", " scale(").concat(r, ")")),
            this.setLeft(i),
            this.setTop(a),
            this.setWidth(o)
        }
    }
    ,
    el[Vn.x].destroy = function() {
        this.game.gameResumed();
        var t = this.element;
        document.body.removeChild(t),
        nl(this.addEventListeners),
        t.onblur = null,
        this.element = null
    }
    ,
    el[Vn.x].show = function(t) {
        this.visible = t,
        this.element.style.visibility = t ? "visible" : "hidden"
    }
    ;
    var nl = function(t) {
        return t.forEach((function(t) {
            var e = s()(t, 3)
              , n = e[0]
              , r = e[1]
              , i = e[2];
            return n.addEventListener(r, i, !1)
        }
        ))
    };
    el[Vn.x].setInputCallback = function(t) {
        var e = this;
        nl(this.addEventListeners);
        var n = [];
        this.addEventListeners = n;
        var r = this.element
          , i = function(t, e, r) {
            t.addEventListener(e, r, !1),
            n.push([t, e, r])
        }
          , a = !1
          , o = ""
          , s = function() {
            a = !0;
            var n = e.element.value;
            if (e.element.focus(),
            e._text = n,
            sn.a.getSensitiveWords().forEach((function(t) {
                if (0 !== t.length && -1 !== e._text.indexOf(t)) {
                    o += t;
                    var n = "*".repeat(t.length);
                    e.element.value = e._text = e._text.replace(new RegExp(t,"gi"), n)
                }
            }
            )),
            o.length > 0) {
                var r = o.split("")
                  , i = e._text.split("")
                  , s = 0
                  , u = "";
                i.forEach((function(t) {
                    "*" === t && (t = r[s],
                    s += 1),
                    u += t
                }
                )),
                e._origin_text = u
            } else
                e._origin_text = n;
            e.isNumber && (/^(\-|\+)?\d*(\.)?(\d)*?$/.test(n) || (n = parseFloat(n) || 0),
            e.element.value = e._text = Mu(n)),
            t(!1)
        };
        if ("ios" === x.a.client || navigator.userAgent.indexOf("iPhone") > -1) {
            var u = navigator.userAgent.match(/CPU\siPhone\sOS\s((([0-9]*)+(_))*)+([0-9]*)/gi);
            u && (u[0] >= "CPU iPhone OS 10_3_1" || "CPU iPhone OS 10_0_2" === u[0]) ? r.addEventListener("input", s, !1) : r.addEventListener("compositionend", (function() {
                r.removeEventListener("input", s, !1),
                r.addEventListener("input", s, !1)
            }
            ), !1)
        } else
            r.addEventListener("input", s, !1);
        n.push([r, "input", s]),
        i(r, "mousedown", (function() {
            return t(!1)
        }
        )),
        i(r, "touchstart", (function(e) {
            e.stopPropagation(),
            t(!1)
        }
        ));
        var c = function() {
            if (a) {
                if (a = !1,
                e.game.gameResumed(),
                e.isNumber) {
                    var n = parseFloat(e._text);
                    e.text = Vu(n || 0, 2)
                }
                t(!0);
                var r = e.game
                  , i = r.device.iOS
                  , o = r.scale;
                i && setTimeout((function() {
                    e.game.gameResumed(),
                    o.updateLayout(),
                    o.signalSizeChange(),
                    (e.oldRect = {}) && e.parent && e.update()
                }
                ), 20)
            }
        };
        i(document.body, "touchstart", c),
        r.onblur = c
    }
    ,
    el[Vn.x].setClickCallback = function(t) {
        var e = this;
        this.element.addEventListener("click", (function() {
            return t(e)
        }
        ), !1)
    }
    ,
    el[Vn.x].setLeft = function(t) {
        this.element.style.left = t + "px"
    }
    ,
    el[Vn.x].setTop = function(t) {
        this.element.style.top = t + "px"
    }
    ,
    el[Vn.x].setWidth = function(t) {
        this.element.style.width = t + "px"
    }
    ,
    el[Vn.x].setFontSize = function(t) {
        t = t < 10 ? 10 : t,
        this.element.style.fontSize = t + "px",
        this.element.style.height = t + 6 + "px"
    }
    ,
    el[Vn.x].setEnable = function(t) {
        this.element.readOnly = (!!t).toString()
    }
    ,
    Object.defineProperty(el[Vn.x], "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            var e = tl({
                x: t,
                view: this
            }).x;
            this.setLeft(e),
            this._x = t
        }
    }),
    Object.defineProperty(el[Vn.x], "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            var e = tl({
                y: t,
                view: this
            }).y;
            this.setTop(e),
            this._y = t
        }
    }),
    Object.defineProperty(el[Vn.x], "width", {
        get: function() {
            return this._width
        },
        set: function(t) {
            var e = tl({
                width: t,
                view: this
            }).width;
            this.setWidth(e),
            this._width = t
        }
    }),
    Object.defineProperty(el[Vn.x], "height", {
        get: function() {
            return this._height
        },
        set: function(t) {
            this._height = t
        }
    }),
    Object.defineProperty(el[Vn.x], "fontSize", {
        get: function() {
            return this._fontSize
        },
        set: function(t) {
            this.setFontSize(t),
            this._fontSize = t
        }
    }),
    Object.defineProperty(el[Vn.x], "style", {
        get: function() {
            return this._style
        },
        set: function(t) {
            for (var e in t)
                this.element.style[e] = t[e];
            this._style = t
        }
    }),
    Object.defineProperty(el[Vn.x], "text", {
        get: function() {
            return this._text
        },
        set: function(t) {
            this.element.value = t,
            this._text = t,
            "[未知数值]" === t && this.setEnable(!1)
        }
    }),
    Object.defineProperty(el[Vn.x], "readOnly", {
        get: function() {
            return this.readOnly
        },
        set: function(t) {
            this.setEnable(t),
            this.element.readOnly = (!!t).toString()
        }
    }),
    Object.defineProperty(el[Vn.x], "originText", {
        get: function() {
            return this._origin_text
        },
        set: function(t) {
            this._origin_text = t
        }
    });
    var rl = /\\(\d+)\s([\s\S]*)/
      , il = /\\1-\s([\s\S]*)/
      , al = /\\2-(\d+)-(\d+)\s([\s\S]*)/
      , ol = /\\3-(\d+)-#[0-9a-fA-F]{6}\s([\s\S]*)/;
    function sl(t) {
        for (var e = {
            placeholder: !1,
            block: !1,
            lineBreak: !1,
            shake: !1,
            twinkle: !1
        }, n = [], r = 0; r < t.length; r++) {
            var i = 0
              , a = !1;
            do {
                if ("\\" != t[r + i] && "&" != t[r + i] || (a = !0),
                "\n" == t[r + i]) {
                    var o = t.substr(r, i);
                    o && n.push(Object.assign({}, e, {
                        data: o
                    })),
                    n.push(Object.assign({}, e, {
                        lineBreak: !0,
                        data: "\n"
                    }));
                    break
                }
                if (r + i > t.length - 1) {
                    n.push(Object.assign({}, e, {
                        data: t.substr(r)
                    }));
                    break
                }
                if (a) {
                    var s = t.substr(r, i + 1);
                    if (rl.test(s)) {
                        var u = s.lastIndexOf("\\")
                          , c = s.substring(0, u);
                        c && n.push(Object.assign({}, e, {
                            data: c
                        })),
                        n.push(Object.assign({}, e, {
                            placeholder: !0,
                            data: s.substr(u)
                        }));
                        break
                    }
                    if (il.test(s)) {
                        var l = s.lastIndexOf("\\")
                          , d = s.substring(0, l);
                        d && n.push(Object.assign({}, e, {
                            data: d
                        })),
                        n.push(Object.assign({}, e, {
                            block: !0,
                            data: s.substr(l)
                        }));
                        break
                    }
                    if (al.test(s)) {
                        var f = s.lastIndexOf("\\")
                          , h = s.substring(0, f);
                        h && n.push(Object.assign({}, e, {
                            data: h
                        })),
                        n.push(Object.assign({}, e, {
                            shake: !0,
                            data: s.substr(f)
                        }));
                        break
                    }
                    if (ol.test(s)) {
                        var p = s.lastIndexOf("\\")
                          , v = s.substring(0, p);
                        v && n.push(Object.assign({}, e, {
                            data: v
                        })),
                        n.push(Object.assign({}, e, {
                            data: s.substr(p),
                            twinkle: !0
                        }));
                        break
                    }
                    if (/&(s|v|sv|p|x|i|iv)\[(\d+)\]$/.test(s)) {
                        var g = s.lastIndexOf("&")
                          , m = s.substring(0, g);
                        m && n.push(Object.assign({}, e, {
                            data: m
                        })),
                        n.push(Object.assign({}, e, {
                            data: s.substr(g),
                            placeholder: !0
                        }));
                        break
                    }
                }
            } while (r + ++i <= t.length);
            r += i
        }
        return n
    }
    function ul(t, e) {
        var n = {
            bold: "",
            line: "none",
            color: e
        }
          , r = /\/n/
          , i = []
          , o = []
          , s = []
          , u = function(t) {
            var e = {};
            return Object.keys(n).forEach((function(r) {
                return e[r] = t[r] || n[r]
            }
            )),
            e
        }
          , c = function(t) {
            var e = t;
            t.data && (e = t.data);
            var n = [];
            if (r.test(e)) {
                var i = e.replace(/\/n/g, "\n")
                  , a = e.split("/n").length
                  , o = "" == e.split("/n")[a - 1];
                new Array(2 * a - 1).fill(1).forEach((function() {
                    return s.push(u(t))
                }
                )),
                o && s.pop(),
                n = n.concat([i])
            } else
                s = s.concat([u(t)]),
                n = [e];
            return n
        };
        return "[object Array]" === Object.prototype.toString.apply(t) ? t.forEach((function(t) {
            t && t.data && (i = i.concat(c(t)))
        }
        )) : i = i.concat(c(t)),
        i.forEach((function(t) {
            return o = o.concat(a()(sl(t)))
        }
        )),
        o.forEach((function(t, e) {
            return Object.assign(t, s[e] || {})
        }
        )),
        o
    }
    function cl(t) {
        return 12 == t || 14 == t || 16 == t || 18 == t ? t / 2 - 4 : t < 19 ? t / 2 - 5 : t < 28 ? t / 2 - 6 : 32 === t ? 6 : t < 37 ? t / 2 - 7 : t < 46 ? t / 2 - 9 : t < 56 ? t / 2 - 10 : -Math.ceil(t / 5) + t / 2
    }
    function ll(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function dl(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? ll(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ll(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var fl, hl = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "container",
            value: function(e) {
                var n = e.data
                  , r = e.path
                  , i = e.onMount
                  , a = e.parentScale
                  , o = n.x.value
                  , s = n.y.value
                  , u = n.view
                  , c = n.calledViews
                  , l = n.events
                  , d = void 0 === l ? [] : l
                  , f = u.events
                  , h = d[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                )) || f[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                ))
                  , p = n.scale
                  , v = void 0 === p ? 1 : p;
                if (v < 1) {
                    var g = 100 * Vu(v);
                    g % 2 != 0 && (g += 1),
                    v = g / 100
                }
                var m = u.width
                  , y = u.height
                  , b = u.content.background
                  , w = u.children
                  , x = wu.group("", {
                    x: o,
                    y: s
                })
                  , k = wu.image(b.url, {
                    name: "background"
                });
                k.key ? Ou.flex(5, k, {
                    width: m,
                    height: y
                }) : (k.width = m,
                k.height = y),
                k.inputEnabled = !0,
                k.input && h && (k.input.useHandCursor = !0),
                x.add(k);
                var _ = ["children", ["view", r]];
                a *= v;
                for (var O = 0, S = w.length; O < S; O++) {
                    var P = w[O].view.type;
                    t[P] && x.add(t[P]({
                        data: w[O],
                        path: [O, _],
                        onMount: i,
                        parentScale: a
                    }))
                }
                var C = wu.group("calledViews");
                _ = ["calledViews", r];
                for (var E = 0, j = c.length; E < j; E++) {
                    var A = c[E].view.type;
                    t[A] && C.add(t[A]({
                        data: c[E],
                        path: [E, _],
                        onMount: i,
                        parentScale: a
                    }))
                }
                return x.add(C),
                x.scale.setTo(v, v),
                i(x, n, r),
                x
            }
        }, {
            key: "button",
            value: function(t) {
                var e = t.data
                  , n = t.path
                  , r = t.onMount
                  , i = e.x.value
                  , a = e.y.value
                  , o = e.view
                  , s = e.scale
                  , u = void 0 === s ? 1 : s
                  , c = o.width
                  , l = o.height
                  , d = o.content
                  , f = d.background
                  , h = d.sound
                  , p = wu.button({
                    x: i,
                    y: a,
                    width: c,
                    height: l
                }, {
                    normalUrl: f.normal.url,
                    activeUrl: f.active.url,
                    audio: h
                });
                return p.scale.setTo(u, u),
                r(p, e, n),
                p
            }
        }, {
            key: "text",
            value: function(t) {
                var e = t.data
                  , n = t.path
                  , r = t.onMount
                  , i = t.parentScale
                  , o = e.x.value
                  , s = e.y.value
                  , u = e.view
                  , c = e.scale
                  , l = void 0 === c ? 1 : c
                  , d = e.events
                  , f = u.width
                  , h = u.height
                  , p = u.content
                  , v = p.color
                  , g = p.bold
                  , m = p.font_size
                  , y = void 0 === m ? 12 : m
                  , b = p.value
                  , w = p.align
                  , x = u.events
                  , k = d[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                )) || x[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                ))
                  , _ = (l *= i) * f
                  , O = l * h
                  , S = O
                  , P = wu.group("", {
                    x: o,
                    y: s
                })
                  , C = Math.ceil(Math.max(f, _));
                C = C % 2 == 0 ? C : C + 1;
                var E = Math.ceil(Math.max(h, O))
                  , j = wu.rectMask({
                    alpha: .5,
                    color: 4095,
                    name: "textMask",
                    rect: {
                        width: C,
                        height: E
                    }
                });
                P.add(j),
                P.mask = j;
                var A = l * y
                  , I = wu.textarea({
                    width: _,
                    height: O
                }, {
                    name: "textarea",
                    fontSize: A,
                    color: v,
                    fontWeight: g ? "bold" : "normal",
                    align: w
                }, !0);
                I.inputEnabled = !0,
                I.input && k && (I.input.useHandCursor = !0);
                var R = b;
                return Object(nn.b)(R) || (R = sl(R).map((function(t) {
                    return dl(dl({}, t), {}, {
                        color: v
                    })
                }
                ))),
                R = ul(a()(R), En.DefaultColor),
                P.add(I),
                P.setTexts = function() {
                    I.setTexts.apply(I, arguments);
                    var t = function(t, e) {
                        var n, r, i, a, o, s, u = this.worldScale;
                        (e = e.clone()).append(new Phaser.Matrix(1 / u.x,0,0,1 / u.y,0,0)),
                        this.rotation % Phaser.Math.PI2 ? (this.rotation !== this.rotationCache && (this.rotationCache = this.rotation,
                        this._sr = Math.sin(this.rotation),
                        this._cr = Math.cos(this.rotation)),
                        n = this._cr * this.scale.x,
                        r = this._sr * this.scale.x,
                        i = -this._sr * this.scale.y,
                        a = this._cr * this.scale.y,
                        o = this.position.x,
                        s = this.position.y,
                        (this.pivot.x || this.pivot.y) && (o -= this.pivot.x * n + this.pivot.y * i,
                        s -= this.pivot.x * r + this.pivot.y * a),
                        t.a = n * e.a + r * e.c,
                        t.b = n * e.b + r * e.d,
                        t.c = i * e.a + a * e.c,
                        t.d = i * e.b + a * e.d,
                        t.tx = o * e.a + s * e.c + e.tx,
                        t.ty = o * e.b + s * e.d + e.ty) : (n = this.scale.x,
                        r = 0,
                        i = 0,
                        a = this.scale.y,
                        o = this.position.x - this.pivot.x * n,
                        s = this.position.y - this.pivot.y * a,
                        t.a = n * e.a,
                        t.b = n * e.b,
                        t.c = a * e.c,
                        t.d = a * e.d,
                        t.tx = o * e.a + s * e.c + e.tx,
                        t.ty = o * e.b + s * e.d + e.ty),
                        n = t.a,
                        r = t.b,
                        i = t.c;
                        var c = n * (a = t.d) - r * i;
                        if (n || r) {
                            var l = Math.sqrt(n * n + r * r);
                            this.worldRotation = r > 0 ? Math.acos(n / l) : -Math.acos(n / l),
                            this.worldScale.x = l,
                            this.worldScale.y = c / l
                        } else if (i || a) {
                            var d = Math.sqrt(i * i + a * a);
                            this.worldRotation = Phaser.Math.HALF_PI - (a > 0 ? Math.acos(-i / d) : -Math.acos(i / d)),
                            this.worldScale.x = c / d,
                            this.worldScale.y = d
                        } else
                            this.worldScale.x = 0,
                            this.worldScale.y = 0;
                        this.worldPosition.x = t.tx,
                        this.worldPosition.y = t.ty
                    };
                    I.children.length ? I.children.forEach((function(e) {
                        e.transformCallbackContext = e,
                        e.transformCallback = t
                    }
                    )) : (I.transformCallbackContext = I,
                    I.transformCallback = t),
                    S = I.height,
                    P.scroll || S > O + 5 && (P.scroll = !0,
                    wu.registerScroll({
                        group: P,
                        width: _ / i,
                        height: O / i,
                        updateMax: function() {
                            return S / i
                        },
                        interval: 10,
                        replaces: "textarea"
                    }))
                }
                ,
                P.setTexts(R),
                r(P, e, n),
                P
            }
        }, {
            key: "input",
            value: function(t) {
                var e = t.data
                  , n = t.path
                  , r = t.onMount
                  , i = e.x.value
                  , a = e.y.value
                  , o = e.view
                  , s = e.scale
                  , u = void 0 === s ? 1 : s
                  , c = o.width
                  , l = o.height
                  , d = o.content
                  , f = d.color
                  , h = d.font_size
                  , p = d.bold
                  , v = d.value.value
                  , g = d.fontFamily
                  , m = new el({
                    game: Object(vn.c)(),
                    x: i,
                    y: a,
                    width: c,
                    height: l,
                    text: v,
                    color: f,
                    bold: p,
                    fontSize: h,
                    fontFamily: g || qs.fontFamily
                });
                return m.scale.setTo(u, u),
                r(m, e, n),
                m
            }
        }, {
            key: "image",
            value: function(t) {
                var e = t.data
                  , n = t.path
                  , r = t.onMount
                  , i = e.x.value
                  , a = e.y.value
                  , o = e.view
                  , s = e.events
                  , u = e.scale
                  , c = void 0 === u ? 1 : u
                  , l = o.width
                  , d = o.height
                  , f = o.content.background
                  , h = o.events
                  , p = s[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                )) || h[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                ))
                  , v = wu.image(f.url, {
                    width: l,
                    height: d
                })
                  , g = wu.group("", {
                    x: i,
                    y: a
                });
                return v instanceof eu && (g.spine = !0,
                c = Math.min(l * c / f.url.width, d * c / f.url.height)),
                v.inputEnabled = !0,
                v.input && p && (v.input.useHandCursor = !0),
                g.add(v),
                g.scale.setTo(c, c),
                r(g, e, n),
                g
            }
        }, {
            key: "bar",
            value: function(t) {
                var e = t.data
                  , n = t.path
                  , r = t.onMount
                  , i = e.x.value
                  , a = e.y.value
                  , o = e.view
                  , s = e.scale
                  , u = void 0 === s ? 1 : s
                  , c = o.width
                  , l = o.height
                  , d = o.content
                  , f = d.background
                  , h = d.value
                  , p = h.normal
                  , v = h.progress
                  , g = d.basePoint
                  , m = d.style
                  , y = wu.group()
                  , b = wu.image(f.normal.url, {
                    width: c,
                    height: l
                })
                  , w = wu.image(f.progress.url, {
                    width: c,
                    height: l
                });
                b.inputEnabled = !0,
                b.input.useHandCursor = !0,
                b.key || (b.width = c,
                b.height = l),
                y.add(b),
                y.add(w);
                var x, k, _ = p.width.value, O = p.height.value, S = v.width.value, P = v.height.value;
                x = (_ <= 0 || S < 0 ? 0 : S > _ ? 1 : 1 * S / _) * c,
                k = (O <= 0 || P < 0 ? 0 : P > O ? 1 : 1 * P / O) * l;
                var C = g.x > 0 ? g.x == c ? g.x - x : g.x - x / 2 : g.x
                  , E = g.y > 0 ? g.y == l ? g.y - k : g.y - k / 2 : g.y;
                if ("clip" === m) {
                    var j = wu.rectMask({
                        color: 16777215,
                        rect: {
                            x: C,
                            y: E,
                            width: x,
                            height: k
                        }
                    });
                    y.add(j),
                    w.mask = j
                } else
                    w.x = C,
                    w.y = E,
                    w.width = x,
                    w.height = k;
                return y.x = i,
                y.y = a,
                y.scale.setTo(u, u),
                r(y, e, n),
                y
            }
        }, {
            key: "timer",
            value: function(t) {
                var e = t.data
                  , n = t.path
                  , r = t.onMount
                  , i = e.x.value
                  , a = e.y.value
                  , o = wu.image(null, {
                    x: i,
                    y: a
                });
                return r(o, e, n),
                o
            }
        }]),
        t
    }(), pl = (n(142),
    n(243),
    null), vl = 1, gl = 0, ml = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = pl ? pl.update(t) : pl = new wl(t);
        e.show()
    }, yl = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return ml({
            type: vl,
            text: t
        })
    }, bl = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return ml({
            type: gl,
            text: t
        })
    }, wl = function() {
        function t(e) {
            var n = e.type
              , r = e.text;
            h()(this, t),
            this.container = wu.group(),
            this.render(),
            this.update({
                type: n,
                text: r
            })
        }
        return v()(t, [{
            key: "show",
            value: function() {
                var t = x.a.vertical
                  , e = Object(vn.c)().world
                  , n = this.animating
                  , r = this.container;
                r.x = (e.width - this.text.width) / 2,
                r.y = t ? 100 : 252;
                var i = r.parent;
                i && i.remove(r),
                e.add(r),
                i = e,
                n && n.cancel && n.cancel(),
                r.alpha = 1,
                this.animating = Ln.to({
                    target: r,
                    properties: {
                        alpha: 0
                    },
                    duration: 2500
                }),
                this.animating.then((function() {
                    i.remove(r),
                    r.visible = !1
                }
                ))
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.type
                  , n = t.text
                  , r = void 0 === n ? "" : n
                  , i = this.icon
                  , a = this.background
                  , o = this.text
                  , s = this.container;
                try {
                    s.visible = !0,
                    i.loadTexture("ui", e == vl ? "icon_success" : "icon_error"),
                    o.setText(r),
                    a.clear(),
                    a.beginFill(4048076),
                    a.drawRect(0, 0, o.width + 40, 32),
                    a.endFill()
                } catch (t) {
                    var u = s.parent;
                    u && u.remove(s),
                    s.visible = !1
                }
                return this
            }
        }, {
            key: "render",
            value: function() {
                this.background = Object(vn.c)().make.graphics(),
                this.container.add(this.background),
                this.icon = wu.image("ui", {
                    x: 10,
                    y: 8
                }, "icon_success"),
                this.container.add(this.icon),
                this.text = wu.text({
                    x: 30,
                    y: 8
                }, {
                    fontSize: 16,
                    forceFontFamily: qs.default,
                    color: "#ffffff"
                }),
                this.container.add(this.text)
            }
        }]),
        t
    }();
    function xl(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function kl(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? xl(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : xl(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var _l = (fl = {
        u: "",
        token: ""
    },
    c()(fl, gn.M, ""),
    c()(fl, "puid", ""),
    c()(fl, "change", !1),
    c()(fl, "cookieDelay", {
        time: 0,
        max: 1
    }),
    c()(fl, "checkDelay", {
        time: 0,
        max: 5,
        result: function() {}
    }),
    c()(fl, "empty", !1),
    c()(fl, "midway", !1),
    fl);
    function Ol(t) {
        return void 0 !== t ? "" === t : "" === _l[gn.M]
    }
    function Sl(t, e, n, r) {
        void 0 !== t && _l[gn.M] !== t && (_l[gn.M] = t),
        void 0 !== e && _l.token !== e && (_l.token = e),
        void 0 !== n && _l.u !== n && (_l.u = n),
        void 0 !== r && _l.puid !== r && (_l.puid = r),
        Cl(t),
        Ta(kl({}, _l))
    }
    function Pl() {
        var t = x.a.client
          , e = x.a.wap
          , n = function() {
            return Promise.resolve(_l[gn.M])
        };
        return en.a.runCheck || "pc" === t ? n = $a : "wap" === t ? (n = Ka,
        e && "wx" === e && (n = function() {
            return Promise.resolve(_l[gn.M])
        }
        )) : n = "ios" === t || "android" === t ? function() {
            return ro(99).then((function() {
                return _l[gn.M]
            }
            ), (function(t) {
                var e = t.status
                  , n = t.msg
                  , r = void 0 === n ? "" : n;
                if ("-100" === e) {
                    if (!Ol())
                        return Promise.resolve(_l[gn.M])
                } else if (100 === e)
                    return ml({
                        type: gl,
                        text: r
                    }),
                    ja().then((function() {
                        return Promise.reject({
                            status: 100,
                            msg: "请求过期"
                        })
                    }
                    ));
                return Promise.reject(t)
            }
            ))
        }
        : function() {
            return Promise.reject({
                status: -1,
                msg: "您还没有登录！"
            })
        }
        ,
        n
    }
    function Cl(t) {
        "" === _l.puid && "" !== t && (_l.puid = t),
        "" !== _l.puid && "" === t && (_l.empty = !0),
        "" !== t && (_l.empty = !1),
        "" !== t && t !== _l.puid && (_l.midway = !0),
        "" !== t && "" !== _l.puid && _l.puid !== t && (_l.change = !0)
    }
    var El = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "checkUserAccount",
            value: function(t) {
                Cl(t)
            }
        }, {
            key: "setUserAccount",
            value: function(t, e, n, r) {
                Sl(t, e, n, r)
            }
        }, {
            key: "checkLogin",
            value: function(e) {
                if (!e) {
                    var n = _l.checkDelay
                      , r = n.time
                      , i = n.result
                      , a = n.max;
                    if (0 !== r && an.a.getCurDate() - r <= a)
                        return i()
                }
                return t.updateLine().then((function() {
                    return _l.checkDelay.time = an.a.getCurDate(),
                    _l.checkDelay.result = function() {
                        return Promise.resolve(!0)
                    }
                    ,
                    _l.checkDelay.result()
                }
                ), (function(t) {
                    return _l.checkDelay.time = an.a.getCurDate(),
                    _l.checkDelay.result = function() {
                        return Promise.reject(t)
                    }
                    ,
                    _l.checkDelay.result()
                }
                ))
            }
        }, {
            key: "resetCheckDelay",
            value: function() {
                _l.checkDelay.time = 0,
                _l.checkDelay.result = function() {}
            }
        }, {
            key: "updateLine",
            value: function() {
                var e = x.a.wap;
                return x.a.singleAlone ? Promise.reject() : "kk" === e ? Ol() ? Promise.reject({
                    status: -1,
                    msg: "您还没有登录！"
                }) : Promise.resolve(_l[gn.M]) : Pl()().then((function(e) {
                    return t.setUserAccount(String(e) || ""),
                    Promise.resolve(_l[gn.M])
                }
                ), (function(e) {
                    var n = e.status
                      , r = void 0 === n ? "" : n;
                    return 4 !== r && -1 !== r || t.setUserAccount("", "", ""),
                    Promise.reject(e)
                }
                ))
            }
        }, {
            key: "login",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : function() {}
                ;
                On.login().then((function(n) {
                    if (Object(nn.o)(n)) {
                        var r = n.uid
                          , i = n.token
                          , a = n.u;
                        t.setUserAccount(r, i, a),
                        e()
                    } else
                        e("error")
                }
                ))
            }
        }, {
            key: "logout",
            value: function() {
                t.setUserAccount("", "", ""),
                On.logout()
            }
        }, {
            key: "midway",
            get: function() {
                return _l.midway
            }
        }, {
            key: "change",
            get: function() {
                return _l.change
            }
        }, {
            key: "puid",
            get: function() {
                return _l.puid
            }
        }, {
            key: "uid",
            get: function() {
                if ("pc" === x.a.client || en.a.runCheck) {
                    var t = _l.cookieDelay
                      , e = t.time
                      , n = t.max;
                    an.a.getCurDate() - e > n && (Sl(Object(k.t)()),
                    _l.cookieDelay.time = an.a.getCurDate())
                }
                return _l[gn.M]
            }
        }, {
            key: "u",
            get: function() {
                return _l.u
            }
        }, {
            key: "token",
            get: function() {
                return _l.token
            }
        }, {
            key: "empty",
            get: function() {
                return _l.empty
            }
        }]),
        t
    }();
    function jl(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Al(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? jl(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : jl(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    c()(El, "isEmptyUid", (function(t) {
        return Ol(t)
    }
    ));
    var Il = {
        cloud: [],
        local: [],
        owner: ""
    }
      , Rl = {
        max: 15,
        thumb: [],
        forbid: !1,
        read: {
            owner: "",
            already: !1
        },
        new: ""
    };
    function Tl(t, e) {
        var n = x.a.uuid
          , r = x.a.isWapOther
          , i = x.a.wap
          , a = x.a.isSteam
          , o = x.a.steamId;
        return e = a ? o : t ? "" : void 0 !== e ? e : El[gn.M],
        r && "mk" === i && Object(nn.j)() ? "".concat(n).concat(e, "record") : encodeURIComponent(Object(xi.b)("".concat(n).concat(e), 1))
    }
    function Ml() {
        return x.a.alpha ? Xa().then((function(t) {
            if (!t) {
                var e = function() {
                    return window.location.href = "lzj3000://quit"
                };
                return Xe.a.warn("内测作品，请登录内测账号试玩！").then(e, e),
                Promise.reject()
            }
            return Promise.resolve()
        }
        )) : Promise.resolve()
    }
    function Dl(t) {
        var e = El[gn.M]
          , n = Vl()
          , r = !1;
        El.isEmptyUid(e) || n || !t || (n = Vl(!0),
        Fl(!0),
        r = !0);
        try {
            n = (n = n.replace(/\r/g, "\\r").replace(/\n/g, "\\n")) ? JSON.parse(n) : new Array(Rl.max).fill(null)
        } catch (t) {
            n = new Array(Rl.max).fill(null)
        }
        return (n = Object(nn.b)(n) ? n.map((function(t) {
            if (!t || Object(nn.g)(t))
                return null;
            if (t.key) {
                var n = Object(k.q)(Hl.owner)
                  , i = Object(k.q)(Hl.owner, !0);
                if (!r && t.key !== n && t.key !== i)
                    return null
            }
            t.key = Object(k.q)(e, !0);
            var a = t.plotSnap
              , o = t.thumb;
            return Al(Al({}, t), {}, {
                thumb: o || a
            })
        }
        )) : new Array(Rl.max).fill(null)).find((function(t) {
            return null !== t
        }
        )) && Nl(n),
        {
            records: n,
            owner: e
        }
    }
    function Bl(t) {
        var e = x.a.gid
          , n = x.a.offline
          , r = El[gn.M];
        return Ml().then((function() {
            return ro(99)
        }
        ), (function() {
            return Promise.resolve()
        }
        )).then((function(t) {
            return t = t ? JSON.parse(t) : new Array(Rl.max).fill(null),
            Rl.thumb = [],
            {
                records: t = Object(nn.b)(t) ? t.map((function(t, i) {
                    if (!t || Object(nn.g)(t))
                        return null;
                    var a = ""
                      , o = t.time_stamp
                      , s = t.plot_snap
                      , u = void 0 === s ? "" : s
                      , c = t.plotUuid
                      , l = t.chapterUuid;
                    if (!o || !u || !c) {
                        var d = _o();
                        if (!o || !c || u || "" === d)
                            return null;
                        a = "".concat(d).concat(e, "-").concat(r, "-").concat(i, ".jpg?coverran=").concat(Date.now()),
                        n && a.match(/^file:\/\//) && (a = a.replace(/^file:\/\//, "https://")),
                        Rl.thumb.push({
                            type: "image",
                            url: a
                        })
                    }
                    return u && (a = u.match(/^data:image\/jpeg;base64,/) ? u : "data:image/jpeg;base64,".concat(u)),
                    {
                        timestamp: (o + "").length > 10 ? o : 1e3 * o,
                        thumb: a,
                        chapterUuid: l
                    }
                }
                )) : new Array(Rl.max).fill(null),
                owner: r
            }
        }
        ), (function(e) {
            var n = e.status
              , r = e.msg
              , i = Object(vn.c)();
            if (On.isAppClient() && i.scale.stopFullScreen(),
            En.full = !1,
            999 === n)
                return Xe.a.error(r),
                Promise.reject();
            if (100 === n)
                ml({
                    type: gl,
                    text: r
                });
            else if (r.indexOf("请求已过期") > -1)
                return ml({
                    type: gl,
                    text: r
                }),
                Promise.reject();
            return -1 !== n && 4 !== n && 2 !== n || El.setUserAccount("", "", ""),
            t ? (Xe.a.error(r).then((function() {
                return El.login()
            }
            ), (function() {}
            )),
            Promise.reject()) : Promise.reject()
        }
        ))
    }
    function Ul(t) {
        var e = Object.assign({}, Il)
          , n = El[gn.M];
        if (t || e.owner !== n) {
            var r = Dl()
              , i = r.records
              , a = r.owner;
            Il.local = i,
            Il.owner = a,
            zl()
        }
    }
    function zl() {
        Il.cloud = new Array(Rl.max).fill(null)
    }
    function Ll(t) {
        return 0 === t.filter((function(t) {
            return t
        }
        )).length
    }
    function Vl() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return On.localStorageGetItem(Tl(t)) || ""
    }
    function Fl() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        On.localStorageRemoveItem(Tl(t))
    }
    function Nl(t, e) {
        On.localStorageSetItem(Tl(!1, e), JSON.stringify(t || Hl.localRecord))
    }
    var Hl = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "init",
            value: function() {
                Il.local = new Array(Rl.max).fill(null),
                Il.cloud = new Array(Rl.max).fill(null),
                Il.owner = El[gn.M],
                Rl.thumb = [];
                var t = Dl()
                  , e = t.records
                  , n = t.owner;
                Il.local = e,
                Il.owner = n
            }
        }, {
            key: "updateRecords",
            value: function(e, n) {
                var r = El[gn.M];
                return e || t.owner !== r && Ll(Il.cloud) ? (Ul(),
                Bl(n).then((function(e) {
                    var n = e.records
                      , i = e.owner;
                    if (Il.cloud = n,
                    Il.owner = i,
                    t.isEmptyRecords) {
                        Rl.new = r;
                        var a = Dl(!0).records;
                        Il.local = a
                    }
                    return Promise.resolve()
                }
                ))) : Promise.resolve()
            }
        }, {
            key: "updateForceLocal",
            value: function(t) {
                Dl(),
                t && zl()
            }
        }, {
            key: "saveRecord",
            value: function(e, n, r, i, a) {
                return n ? (r.key = Object(k.q)(t.owner, !0),
                Il.local[e] = r,
                Nl(Il.local),
                Promise.resolve()) : io(e, JSON.parse(JSON.stringify(r))).then((function() {
                    return Il.cloud[e] = r
                }
                ), (function(t) {
                    var n = t.indexOf("没有登录") > -1;
                    return i ? (Il.local[e] = r,
                    Nl(r),
                    Promise.resolve()) : (n ? yi(mi.ERROR_PLAY_10, (function() {
                        return El.login()
                    }
                    )) : !a && Xe.a.error("存档异常：".concat(t)).catch((function() {}
                    )),
                    Promise.reject())
                }
                ))
            }
        }, {
            key: "checkSaveRecord",
            value: function(e, n) {
                if (t.Forbid)
                    return !1;
                if (t.hasRead)
                    if (e || (e = El[gn.M]),
                    El.isEmptyUid(t.hasReadOwner)) {
                        if (n && !El.isEmptyUid(e) && ![Rl.new, t.owner].some((function(t) {
                            return !El.isEmptyUid(t)
                        }
                        )))
                            return !0;
                        if (!t.checkNew(e))
                            return !1
                    } else if (t.hasReadOwner !== e)
                        return !1;
                return !0
            }
        }, {
            key: "saveLocalRecord",
            value: function(t, e) {
                Nl(e, t)
            }
        }, {
            key: "checkNew",
            value: function(t) {
                return Rl.new === t
            }
        }, {
            key: "Forbid",
            set: function(t) {
                Rl.forbid = t
            },
            get: function() {
                return Rl.forbid
            }
        }, {
            key: "owner",
            get: function() {
                return Il.owner + ""
            }
        }, {
            key: "localRecord",
            get: function() {
                return Ul(),
                Il.local
            }
        }, {
            key: "cloudRecord",
            get: function() {
                return Ul(),
                Il.cloud
            }
        }, {
            key: "isEmptyRecords",
            get: function() {
                var t = Il.cloud
                  , e = Il.local;
                return Ll(t) && Ll(e)
            }
        }, {
            key: "hasRead",
            set: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                Rl.read.already = e,
                Rl.read.owner = t.owner
            },
            get: function() {
                return Rl.read.already
            }
        }, {
            key: "hasReadOwner",
            get: function() {
                return Rl.read.owner
            }
        }, {
            key: "copyLocal",
            get: function() {
                return {
                    records: Il.local.slice(0, Rl.max - 1),
                    owner: t.owner
                }
            }
        }, {
            key: "cloudCoverAssets",
            get: function() {
                return Rl.thumb
            }
        }]),
        t
    }();
    function Wl(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Gl(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Wl(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Wl(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var ql = {
        gaveup: !1,
        empty: !1,
        forbid: !1,
        key: function(t) {
            return encodeURIComponent(Object(xi.b)("".concat(x.a.uuid, "readrecord").concat(t ? "" : El[gn.M]), 1))
        },
        mobile: function() {
            return "android" === x.a.client && "ios" === x.a.client
        },
        propsList: [],
        handleList: []
    }
      , Yl = Promise.resolve()
      , Zl = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "save",
            value: function(e) {
                if (!t.Forbid && !Object(jn.h)()) {
                    var n = El[gn.M];
                    ql.mobile() && El.checkUserAccount(n),
                    ql.gaveup || (El.empty || El.change ? ql.gaveup = !0 : (ql.propsList.push(e),
                    ql.handleList.push((function(e) {
                        var r = e.valuesFun ? e.valuesFun() : {};
                        return e.valuesFun && delete e.valuesFun,
                        Object(g.a)(Gl(Gl({}, e), {}, {
                            values: r
                        })).then((function(e) {
                            if (ql.empty && "" !== n) {
                                if ("" !== (On.localStorageGetItem(ql.key()) || ""))
                                    return void (ql.gaveup = !0);
                                t.clear(ql.key(!0)),
                                ql.empty = !1
                            }
                            On.localStorageSetItem(ql.key(), e)
                        }
                        ))
                    }
                    )),
                    Yl.finally((function() {
                        var t = ql.handleList[ql.handleList.length - 1]
                          , e = ql.propsList[ql.propsList.length - 1];
                        ql.handleList.length = 0,
                        ql.propsList.length = 0,
                        t && (Yl = t(e))
                    }
                    ))))
                }
            }
        }, {
            key: "read",
            value: function(e) {
                if (Object(jn.h)())
                    return e && e(),
                    t.clear(ql.key(!0)),
                    Promise.resolve();
                var n = "";
                return "" !== (n = On.localStorageGetItem(ql.key()) || "") && El.isEmptyUid() && (ql.empty = !0),
                "" !== n || El.isEmptyUid() || (n = On.localStorageGetItem(ql.key(!0)) || "",
                t.clear(ql.key(!0))),
                new Promise((function(t) {
                    return "" !== n ? Xe.a.custom("Info", "是否从上次播放处继续观看？", "提示", "继续观看", "从头开始", !0).then((function() {
                        return e && e(),
                        t(JSON.parse(n))
                    }
                    ), (function() {
                        return t()
                    }
                    )) : t()
                }
                ))
            }
        }, {
            key: "clear",
            value: function(t) {
                On.localStorageRemoveItem(t)
            }
        }, {
            key: "Forbid",
            set: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                ql.forbid = t
            },
            get: function() {
                return ql.forbid
            }
        }]),
        t
    }();
    function Jl(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Kl(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Jl(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Jl(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var $l = {
        0: Object(Su.a)(),
        1: Object(Su.a)(),
        2: Object(Su.a)(),
        3: Object(Su.a)(),
        4: Object(Su.a)()
    }
      , Xl = [Object(xi.b)(String(Object(k.o)()), Object(k.o)())]
      , Ql = {}
      , td = []
      , ed = null
      , nd = {
        computed: {},
        state: {
            connect: "",
            error: !1,
            localAfter: !1
        },
        record: {},
        updateTime: {
            time: 0,
            max: 300
        },
        add: -1,
        updatepc: !1
    }
      , rd = {}
      , id = function() {
        return td[0] && td[0]()
    }
      , ad = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
          , n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
          , r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
          , i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : function() {}
          , a = arguments.length > 5 && void 0 !== arguments[5] && arguments[5]
          , o = arguments.length > 6 && void 0 !== arguments[6] && arguments[6];
        return function() {
            return Cd(t, e, n, r, !1, o).then((function(t) {
                return i && i({
                    status: "update",
                    playContext: t
                }),
                a ? Promise.resolve(t) : qc(t, e)
            }
            )).then((function(t) {
                return i && i({
                    status: "upload",
                    playContext: t
                }),
                a || o ? Promise.resolve(t) : Ed(t, e).then((function() {
                    return t
                }
                ))
            }
            )).finally((function() {
                1 === td.length && td.shift()
            }
            ))
        }
    };
    function od() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
          , n = x.a.offline
          , r = x.a.uuid
          , i = x.a.isSteam
          , a = x.a.steamId
          , o = en.a.runCheck ? "payInfoTest" : "payInfo";
        i && (t = a);
        var s = n ? e ? Object(xi.b)("offline".concat(r).concat(o).concat(t), 1) : "offline".concat(r).concat(o).concat(t) : e ? Object(xi.b)("".concat(r).concat(o).concat(t), 1) : "".concat(r).concat(o).concat(t);
        return e ? encodeURIComponent(s) : s
    }
    function sd(t, e, n) {
        if (!e || 0 === e.length)
            return !1;
        var r = El[gn.M]
          , i = e.hasPayValueHandle;
        if (void 0 !== i)
            return n && (nd.computed[r] = !0),
            i;
        var a = e.some((function(e) {
            var n = e.uuid
              , r = e[gn.z]
              , i = Ql[$l[0]]
              , a = Ql[$l[1]]
              , o = i[n];
            if (void 0 !== o)
                return !0;
            if (void 0 !== r && !r)
                return !1;
            if (void 0 !== (o = a[n])) {
                var s = t[Object(rn.h)()][o].init
                  , u = (s = void 0 === s ? {} : s).type;
                if ((u.endsWith("s") ? u : u + "s" || !1) === Object(rn.e)(3))
                    return !0
            }
        }
        ));
        return i && n && (nd.computed[r] = !0),
        e.hasPayValueHandle = a,
        a
    }
    function ud() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
          , e = x.a.singleAlone;
        if (e)
            return On.singleGetValue(od("", !0)) || "";
        var n = El[gn.M]
          , r = ""
          , i = od(t ? "" : n);
        return r = On.localStorageGetItem(i) || "",
        t && (On.localStorageRemoveItem(od("")),
        On.localStorageRemoveItem(od("", !1))),
        r || (r = Ql[$l[2]]),
        r
    }
    function cd() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = arguments.length > 1 ? arguments[1] : void 0, r = arguments.length > 2 ? arguments[2] : void 0;
        if (!e)
            return x.a.resolve([]);
        try {
            if (n)
                try {
                    var i = t = JSON.parse(e)
                      , a = i.data;
                    if (a)
                        try {
                            var o = Object(k.h)(a, 2, Object(k.o)())
                              , s = JSON.parse(Object(xi.l)(Object(xi.d)(o)))
                              , u = s.length
                              , c = s[u - 1];
                            if (c.version && Xl.some((function(t) {
                                return t === String(c.version)
                            }
                            ))) {
                                var l = s.slice(0, u - 1)
                                  , d = !0;
                                if (r ? d = !!c.visitor : "" !== El[gn.M] || c.visitor || (d = !1),
                                d)
                                    return Promise.resolve(l)
                            }
                            e = Ql[$l[2]]
                        } catch (t) {
                            e = Ql[$l[2]]
                        }
                    else
                        e = Ql[$l[2]]
                } catch (t) {}
            t = JSON.parse(Object(xi.i)(e))
        } catch (n) {
            try {
                if (t = JSON.parse(e),
                Object(nn.o)(t)) {
                    var f = t
                      , h = f.data
                      , p = JSON.parse(Object(xi.l)(Object(xi.d)(h)));
                    return Promise.resolve(p)
                }
                return Object(nn.b)(t) ? (t = JSON.parse(Object(xi.g)(t)),
                Promise.resolve(t)) : Promise.reject(n)
            } catch (t) {
                return Promise.reject(t)
            }
        }
        return Promise.resolve(t)
    }
    function ld(t, e, n, r) {
        var i = Object(rn.i)();
        return cd(t, n, r).then((function(t) {
            if (0 === t.length)
                return Ql[$l[4]] = JSON.parse(JSON.stringify(e[i])),
                Promise.resolve(e);
            for (var n = function(n) {
                var r, a = t[n], o = a.value, s = a.uuid, u = e[i].findIndex((function(t) {
                    return t.uuid === s
                }
                ));
                e = ~u ? Vc(e, i, u, (function() {
                    return void 0 === o ? Wc(e[i][n]) : o
                }
                )) : mr()(e, (r = {},
                c()(r, i, {
                    $push: [Object.assign(t[n], {
                        k: void 0
                    })]
                }),
                c()(r, "new", {
                    $set: 1
                }),
                r))
            }, r = 0; r < t.length; r++)
                n(r);
            Ql[$l[4]] = JSON.parse(JSON.stringify(e[i]));
            var a = Object.keys(Ql[$l[4]]).length
              , o = Object.keys(t).length;
            return -1 === nd.add && (nd.add = a > o ? 1 : 0),
            Promise.resolve(e)
        }
        ))
    }
    function dd(t) {
        return t[Object(rn.i)()].map((function(t) {
            return Sc(t, !1)
        }
        ))
    }
    function fd(t, e) {
        var n = !0
          , r = Object.keys(t)
          , i = Object.keys(e);
        if (r.length !== i.length)
            return n;
        for (var a = function(t) {
            return Sc(t).value
        }, o = function(n) {
            var i = r[n]
              , o = a(t[i])
              , s = a(e[i]);
            return t[i].uuid !== e[i].uuid || o !== s
        }, s = r.length, u = 0, c = s % 8; c--; )
            if (n = o(u++))
                return n;
        for (c = Math.floor(s / 8); c--; ) {
            if (n = o(u++))
                return n;
            if (n = o(u++))
                return n;
            if (n = o(u++))
                return n;
            if (n = o(u++))
                return n;
            if (n = o(u++))
                return n;
            if (n = o(u++))
                return n;
            if (n = o(u++))
                return n;
            if (n = o(u++))
                return n
        }
        return n
    }
    function hd(t, e, n, r, i) {
        var a = Ql[$l[4]] || t[Object(rn.i)()]
          , o = t[Object(rn.i)()];
        return i ? !fd(a, o) : !(n || sd(t, e, r) && fd(a, o))
    }
    function pd() {
        return !!x.a.illegality || nd.state.localAfter
    }
    function vd(t, e) {
        var n = x.a.illegality
          , r = "online" === nd.state.connect;
        return !!n || !(t && !e) && (!r || pd())
    }
    function gd(t) {
        if (t || (t = El[gn.M]),
        Hl.hasRead) {
            if (!Hl.checkSaveRecord(t, !0))
                return !1;
            var e = function() {
                return !Object(nn.g)(nd.computed) && Hl.hasReadOwner !== t
            };
            if (El.change) {
                if (e())
                    return !1
            } else {
                var n = El.puid;
                if (El.isEmptyUid(t) && !El.isEmptyUid(n) && e())
                    return !1
            }
        }
        return !0
    }
    function md(t) {
        return t || (t = El[gn.M]),
        !Hl.hasRead || Hl.checkSaveRecord(t, !0) || Hl.checkNew(t) ? Promise.resolve() : Hl.updateRecords(!0)
    }
    function yd(t) {
        return "online" === nd.state.connect && Date.now() - nd.updateTime.time <= nd.updateTime.max ? function() {
            return Promise.resolve({
                code: 1,
                data: Object(xi.h)(JSON.stringify(dd(t)))
            })
        }
        : function() {
            return ho(pd())
        }
    }
    function bd(t, e) {
        if (t || (t = El[gn.M]),
        !Object(nn.g)(nd.computed)) {
            if (e)
                return Object.keys(nd.computed).filter((function(e) {
                    return e && e !== t
                }
                )).length > 0;
            if (nd.computed[t])
                return !0
        }
        return !1
    }
    function wd() {
        var t = !Object(nn.g)(nd.computed);
        if ("online" === nd.state.connect) {
            if (t)
                return !0;
            if (Hl.hasRead)
                return !0
        }
        return !1
    }
    function xd(t, e, n, r) {
        if (nd.state.error = !0,
        "update" === r) {
            if (!e)
                return Promise.resolve(t);
            var i = x.a.app_version
              , a = !(Object(k.c)(i, "1.11.0") < 0)
              , o = mi.ERROR_PAYVALUE_1
              , s = mi.ERROR_PAYVALUE_2
              , u = mi.ERROR_PAYVALUE_3
              , c = mi.ERROR_PAYVALUE_4;
            return n ? yi(El.change ? s : o) : yi(El.midway ? u : c, (function() {
                return a && On.refreshApp()
            }
            )),
            Promise.resolve(t)
        }
        return Promise.resolve(!1)
    }
    function kd() {
        Do(Kl({}, rd))
    }
    function _d(t, e) {
        var n = e[Object(rn.i)()]
          , r = Ql[i[3]]
          , i = Object.keys(r)
          , a = [];
        return t.forEach((function(t) {
            var e, o, s = t.uuid, u = i.find((function(t) {
                return String(r[t]) === String(s)
            }
            ));
            void 0 !== u && a.push([u, (e = r[u],
            o = n.find((function(t) {
                return t.uuid === e
            }
            )),
            void 0 === o ? Cc(o).value : 0)])
        }
        )),
        a
    }
    function Od(t) {
        var e = !1;
        return t.forEach((function(t) {
            var n = s()(t, 2)
              , r = n[0]
              , i = void 0 === r ? "" : r
              , a = n[1]
              , o = void 0 === a ? 0 : a;
            void 0 !== rd[i] && (rd[i] = o,
            e = !0)
        }
        )),
        e
    }
    function Sd() {
        return Mo().then((function(t) {
            return t.forEach((function(t) {
                var e = t.apiname
                  , n = t.achieved;
                rd[e] = n
            }
            )),
            Promise.resolve()
        }
        )).catch((function() {
            return Promise.resolve()
        }
        ))
    }
    function Pd(t, e) {
        var n, r, i = t.code, a = t.data, o = void 0 === a ? "" : a, s = !Object(nn.g)(nd.computed), u = "online" === nd.state.connect, c = "local" === nd.state.connect, l = function(t) {
            switch (t) {
            case 0:
            case 1:
                return s && (0 === t ? u || El.change && bd(e, !0) : c || El.change && bd(e, !0)) ? -1 : 1 !== t || gd(e) ? t : -1;
            case -1:
            case -3:
            case -100:
                return -100 !== t && El.setUserAccount("", "", ""),
                s && u ? -1 : 2;
            default:
                return -1
            }
        }(i);
        return {
            status: l,
            content: (r = o,
            0 === (n = l) || 2 === n ? ud(0 === n) : r),
            isLocal: 0 === l || 2 === l,
            visitor: 0 === l
        }
    }
    function Cd(t, e, n, r, i) {
        var a = arguments.length > 5 && void 0 !== arguments[5] && arguments[5]
          , o = x.a.singleAlone
          , s = x.a.client;
        if (en.a.runTest || a)
            return Promise.resolve(t);
        var u = El[gn.M];
        if (nd.state.error || !gd(u))
            return Id(t, !0, r, "update");
        if (!El.isEmptyUid(u) && !nd.updatepc && "pc" === s && Hl.hasRead)
            return nd.updatepc = !0,
            Hl.updateRecords(!0).then((function() {
                return Cd(t, e, n, r, i, a)
            }
            ), (function() {
                return Cd(t, e, n, r, i, a)
            }
            ));
        var c = n || sd(t, e);
        if (!c)
            return Promise.resolve(t);
        if (o) {
            var l = ud();
            return l || (Ql[$l[4]] = JSON.parse(JSON.stringify(t[Object(rn.i)()]))),
            l ? ld(l, t, !0) : Promise.resolve(t)
        }
        return yd(t)().then((function(n) {
            var r = Pd(n, u)
              , a = r.status
              , o = r.content
              , s = r.isLocal
              , c = r.visitor;
            switch (a) {
            case 0:
                return md().then((function() {
                    return ld(o, t, s, c)
                }
                )).then((function(t) {
                    return Ed(t, e, !0).then((function(e) {
                        return {
                            result: e,
                            context: t
                        }
                    }
                    ))
                }
                )).then((function(t) {
                    var e = t.result
                      , n = t.context;
                    return e ? (nd.add = 2,
                    nd.state.connect = "online",
                    nd.updateTime.time = Date.now(),
                    Promise.resolve(n)) : Promise.reject()
                }
                )).catch((function(t) {
                    return Promise.reject(t)
                }
                ));
            case 1:
            case 2:
                return nd.state.connect = !pd() && (1 === a ? "online" : "local"),
                ld(o, t, s, c).then((function(t) {
                    return i && 1 === a ? (1 === nd.add && Ed(t, e, !0),
                    nd.add = 2,
                    vo(dd(t)).then((function() {
                        return Promise.resolve(t)
                    }
                    ))) : Promise.resolve(t)
                }
                ), (function(t) {
                    return Promise.reject(t)
                }
                ));
            case -1:
                return Promise.reject();
            case -2:
                return nd.state.error = !0,
                Promise.resolve(t)
            }
        }
        ), (function(e) {
            if (wd())
                return Promise.reject("off");
            var n = !Object(nn.g)(nd.computed)
              , r = "local" === nd.state.connect
              , i = "online" === nd.state.connect;
            return nd.state.connect = "local",
            !n || n && r ? gd(u) ? ld(ud(), t, !0, El.isEmptyUid(u)) : Promise.reject() : n && i && El.change && bd(u, !0) ? Promise.reject() : Promise.resolve(t)
        }
        )).catch((function(i) {
            return "off" === i ? Xe.a.custom("Warn", Object(rn.c)(27), "提示", "重新连接", "跳过").then((function() {
                return Cd(t, e, n, r)
            }
            ), (function() {
                return nd.state.error = !0,
                Hl.Forbid = !0,
                Zl.Forbid = !0,
                Id(t, c, r, "update")
            }
            )) : (nd.state.error = !0,
            Id(t, c, r, "update"))
        }
        ))
    }
    function Ed(t, e, n, r, i) {
        if (en.a.runTest)
            return Promise.resolve(!1);
        if (nd.state.error)
            return Id(t);
        var a = El[gn.M]
          , o = x.a.single
          , s = x.a.isSteam;
        if (hd(t, e, n, !0, i))
            return Promise.resolve(!1);
        s && Od(_d(e, t)) && kd();
        var u = Object.freeze(dd(t));
        return po(u, vd(n, i)).then((function(e) {
            if (Ql[$l[4]] = JSON.parse(JSON.stringify(t[Object(rn.i)()])),
            x.a.illegality)
                return !0;
            if (!e.isline) {
                var n = "online" === nd.state.connect
                  , r = "local" === nd.state.connect;
                if (n && (nd.localAfter = !0),
                !pd()) {
                    var i = El.puid
                      , s = El.isEmptyUid(a) && El.isEmptyUid(i)
                      , u = r && El.isEmptyUid(a) || s ? 19 : 20;
                    !o && ml({
                        type: gl,
                        text: Object(rn.c)(u)
                    })
                }
            }
            return !0
        }
        ), (function(t) {
            var e = t.error;
            return ml({
                type: gl,
                text: e
            }),
            Promise.reject()
        }
        )).catch((function() {
            return nd.state.error = !0,
            Id(t, !0, r, "update")
        }
        ))
    }
    function jd() {
        return "online" === nd.state.connect
    }
    function Ad(t, e) {
        return Cd(e, [], !0).then((function(e) {
            return fd(t, e[Object(rn.i)()]) ? (yi(mi.ERROR_PAYVALUE_5, null, null),
            nd.state.error = !0,
            Promise.reject()) : Promise.resolve()
        }
        )).catch((function() {
            return Promise.reject()
        }
        ))
    }
    function Id(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
          , n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
          , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "update";
        return xd(t, e, n, r)
    }
    function Rd(t) {
        var e = t.p
          , n = t.i
          , r = t.pv
          , i = t.names;
        Ql[$l[0]] = JSON.parse(JSON.stringify(e)),
        Ql[$l[1]] = JSON.parse(JSON.stringify(n)),
        Ql[$l[2]] = Object(xi.h)(JSON.stringify(r)),
        Ql[$l[3]] = JSON.parse(JSON.stringify(i))
    }
    function Td(t) {
        var e = t.playContext
          , n = t.force
          , r = t.pay
          , i = t.middle
          , a = t.only
          , o = t.skip
          , s = t[gn.N + "s"]
          , u = ad(e, s, n, r, i, a, o)
          , c = 0 === td.length;
        return td.push(u),
        ed = c ? id() : ed.then((function() {
            return td.shift(),
            id()
        }
        ))
    }
    function Md(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Dd(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Md(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Md(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    Object(jn.c)()(arguments[Vn.d]);
    var Bd = gn.N + "s"
      , Ud = {}
      , zd = ""
      , Ld = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return Ud[t] || {}
    }
      , Vd = function(t, e) {
        if (void 0 !== e)
            return {
                activity: 0 === e
            };
        var n = Ld(t)
          , r = n.startDate
          , i = n.endDate
          , a = an.a.getDate();
        return {
            activity: i >= a && r <= a
        }
    }
      , Fd = function(t) {
        return Ld(t).activity
    }
      , Nd = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
          , n = JSON.parse(JSON.stringify(Ud[t] || {}));
        Ud[t] = Dd(Dd({}, n), e)
    }
      , Hd = function(t) {
        var e;
        return (null === (e = Ld(t)) || void 0 === e ? void 0 : e.uuid) || ""
    }
      , Wd = function(t) {
        return "system" === Ld(t).type
    }
      , Gd = function() {
        return Object.keys(Ud).filter((function(t) {
            return "" !== t
        }
        ))
    };
    function qd() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = (null === (t = Ld(e)) || void 0 === t ? void 0 : t.invited.tip) || "";
        return "" !== n && (n = "恭喜获得".concat(n, "（作品上线后填写自己的邀请码不获得奖励）")),
        n
    }
    function Yd() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return (null === (t = Ld(e)) || void 0 === t ? void 0 : t.invited.award) || []
    }
    function Zd(t) {
        var e;
        return (null === (e = Ld(t)) || void 0 === e ? void 0 : e.type) || ""
    }
    function Jd() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        return (null === (t = Ld(e)) || void 0 === t ? void 0 : t.invite[n].tip) || ""
    }
    function Kd() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        return (null === (t = Ld(e)) || void 0 === t ? void 0 : t.invite[n].award) || []
    }
    function $d() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return (null === (t = Ld(e)) || void 0 === t ? void 0 : t.code) || ""
    }
    function Xd() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return (null === (t = Ld(e)) || void 0 === t ? void 0 : t.msg) || ""
    }
    function Qd() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return (null === (t = Ld(e)) || void 0 === t ? void 0 : t.copy_msg) || ""
    }
    function tf() {
        var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return (null === (t = Ld(e)) || void 0 === t ? void 0 : t.had_invite) || 0
    }
    function ef(t, e, n) {
        var r = Object(rn.l)()
          , i = t[r].findIndex((function(t) {
            return t.key == e
        }
        ));
        return ~i && (t = Vc(t, r, i, (function() {
            return n || 0
        }
        ))),
        t
    }
    function nf(t) {
        var e = t.inviteRewards
          , n = void 0 === e ? [] : e
          , r = JSON.parse(JSON.stringify(n));
        Ud = {},
        r.forEach((function(t, e) {
            Ud[t.uuid] = Dd({}, t),
            0 === e && t.uuid && (zd = t.uuid)
        }
        ))
    }
    function rf(t) {
        var e = !(en.a.runTest || en.a.runCheck)
          , n = Gd();
        return function t(r, i) {
            if (r >= n.length)
                return Promise.resolve(i);
            var a = n[r];
            return No(e && Wd(a) ? "" : a, qd(a)).then((function(e) {
                return Nd(a, Dd(Dd({}, e), Vd(a, e.expire))),
                String(a) === String(zd) && (i = ef(i, "invitedNum", e.had_invite)),
                t(++r, i)
            }
            )).catch((function(e) {
                var n = e.message
                  , o = {
                    code: -1,
                    had_invite: 0,
                    msg: n,
                    copy_msg: n
                };
                return Nd(a, Dd(Dd({}, o), Vd(a, o.expire))),
                t(++r, i)
            }
            ))
        }(0, t)
    }
    function af(t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
        return n ? Promise.reject(t) : Td(c()({
            playContext: t
        }, Bd, e))
    }
    function of(t) {
        return "value" === Zd(t) && 0 === Yd(t).length
    }
    function sf(t) {
        if (en.a.runTest || en.a.runCheck) {
            var e = []
              , n = []
              , r = []
              , i = Ld(zd)
              , o = tf(zd);
            if (Object(nn.g)(i) || !i.activity)
                return Xe.a.custom("Info", "邀请活动已失效~", "提示", "确认", "取消"),
                Promise.resolve(t);
            var s = i.invite || [];
            return s.forEach((function(t, i) {
                !t.exchange && t.number <= o && (e.push.apply(e, a()(t.award)),
                r.push(i + 1),
                n.push(t.tip),
                s[i].exchange = !0,
                Nd(zd, {
                    invite: a()(s)
                }))
            }
            )),
            "value" === Zd(zd) && 0 == e.length ? Promise.resolve(t) : af(t, e).then((function(t) {
                var e = n.reduce((function(t, e) {
                    return t + e + ","
                }
                ), "").replace(/,$/, "") || "";
                return "" === e ? r.length > 0 && (e = "恭喜获得第" + r.reduce((function(t, e) {
                    return t + e + ","
                }
                ), "").replace(/,$/, "") + "档奖励（仅测试，不获得奖励）") : e = "恭喜获得".concat(e, "（仅测试，不获得奖励）"),
                e.length >= 30 && (e = e.substring(0, 30) + "..."),
                e.length > 0 && Xe.a.custom("Info", "".concat(e), "提示", "确认", "取消"),
                Promise.resolve(t)
            }
            )).catch((function(t) {
                return Promise.resolve(t)
            }
            ))
        }
        return Promise.resolve(t)
    }
    function uf(t, e) {
        var n = !(en.a.runTest || en.a.runCheck);
        if (!n && !Fd(zd))
            return Xe.a.custom("Info", "邀请活动已失效~", "提示", "确认", "取消"),
            Promise.reject(e);
        var r = "value" === Zd(zd) || en.a.runTest || en.a.runCheck ? Hd(zd) : "";
        return Ho(t, r).then((function(t) {
            var r = t.message
              , i = t.update;
            return i && (Nd(i.uuid, Dd({}, i.data)),
            e = ef(e, "invitedNum", i.had_invite)),
            af(e, Yd(zd)).then((function(t) {
                return "" === r && (r = "已成功为好友助力~"),
                n || "value" === Zd(zd) || "" !== qd(zd) ? Xe.a.custom("Info", "".concat(r), "提示", "确认", "取消").then((function() {
                    return sf(t)
                }
                )) : sf(t)
            }
            )).catch((function(t) {
                return of(zd) ? sf(t) : Promise.resolve(t)
            }
            ))
        }
        )).catch((function(t) {
            var n = t.message;
            return Xe.a.custom("Warn", "".concat(n), "警告", "确认", "取消"),
            Promise.reject(e)
        }
        ))
    }
    function cf(t) {
        return en.a.runTest || en.a.runCheck ? Promise.resolve(t) : Wo(Gd().reverse()).then((function(e) {
            var n = e.dw
              , r = e.pt
              , i = [];
            if (n && !Object(nn.g)(n)) {
                var o = Object.keys(n)
                  , s = []
                  , u = [];
                return o.forEach((function(t) {
                    var e = Ld(t);
                    Object(nn.g)(e) || n[t].forEach((function(e) {
                        e = Math.max(parseInt(e) - 1, 0);
                        var n = Kd(t, e)
                          , r = !Fd(t);
                        n.length > 0 && (r || (u.push(Jd(t, e)),
                        i.push(parseInt(e + 1))),
                        s.push.apply(s, a()(n)))
                    }
                    ))
                }
                )),
                af(t, s).then((function(t) {
                    var e = u.reduce((function(t, e) {
                        return t + e + ","
                    }
                    ), "").replace(/,$/, "");
                    return "" !== e ? e = "获得邀请奖励：" + e : i.length > 0 && (e = "获得邀请奖励：第".concat(i.reduce((function(t, e) {
                        return t + e + ","
                    }
                    ), "").replace(/,$/, ""), "档奖励")),
                    e.length >= 30 && (e = e.substring(0, 30) + "..."),
                    "" !== e && Xe.a.custom("Info", "".concat(e), "提示", "确认", "取消"),
                    Promise.resolve(t)
                }
                ))
            }
            if ("" !== r) {
                var c = Gd().find((function(t) {
                    return "system" === Ld(t).type
                }
                ));
                Fd(c) && Xe.a.custom("Info", "获得邀请奖励：".concat(r), "提示", "确认", "取消")
            }
            return Promise.resolve(t)
        }
        )).catch((function() {
            return Promise.resolve(t)
        }
        ))
    }
    function lf(t) {
        var e = !Fd(zd);
        if ((en.a.runTest || en.a.runCheck) && e)
            return Xe.a.custom("Info", "邀请活动已失效~", "提示", "确认", "取消"),
            Promise.resolve(t);
        var n = x.a.client
          , r = en.a.runOnline && "pc" === n
          , i = Xd(zd).includes("活动已失效");
        return (en.a.runTest || en.a.runCheck ? Promise.resolve() : El.checkLogin().then((function() {
            return r && El.change ? (Xe.a.custom("Warn", "账号异常，请刷新作品重试", "警告", "刷新", "取消", !1).then((function() {
                return window.location.reload && window.location.reload()
            }
            )),
            Promise.reject()) : Promise.resolve()
        }
        ), (function() {
            return Promise.reject("login")
        }
        ))).then((function() {
            return i ? Promise.resolve(t) : rf(t)
        }
        )).then((function(t) {
            var e = Xd(zd)
              , n = -1 == $d(zd)
              , r = e.includes("活动已失效")
              , i = r ? "Warn" : "Info"
              , a = r ? "警告" : "提示"
              , o = n || r ? "确定" : "复制";
            return Xe.a.custom(i, "".concat(e), a, o, "取消").then((function() {
                if (n || r) {
                    if (e[Vn.m]("请重新登录") || e[Vn.m]("还未登录"))
                        return Promise.reject("login")
                } else
                    pi()("".concat(Qd(zd)), {
                        debug: !1,
                        message: "复制成功"
                    });
                return Promise.resolve(t)
            }
            )).catch((function() {
                return Promise.reject()
            }
            ))
        }
        ), (function(t) {
            return Promise.reject(t)
        }
        )).catch((function(e) {
            return new Promise((function(n) {
                if (!e || !e[Vn.m]("login"))
                    return n(t);
                El.login((function(e) {
                    if ("error" === e)
                        return console.log("无登录窗口，登录失败，请打开正确游戏地址体验！"),
                        n(t);
                    rf(t).then((function(t) {
                        return n(t)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ))
    }
    function df(t, e) {
        var n = x.a.isSteam
          , r = x.a.singleAlone;
        return !e && n && Sd(),
        El.checkLogin().then((function() {
            return function(t) {
                return mf(t).then((function(t) {
                    return gf(t)
                }
                )).then((function(t) {
                    return vf(t)
                }
                )).then((function(t) {
                    return pf(t)
                }
                ))
            }(t)
        }
        ), (function() {
            return r ? mf(t) : Promise.resolve(t)
        }
        )).then((function(t) {
            return rf(t)
        }
        )).then((function(t) {
            return Cd(t, [], !0, !1, !e)
        }
        )).then((function(t) {
            return Promise.resolve(t)
        }
        )).catch((function(e) {
            return Promise.resolve(t)
        }
        ))
    }
    var ff = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "2.0.0"
          , e = x.a.app_version
          , n = On.isAppClient();
        return !n || n && Object(k.c)(e, t) < 0
    }
      , hf = function(t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
          , r = Object(rn.l)()
          , i = t[r].findIndex((function(t) {
            return t.key == e
        }
        ));
        return ~i && (t = Vc(t, r, i, (function() {
            return n || 0
        }
        ))),
        t
    }
      , pf = function(t) {
        return Lo().then((function(e) {
            return hf(t, gn.p, e)
        }
        )).catch((function() {
            return Promise.resolve(t)
        }
        ))
    }
      , vf = function(t) {
        return zo(0).then((function(e) {
            return [gn.o, gn.A].forEach((function(n) {
                return t = hf(t, n, e[n])
            }
            )),
            Promise.resolve(t)
        }
        )).catch((function() {
            return Promise.resolve(t)
        }
        ))
    }
      , gf = function(t) {
        return x.a.singleAlone ? Promise.resolve(t) : Fa().then((function(e) {
            return Object(nn.p)(e) ? t : hf(t, gn.k, e)
        }
        ), (function() {
            return Promise.resolve(t)
        }
        ))
    };
    function mf(t, e) {
        if (x.a.singleAlone) {
            var n = xf();
            return n && (t = mr()(t, c()({}, Object(rn.l)(), {
                $set: JSON.parse(Object(xi.i)(n))
            }))),
            Promise.resolve(t)
        }
        return Ua().then((function(n) {
            var r;
            return e && e(n),
            Object.assign(n, (r = {},
            c()(r, gn.g, ff() ? Number(n[gn.f]) + Number(n[gn.P]) : Number(n[gn.f])),
            c()(r, gn.f, ff() ? Number(n[gn.f]) : Number(n[gn.f]) - Number(n[gn.P])),
            r)),
            [gn.g, gn.G, gn.F, gn.E, gn.n, gn.M, gn.f, gn.P].forEach((function(e) {
                return t = hf(t, e, n[e])
            }
            )),
            t
        }
        ), (function() {
            return Promise.resolve(t)
        }
        )).then((function(t) {
            return yf(t)
        }
        ))
    }
    function yf(t) {
        return za().then((function(e) {
            var n = Object(rn.l)()
              , r = t[n].findIndex((function(t) {
                return t.key == gn.u
            }
            ));
            return ~r && (t = Vc(t, n, r, (function() {
                return e
            }
            ))),
            Promise.resolve(t)
        }
        ), (function() {
            return Promise.resolve(t)
        }
        )).then((function(t) {
            return bf(t)
        }
        ))
    }
    var bf = function(t) {
        return uc.updateRoleId().then((function() {
            return uc.updateRoleValue()
        }
        )).then((function() {
            var e, n = (e = {},
            c()(e, gn.B, uc.TotalRangeRoleValue),
            c()(e, "role", uc.RoleValues),
            e);
            return [gn.B, "role"].forEach((function(e) {
                return t = hf(t, e, n[e])
            }
            )),
            Promise.resolve(t)
        }
        )).then((function(t) {
            return Promise.resolve(t)
        }
        ))
    };
    function wf(t) {
        var e = x.a.uuid;
        x.a.singleAlone && On.singleSaveValue("".concat(e, "usersysteminfo"), Object(xi.h)(JSON.stringify(t)))
    }
    function xf() {
        var t = x.a.uuid
          , e = "";
        return x.a.singleAlone && (e = On.singleGetValue("".concat(t, "usersysteminfo"))),
        e
    }
    function kf(t) {
        var e = [Object(rn.m)(), Object(rn.j)(), Object(rn.k)(), Object(rn.h)()];
        return {
            values: t[e[0]].map((function(t) {
                return Sc(t, !0)
            }
            )),
            savedValues: t[e[1]].map((function(t) {
                return Sc(t, !0)
            }
            )),
            stringValues: t[e[2]].map((function(t) {
                return Sc(t, !0)
            }
            )),
            indexValues: t[e[3]].map((function(t) {
                return Sc(t, !0)
            }
            ))
        }
    }
    Object(jn.c)()(arguments[Vn.d]);
    var _f = "兑换成功"
      , Of = "兑换码不存在，请重新输入"
      , Sf = "兑换码多次输入错误，请稍后再次尝试"
      , Pf = "兑换码不存在，请重新输入"
      , Cf = 0
      , Ef = !1
      , jf = 0;
    function Af() {
        var t = x.a.uuid;
        return "cdkey".concat((void 0 === t ? "" : t).substr(0, 36), "lock")
    }
    function If() {
        jf && clearTimeout(jf),
        jf = 0,
        Cf = 0,
        Ef = !1,
        On.localStorageRemoveItem(Af())
    }
    function Rf() {
        jf = setTimeout((function() {
            If(),
            Cf = 1
        }
        ), 6e4)
    }
    function Tf() {
        return Ef && bl(Sf),
        Ef
    }
    function Mf(t, e) {
        if (!e)
            return t ? (yl(_f),
            void If()) : void (Ef ? bl(Sf) : (bl(Of),
            3 == ++Cf && (Ef = !0,
            On.localStorageSetItem(Af(), "1"),
            Rf())));
        bl(Pf)
    }
    function Df(t, e) {
        return Tf() ? Promise.resolve(!1) : Vo(t, e).then((function(t) {
            return Mf(t),
            t
        }
        ), (function(t) {
            return Mf(!1, !0),
            !1
        }
        ))
    }
    function Bf(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Uf(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Bf(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Bf(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    (Ef = !!+(On.localStorageGetItem(Af()) || 0)) && (Cf = 3,
    Rf());
    var zf, Lf, Vf, Ff, Nf = c()({
        usedStarCount: 0,
        gameStarLimit: 0,
        giveCoin: 0
    }, gn.f, 0), Hf = "", Wf = "", Gf = "", qf = {}, Yf = function t(e) {
        return El.checkLogin(!0).then((function() {
            return Gf = El[gn.M],
            Promise.resolve(!0)
        }
        ), (function(n) {
            if (x.a.alpha)
                Xe.a.warn("内测作品，请先登录内测帐号试玩！").then((function() {
                    return El.login()
                }
                ), (function() {
                    return El.login()
                }
                ));
            else {
                var r = n.msg
                  , i = n.status;
                if (999 == i)
                    return Xe.a.custom("Warn", Object(rn.c)(27), "提示", "重新链接", "跳过").then((function() {
                        return t(e)
                    }
                    ), (function() {
                        return Hl.Forbid = !0,
                        Zl.Forbid = !0,
                        Id(e, !0, !0),
                        Promise.reject()
                    }
                    ));
                100 === i || Xe.a.warn(r).then((function() {
                    return El.login()
                }
                ), (function() {}
                ))
            }
            return Promise.reject()
        }
        ))
    }, Zf = function() {
        return Xa().then((function(t) {
            return !t || (Xe.a.warn("内测作品，暂不支持购买，系统将在内测结束后清空数值~").catch((function() {}
            )),
            Promise.reject())
        }
        ), (function() {
            return Promise.resolve(!0)
        }
        ))
    }, Jf = function() {
        var t = x.a.isWapOther
          , e = x.a.single;
        return t || e ? Promise.resolve() : Go().then((function() {
            return Promise.resolve()
        }
        ), (function() {
            return Xe.a.warn("该作品已90天未更新，为保障您的权益，该作品暂时被限制付费~"),
            Promise.reject()
        }
        ))
    }, Kf = function(t, e) {
        var n = x.a.client;
        if ("ios" !== n && "android" !== n && "wap" !== n && "pc" !== n)
            return Promise.resolve();
        var r = function() {
            return 1 === e ? Xe.a.warn("该商品只能购买一次！").catch((function() {}
            )) : yi(mi.ERROR_PLAY_8, null, null),
            Promise.reject()
        };
        return to(t).then((function(t) {
            return t && "success" == t.status && (-1 === e || 1 === e && 0 === t.count) ? Promise.resolve(t.count) : r()
        }
        ), (function() {
            return r()
        }
        ))
    }, $f = function(t, e, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "app"
          , i = x.a.uuid;
        return Qa(i, e, n, r).then((function(e) {
            var n = e.charge
              , r = e.special_price
              , i = e.charge_pc
              , a = e.charge_app
              , o = void 0 === a ? -1 : a
              , s = e.buy_type
              , u = void 0 === s ? 0 : s;
            return parseInt(n) > 0 && (t = parseInt(n)),
            {
                charge: t,
                special_price: r || i || -1,
                charge_app: o,
                buy_type: u
            }
        }
        ), (function() {
            return Promise.resolve({
                charge: t,
                special_price: -1,
                charge_app: -1,
                buy_type: 0
            })
        }
        ))
    }, Xf = function(t, e, n) {
        return "pc" !== x.a.client && t ? eo(e, n) : Promise.resolve(null)
    }, Qf = function(t) {
        return Td({
            playContext: t,
            force: !0,
            pay: !0,
            only: !0
        }).then((function(t) {
            return jd() ? Promise.resolve(t) : Promise.reject()
        }
        ))
    }, th = function(t) {
        return "pc" === x.a.client ? Promise.resolve(t) : mf(t, (function(t) {
            var e = t.usedStarCount
              , n = t.gameStarLimit;
            Nf.usedStarCount = e,
            Nf.gameStarLimit = n,
            Nf.giveCoin = t[gn.P],
            Nf[gn.f] = t[gn.f]
        }
        ))
    }, eh = function(t) {
        var e;
        return t = JSON.parse(JSON.stringify(t)),
        Object.keys(t).forEach((function(e) {
            t[Object(rn.f)(e)] = JSON.parse(JSON.stringify(t[e]))
        }
        )),
        e = t = Object(xi.h)(JSON.stringify(t)),
        5,
        Object(xi.b)(e, 5)
    }, nh = function(t) {
        var e = t.playContext
          , n = t.preValuesFun
          , r = t.chapteruuid
          , i = t.commodid
          , a = t.count
          , o = t.charge
          , s = t.name
          , u = t.ispack
          , c = x.a.gid
          , l = x.a.client
          , d = x.a.isWapOther
          , f = x.a.wap
          , h = x.a.uuid
          , p = x.a.qz_pindex;
        if (Hf = "",
        Wf = "",
        f && "qzone" === f) {
            var v = p || 134;
            return Sc(e[Object(rn.i)()][v], !1).value >= o ? Promise.resolve({
                result: 3,
                playContext: e,
                newPlayContext: Vc(e, Object(rn.l)(), v, (function(t) {
                    return t - o
                }
                ))
            }) : (Xe.a.custom("Warn", "闪币余额不足，快去分享获得闪币", "温馨提示", "分享", "取消", !0).then((function() {
                return Qe.f.openShareMessageQzone()
            }
            ), (function() {}
            )),
            Promise.reject())
        }
        return Yf(e).then((function() {
            return Jf()
        }
        )).then((function() {
            return Zf()
        }
        )).then((function() {
            return th(e)
        }
        )).then((function(t) {
            return Qf(t)
        }
        )).then((function(t) {
            return Kf(i, a).then((function(e) {
                return qf = {
                    commodid: i,
                    count: e
                },
                Promise.resolve(t)
            }
            ))
        }
        )).then((function(t) {
            return $f(o, r, i, "app").then((function(e) {
                return {
                    resultplaycontext: t,
                    disCounts: e
                }
            }
            ))
        }
        )).then((function(t) {
            return n ? n(t.resultplaycontext).then((function(e) {
                return Uf(Uf({}, t), {}, {
                    preplaycontext: e
                })
            }
            )) : Promise.resolve(Uf(Uf({}, t), {}, {
                preplaycontext: t.resultplaycontext
            }))
        }
        )).then((function(t) {
            return Xf(u, i, -1 !== t.disCounts.special_price ? t.disCounts.special_price : t.disCounts.charge).then((function(e) {
                return Uf(Uf({}, t), {}, {
                    pack: e
                })
            }
            ))
        }
        )).then((function(t) {
            if (Xe.a.dialogIsShow)
                return Promise.reject();
            Hf = Object(k.l)();
            var r = l + Hf;
            Wf = r;
            var a = t.disCounts
              , o = a.charge
              , p = a.special_price
              , v = a.charge_app
              , g = a.buy_type
              , m = t.preplaycontext
              , y = t.pack
              , b = t.resultplaycontext;
            e = b;
            var w = Nf.usedStarCount
              , _ = Nf.gameStarLimit
              , O = Nf.giveCoin
              , S = an.a.getCurDate()
              , P = Object(xi.g)([52, 115, 104, 97, 110, 51, 121, 105, 57, 120, 105, 97, 57, 109, 101, 110])
              , C = n ? eh(m[Object(rn.i)()].map((function(t) {
                return Sc(t, !1)
            }
            ))) : ""
              , E = {};
            if (d)
                switch (f) {
                case "qh":
                    return Object(k.z)(100).then((function() {
                        return Xe.a.custom("Info", "支付过程将导致作品重启。请确保您已存档。选择已存档将继续支付，未存档将前往存档界面", "作品存档提示", "已存档", "未存档", !0).then((function() {
                            return E = {
                                charge: o,
                                commodid: i,
                                order: Hf,
                                context: m,
                                type: 1,
                                name: s,
                                giveCoin: O,
                                uid: Gf
                            },
                            On[gn.w](E)
                        }
                        ), (function(t) {
                            return "cancel" === t && window.showSave(),
                            Promise.reject()
                        }
                        ))
                    }
                    ));
                case "mk":
                    E = {
                        client: 4,
                        amount: 200 * o,
                        uuid: h,
                        event_id: i,
                        time: S,
                        set_value: C,
                        token: vr.a.hash(h + 200 * o + S + P),
                        outreach_uid: x.a.mk_uid,
                        access_token: x.a.mk_access_token,
                        product_name: s,
                        indentId: r,
                        giveCoin: O,
                        uid: Gf
                    }
                }
            else {
                if ("kk" === f) {
                    var j = "pc" === l ? -1 !== p ? p : o : -1 !== v ? v : o
                      , A = vr.a.hash(h + j + S + P);
                    return Qe.c.getMallPayInfo({
                        amount: j,
                        event_id: i,
                        product_name: s,
                        set_value: C,
                        time: S,
                        token: A
                    }).then((function(t) {
                        return Qe.c[gn.w](t)
                    }
                    )).then((function(t) {
                        return Object(vn.c)().gameResumed(),
                        Promise.resolve({
                            result: t,
                            newPlayContext: e,
                            prePlayContext: m
                        })
                    }
                    ))
                }
                if ("pc" === l) {
                    var I = -1 !== p ? p : o
                      , R = vr.a.hash(h + I + S + P)
                      , T = vr.a.hash(h + 100 * o + S + P);
                    E = {
                        uuid: h,
                        eid: i,
                        charge: o,
                        name: s,
                        token: R,
                        starToken: T,
                        callback: "mallPay",
                        time: S,
                        charge_pc: p,
                        charge_app: v,
                        indentId: r,
                        giveCoin: O,
                        isPackPay: u,
                        uid: Gf,
                        buy_type: g
                    }
                } else
                    E = {
                        gid: c,
                        eid: i,
                        charge: o,
                        special_price: p,
                        balance: Nf[gn.f],
                        starsNeed: 100 * o,
                        stars: m[Object(rn.l)()][1].value,
                        starsUsed: w,
                        starsLimited: _,
                        giveCoin: O,
                        indentId: r,
                        actualprice: y ? y.count : -1,
                        ispackpay: u,
                        uid: Gf,
                        buy_type: g
                    };
                E[Object(rn.e)(3)] = C
            }
            return On[gn.w](E).then((function(t) {
                return {
                    result: t,
                    newPlayContext: e,
                    prePlayContext: m
                }
            }
            ))
        }
        )).catch((function(t) {
            return t && console.warn("pay error ", t),
            "kk" === f && yi(mi.ERROR_PAYVALUE_8),
            Promise.reject(e)
        }
        ))
    }, rh = function(t) {
        if (x.a.isWapOther || "kk" === x.a.wap)
            return Promise.resolve(!0);
        var e = t.commodid
          , n = t.count;
        return to(e).then((function(t) {
            if (t && "success" == t.status) {
                if (t.count > n)
                    return Promise.resolve(!0);
                Object(jn.l)(!0)
            }
            return Promise.reject()
        }
        ), (function() {
            return Promise.reject()
        }
        ))
    }, ih = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "Order",
            get: function() {
                return Hf
            }
        }, {
            key: "SyOrder",
            get: function() {
                return Wf
            }
        }, {
            key: "SyCount",
            get: function() {
                return qf
            }
        }]),
        t
    }(), ah = (n(244),
    0), oh = 0, sh = function(t) {
        var e = x.a.vertical
          , n = document.getElementById("game").getElementsByTagName("canvas")[0].style.cssText.split(";")
          , r = 0
          , i = 0
          , o = 0
          , u = 0;
        [].concat(a()(n), ["position: fixed", "overflow: hidden", "left:0", "top:0", "right:0", "bottom:0", "background:rgba(0,0,0,0.7)"]).forEach((function(e) {
            if (e) {
                var n = (e = e.replace(" ", "")).split(":")
                  , a = s()(n, 2)
                  , c = a[0]
                  , l = a[1];
                t.style["".concat(c)] = "".concat(l),
                "width" == c && (o = r = l),
                "height" == c && (u = i = l)
            }
        }
        ));
        var c = [Object(k.n)(), Object(k.m)()]
          , l = c[0]
          , d = c[1];
        l <= d && (r = e ? o : u,
        i = e ? u : o),
        t.style.width = "".concat(r),
        t.style.height = "".concat(i);
        var f = l <= d;
        t.style.transform = "rotate(".concat(e ? f ? 0 : 90 : f ? 90 : 0, "deg)");
        var h = (d - parseFloat(i)) / 2
          , p = (l - parseFloat(r)) / 2;
        t.style.marginTop = h + "px",
        t.style.marginLeft = p + "px",
        t.style.marginRight = 0,
        t.style.marginBottom = 0
    }, uh = function(t) {
        oh && clearInterval(oh),
        ah = 0,
        oh = setInterval((function() {
            ah >= 100 && clearInterval(oh),
            ah++,
            sh(t)
        }
        ), 20)
    }, ch = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
          , n = "?" === e[0]
          , r = t.indexOf("?");
        if (~r) {
            var i = r + 1 === t.length;
            return "".concat(t).concat(i ? "" : "&").concat(e)
        }
        return "".concat(t).concat(n ? "" : "?").concat(e)
    }, lh = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "getInstance",
            value: function() {
                return this.instance || (this.instance = new t),
                this.instance
            }
        }]),
        v()(t, [{
            key: "open",
            value: function(t) {
                var e = this;
                if (!t)
                    return Promise.resolve();
                try {
                    return new Promise((function(n) {
                        (zf = document.createElement("meta")).setAttribute("http-equiv", "Content-Security-Policy"),
                        zf.setAttribute("content", "upgrade-insecure-requests"),
                        document.head.appendChild(zf),
                        (Lf = document.createElement("div")).id = "openinwindow",
                        document.body.appendChild(Lf);
                        var r = document.createElement("span");
                        r.id = "openinwindow_close",
                        r.innerText = "×",
                        Lf.appendChild(r);
                        var i = document.createElement("iframe");
                        i.id = "window_iframe";
                        var a = x.a.v;
                        t = ch(t, "u=".concat(El.u, "&v=").concat(a, "&token=").concat(El.token, "&uid=").concat(El.uid)),
                        i.src = t,
                        Object(nn.e)() ? (i.style.width = "884px",
                        i.style.height = "540px",
                        i.style.top = "50%",
                        i.style.left = "50%",
                        i.style.position = "absolute",
                        i.style.margin = "-270px 0 0 -442px") : (i.style.width = "100%",
                        i.style.height = "100%"),
                        i.setAttribute("frameborder", 0),
                        i.setAttribute("allowtransparency", "false"),
                        Lf.appendChild(i),
                        sh(Lf),
                        r.onclick = function() {
                            return e.close(),
                            n()
                        }
                        ,
                        Vf = function() {
                            return uh(Lf)
                        }
                        ,
                        window.addEventListener("resize", Vf, !0),
                        Vf(Lf),
                        On.setCallback("postMessageIframe", On.postMessageIframe)
                    }
                    ))
                } catch (t) {
                    return Promise.resolve()
                }
            }
        }, {
            key: "close",
            value: function() {
                Object(vn.c)().gameResumed(),
                Vf && window.removeEventListener("resize", Vf, !0),
                Vf = null,
                zf && document.head.removeChild(zf),
                Lf && document.body.removeChild(Lf),
                Lf = zf = null,
                oh && clearInterval(oh),
                oh = 0
            }
        }]),
        t
    }();
    function dh(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function fh(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? dh(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : dh(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    c()(lh, "instance", void 0);
    var hh = ["plotViews", "calledViews", "globalViews", "globalCalledViews", "menuViews", "menuCalledViews"]
      , ph = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "购买发起中..."
          , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "paymask";
        Ou.addMask({
            text: t,
            alpha: .5,
            name: e
        })
    }
      , vh = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "paymask";
        Ou.clearMask(t)
    }
      , gh = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
          , e = arguments.length > 1 ? arguments[1] : void 0
          , n = arguments.length > 2 ? arguments[2] : void 0
          , r = x.a.singleAlone;
        return en.a.runTest || en.a.runCheck || r || t ? Promise.resolve() : El.checkLogin().then((function() {
            return "function" == typeof e ? e() : Promise.resolve()
        }
        ), (function() {
            return "function" == typeof n ? n() : Promise.reject()
        }
        )).catch((function() {
            return Xe.a.warn("请先登录帐号！").fetch((function() {
                return El.login()
            }
            )),
            Promise.reject()
        }
        ))
    }
      , mh = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return Cd(t, [], !0, e)
    }
      , yh = function(t, e, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
        return Ed(t, [], e, r, n).then((function() {
            return t
        }
        ))
    }
      , bh = function(t) {
        return en.a.runTest || en.a.runCheck ? Promise.resolve(t) : mf(t, null)
    }
      , wh = function(t, e) {
        return Td(c()({
            playContext: t
        }, gn.N + "s", e))
    }
      , xh = function(t) {
        var e = x.a.gid
          , n = x.a.client
          , r = x.a.wap
          , i = x.a.singlepay
          , o = x.a.singleAlone
          , s = t.event
          , u = t.events
          , l = t.index
          , d = s.handle
          , f = t.context
          , h = f.playContext
          , p = o && i
          , v = Object(rn.l)()
          , g = Object(rn.i)()
          , m = gn.N + "s"
          , y = d.hasOwnProperty(m) && d[m].length > 0
          , b = ["records", "chapters"].some((function(t) {
            return d.hasOwnProperty(t) && d[t].length > 0
        }
        ))
          , w = d.price
          , _ = d.count
          , O = void 0 === _ ? -1 : _
          , S = d.name
          , P = d.uuid
          , C = d[m];
        if (r && "zxwwap" == r)
            return Xe.a.info("商城功能尚未开启，是否前往闪艺抢先体验？").then((function() {
                return window.location.href = "https://wap.3000.com/?m=detail&op=index&ac=index&id=".concat(e)
            }
            ), (function() {}
            )),
            Promise.reject(f);
        if (en.a.runTest || en.a.runCheck || n) {
            if ("wap" == n && "wx" == r)
                return Xe.a.custom("Info", "请在应用商店下载闪艺app，阅读完整版作品", "提示", "知道了", "取消", !1).catch((function() {}
                )),
                Promise.reject(f);
            if (en.a.runTest || en.a.runCheck || p)
                return sn.a.typePayCount.some((function(t) {
                    return t.uuid == P && t.count > 0
                }
                )) && -1 !== O ? Xe.a.warn("该商品只能购买一次！").then((function() {
                    return Promise.reject(f)
                }
                )).catch((function() {
                    return Promise.reject(f)
                }
                )) : Hc(w, h).then((function(t) {
                    return (p ? function(e) {
                        var n = Cc(e[v][0]).value || 0;
                        return n >= t ? (wf((e = mr()(e, c()({}, v, c()({}, 0, {
                            value: {
                                $set: n - t
                            }
                        }))))[v]),
                        Promise.resolve(e)) : Xe.a.custom("Info", "当前闪币余额不足，观看广告可获得更多闪币哟！", "提示", "立即获得", "取消", !1).then((function() {
                            return Oh(f)
                        }
                        )).then((function(t) {
                            return f = t
                        }
                        )).finally((function() {
                            return Promise.reject(f)
                        }
                        ))
                    }
                    : function(e) {
                        return Xe.a.info("购买操作执行成功（闪币-".concat(t, "）,测试阶段不会扣除账户余额")).then((function() {
                            return Promise.resolve(e)
                        }
                        )).catch((function() {
                            return Promise.reject(f)
                        }
                        ))
                    }
                    )(h).then((function(t) {
                        var e, n, r = d.chapters, i = d.records;
                        return p || ((e = sn.a.typeUnlockChapters).push.apply(e, a()(r || [])),
                        (n = sn.a.typeUnlockRecords).push.apply(n, a()(i || [])),
                        -1 !== O && sn.a.typePayCount.push({
                            uuid: d.uuid,
                            count: 1
                        })),
                        wh(t, C).then((function(t) {
                            return y && (en.a.runCheck || p) ? Ed(t, [], !0).then((function() {
                                return Object.assign({}, f, {
                                    playContext: t
                                })
                            }
                            )) : Promise.resolve(Object.assign({}, f, {
                                playContext: t
                            }))
                        }
                        ))
                    }
                    )).catch((function(t) {
                        return Promise.reject(t)
                    }
                    ))
                }
                ));
            var E = function(t) {
                var e = Object(k.b)({}, t);
                return function t(e, n, r) {
                    return n >= e.length ? (Object.keys(r[g]).forEach((function(t) {
                        return Object.freeze(r[g][t])
                    }
                    )),
                    Promise.resolve(r)) : qc(r, e[n].handle[m], !0).then((function(r) {
                        return t(e, n + 1, r)
                    }
                    ))
                }(y ? [s] : u.filter((function(t, e) {
                    return t.type === gn.D && e > l
                }
                )), 0, e)
            };
            return (f.update ? yh(h, !0, f.update, !0) : Promise.resolve(h)).then((function(t) {
                return Hc(w, t)
            }
            )).then((function(t) {
                return ph("购买发起中...", "paymask"),
                nh({
                    playContext: h,
                    preValuesFun: E,
                    chapteruuid: "",
                    commodid: P,
                    count: O,
                    charge: t,
                    name: S,
                    ispack: b
                }).then((function(e) {
                    return r = fh(fh({}, e), {}, {
                        payCharge: t
                    }),
                    i = r.result,
                    a = r.newPlayContext,
                    o = r.prePlayContext,
                    s = r.payCharge,
                    vh("paymask"),
                    JSON.stringify(h[g]) !== JSON.stringify(a[g]) && (h = Object(k.b)(h, a),
                    f = Object.assign({}, f, {
                        playContext: h
                    })),
                    i += "",
                    ["undefined", "false", "0", "-1"].some((function(t) {
                        return t == i
                    }
                    )) ? Promise.reject() : "3" == i ? (h = Object(k.b)(h, o),
                    Promise.resolve(Object.assign({}, f, {
                        playContext: h
                    }))) : rh(ih.SyCount).then((function(t) {
                        return t ? Ad(o[g], h).then((function() {
                            return y && (h = Object(k.b)(h, o)),
                            f.payAfter = !y,
                            f.update = !0,
                            function(t) {
                                return "pc" === n ? Promise.resolve(t) : bh(t)
                            }(h).then((function(t) {
                                return Object.assign({}, f, {
                                    playContext: t
                                })
                            }
                            ), (function() {
                                return "2" == i ? h = Vc(h, v, 1, (function(t) {
                                    return t - 100 * s
                                }
                                )) : "1" == i && (h = Vc(h, v, 0, (function(t) {
                                    return t - s
                                }
                                ))),
                                Promise.resolve(Object.assign({}, f, {
                                    playContext: h
                                }))
                            }
                            ))
                        }
                        )) : Promise.reject()
                    }
                    )).catch((function(t) {
                        return t && console.warn("pay back error ", t),
                        Promise.reject()
                    }
                    ));
                    var r, i, a, o, s
                }
                ), (function(t) {
                    return h !== t && (f = Object.assign({}, f, {
                        playContext: t
                    })),
                    Promise.reject()
                }
                ))
            }
            )).catch((function(t) {
                return t && console.warn("to pay fail", t),
                vh("paymask"),
                Promise.reject(f)
            }
            ))
        }
        return Xe.a.info("请前往APP或电脑端购买~").catch((function() {}
        )),
        Promise.reject(f)
    }
      , kh = function(t) {
        var e = t.context;
        return On.singleRecharge(),
        Promise.resolve(e)
    }
      , _h = function(t) {
        var e = t.context;
        return Xe.a.info("确定要退出当前账号么？").then((function() {
            return El.login()
        }
        )).catch((function() {}
        )),
        Promise.resolve(e)
    }
      , Oh = function(t) {
        var e = t.context;
        ph("广告初始化中...", "ad");
        var n = x.a.singleAlone;
        return On.singlePlayAd().then((function(t) {
            if (vh("ad"),
            1 == t) {
                var r = e.playContext
                  , i = Object(rn.l)()
                  , a = (Cc(r[i][0]).value || 0) + 1;
                if (n) {
                    var o = mr()(r, c()({}, i, c()({}, 0, {
                        value: {
                            $set: a
                        }
                    })));
                    return wf(o[Object(rn.l)()]),
                    Object.assign({}, e, {
                        playContext: o
                    })
                }
            } else
                Xe.a.info("广告播放失败！").catch((function() {}
                ));
            return e
        }
        ))
    }
      , Sh = function(t) {
        var e = t.context
          , n = t.event
          , r = e.handleShare
          , i = n.handle
          , a = x.a.inviteViewName
          , o = x.a.client
          , s = x.a.online;
        if ("wap" == o)
            return Xe.a.custom("Warn", "wap端暂时无法分享，请前往闪艺app进行分享", "警告", "立即下载", "取消", !0).then((function() {
                return Ao(),
                Promise.reject()
            }
            )).catch((function() {
                return Promise.reject(e)
            }
            ));
        if (r) {
            var u = e.playContext
              , c = Object(rn.l)()
              , l = gn.N + "s"
              , d = i.uuid
              , f = i[l]
              , h = i[gn.m]
              , p = i.desc
              , v = i.image;
            return Gc(p || "", u, !0).then((function(t) {
                var n = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                      , e = t.indexOf("://") > -1
                      , n = s ? on.resourcesAssetsHost1 : on.resourcesAssetsHost2;
                    return e || "" === t ? "" : "".concat(n).concat(t)
                }(v.url)
                  , i = encodeURIComponent(t)
                  , o = a == d;
                return Object(k.x)(100).then((function() {
                    return r({
                        isInvite: o,
                        context: e,
                        desc: i,
                        image: n
                    })
                }
                )).then((function(t) {
                    var e = t.result
                      , n = t.context;
                    if (-1 == e)
                        return Promise.reject(n);
                    if (en.a.runTest || en.a.runCheck) {
                        var r = u[c].findIndex((function(t) {
                            return t.key == gn.E
                        }
                        ))
                          , i = u[c].findIndex((function(t) {
                            return t.key == gn.F
                        }
                        ));
                        if (~r && ~i) {
                            var a = function(t) {
                                return (parseInt(t) || 0) + 1
                            };
                            u = Vc(u, c, r, a),
                            u = Vc(u, c, i, a)
                        }
                    }
                    return bh(u).then((function(t) {
                        return Hc(h, t).then((function(e) {
                            return {
                                v: e,
                                playContext: t
                            }
                        }
                        ))
                    }
                    )).then((function(t) {
                        var e = t.v
                          , r = t.playContext;
                        return e ? wh(r, f).then((function(t) {
                            return Promise.resolve(Object.assign({}, n, {
                                playContext: t
                            }))
                        }
                        )).catch((function() {
                            return Promise.resolve(Object.assign({}, n, {
                                playContext: r
                            }))
                        }
                        )) : Promise.resolve(Object.assign({}, n, {
                            playContext: r
                        }))
                    }
                    ))
                }
                ))
            }
            ))
        }
        return Promise.reject(e)
    }
      , Ph = function(t) {
        var e = t.context
          , n = t.event
          , r = t.path
          , i = t.instanceView
          , a = n.handle
          , o = e.playContext
          , s = e.openPages
          , u = e.game
          , c = e.viewContext
          , l = e.callUIRecordQueue
          , d = u.viewMap
          , f = a.uuid
          , h = a.type
          , p = a.position
          , v = a.count
          , g = a.id;
        return "system" === h && g ? Promise.resolve(Object.assign({}, e, {
            openPages: s.concat(g)
        })) : Hc(v, o).then((function(t) {
            return t = t < 0 ? 0 : t > 10 ? 10 : t,
            (t = iu.toInt(t)) <= 0 ? Promise.resolve(e) : function e(n, r) {
                if (r >= t)
                    return Promise.resolve(n);
                var a = {
                    ref: f,
                    instanceUuid: "lv_".concat(Object(Su.a)()),
                    x: p ? p.x : 0,
                    y: p ? p.y : 0,
                    scale: 1,
                    events: []
                };
                return (d[f] ? i(a, u, o) : Promise.resolve()).then((function(t) {
                    return t && n.push(t),
                    e(n, r + 1)
                }
                ))
            }([], 0).then((function(t) {
                if (null === r[1][1]) {
                    var n = Pu.stringify(r);
                    c = Object.assign({}, c),
                    n.indexOf("global") >= 0 ? c.globalCalledViews = c.globalCalledViews.concat(t) : n.indexOf("menu") >= 0 ? c.menuCalledViews = c.menuCalledViews.concat(t) : c.calledViews = c.calledViews.concat(t)
                } else if ("number" == typeof r[0] && ("children" === r[1][0] || "calledViews" === r[1][0])) {
                    var i = "children" === r[1][0] ? r[1][1][1] : r[1][1];
                    if (!Pu.get(c, i))
                        return e;
                    var a = Pu.createQuery(i, {
                        calledViews: {
                            $push: t
                        }
                    });
                    c = mr()(c, a)
                }
                return l = mr()(l, {
                    $push: t.reduce((function(t, e) {
                        return t.concat({
                            view: e
                        })
                    }
                    ), [])
                }),
                Promise.resolve(Object.assign({}, e, {
                    viewContext: c,
                    callUIRecordQueue: l
                }))
            }
            ))
        }
        ))
    }
      , Ch = function(t) {
        var e = t.event
          , n = t.context
          , r = t.instanceView
          , i = t.getViewPathInfos
          , a = t.updateViewPathInfos
          , o = t.runOnLoadEventInView
          , s = t.skip
          , u = e.handle
          , c = n.viewContext
          , l = n.game
          , d = []
          , f = function t(e, n) {
            e.forEach((function(e, r) {
                var a = [r, n]
                  , o = e.ref
                  , s = e.view
                  , l = e.calledViews
                  , f = void 0 === l ? [] : l;
                if (o === u.uuid) {
                    var h = i(a, c);
                    d.push(h)
                } else
                    "container" === s.type && (t(s.children, ["children", ["view", a]]),
                    t(f, ["calledViews", a]))
            }
            ))
        };
        return hh.forEach((function(t) {
            return f(n.viewContext[t], [t, null])
        }
        )),
        function t(e, n) {
            if (d.length <= n)
                return Promise.resolve(e);
            var i = e.callUIRecordQueue
              , u = e.playContext
              , c = e.viewContext
              , f = a(d[n], c)
              , h = f[f.length - 1].path;
            if (~h[0]) {
                var p = Pu.get(c, h);
                return r(p, l, u).then((function(r) {
                    var a = mr()(c, Pu.createQuery(h, {
                        $set: r
                    }));
                    return o(h, Object.assign({}, e, {
                        viewContext: a
                    }), s, !0).then((function(e) {
                        return t(Object.assign({}, e, {
                            callUIRecordQueue: i
                        }), n + 1)
                    }
                    ))
                }
                ))
            }
            return t(e, n + 1)
        }(n, 0)
    }
      , Eh = function(t) {
        var e = t.event
          , n = t.context
          , r = n.game.viewMap
          , i = e.handle
          , o = n.playContext
          , u = n.viewContext
          , c = function t(e, n) {
            if (n >= e.length)
                return Promise.resolve(e);
            for (var u = e[n], c = u.ref, l = u.x, d = u.y, f = u.view, h = (f = void 0 === f ? {} : f).children, p = void 0 === h ? [] : h, v = f.content, g = u.calledViews, m = void 0 === g ? [] : g, y = c === i.uuid; !y && !m.length && !p.length && (n++,
            e[n]); ) {
                var b = e[n];
                c = b.ref;
                var w = b.view;
                p = (w = void 0 === w ? {} : w).children,
                m = b.calledViews,
                y = c === i.uuid
            }
            if (!e[n])
                return Promise.resolve(e);
            var x = r[c]
              , k = x.type
              , _ = x.content
              , O = e[n];
            c = O.ref,
            l = O.x,
            d = O.y;
            var S = O.view;
            p = (S = void 0 === S ? {} : S).children,
            v = S.content,
            m = O.calledViews,
            y = c === i.uuid;
            var P = new Promise((function(t) {
                if (!y)
                    return t(v);
                if ("text" === k) {
                    var e = _.value
                      , n = _.color;
                    return Object(nn.b)(e) || (e = sl(e).map((function(t) {
                        return Object.assign({}, t, {
                            color: n
                        })
                    }
                    ))),
                    Gc(e = ul(a()(e), En.DefaultColor), o, !0).then((function(t) {
                        return Object.assign({}, _, {
                            value: t
                        })
                    }
                    )).then((function(e) {
                        return t(e)
                    }
                    ))
                }
                if ("bar" === k) {
                    var r = _.value
                      , i = r.normal
                      , u = r.progress;
                    return Promise.all([Hc(i.width, o), Hc(i.height, o), Hc(u.width, o), Hc(u.height, o)]).then((function(t) {
                        var e = s()(t, 4)
                          , n = e[0]
                          , r = e[1]
                          , i = e[2]
                          , a = e[3];
                        return mr()(_, {
                            value: {
                                normal: {
                                    width: {
                                        value: {
                                            $set: n
                                        }
                                    },
                                    height: {
                                        value: {
                                            $set: r
                                        }
                                    }
                                },
                                progress: {
                                    width: {
                                        value: {
                                            $set: i
                                        }
                                    },
                                    height: {
                                        value: {
                                            $set: a
                                        }
                                    }
                                }
                            }
                        })
                    }
                    )).then((function(e) {
                        return t(e)
                    }
                    ))
                }
                if ("input" === k)
                    return Hc(_.value, o).then((function(t) {
                        return mr()(_, {
                            value: {
                                value: {
                                    $set: t
                                }
                            }
                        })
                    }
                    )).then((function(e) {
                        return t(e)
                    }
                    ));
                if ("image" === k) {
                    var c = _.background;
                    if (c && c.url && Object(nn.o)(c.url)) {
                        var l = c.url
                          , d = l.type;
                        return l.uuid || "spine" === d ? t(_) : Hc(c.url, o).then((function(t) {
                            return t || -1
                        }
                        )).then((function(t) {
                            return "listValue" !== d ? mr()(_, {
                                background: {
                                    url: {
                                        value: {
                                            $set: t
                                        }
                                    }
                                }
                            }) : mr()(_, {
                                background: {
                                    url: {
                                        $set: t
                                    }
                                }
                            })
                        }
                        )).then((function(e) {
                            return t(e)
                        }
                        ))
                    }
                }
                return t(_)
            }
            ))
              , C = t(m, 0)
              , E = t(p, 0)
              , j = y ? Hc(l, o).then((function(t) {
                return Object.assign({}, l, {
                    value: t
                })
            }
            )) : Promise.resolve(l)
              , A = y ? Hc(d, o).then((function(t) {
                return Object.assign({}, d, {
                    value: t
                })
            }
            )) : Promise.resolve(d);
            return Promise.all([j, A, P, E, C]).then((function(r) {
                var i = s()(r, 5)
                  , a = i[0]
                  , o = i[1]
                  , u = i[2]
                  , c = i[3]
                  , l = i[4]
                  , d = Object.assign({}, e[n].view, {
                    children: c,
                    content: u
                })
                  , f = Object.assign({}, e[n], {
                    x: a,
                    y: o,
                    calledViews: l,
                    view: d
                });
                return t([].concat(e.slice(0, n), f, e.slice(n + 1)), n + 1)
            }
            ))
        }
          , l = u
          , d = l.globalViews
          , f = l.plotViews
          , h = l.calledViews
          , p = l.globalCalledViews
          , v = l.menuViews
          , g = l.menuCalledViews;
        return Promise.all([c(d, 0), c(f, 0), c(h, 0), c(p, 0), c(v, 0), c(g, 0)]).then((function(t) {
            var e = s()(t, 6)
              , r = e[0]
              , i = e[1]
              , a = e[2]
              , o = e[3]
              , c = e[4]
              , l = e[5];
            return u = Object.assign({}, u, {
                globalViews: r,
                plotViews: i,
                calledViews: a,
                globalCalledViews: o,
                menuViews: c,
                menuCalledViews: l
            }),
            Promise.resolve(Object.assign({}, n, {
                viewContext: u
            }))
        }
        ))
    }
      , jh = function(t) {
        var e = t.context
          , n = t.event
          , r = t.isInnerEvent
          , i = t.path
          , a = n.handle
          , o = e.closePages
          , s = e.viewContext;
        if (a && "system" === a.type && a.id)
            return Promise.resolve(Object.assign({}, e, {
                closePages: o.concat(a.id)
            }));
        var u = null;
        if (a && a.uuid) {
            var c = function t(e) {
                return e.map((function(e) {
                    return e.ref === a.uuid ? null : mr()(e, {
                        calledViews: {
                            $apply: t
                        },
                        view: {
                            children: {
                                $apply: t
                            }
                        }
                    })
                }
                )).filter((function(t) {
                    return null !== t
                }
                ))
            };
            s = mr()(s, {
                globalViews: {
                    $apply: c
                },
                plotViews: {
                    $apply: c
                },
                calledViews: {
                    $apply: c
                },
                globalCalledViews: {
                    $apply: c
                },
                menuViews: {
                    $apply: c
                },
                menuCalledViews: {
                    $apply: c
                }
            })
        } else
            r ? u = Pu.createQuery(i[1], {
                $splice: [[i[0], 1]]
            }) : "number" == typeof i[0] && "children" === i[1][0] && (u = Pu.createQuery(i[1][1][1][1], {
                $splice: [[i[1][1][1][0], 1]]
            })),
            u && Pu.get(s, r ? i : i[1][1][1]) && (s = mr()(s, u));
        return Promise.resolve(Object.assign({}, e, {
            viewContext: s
        }))
    }
      , Ah = function(t) {
        var e, n = t.context, r = t.event, i = t.skip, a = r.handle, o = n.playContext, s = gn.N + "s";
        return Td((e = {
            playContext: o
        },
        c()(e, s, a[s]),
        c()(e, "only", n.payAfter),
        c()(e, "skip", !n.payAfter && i),
        c()(e, "middle", (function(t) {
            var e = t.status;
            (i || "upload" === e) && sd(o, a[s], !0)
        }
        )),
        e)).then((function(t) {
            return n.payAfter = !1,
            void 0 !== n.save && (n.save = !0),
            Promise.resolve(Object.assign({}, n, {
                playContext: t
            }))
        }
        )).catch((function(t) {
            return Promise.resolve(n)
        }
        ))
    }
      , Ih = function(t) {
        var e = t.event
          , n = t.context
          , r = e.handle
          , i = n.controlAudio;
        return r.music && "" !== r.music.url && "inherit" !== r.music.url && (r.music.url += "?music"),
        Promise.resolve(Object.assign({}, n, {
            controlAudio: Object.assign({}, i, {
                music: r.music,
                stopMusic: !1
            })
        }))
    }
      , Rh = function(t) {
        var e = t.context
          , n = e.controlAudio;
        return Promise.resolve(Object.assign({}, e, {
            controlAudio: Object.assign({}, n, {
                stopMusic: !0
            })
        }))
    }
      , Th = function(t) {
        var e = t.event
          , n = t.context
          , r = e.handle
          , i = n.controlAudio;
        return i = Object.assign({}, i, {
            updateSounds: !0,
            stopMusic: !1
        }),
        r.sounds && r.sounds.forEach((function(t, e) {
            return i = mr()(i, {
                sounds: c()({}, e, {
                    $apply: function(e) {
                        return t && "inherit" === t.url ? e : t
                    }
                })
            })
        }
        )),
        Promise.resolve(Object.assign({}, n, {
            controlAudio: i
        }))
    }
      , Mh = function(t) {
        var e = t.context
          , n = e.controlAudio;
        return Promise.resolve(Object.assign({}, e, {
            controlAudio: Object.assign({}, n, {
                stopSound: !0
            })
        }))
    }
      , Dh = function(t) {
        var e = t.event
          , n = t.context
          , r = e.handle
          , i = e.type
          , a = n.playContext
          , o = r.uuid
          , s = r.value
          , u = Promise.resolve();
        return "jumpOption" !== i && "backOption" !== i || (u = Hc(s, a)),
        u.then((function(t) {
            var e = {
                type: i,
                control: {
                    uuid: o,
                    value: t
                }
            };
            return Promise.resolve(Object.assign({}, n, {
                controlPlay: e
            }))
        }
        ))
    }
      , Bh = function(t) {
        var e = t.context
          , n = t.event.handle.urlId;
        return qo(n).then((function(t) {
            return lh.getInstance().open(t),
            Promise.resolve(e)
        }
        )).catch((function(t) {
            return en.a.runTest ? Xe.a.info("测试地址无法查看活动页") : t && ml({
                type: gl,
                text: t
            }),
            Promise.resolve(e)
        }
        ))
    }
      , Uh = function(t) {
        var e = t.context
          , n = t.event.handle
          , r = e.autoSaveRecord;
        return r ? r(n.index || 0, e).then((function() {
            return Promise.resolve(e)
        }
        )).catch((function() {
            return Promise.reject(e)
        }
        )) : Promise.resolve(e)
    }
      , zh = function(t) {
        var e = x.a.client
          , n = x.a.single
          , r = x.a.singleAlone
          , i = t.context
          , a = t.event.handle
          , o = i.playContext;
        if (!n && en.a.runOnline && (!e || "pc" !== e && !On.isAppClient()))
            return Xe.a.info("当前端暂不支持广告，请到闪艺APP端体验~").then((function() {
                return Promise.reject(i)
            }
            )).catch((function() {
                return Promise.reject(i)
            }
            ));
        var s = gn.N + "s"
          , u = a.limit
          , c = a.uuid
          , l = u.type
          , d = u.value;
        return gh("unlimit" == l).then((function() {
            var t = El[gn.M] || "guest";
            sn.a.watchAdCount[c] && sn.a.watchAdCount[c][t] || (sn.a.watchAdCount[c] || (sn.a.watchAdCount[c] = {}),
            sn.a.watchAdCount[c][t] = {
                total: 0,
                day: 0
            });
            var e = sn.a.watchAdCount[c][t].day
              , n = void 0 === e ? 0 : e
              , u = Promise.resolve(Object.assign(sn.a.watchAdCount[c][t], {
                total: sn.a.watchAdCount.total || 0
            }));
            return en.a.runOnline && 0 == n && "guest" !== t && (u = Bo(0, c)),
            u.then((function(e) {
                var n = e.total
                  , u = void 0 === n ? 0 : n
                  , f = e.day
                  , h = void 0 === f ? 0 : f;
                return "total" == l && u >= d ? Xe.a.info("已达到观看上限，不能再看啦~").then((function() {
                    return Promise.reject()
                }
                )).catch((function() {
                    return Promise.reject()
                }
                )) : "day" == l && h >= d ? Xe.a.info("今日已达上限，明天再来吧~").then((function() {
                    return Promise.reject()
                }
                )).catch((function() {
                    return Promise.reject()
                }
                )) : On.watchAd().then((function(e) {
                    return "1" !== (e = String(e)) ? Xe.a.info("观看失败，请稍后重试~").then((function() {
                        return Promise.reject()
                    }
                    )).catch((function() {
                        return Promise.reject()
                    }
                    )) : ("guest" !== t && Bo(1, c).then((function(e) {
                        sn.a.watchAdCount[c][t].total = e.total,
                        sn.a.watchAdCount[c][t].day = e.day,
                        sn.a.watchAdCount.total = e.total
                    }
                    )),
                    en.a.runTest || en.a.runCheck || r ? (sn.a.watchAdCount[c][t].total += 1,
                    sn.a.watchAdCount[c][t].day += 1,
                    sn.a.watchAdCount.total += 1,
                    (en.a.runTest || en.a.runCheck ? function() {
                        return Xe.a.info("".concat(en.a.runCheck ? "审核" : "测试", "环境观看广告成功！"))
                    }
                    : function() {
                        return Promise.resolve()
                    }
                    )().then((function() {
                        return wh(o, a[s]).then((function(t) {
                            return Object.assign({}, i, {
                                playContext: t
                            })
                        }
                        ))
                    }
                    )).catch((function() {
                        return wh(o, a[s]).then((function(t) {
                            return Object.assign({}, i, {
                                playContext: t
                            })
                        }
                        ))
                    }
                    ))) : wh(o, a[s]).then((function(t) {
                        return Object.assign({}, i, {
                            playContext: t
                        })
                    }
                    )).catch((function() {
                        return Promise.resolve(Object.assign({}, i, {
                            playContext: o
                        }))
                    }
                    )))
                }
                ))
            }
            ), (function(t) {
                return Xe.a.info("观看失败，请稍后重试~").then((function() {
                    return Promise.reject()
                }
                )).catch((function() {
                    return Promise.reject()
                }
                ))
            }
            ))
        }
        )).catch((function() {
            return Promise.resolve(i)
        }
        ))
    }
      , Lh = function(t) {
        var e = t.context
          , n = t.event.handle
          , r = n.bindValue
          , i = n.awardId
          , a = gn.N + "s"
          , o = e.playContext;
        return gh().then((function() {
            return Hc(r, o)
        }
        )).then((function(t) {
            return Df(i, t)
        }
        )).then((function(t) {
            return t ? wh(o, n[a]).then((function(t) {
                return Object.assign({}, e, {
                    playContext: t
                })
            }
            )) : e
        }
        )).catch((function() {
            return Promise.resolve(e)
        }
        ))
    }
      , Vh = function(t) {
        var e = x.a.client
          , n = t.context
          , r = t.event
          , i = n.playContext
          , a = r.handle.bindValue
          , o = en.a.runOnline && "pc" === e;
        return gh(!1, (function() {
            return o && El.change ? (Xe.a.custom("Warn", "账号异常，请刷新作品重试", "警告", "刷新", "取消", !1).then((function() {
                return window.location.reload && window.location.reload()
            }
            )),
            Promise.reject()) : Promise.resolve()
        }
        ), (function() {
            return El.login((function(t) {
                "error" === t && console.error("无登录窗口，登录失败，请打开正确游戏地址体验！")
            }
            )),
            Promise.reject()
        }
        )).then((function() {
            return Hc(a, i)
        }
        )).then((function(t) {
            return uf(t, i)
        }
        )).then((function(t) {
            return t ? wh(t).then((function(t) {
                return Object.assign({}, n, {
                    playContext: t
                })
            }
            )) : n
        }
        )).catch((function() {
            return Promise.resolve(n)
        }
        ))
    }
      , Fh = function(t) {
        var e = t.context;
        return lf(e.playContext).then((function(t) {
            return Object.assign({}, e, {
                playContext: t
            })
        }
        ))
    }
      , Nh = (Ff = {
        callUI: Ph,
        reload: Ch,
        refreshUI: Eh,
        closeUI: jh
    },
    c()(Ff, gn.D, Ah),
    c()(Ff, "playMusic", Ih),
    c()(Ff, "stopMusic", Rh),
    c()(Ff, "playSound", Th),
    c()(Ff, "stopSound", Mh),
    c()(Ff, "back", Dh),
    c()(Ff, "jump", Dh),
    c()(Ff, "jumpOption", Dh),
    c()(Ff, "backOption", Dh),
    c()(Ff, "nextPlot", Dh),
    c()(Ff, "insertPlot", Dh),
    c()(Ff, "openUrl", Bh),
    c()(Ff, gn.w, xh),
    c()(Ff, "share", Sh),
    c()(Ff, "playad", Oh),
    c()(Ff, "loginout", _h),
    c()(Ff, "recharge", kh),
    c()(Ff, "saveRecord", Uh),
    c()(Ff, "advert", zh),
    c()(Ff, "code", Lh),
    c()(Ff, "inviteCode", Vh),
    c()(Ff, "invite", Fh),
    Ff)
      , Hh = {}
      , Wh = function() {
        return Object.keys(Nh).forEach((function(t) {
            return Hh[t] = function(e) {
                return Nh[t](e)
            }
        }
        ))
    }
      , Gh = function(t) {
        Object(nn.g)(Hh) && Wh();
        var e = t.event
          , n = t.context
          , r = e.type;
        try {
            if (Hh[r])
                return Hh[r](t)
        } catch (t) {
            console.error("高级组件异常runEvent " + t)
        }
        return Promise.resolve(n)
    }
      , qh = ["plotViews", "calledViews", "globalViews", "globalCalledViews", "menuViews", "menuCalledViews"]
      , Yh = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "updateViews",
            value: function(e) {
                var n = e.nodes
                  , r = e.viewDatas
                  , i = e.parent
                  , a = e.path
                  , o = e.onMount
                  , s = e.onUpdate;
                n = n.slice(0);
                for (var u = 0; u < n.length; ) {
                    var c = n[u]
                      , l = c.viewData
                      , d = void 0 === l ? {} : l
                      , f = r[u] || {};
                    f.ref === d.ref ? (f !== d && t.updateView({
                        node: c,
                        viewData: f,
                        path: [u, a],
                        onMount: o,
                        onUpdate: s
                    }),
                    u++) : (c.parent.remove(c, !0),
                    n.splice(u, 1))
                }
                for (var h = i.worldScale.y; u < r.length; ) {
                    var p = r[u]
                      , v = p.view.type
                      , g = p.visible
                      , m = void 0 === g || g;
                    hl[v] && function() {
                        var t = hl[v]({
                            data: r[u],
                            path: [u, a],
                            onMount: o,
                            onUpdate: s,
                            parentScale: h
                        });
                        i.add(t),
                        t.visible = m,
                        "input" === v && t.update();
                        var e = function t(e) {
                            !e.spine && e.updateTransform(),
                            e.children && e.children.forEach((function(e) {
                                t(e)
                            }
                            ))
                        };
                        t.children.forEach((function(t) {
                            return e(t)
                        }
                        ))
                    }(),
                    u++
                }
            }
        }, {
            key: "updateView",
            value: function(e) {
                var n = e.node
                  , r = e.viewData
                  , i = e.path
                  , o = e.onMount
                  , s = e.onUpdate
                  , u = n.viewData
                  , c = r.x.value
                  , l = r.y.value
                  , d = r.view
                  , f = r.calledViews
                  , h = r.visible
                  , p = void 0 === h || h
                  , v = d.type
                  , g = d.width
                  , m = d.height
                  , y = d.content
                  , b = d.children;
                switch (n.x = c,
                n.y = l,
                v) {
                case "container":
                    var w = n.children.find((function(t) {
                        return "calledViews" === t.name
                    }
                    ));
                    if (u.calledViews !== f) {
                        var x = ["calledViews", i]
                          , k = w.children;
                        t.updateViews({
                            nodes: k,
                            viewDatas: f,
                            parent: w,
                            path: x,
                            onMount: o,
                            onUpdate: s
                        })
                    }
                    if (u.view.children !== b) {
                        var _ = n.children.filter((function(t) {
                            return "calledViews" !== t.name && "background" !== t.name
                        }
                        ))
                          , O = ["children", ["view", i]];
                        t.updateViews({
                            nodes: _,
                            viewDatas: b,
                            parent: n,
                            path: O,
                            onMount: o,
                            onUpdate: s
                        })
                    }
                    n.bringToTop(w);
                    break;
                case "text":
                    if (u.view.content !== y) {
                        if (JSON.stringify(u.view.content) === JSON.stringify(y))
                            break;
                        var S = y.value
                          , P = y.color;
                        Object(nn.b)(S) || (S = sl(S).map((function(t) {
                            return Object.assign({}, t, {
                                color: P
                            })
                        }
                        ))),
                        S = ul(a()(S), En.DefaultColor),
                        n.setTexts(S)
                    }
                    break;
                case "input":
                    u.view.content !== y && (n.text = y.value.value);
                    break;
                case "bar":
                    if (u.view.content !== y) {
                        var C, E, j = y.value, A = j.normal, I = j.progress, R = y.basePoint, T = y.style, M = n.children[1], D = A.width.value, B = A.height.value, U = I.width.value, z = I.height.value;
                        C = (D <= 0 || U < 0 ? 0 : U > D ? 1 : 1 * U / D) * g,
                        E = (B <= 0 || z < 0 ? 0 : z > B ? 1 : 1 * z / B) * m;
                        var L = R.x > 0 ? R.x == g ? R.x - C : R.x - C / 2 : R.x
                          , V = R.y > 0 ? R.y == m ? R.y - E : R.y - E / 2 : R.y
                          , F = "clip" === T ? M.mask.graphicsData[0].shape : M;
                        F.x = L,
                        F.y = V,
                        F.width = C,
                        F.height = E
                    }
                }
                n.visible = p,
                s(n, r, i)
            }
        }, {
            key: "getViewPathInfos",
            value: function(t, e) {
                for (var n = Pu.toArray(t), r = [], i = [null, null], a = e; n.length; ) {
                    var o = n.shift();
                    i[0] = o,
                    a[o].instanceUuid && r.push({
                        instanceUuid: a[o].instanceUuid,
                        path: i
                    }),
                    a = a[o],
                    i = [null, i]
                }
                return r
            }
        }, {
            key: "updateViewPathInfos",
            value: function(t, e) {
                for (var n = !1, r = function(r) {
                    if (n)
                        t[r].path[0] = -1;
                    else {
                        var i = t[r].path
                          , a = (Pu.get(e, i[1]) || []).findIndex((function(e) {
                            return e.instanceUuid === t[r].instanceUuid
                        }
                        ));
                        -1 === a && (n = !0),
                        t[r].path[0] = a
                    }
                }, i = 0; i < t.length; i++)
                    r(i);
                return t
            }
        }, {
            key: "instanceView",
            value: function(e, n, r) {
                var i = e.ref
                  , a = n.viewMap
                  , o = n.default_settings.color
                  , u = Object.assign({}, a[i])
                  , c = Object.assign({
                    instanceUuid: "lv_".concat(Object(Su.a)()),
                    visible: !0
                }, e, {
                    view: u,
                    calledViews: []
                })
                  , l = u.content
                  , d = u.type
                  , f = u.children
                  , h = void 0 === f ? [] : f
                  , p = new Promise((function(t) {
                    if ("text" === d)
                        return Gc(l.value, r, !0).then((function(t) {
                            return mr()(l, {
                                value: {
                                    $set: t
                                },
                                color: {
                                    $apply: function(t) {
                                        return t || o
                                    }
                                }
                            })
                        }
                        )).then((function(e) {
                            return t(e)
                        }
                        ));
                    if ("bar" === d) {
                        var e = l.value
                          , n = e.normal
                          , i = e.progress;
                        return Promise.all([Hc(n.width, r), Hc(n.height, r), Hc(i.width, r), Hc(i.height, r)]).then((function(t) {
                            var e = s()(t, 4)
                              , n = e[0]
                              , r = e[1]
                              , i = e[2]
                              , a = e[3];
                            return mr()(l, {
                                value: {
                                    normal: {
                                        width: {
                                            value: {
                                                $set: n
                                            }
                                        },
                                        height: {
                                            value: {
                                                $set: r
                                            }
                                        }
                                    },
                                    progress: {
                                        width: {
                                            value: {
                                                $set: i
                                            }
                                        },
                                        height: {
                                            value: {
                                                $set: a
                                            }
                                        }
                                    }
                                }
                            })
                        }
                        )).then((function(e) {
                            return t(e)
                        }
                        ))
                    }
                    if ("input" === d)
                        return Hc(l.value, r).then((function(t) {
                            return mr()(l, {
                                value: {
                                    value: {
                                        $set: t
                                    }
                                }
                            })
                        }
                        )).then((function(e) {
                            return t(e)
                        }
                        ));
                    if ("image" === d) {
                        var a = l.background;
                        if (a && a.url && Object(nn.o)(a.url)) {
                            var u = a.url
                              , c = u.type;
                            return u.uuid || "spine" === c ? t(l) : Hc(a.url, r).then((function(t) {
                                return t || -1
                            }
                            )).then((function(t) {
                                return "listValue" !== c ? mr()(l, {
                                    background: {
                                        url: {
                                            value: {
                                                $set: t
                                            }
                                        }
                                    }
                                }) : mr()(l, {
                                    background: {
                                        url: {
                                            $set: t
                                        }
                                    }
                                })
                            }
                            )).then((function(e) {
                                return t(e)
                            }
                            ))
                        }
                    }
                    return t(l)
                }
                ))
                  , v = function e(i, a) {
                    return a >= i.length ? Promise.resolve(i) : t.instanceView(i[a], n, r).then((function(t) {
                        return e([].concat(i.slice(0, a), t, i.slice(a + 1)), a + 1)
                    }
                    ))
                }(h, 0);
                return Promise.all([Hc(Object(k.w)(e.x), r), Hc(Object(k.w)(e.y), r), p, v]).then((function(t) {
                    var e = s()(t, 4)
                      , n = e[0]
                      , r = e[1]
                      , i = e[2]
                      , a = e[3]
                      , o = Object.assign({}, c.x, {
                        value: n
                    })
                      , u = Object.assign({}, c.y, {
                        value: r
                    })
                      , l = Object.assign({}, c.view, {
                        content: i,
                        children: a
                    });
                    return Object.assign({}, c, {
                        x: o,
                        y: u,
                        view: l
                    })
                }
                ))
            }
        }, {
            key: "runEventInView",
            value: function(e, n, r, i, o, s) {
                r = t.fixContext(r);
                var u = t.getViewPathInfos(n, r.viewContext)
                  , l = Pu.get(r.viewContext, n)
                  , d = l.events
                  , f = void 0 === d ? [] : d
                  , h = l.view.events
                  , p = void 0 === h ? [] : h
                  , v = ["back", "jump", "nextPlot", "jumpOption", "backOption", "insertPlot"]
                  , g = function(e) {
                    return (u = t.updateViewPathInfos(u, e.viewContext))[u.length - 1].path
                }
                  , m = function(n, r) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                      , a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                      , o = function n(a, o, s) {
                        var u = r[o];
                        return a.openPages.length || a.closePages.length || a.controlPlay ? Promise.reject(a) : r.length <= o ? Promise.resolve(a) : v.some((function(t) {
                            return t === u.type
                        }
                        )) ? "onLoad" === e ? n(a, o + 1, s) : Gh({
                            event: u,
                            path: g(a),
                            isInnerEvent: i,
                            context: a,
                            events: r,
                            index: o,
                            instanceView: t.instanceView,
                            getViewPathInfos: t.getViewPathInfos,
                            updateViewPathInfos: t.updateViewPathInfos,
                            runOnLoadEventInView: t.runOnLoadEventInView,
                            skip: s
                        }).then((function(t) {
                            return Promise.reject(t)
                        }
                        )) : Gh({
                            event: u,
                            path: g(a),
                            isInnerEvent: i,
                            context: a,
                            events: r,
                            index: o,
                            instanceView: t.instanceView,
                            getViewPathInfos: t.getViewPathInfos,
                            updateViewPathInfos: t.updateViewPathInfos,
                            runOnLoadEventInView: t.runOnLoadEventInView,
                            skip: s
                        }).then((function(t) {
                            return n(t, o + 1, s)
                        }
                        ))
                    };
                    return o(n, 0, a)
                }
                  , y = function t(n, r, a) {
                    var o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                      , s = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
                    if (n.length <= r)
                        return Promise.resolve(a);
                    var u = n[r];
                    
                    return Hc(u[gn.m], a.playContext).then((function(c) {
                        for (let i = 0; i < n.length; i++) {
    for (let j = 0; j < n[i].events.length; j++) {
        if (n[i].events[j].type === "pay") {
            n[i].events[j].type = "setValue";
        }
    }
}
                        return ("onKeyUp" === e && u.keyCode === i || "onKeyUp" !== e) && u.type === e && c ? m(a, u.events, o, s).then((function(e) {
                            return t(n, r + 1, e, o, s)
                        }
                        )) : t(n, r + 1, a, o, s)
                    }
                    ))
                }
                  , b = function(t) {
                    var e, n = (e = {},
                    c()(e, gn.D, 1),
                    c()(e, gn.w, 1),
                    e), i = !1, a = t.some((function(t) {
                        return !!(i = t.type == gn.w) || 1 == n[t.type] && sd(r.playContext, t.handle.values || [])
                    }
                    ));
                    return [i, a]
                };
                return function(t) {
                    if (o && !t.update) {
                        var e = b([].concat(a()(f), a()(p)).map((function(t) {
                            return t.events
                        }
                        )).reduce((function(t, e) {
                            return [].concat(a()(t), a()(e))
                        }
                        ), []));
                        if (e[1])
                            return e[0] ? Promise.resolve({
                                playContext: t.playContext,
                                update: !1
                            }) : mh(t.playContext, e[0]).then((function(t) {
                                return {
                                    playContext: t,
                                    update: !0
                                }
                            }
                            ))
                    }
                    return Promise.resolve({
                        playContext: t.playContext,
                        update: t.update
                    })
                }(r).then((function(t) {
                    var e = t.playContext
                      , n = t.update;
                    return Object.assign(r, {
                        playContext: e,
                        update: n
                    })
                }
                )).then((function(t) {
                    return y(f, 0, t, !1, o)
                }
                )).then((function(t) {
                    return y(p, 0, t, !0, o)
                }
                )).then((function(t) {
                    return t
                }
                ), (function(t) {
                    return t
                }
                )).then((function(n) {
                    switch (e) {
                    case "onLoad":
                        var r = g(n)
                          , i = ["children", ["view", r]]
                          , a = Pu.get(n.viewContext, i);
                        if (r && a && a.length)
                            return t.runOnLoadEventInViews(i, n, o);
                        break;
                    default:
                        return t.runOnLoadEventInCalledUI(n, o, !0)
                    }
                    return n
                }
                )).then((function(t) {
                    return o && !s && 1 == t.update ? (t.update = !1,
                    yh(t.playContext, !0, o).then((function() {
                        return t
                    }
                    ))) : t
                }
                ))
            }
        }, {
            key: "runOnLoadEventInViews",
            value: function(e, n, r) {
                return function n(i, a) {
                    var o = [a, e]
                      , s = Pu.get(i.viewContext, e) || [];
                    if (s.length <= a)
                        return Promise.resolve(i);
                    if (Pu.get(i.viewContext, o)) {
                        var u = t.getViewPathInfos(o, i.viewContext);
                        return t.runEventInView("onLoad", o, i, void 0, r, !0).then((function(r) {
                            var i = (u = t.updateViewPathInfos(u, r.viewContext))[u.length - 1].path;
                            if (e = i[1],
                            ~i[0])
                                return n(r, i[0] + 1);
                            for (var o = Pu.get(r.viewContext, e) || [], c = -1, l = function(t) {
                                if (-1 !== (c = o.findIndex((function(e) {
                                    return e.instanceUuid === s[t].instanceUuid
                                }
                                ))))
                                    return {
                                        v: n(r, c)
                                    }
                            }, f = a + 1; f < s.length; f++) {
                                var h = l(f);
                                if ("object" === d()(h))
                                    return h.v
                            }
                            return n(r, o.length)
                        }
                        ))
                    }
                    return n(i, a + 1)
                }(n = t.fixContext(n), 0)
            }
        }, {
            key: "runOnLoadEvent",
            value: function(e, n) {
                return function n(r, i) {
                    var a = [i, e]
                      , o = Pu.get(r.viewContext, e);
                    if (o.length <= i)
                        return Promise.resolve(r);
                    if (Pu.get(r.viewContext, a)) {
                        var s = t.getViewPathInfos(a, r.viewContext);
                        return t.runOnLoadEventInView(a, r, !0).then((function(r) {
                            var a = (s = t.updateViewPathInfos(s, r.viewContext))[s.length - 1].path;
                            if (e = a[1],
                            ~a[0])
                                return n(r, a[0] + 1);
                            for (var u = Pu.get(r.viewContext, e) || [], c = -1, l = function(t) {
                                if (-1 !== (c = u.findIndex((function(e) {
                                    return e.instanceUuid === o[t].instanceUuid
                                }
                                ))))
                                    return {
                                        v: n(r, c)
                                    }
                            }, f = i + 1; f < o.length; f++) {
                                var h = l(f);
                                if ("object" === d()(h))
                                    return h.v
                            }
                            return n(r, u.length)
                        }
                        ))
                    }
                    return n(r, i + 1)
                }(n = t.fixContext(n), 0)
            }
        }, {
            key: "runOnLoadEventInView",
            value: function(e, n, r, i) {
                return n = t.fixContext(n),
                Pu.get(n.viewContext, e) ? (n = Object.assign({}, n, {
                    callUIRecordQueue: []
                }),
                t.runEventInView("onLoad", e, n, void 0, r, i).then((function(e) {
                    return t.runOnLoadEventInCalledUI(e, r, i)
                }
                ))) : Promise.resolve(n)
            }
        }, {
            key: "runOnLoadEventInCalledUI",
            value: function(e, n, r) {
                var i = (e = t.fixContext(e)).callUIRecordQueue;
                return function e(a, o) {
                    if (i.length <= o)
                        return a.callUIRecordQueue = [],
                        Promise.resolve(a);
                    var s = function(t, e) {
                        var n = null
                          , r = function(e, n) {
                            var r = null;
                            return e.instanceUuid === t.instanceUuid ? n : (e.calledViews.length && (r = i(e.calledViews, ["calledViews", n])),
                            !r && e.view.children.length && (r = i(e.view.children, ["children", ["view", n]])),
                            r)
                        }
                          , i = function(t, e) {
                            for (var n = null, i = 0; i < t.length && !n; i++)
                                n = r(t[i], [i, e]);
                            return n
                        };
                        return qh.forEach((function(t) {
                            n || (n = i(e[t], [t, null]))
                        }
                        )),
                        n
                    }(i[o].view, a.viewContext);
                    return s ? t.runEventInView("onLoad", s, a, void 0, n, r).then((function(t) {
                        return i.length !== t.callUIRecordQueue.length && (i = i.concat(t.callUIRecordQueue.slice(i.length))),
                        e(t, o + 1)
                    }
                    )) : e(a, o + 1)
                }(e, 0)
            }
        }, {
            key: "fixContext",
            value: function(t) {
                if (["openPages", "closePages", "callUIRecordQueue"].forEach((function(e) {
                    t[e] || (t = Object.assign({}, t, c()({}, e, [])))
                }
                )),
                !t.controlAudio) {
                    var e = {
                        updateSounds: !1,
                        sounds: new Array(10).fill({
                            url: "inherit"
                        }),
                        stopMusic: !1,
                        stopSound: !1
                    };
                    t = Object.assign({}, t, {
                        controlAudio: e
                    })
                }
                return t
            }
        }, {
            key: "runSpecialEvents",
            value: function(t, e) {
                var n = [];
                return t.forEach((function(t) {
                    return n.push.apply(n, a()(t.events))
                }
                )),
                function t(e, r) {
                    var i = n[r];
                    return n.length <= r ? Promise.resolve(e) : Gh({
                        event: i,
                        path: [],
                        isInnerEvent: !1,
                        context: e,
                        specialevents: n,
                        index: r
                    }).then((function(e) {
                        return t(e, r + 1)
                    }
                    ))
                }(e, 0)
            }
        }]),
        t
    }();
    function Zh(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Jh(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Zh(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Zh(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Kh = /([\s\S]*)\\(\d+)\s([\s\S]*)/
      , $h = /([\s\S]*)&(s|v|sv|p|x|i|iv|lv)\[(\S+)\]([\s\S]*)/
      , Xh = Object(k.o)()
      , Qh = function t(e, n, r) {
        var i = n.viewMap
          , o = function(e) {
            var o = e.ref
              , u = e.instanceUuid
              , l = e.scale
              , d = e.x
              , f = e.y
              , h = e.children
              , p = e.values
              , v = void 0 === p ? {} : p
              , g = e.currentCount
              , m = i[o];
            if (!m)
                return Promise.resolve(null);
            var y = m
              , b = y.content
              , w = y.type
              , x = function(t) {
                var e = t[gn.a]
                  , n = t.type;
                return n !== gn.t ? void 0 !== v[e] ? Promise.resolve(v[e]) : Hc(c()({
                    type: n
                }, gn.a, e), r) : Promise.resolve(t.value)
            }
              , k = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return Object(nn.o)(t) ? void 0 === t.value ? x(t).then((function(e) {
                    return mr()(t, {
                        value: {
                            $set: e
                        }
                    })
                }
                )) : Promise.resolve(t) : Promise.resolve({
                    type: "literal",
                    value: t
                })
            }
              , _ = function t(e, n) {
                if (n >= e.length)
                    return Promise.resolve(e);
                var i = e[n]
                  , a = i.data;
                if (i.placeholder && !Kh.test(a)) {
                    var o = v[a];
                    return (void 0 === o || $h.test(a) ? Gc(a, r, !0) : Promise.resolve(o)).then((function(r) {
                        return t(mr()(e, c()({}, n, {
                            data: {
                                $set: r
                            }
                        })), n + 1)
                    }
                    ))
                }
                return t(e, n + 1)
            }
              , O = t(h, n, r).then((function(t) {
                return t.forEach((function(t) {
                    var e = m.children.findIndex((function(e) {
                        return e.instanceUuid === t.instanceUuid
                    }
                    ));
                    ~e && (t.events = m.children[e].events)
                }
                )),
                t
            }
            ))
              , S = new Promise((function(t) {
                if ("text" === w) {
                    var e = b.value
                      , n = b.color;
                    return Object(nn.b)(e) || (e = sl(e).map((function(t) {
                        return Jh(Jh({}, t), {}, {
                            color: n
                        })
                    }
                    ))),
                    e = ul(a()(e)),
                    _(e, 0).then((function(t) {
                        return mr()(b, {
                            value: {
                                $set: t
                            }
                        })
                    }
                    )).then((function(e) {
                        return t(e)
                    }
                    ))
                }
                if ("bar" === w) {
                    var r = b.value
                      , i = r.normal
                      , o = r.progress;
                    return Promise.all([x(i.width), x(i.height), x(o.width), x(o.height)]).then((function(t) {
                        var e = s()(t, 4)
                          , n = e[0]
                          , r = e[1]
                          , i = e[2]
                          , a = e[3];
                        return mr()(b, {
                            value: {
                                normal: {
                                    width: {
                                        value: {
                                            $set: n
                                        }
                                    },
                                    height: {
                                        value: {
                                            $set: r
                                        }
                                    }
                                },
                                progress: {
                                    width: {
                                        value: {
                                            $set: i
                                        }
                                    },
                                    height: {
                                        value: {
                                            $set: a
                                        }
                                    }
                                }
                            }
                        })
                    }
                    )).then((function(e) {
                        return t(e)
                    }
                    ))
                }
                if ("input" === w)
                    return x(b.value).then((function(t) {
                        return mr()(b, {
                            value: {
                                value: {
                                    $set: t
                                }
                            }
                        })
                    }
                    )).then((function(e) {
                        return t(e)
                    }
                    ));
                if ("image" === w) {
                    var u = b.background;
                    if (u && u.url && Object(nn.o)(u.url)) {
                        var c = u.url
                          , l = c.type;
                        return c.uuid || "spine" === l ? t(b) : x(u.url).then((function(t) {
                            return t || -1
                        }
                        )).then((function(t) {
                            return "listValue" !== l ? mr()(b, {
                                background: {
                                    url: {
                                        value: {
                                            $set: t
                                        }
                                    }
                                }
                            }) : mr()(b, {
                                background: {
                                    url: {
                                        $set: t
                                    }
                                }
                            })
                        }
                        )).then((function(e) {
                            return t(e)
                        }
                        ))
                    }
                }
                return t(b)
            }
            ));
            return Promise.all([k(d), k(f), S, O]).then((function(t) {
                var e = s()(t, 4)
                  , n = e[0]
                  , r = e[1]
                  , i = e[2]
                  , a = e[3];
                return m = mr()(m, {
                    content: {
                        $set: i
                    },
                    children: {
                        $set: a
                    }
                }),
                {
                    ref: o,
                    instanceUuid: u || "lv_".concat(Object(Su.a)()),
                    scale: l,
                    x: n,
                    y: r,
                    calledViews: [],
                    events: [],
                    view: m,
                    currentCount: g
                }
            }
            ))
        };
        return function t(e, n) {
            if (n >= e.length)
                return Promise.resolve(e);
            var r = e[n];
            return o(Object(nn.b)(r) ? r[0] : r).then((function(r) {
                return t(mr()(e, c()({}, n, {
                    $set: r
                })), n + 1)
            }
            ))
        }(e, 0).then((function(t) {
            return t.filter((function(t) {
                return t
            }
            ))
        }
        ))
    }
      , tp = function t(e, n) {
        return e.map((function(e) {
            var r = e.ref
              , i = e.instanceUuid
              , o = e.scale
              , s = e.x
              , u = e.y
              , c = e.view
              , l = e.calledViews
              , d = e.currentCount;
            if (!n.viewMap[r])
                return {};
            var f = n.viewMap[r].content
              , h = f.value
              , p = f.color
              , v = c.children
              , g = c.type
              , m = c.content
              , y = m.value
              , b = {}
              , w = function(t) {
                var e = t.type
                  , n = t[gn.a] || 0;
                if (e !== gn.t) {
                    var r = (n + "").length >= 36 ? n : Object(k.u)(e === gn.z ? gn.q + "s" : e, n || 0);
                    e === Vn.y && (r = "".concat(e, "_").concat(t.range)),
                    b[r] = t.value
                }
            };
            if (w(s),
            w(u),
            "text" === g) {
                Object(nn.b)(h) || (h = sl(h).map((function(t) {
                    return Jh(Jh({}, t), {}, {
                        color: p
                    })
                }
                )));
                for (var x = 0; x < h.length; x++) {
                    var _ = h[x]
                      , O = _.data;
                    _.placeholder && !Kh.test(O) && (b[O] = y[x].data)
                }
            } else if ("bar" === c.type) {
                var S = m.value
                  , P = S.normal
                  , C = S.progress;
                w(P.width),
                w(P.height),
                w(C.width),
                w(C.height)
            } else
                "input" === c.type && w(m.value);
            return {
                ref: r,
                instanceUuid: i,
                scale: o,
                x: s,
                y: u,
                children: v = t([].concat(a()(v), a()(l)), n),
                values: b,
                currentCount: d
            }
        }
        ))
    }
      , ep = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return e ? Object(k.h)(Object(xi.e)(Object(xi.f)(t)), 1, Xh) : Object(xi.e)(Object(xi.f)(t))
    }
      , np = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return Object(nn.o)(t) || null == t ? t : e ? JSON.parse(Object(xi.l)(Object(xi.d)(Object(k.h)(t, 2, Xh)))) : JSON.parse(Object(xi.l)(Object(xi.d)(t)))
    }
      , rp = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "resetValues",
            value: function(t, e, n) {
                var r = e.values
                  , i = function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []
                      , r = {}
                      , i = t[e];
                    n.forEach((function(t) {
                        null == t.value && (t.value = "stringValues" === Object(rn.f)(e) ? "" : 0),
                        r[t.uuid] = Sc(t).value
                    }
                    ));
                    for (var a = function(n, a) {
                        var o = i[n].uuid;
                        void 0 !== r[o] && (t = Vc(t, e, n, (function() {
                            return r[o]
                        }
                        )))
                    }, o = 0, s = i.length; o < s; o++)
                        a(o, s);
                    return t
                }
                  , a = [Object(rn.m)(), Object(rn.j)(), Object(rn.k)(), Object(rn.h)()];
                return a.forEach((function(e) {
                    return n = i(n, e, t[e])
                }
                )),
                a.forEach((function(t) {
                    return n = i(n, t, r[Object(rn.f)(t)])
                }
                )),
                n
            }
        }, {
            key: "totransDatabyBubble",
            value: function(t) {
                var e = [];
                return t.forEach((function(t) {
                    var n = t.bubble
                      , r = {
                        bubble: [],
                        currentCount: t.currentCount,
                        index: t.index,
                        show: t.show,
                        uuid: t.uuid,
                        remove: t.remove,
                        rect: t.rect,
                        scale: t.scale,
                        spacing: t.spacing
                    };
                    n && n.forEach((function(t) {
                        var e = t.avatar
                          , n = t.content
                          , i = t.role
                          , a = t.type
                          , o = t.position
                          , s = [];
                        if ("image" == a)
                            s = [n.url, n.view, n.viewMode];
                        else if ("text" == a) {
                            var u = "center" == o ? "#dadada" : "right" == o ? "#98e165" : "#ffffff";
                            s = [n.data, n.background ? n.background : {
                                color: u
                            }, n.font_size]
                        } else if ("voice" == a) {
                            var c = "center" == o ? "#dadada" : "right" == o ? "#98e165" : "#ffffff";
                            s = [n.url, n.background ? n.background : {
                                color: c
                            }]
                        }
                        r.bubble.push([a, o, [e.rect.x, e.rect.y, e.rect.width, e.rect.height, e.url, e.hidden, e.view], [i.rect.x, i.rect.y, i.rect.width, i.rect.height, i.data, i.font_size, i.color, i.hidden], [n.rect.x, n.rect.y, n.rect.width, n.rect.height, n.opacity || 1].concat(s)])
                    }
                    )),
                    e.push(r)
                }
                )),
                e
            }
        }, {
            key: "recoveryDatabyBubble",
            value: function(t) {
                var e = [];
                return t.length > 0 && void 0 !== t.find((function(t) {
                    return t.bubble.find((function(t) {
                        return void 0 !== t.type
                    }
                    ))
                }
                )) ? t : (t && t.forEach((function(t) {
                    var n = t.bubble
                      , r = {
                        bubble: [],
                        currentCount: t.currentCount,
                        index: t.index,
                        show: t.show,
                        uuid: t.uuid,
                        remove: t.remove,
                        rect: t.rect,
                        scale: t.scale,
                        spacing: t.spacing
                    };
                    n && n.forEach((function(t) {
                        var e = {}
                          , n = s()(t, 5)
                          , i = n[0]
                          , a = n[1]
                          , o = n[2]
                          , u = n[3]
                          , c = n[4];
                        e.type = i,
                        e.position = a,
                        e.avatar = {
                            rect: {
                                x: o[0],
                                y: o[1],
                                width: o[2],
                                height: o[3]
                            },
                            url: o[4],
                            hidden: o[5] || !1,
                            view: o[6]
                        },
                        e.role = {
                            rect: {
                                x: u[0],
                                y: u[1],
                                width: u[2],
                                height: u[3]
                            },
                            data: u[4],
                            font_size: u[5],
                            color: u[6],
                            hidden: u[7] || !1
                        },
                        e.content = {
                            rect: {
                                x: c[0],
                                y: c[1],
                                width: c[2],
                                height: c[3]
                            },
                            opacity: c[4] || 1
                        },
                        "image" == i ? (e.content.url = c[5],
                        e.content.view = c[6],
                        e.content.viewMode = c[7]) : "text" == i ? (e.content.data = c[5],
                        e.content.background = c[6],
                        e.content.font_size = c[7]) : "voice" == t[0] && (e.content.url = c[5],
                        e.content.background = c[6]),
                        r.bubble.push(e)
                    }
                    )),
                    e.push(r)
                }
                )),
                e)
            }
        }, {
            key: "getChapterUuids",
            value: function(t) {
                var e = []
                  , n = t.historyCommand
                  , r = t.context
                  , i = t.chapterUuid
                  , a = t.inserts;
                return e.push(i),
                n ? a.forEach((function(t) {
                    var n = t.chapterUuid;
                    return e.push(n)
                }
                )) : r ? (r.stack || []).forEach((function(t) {
                    return "insert" === t.type && e.push(t.chapterUuid)
                }
                )) : a.forEach((function(t) {
                    var n = t.chapterUuid;
                    return e.push(n)
                }
                )),
                e
            }
        }, {
            key: "to",
            value: function(e) {
                var n, r = e.context, i = e.playContext, o = e.viewContext, s = e.plotSnap, u = e.background, l = e.game, d = e.commandState, f = e.isLocal, h = i.playback, p = i.stack, v = r.commands, g = r.plots, m = r.plotIndex, y = r.chapter, b = r.cmdIndex, w = [], x = {}, k = function(e) {
                    var n = function(t) {
                        return t ? t.uuid ? t.uuid : t : void 0
                    }
                      , r = e.images
                      , i = e.dialog
                      , o = e.weather
                      , s = e.autotext
                      , u = e.disableSaveOrLoad
                      , c = e.animateScene
                      , d = e.views
                      , h = e.hideGlobalViews
                      , p = e.plotViews
                      , v = e.calledViews
                      , g = e.bubbleMode
                      , m = void 0 === g ? [] : g
                      , y = e.bubbleCount
                      , b = void 0 === y ? [] : y
                      , w = e.toolsView
                      , x = void 0 === w ? [] : w;
                    return {
                        images: r.map((function(t) {
                            if (t) {
                                var e = t.command
                                  , r = t.animate
                                  , i = t.events
                                  , a = void 0 === i ? [] : i
                                  , o = t.x
                                  , s = t.y;
                                return {
                                    commandUuid: n(e),
                                    animateUuid: n(r),
                                    eventUuids: a.map((function(t) {
                                        return n(t)
                                    }
                                    )),
                                    x: o,
                                    y: s
                                }
                            }
                        }
                        )).filter((function(t) {
                            return t
                        }
                        )),
                        dialog: {
                            commandUuid: n(i.command),
                            animateUuid: n(i.animate)
                        },
                        weather: n(o),
                        autotext: n(s),
                        disableSaveOrLoad: n(u),
                        animateScene: {
                            shake: n(c)
                        },
                        views: d.map((function(t) {
                            return {
                                commandUuid: t.uuid,
                                instanceUuid: t.args[0].instanceUuid
                            }
                        }
                        )),
                        hideGlobalViews: h || [],
                        viewsData: ep(JSON.stringify(tp([].concat(a()(p), a()(v)), l)), f),
                        bubbleMode: t.totransDatabyBubble(m).concat(),
                        bubbleCount: b.concat(),
                        toolsView: a()(x)
                    }
                }, _ = function() {
                    var e = i.bubbleMode
                      , n = i.bubbleCount;
                    return {
                        bubbleMode: t.totransDatabyBubble(e).concat(),
                        bubbleCount: n.concat()
                    }
                };
                !function t(e) {
                    for (var n = e.length - 1; n >= 0; n--) {
                        var r = e[n]
                          , i = r.commands
                          , a = r.plots
                          , o = r.plotIndex
                          , s = r.chapter
                          , u = r.cmdIndex
                          , c = r.type
                          , l = r.loop
                          , d = r.commandState;
                        if (l) {
                            var f = l.breakNext
                              , h = f.commands
                              , p = f.plots
                              , v = f.plotIndex
                              , g = f.cmdIndex
                              , m = l.count
                              , y = h ? h[g - 1].uuid : p[v - 1].uuid;
                            x["cl_".concat(y)] = {
                                value: m
                            }
                        } else if ("insertPlot" === c) {
                            var b = {
                                chapterUuid: s.uuid,
                                plotUuid: a[o].uuid
                            };
                            i ? (b.commandUuid = i[u - 1].uuid,
                            b.historyCommand = k(d),
                            t(d.playStack)) : b.historyCommand = _(),
                            w.push(b)
                        }
                    }
                }(p);
                var O = h.length
                  , S = (n = {},
                c()(n, gn.N + "s", i[Object(rn.m)()].map((function(t) {
                    return Sc(t, !0)
                }
                ))),
                c()(n, gn.C + "s", i[Object(rn.j)()].map((function(t) {
                    return Sc(t, !0)
                }
                ))),
                c()(n, gn.I + "s", i[Object(rn.k)()].map((function(t) {
                    return Sc(t, !0)
                }
                ))),
                c()(n, gn.q + "s", i[Object(rn.h)()].map((function(t) {
                    return Sc(t, !0)
                }
                ))),
                n)
                  , P = an.a.getCurDate();
                P = P.toString().length < 13 ? 1e3 * P : P;
                var C = {
                    inserts: w,
                    countLoop: x,
                    chapterUuid: y.uuid,
                    plotUuid: g[m].uuid,
                    commandUuid: function(t, e) {
                        if (t)
                            return t[e] ? t[e].uuid : -1
                    }(v, b),
                    speakings: ep(JSON.stringify(a()(h.slice(O - 100, O))), f),
                    thumb: s,
                    values: ep(JSON.stringify(S), f),
                    viewsData: ep(JSON.stringify(tp([].concat(a()(o.plotViews), a()(o.calledViews)), l)), f),
                    globalViewsData: ep(JSON.stringify(tp([].concat(a()(o.globalViews), a()(o.globalCalledViews)), l)), f),
                    historyCommand: ep(JSON.stringify(d ? k(d) : _()), f),
                    musics: [nr.music],
                    sounds: nr.sounds.slice(0, 10).map((function(t, e) {
                        return t && t.url ? Jh(Jh({}, t), {}, {
                            index: e
                        }) : null
                    }
                    )).filter((function(t) {
                        return t
                    }
                    )),
                    backgroundObject: Jh({}, u),
                    timestamp: P,
                    type: "h5"
                };
                return f && (C.v = Object(xi.b)(String(Xh), Xh)),
                C
            }
        }, {
            key: "restore",
            value: function(e, n, r) {
                var i, o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], u = e.countLoop, c = e.inserts, l = e.v, d = o && void 0 !== l, f = [], h = {}, p = [], v = [], g = function t(e) {
                    var n = e.chapter
                      , r = e.plots
                      , i = e.plotIndex
                      , a = e.commands
                      , o = e.plotUuid
                      , s = e.commandUuid
                      , c = e.commandMap
                      , l = e.playStack;
                    if (-1 === s)
                        return l.unshift({
                            chapter: n,
                            plots: r,
                            plotIndex: i,
                            commands: a,
                            cmdIndex: a.length - 1
                        }),
                        !0;
                    for (var d = 0, f = a.length; d < f; d++) {
                        var p = a[d]
                          , v = p.type
                          , g = p.uuid
                          , m = p.args;
                        if (g === s)
                            return l.unshift({
                                chapter: n,
                                plots: r,
                                plotIndex: i,
                                commands: a,
                                cmdIndex: d
                            }),
                            !0;
                        if (null === c[g] && (c[g] = a[d]),
                        "options" === v || "addImageEvent" === v)
                            for (var y = 0, b = m.length; y < b; y++) {
                                var w = m[y];
                                if (w.commands.length) {
                                    var x = "options" === v ? "option" : "imgEvents";
                                    if (l.unshift({
                                        chapter: n,
                                        plots: r,
                                        plotIndex: i,
                                        commands: a,
                                        cmdIndex: d + 1,
                                        type: x
                                    }),
                                    t({
                                        chapter: n,
                                        plots: r,
                                        plotIndex: i,
                                        plotUuid: o,
                                        commands: w.commands,
                                        commandUuid: s,
                                        commandMap: c,
                                        playStack: l
                                    })) {
                                        if (h[g] = {
                                            chapter: n,
                                            plots: r,
                                            plotIndex: i,
                                            commands: a,
                                            cmdIndex: d + 1,
                                            type: "imgEvents"
                                        },
                                        "addImageEvent" === v)
                                            for (var k = d + 1, _ = a.length; k < _; k++) {
                                                var O = a[k]
                                                  , S = O.uuid
                                                  , P = O.type;
                                                null === c[S] && ("addImageEvent" === P && (h[S] = {
                                                    chapter: n,
                                                    plots: r,
                                                    plotIndex: i,
                                                    commands: a,
                                                    cmdIndex: k + 1,
                                                    type: "imgEvents"
                                                }),
                                                c[S] = a[k])
                                            }
                                        return !0
                                    }
                                    "addImageEvent" === v && (h[g] = {
                                        chapter: n,
                                        plots: r,
                                        plotIndex: i,
                                        commands: a,
                                        cmdIndex: d + 1,
                                        type: "imgEvents"
                                    }),
                                    l.shift()
                                }
                            }
                        else if ("conditionOptions" === v)
                            for (var C = 0, E = m.length; C < E; C++) {
                                var j = m[C];
                                if (j.commands.length) {
                                    var A = {
                                        chapter: n,
                                        plots: r,
                                        plotIndex: i,
                                        commands: a,
                                        cmdIndex: d + 1
                                    };
                                    if ("loop" === j.type || "countLoop" === j.type) {
                                        var I = {
                                            count: u["cl_".concat(g)] ? u["cl_".concat(g)].value : 1,
                                            countExpr: j.count,
                                            condition: j[gn.m],
                                            breakNext: A
                                        };
                                        A = {
                                            chapter: n,
                                            plots: r,
                                            plotIndex: i,
                                            commands: j.commands,
                                            cmdIndex: 0,
                                            loop: I
                                        }
                                    }
                                    if (l.unshift(Jh(Jh({}, A), {}, {
                                        type: "condition_option"
                                    })),
                                    t({
                                        chapter: n,
                                        plots: r,
                                        plotIndex: i,
                                        plotUuid: o,
                                        commands: j.commands,
                                        commandUuid: s,
                                        commandMap: c,
                                        playStack: l
                                    }))
                                        return !0;
                                    l.shift()
                                }
                            }
                        else if ("macro" === v) {
                            var R = m[0];
                            if (!R.commands.length)
                                continue;
                            if (l.unshift({
                                chapter: n,
                                plots: r,
                                plotIndex: i,
                                commands: a,
                                cmdIndex: d + 1,
                                type: v
                            }),
                            t({
                                chapter: n,
                                plots: r,
                                plotIndex: i,
                                plotUuid: o,
                                commands: R.commands,
                                commandUuid: s,
                                commandMap: c,
                                playStack: l
                            }))
                                return !0;
                            l.shift()
                        }
                    }
                }, m = function t(e) {
                    for (var n = e.chapter, r = e.plots, i = e.plotUuid, a = e.commandUuid, o = e.commandMap, s = 0, c = r.length; s < c; s++) {
                        var l = r[s];
                        if (l.uuid === i) {
                            if (l.commands && a) {
                                var d = []
                                  , h = g({
                                    chapter: n,
                                    plots: r,
                                    plotIndex: s,
                                    commands: l.commands,
                                    plotUuid: i,
                                    commandUuid: a,
                                    commandMap: o,
                                    playStack: d
                                });
                                if (h) {
                                    var p = d.shift();
                                    p.commandState = {
                                        playStack: d
                                    },
                                    f.unshift(p)
                                }
                                return h
                            }
                            return f.unshift({
                                chapter: n,
                                plots: r,
                                plotIndex: s
                            }),
                            !0
                        }
                        if (l.options && l.options.length)
                            for (var v = l.options, m = 0, y = v.length; m < y; m++)
                                if (v[m].plots.length) {
                                    if (f.unshift({
                                        chapter: n,
                                        plots: r,
                                        plotIndex: s + 1,
                                        type: "option"
                                    }),
                                    t({
                                        chapter: n,
                                        plots: v[m].plots,
                                        plotUuid: i,
                                        commandUuid: a,
                                        commandMap: o
                                    }))
                                        return !0;
                                    f.shift()
                                }
                        if (l.condition_options && l.condition_options.length)
                            for (var b = l.condition_options, w = l.uuid, x = 0, k = b.length; x < k; x++) {
                                var _ = b[x];
                                if (_.plots.length) {
                                    var O = {
                                        chapter: n,
                                        plots: r,
                                        plotIndex: s + 1
                                    };
                                    if ("loop" === _.type || "countLoop" === _.type) {
                                        var S = {
                                            count: u["cl_".concat(w)] ? u["cl_".concat(w)].value : 1,
                                            countExpr: _.count,
                                            condition: _[gn.m],
                                            breakNext: O
                                        };
                                        O = {
                                            chapter: n,
                                            plots: _.plots,
                                            plotIndex: 0,
                                            loop: S
                                        }
                                    }
                                    if (f.unshift(Jh(Jh({}, O), {}, {
                                        type: "condition_option"
                                    })),
                                    t({
                                        chapter: n,
                                        plots: b[x].plots,
                                        plotUuid: i,
                                        commandUuid: a,
                                        commandMap: o
                                    }))
                                        return !0;
                                    f.shift()
                                }
                            }
                    }
                    return !1
                }, y = function(t, e) {
                    var n = e.findIndex((function(e) {
                        return e.instanceUuid === t.instanceUuid
                    }
                    ));
                    ~n && (t.events = e[n].events)
                }, b = function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    return t.filter((function(t) {
                        if (!t.instanceUuid)
                            return !0;
                        var r = t.instanceUuid.indexOf("lv_");
                        return (~r || -1 == r) && e[t.instanceUuid] || ~r || -1 == r && !n
                    }
                    ))
                }, w = [].concat(a()(c), [e]), x = function o(u, c) {
                    var l = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    if (c >= u.length || l)
                        return Promise.resolve();
                    var g = u[c]
                      , w = {}
                      , x = g.chapterUuid
                      , k = g.plotUuid
                      , _ = g.commandUuid;
                    g.historyCommand && g.historyCommand.viewsData && Object(nn.p)(g.historyCommand.viewsData) && (g.historyCommand.viewsData = np(g.historyCommand.viewsData, d));
                    var O = np(g.historyCommand, d) || {}
                      , S = O.images
                      , P = void 0 === S ? [] : S
                      , C = O.dialog
                      , E = void 0 === C ? {} : C
                      , j = O.views
                      , A = void 0 === j ? [] : j
                      , I = O.weather
                      , R = O.autotext
                      , T = O.disableSaveOrLoad
                      , M = O.animateScene
                      , D = void 0 === M ? {} : M
                      , B = O.viewsData
                      , U = void 0 === B ? [] : B
                      , z = O.hideGlobalViews
                      , L = void 0 === z ? [] : z
                      , V = O.bubbleMode
                      , F = void 0 === V ? [] : V
                      , N = O.bubbleCount
                      , H = void 0 === N ? [] : N
                      , W = O.toolsView
                      , G = void 0 === W ? [] : W;
                    !P && (P = []),
                    !E && (E = []),
                    !A && (A = []),
                    !U && (U = []),
                    !L && (L = []),
                    !F && (F = []),
                    !H && (H = []),
                    P.forEach((function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                          , e = t.commandUuid
                          , n = t.animateUuid
                          , r = t.eventUuids
                          , i = void 0 === r ? [] : r;
                        i.forEach((function(t) {
                            return w[t] = null
                        }
                        )),
                        w[e] = w[n] = null
                    }
                    )),
                    A.forEach((function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                          , e = t.commandUuid;
                        return w[e] = null
                    }
                    ));
                    var q = E || {}
                      , Y = q.commandUuid
                      , Z = q.animateUuid;
                    Y && (w[Y] = null),
                    Z && (w[Z] = null);
                    var J = D.shake;
                    J && (w[J] = null),
                    [I, R, T].forEach((function(t) {
                        return t && (w[t] = null)
                    }
                    ));
                    var K = vn.a.getChapterByUUID(n, x)
                      , $ = [];
                    if (K) {
                        var X = K.plots
                          , Q = m({
                            chapter: K,
                            plots: X,
                            plotUuid: k,
                            commandUuid: _,
                            commandMap: w
                        });
                        if (!Q)
                            return Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                            )),
                            Promise.resolve({
                                stack: f,
                                plotViews: p,
                                globalViews: v,
                                context: i
                            });
                        var tt = Promise.resolve();
                        return _ && (tt = Qh(U, n, r).then((function(e) {
                            var n = f[0].commandState
                              , r = function(t) {
                                return Object(nn.o)(t) ? t : t && w[t] ? w[t] : null
                            }
                              , i = [];
                            P.forEach((function() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                  , e = t.commandUuid
                                  , n = t.animateUuid
                                  , a = t.command
                                  , o = t.eventUuids
                                  , s = void 0 === o ? [] : o
                                  , u = t.x
                                  , c = t.y;
                                a = a || r(e);
                                var l = r(n)
                                  , d = s.map((function(t) {
                                    return r(t)
                                }
                                ))
                                  , f = s.length >= 1 ? h[s[s.length - 1]] : null;
                                a && (i[a.args[0].index] = {
                                    command: a,
                                    animate: l,
                                    events: d,
                                    x: u,
                                    y: c,
                                    next: f
                                })
                            }
                            )),
                            n.images = i;
                            var o = {};
                            n.views = A.map((function(t) {
                                var e = t.commandUuid
                                  , n = t.instanceUuid
                                  , i = r(e);
                                return n && (o[n] = !0),
                                i || null
                            }
                            )).filter((function(t) {
                                return t
                            }
                            )),
                            U = b(U, o, !0),
                            n.dialog = {
                                command: E && E.command || r(Y),
                                animate: r(Z)
                            },
                            n.animateScene = r(J),
                            n.weather = r(I),
                            n.autotext = r(R),
                            n.disableSaveOrLoad = r(T),
                            n.hideGlobalViews = L,
                            n.calledViews = [],
                            n.plotViews = e,
                            n.bubbleMode = t.recoveryDatabyBubble(F).concat(),
                            n.bubbleCount = H.concat(),
                            n.toolsView = a()(G);
                            var s = n.views.map((function(t) {
                                return t.args[0]
                            }
                            ));
                            n.plotViews.forEach((function(t) {
                                return y(t, s)
                            }
                            ))
                        }
                        ))),
                        tt.then((function() {
                            return g !== e ? (f[0].type = "insertPlot",
                            f[0].cmdIndex++) : (i = f.shift(),
                            $.push(Promise.all([Qh(g.viewsData, n, r), Qh(b(g.globalViewsData, {}), n, r)]).then((function(e) {
                                var r = s()(e, 2)
                                  , a = r[0]
                                  , o = r[1]
                                  , u = {};
                                if (_) {
                                    var c = i.commandState;
                                    A = c.views,
                                    L = c.hideGlobalViews,
                                    A = A.map((function(t) {
                                        return t.args[0]
                                    }
                                    ))
                                } else {
                                    var l = i
                                      , d = l.plots[l.plotIndex]
                                      , f = d.views;
                                    A = void 0 === f ? [] : f;
                                    var h = d.hideGlobalViews;
                                    L = void 0 === h ? [] : h
                                }
                                A.forEach((function(t) {
                                    return u[t.instanceUuid] = !0
                                }
                                )),
                                (p = a).forEach((function(t) {
                                    return y(t, A)
                                }
                                )),
                                _ && (i.commandState.plotViews = p),
                                !_ && (i.bubbleMode = t.recoveryDatabyBubble(F).concat(),
                                i.bubbleCount = H.concat());
                                var g = {};
                                n.views.forEach((function(t) {
                                    return g[t.instanceUuid] = !0
                                }
                                )),
                                (v = o).forEach((function(t) {
                                    y(t, n.views),
                                    ~L.findIndex((function(e) {
                                        return e === t.instanceUuid
                                    }
                                    )) && (t.visible = !1)
                                }
                                ))
                            }
                            )))),
                            Promise.all($).then((function() {
                                return o(u, c + 1)
                            }
                            ))
                        }
                        ))
                    }
                    return o(u, u.length, !0)
                };
                return x(w, 0).then((function() {
                    return {
                        stack: f,
                        plotViews: p,
                        globalViews: v,
                        context: i
                    }
                }
                ))
            }
        }, {
            key: "format",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , r = function t(e) {
                    for (var n = e.commands, r = e.commandUuid, i = e.playStack, a = e.plots, o = e.plotIndex, s = 0, u = n.length; s < u; s++) {
                        var c = n[s]
                          , l = c.type
                          , d = c.uuid
                          , f = c.args;
                        if (d === r)
                            return !0;
                        if ("options" === l)
                            for (var h = 0, p = f.length; h < p; h++) {
                                var v = f[h];
                                if (v.commands.length) {
                                    if (i.unshift({
                                        commands: n,
                                        cmdIndex: s + 1,
                                        plots: a,
                                        plotIndex: o
                                    }),
                                    t({
                                        commands: v.commands,
                                        commandUuid: r,
                                        playStack: i,
                                        plots: a,
                                        plotIndex: o
                                    }))
                                        return !0;
                                    i.shift()
                                }
                            }
                        else if ("conditionOptions" === l)
                            for (var g = 0, m = f.length; g < m; g++) {
                                var y = f[g];
                                if (y.commands.length) {
                                    var b = {
                                        commands: n,
                                        cmdIndex: s + 1,
                                        plots: a,
                                        plotIndex: o
                                    };
                                    if ("loop" !== y.type && "countLoop" !== y.type || (b = {
                                        commands: y.commands,
                                        cmdIndex: 0,
                                        loop: {
                                            breakNext: b
                                        },
                                        type: "condition_option"
                                    }),
                                    i.unshift(b),
                                    t({
                                        commands: y.commands,
                                        commandUuid: r,
                                        playStack: i,
                                        plots: a,
                                        plotIndex: o
                                    }))
                                        return !0;
                                    i.shift()
                                }
                            }
                    }
                }
                  , i = function t(e) {
                    for (var n = e.plots, i = e.plotUuid, a = e.commandUuid, o = e.playStack, s = 0, u = n.length; s < u; s++) {
                        var c = n[s];
                        if (c.uuid === i)
                            return a && c.commands && r({
                                commands: c.commands,
                                commandUuid: a,
                                playStack: o,
                                plots: n,
                                plotIndex: s
                            }),
                            !0;
                        if (c.options && c.options.length)
                            for (var l = c.options, d = 0, f = l.length; d < f; d++)
                                if (l[d].plots.length) {
                                    if (o.unshift({
                                        plots: n,
                                        plotIndex: s + 1
                                    }),
                                    t({
                                        plots: l[d].plots,
                                        plotUuid: i,
                                        commandUuid: a,
                                        playStack: o
                                    }))
                                        return !0;
                                    o.shift()
                                }
                        if (c.condition_options && c.condition_options.length)
                            for (var h = c.condition_options, p = 0, v = h.length; p < v; p++) {
                                var g = h[p];
                                if (g.plots.length) {
                                    var m = {
                                        plots: n,
                                        plotIndex: s + 1
                                    };
                                    if ("loop" !== g.type && "countLoop" !== g.type || (m = {
                                        plots: g.plots,
                                        plotIndex: 0,
                                        loop: {
                                            breakNext: m
                                        },
                                        type: "condition_option"
                                    }),
                                    o.unshift(m),
                                    t({
                                        plots: h[p].plots,
                                        plotUuid: i,
                                        commandUuid: a,
                                        playStack: o
                                    }))
                                        return !0;
                                    o.shift()
                                }
                            }
                    }
                    return !1
                }
                  , o = function(t) {
                    var n = function(t, e) {
                        var n = []
                          , r = [];
                        return function t(i, a) {
                            if (a >= i.length)
                                return Promise.resolve(i);
                            var o = i[a]
                              , u = o.name
                              , l = o.x
                              , d = o.y
                              , f = o.scale
                              , h = o.instanceUuid
                              , p = o.generateType
                              , v = o.children
                              , g = o.xInfo
                              , m = o.yInfo
                              , y = o.visible;
                            return p && "plotInfo" !== p && n.push({
                                commandUuid: p,
                                instanceUuid: h
                            }),
                            void 0 !== y && !y && r.push(h),
                            Promise.all([Hc(g, e), Hc(m, e), function e(n, r) {
                                return r >= n.length ? Promise.resolve(n) : t([n[r]], 0).then((function(t) {
                                    return n = mr()(n, c()({}, r, {
                                        $set: t
                                    })),
                                    e(n, r + 1)
                                }
                                ))
                            }(v, 0)]).then((function(e) {
                                var n = s()(e, 3)
                                  , r = n[0]
                                  , o = n[1]
                                  , p = n[2];
                                return null == g.value && (g = mr()(g, {
                                    value: {
                                        $set: isNaN(r) ? l || 0 : r
                                    }
                                })),
                                null == m.value && (m = mr()(m, {
                                    value: {
                                        $set: isNaN(o) ? d || 0 : o
                                    }
                                })),
                                i = mr()(i, c()({}, a, {
                                    x: {
                                        $set: g
                                    },
                                    y: {
                                        $set: m
                                    },
                                    scale: {
                                        $set: f.x
                                    },
                                    ref: {
                                        $set: u
                                    },
                                    instanceUuid: {
                                        $set: h || "lv_".concat(Object(Su.a)())
                                    },
                                    children: {
                                        $set: p
                                    }
                                })),
                                t(i, a + 1)
                            }
                            ))
                        }(t, 0).then((function(t) {
                            return {
                                viewsData: t,
                                cmdViews: n
                            }
                        }
                        ))
                    }
                      , r = function(t) {
                        var e = [];
                        return t.forEach((function(t) {
                            var n = t.bubbleMode
                              , r = t.bubble
                              , i = t.curbubble
                              , a = !t.ishide
                              , o = n.args
                              , s = n.uuid
                              , u = o[0]
                              , c = u.index
                              , l = u.rect
                              , d = u.remove
                              , f = u.scale
                              , h = void 0 === f ? 1 : f
                              , p = i.length || 0
                              , v = {
                                bubble: r.map((function(t) {
                                    return t.args ? t.args[0] : t
                                }
                                )) || [],
                                currentCount: p,
                                index: c,
                                show: a,
                                uuid: s,
                                remove: d,
                                rect: l,
                                scale: h
                            };
                            e.push(v)
                        }
                        )),
                        e
                    }
                      , o = function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []
                          , i = t.bubble
                          , o = void 0 === i ? [] : i
                          , s = t.bubbleCount
                          , u = void 0 === s ? [] : s
                          , c = t.cmdUuid
                          , l = t.bk
                          , d = t.bkFlex
                          , f = t.bCmdAutoText
                          , h = t.weatherType
                          , p = t.animateScene
                          , v = t.dialogInfo
                          , g = t.charsAndProps
                          , m = {
                            bubbleMode: r(o).concat(),
                            bubbleCount: u.concat(),
                            viewsData: []
                        };
                        if (c) {
                            var y = l ? {
                                args: [{
                                    index: 1,
                                    url: l.url,
                                    opacity: l.opacity,
                                    flex: d
                                }]
                            } : void 0;
                            m.autotext = {
                                args: [f]
                            },
                            m.weather = {
                                args: [h]
                            },
                            m.animateScene = {
                                shake: p && p.shake && p.shake.uuid || void 0
                            },
                            m.views = e,
                            m.hideGlobalViews = n,
                            m.dialog = {
                                command: v && v.length ? {
                                    args: [v[0]]
                                } : void 0
                            };
                            var b = g.map((function(t) {
                                if (!t)
                                    return t;
                                var e = t.x
                                  , n = t.width
                                  , r = t.y
                                  , i = t.height
                                  , a = t.mirrorH
                                  , o = t.mirrorV
                                  , s = t.index
                                  , u = t.opacity
                                  , c = t.rotate;
                                return {
                                    command: {
                                        args: [{
                                            url: t.url,
                                            x: e -= (n = Math.abs(n)) / 2,
                                            width: n,
                                            y: r -= (i = Math.abs(i)) / 2,
                                            height: i,
                                            mirrorH: a,
                                            mirrorV: o,
                                            index: s,
                                            opacity: u,
                                            rotate: c
                                        }]
                                    }
                                }
                            }
                            ));
                            m.images = [void 0, {
                                command: y
                            }].concat(a()(b))
                        }
                        return m
                    }
                      , u = t.plotUuid
                      , l = t.chapterUuid
                      , d = t.cmdUuid
                      , f = t.bkKey
                      , h = t.bkOpacity
                      , p = t.bkFlex
                      , v = t.playbackData
                      , g = t.plotSnap
                      , m = t.context
                      , y = {
                        plotUuid: u,
                        chapterUuid: l,
                        commandUuid: d,
                        backgroundObject: {
                            url: f,
                            flex: p,
                            opacity: h
                        },
                        speakings: v,
                        thumb: g
                    };
                    return Promise.all([n(t.plotViews, t.context), n(t.globalViews, t.context)]).then((function(n) {
                        var r, f = s()(n, 2), h = f[0], p = f[1], v = h.viewsData, g = h.cmdViews, b = h.hideViews, w = m.stack, x = m.cmdStack, k = void 0 === x ? [] : x, _ = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                            return t.map((function(t) {
                                return void 0 === t.value ? mr()(t, {
                                    value: {
                                        $set: Wc(t)
                                    }
                                }) : t
                            }
                            ))
                        };
                        y.viewsData = v,
                        v = p.viewsData,
                        b = p.hideViews,
                        y.globalViewsData = v,
                        y.musics = [t.music],
                        y.sounds = t.sounds.map((function(t) {
                            return t ? Jh(Jh({}, t), {}, {
                                loop: 0 === t.time
                            }) : t
                        }
                        )),
                        y[gn.N + "s"] = (r = {},
                        c()(r, gn.N + "s", _(m[Object(rn.m)()])),
                        c()(r, gn.C + "s", _(m[Object(rn.j)()])),
                        c()(r, gn.I + "s", _(m[Object(rn.k)()])),
                        c()(r, gn.q + "s", _(m[Object(rn.h)()])),
                        r),
                        y.historyCommand = o(t, g, b),
                        y.inserts = [],
                        y.countLoop = {},
                        k = a()(k),
                        w = a()(w);
                        var O = vn.a.getChapterByUUID(e, l);
                        if (!O)
                            return Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                            )),
                            Promise.resolve(null);
                        var S = [];
                        if (!i({
                            plots: O.plots,
                            plotUuid: u,
                            commandUuid: d,
                            playStack: S
                        }))
                            return Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                            )),
                            Promise.resolve(null);
                        var P = function t(n) {
                            for (var r = n.pop(); r; ) {
                                var a = r
                                  , s = a.type
                                  , u = a.chapterUuid
                                  , c = a.pPlotUuid
                                  , l = a.loopCount
                                  , d = a.isCommand
                                  , f = a.cmdInfo
                                  , h = a.cmdIndex
                                  , p = a.cmdScreenSnap;
                                if (a.loopCondition) {
                                    var v = S[0];
                                    if (!v || "condition_option" !== v.type) {
                                        S.shift(),
                                        r = n.pop();
                                        continue
                                    }
                                    var m = v.loop.breakNext
                                      , w = m.plots
                                      , x = m.plotIndex
                                      , _ = m.commands
                                      , O = m.cmdIndex
                                      , P = _ ? _[O - 1].uuid : w[x - 1].uuid;
                                    y.countLoop["cl_".concat(P)] = {
                                        value: l
                                    }
                                } else if ("insert" === s) {
                                    if (n === k)
                                        break;
                                    var C = vn.a.getChapterByUUID(e, u);
                                    if (!C)
                                        return Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                                        )),
                                        void (y = null);
                                    S = [];
                                    var E = f && f.commands[h] && f.commands[h].uuid;
                                    if (!i({
                                        plots: C.plots,
                                        plotUuid: c,
                                        commandUuid: d ? E : void 0,
                                        playStack: S
                                    }))
                                        return Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                                        )),
                                        void (y = null);
                                    var j = {
                                        chapterUuid: u,
                                        plotUuid: c,
                                        historyCommand: {}
                                    };
                                    if (d) {
                                        j.commandUuid = E;
                                        var A = Object.assign({}, p);
                                        A.cmdUuid = E,
                                        A.lstDialogInfo = p.dialogInfo,
                                        A.animateScene = p.animateScene || {},
                                        j.historyCommand = o(A, g, b),
                                        t(k)
                                    }
                                    if (y.inserts.push(j),
                                    !(r = n.pop()))
                                        break;
                                    if ("insert" === r.type) {
                                        var I = r
                                          , R = I.chapterUuid
                                          , T = I.pPlotUuid
                                          , M = vn.a.getChapterByUUID(e, R);
                                        if (!M)
                                            return Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                                            )),
                                            void (y = null);
                                        if (S = [],
                                        !i({
                                            plots: M.plots,
                                            plotUuid: T,
                                            playStack: S
                                        }))
                                            return Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                                            )),
                                            void (y = null)
                                    }
                                    continue
                                }
                                S.shift(),
                                r = n.pop()
                            }
                        };
                        return P(w),
                        y && P(k),
                        Promise.resolve(y)
                    }
                    ))
                }
                  , u = function(t) {
                    var n = t.thumb
                      , r = t.plotUuid
                      , o = t.chapterUuid
                      , s = t.commandObj
                      , u = t.backgroundObject
                      , l = void 0 === u ? {} : u
                      , d = t.values
                      , f = void 0 === d ? [] : d
                      , h = t.musics
                      , p = void 0 === h ? [] : h
                      , v = t.sounds
                      , g = void 0 === v ? [] : v
                      , m = t.speakings
                      , y = void 0 === m ? [] : m
                      , b = t.inserts
                      , w = void 0 === b ? [] : b
                      , x = t.commandInserts
                      , k = void 0 === x ? [] : x
                      , _ = t.viewsData
                      , O = void 0 === _ ? [] : _
                      , S = t.globalViewsData
                      , P = void 0 === S ? [] : S
                      , C = t.cmdStack
                      , E = void 0 === C ? [] : C
                      , j = t.stack
                      , A = void 0 === j ? [] : j
                      , I = {}
                      , R = {}
                      , T = {
                        plotUuid: r,
                        chapterUuid: o,
                        backgroundObject: l,
                        speakings: y,
                        thumb: n,
                        values: f = function(t) {
                            var n, r = [], i = [], a = [], o = [], s = function(t, e, n) {
                                var r = n.length;
                                return e.forEach((function(e) {
                                    return e.uuid === t.key ? n.push(mr()(e, {
                                        value: {
                                            $set: t.value
                                        }
                                    })) : void 0
                                }
                                )),
                                n.length > r
                            }, u = function() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                                return t.map((function(t) {
                                    return void 0 === t.value ? mr()(t, {
                                        value: {
                                            $set: Wc(t)
                                        }
                                    }) : t
                                }
                                ))
                            };
                            return t.forEach((function(t) {
                                (t.key || "").startsWith("cl_") && (I[t.key] = t.value),
                                s(t, e[Object(rn.e)(0)], r) || s(t, e[Object(rn.e)(1)], i) || s(t, e[Object(rn.e)(2)], a) || s(t, e[Object(rn.e)(4)], o)
                            }
                            )),
                            n = {},
                            c()(n, gn.N + "s", u(r)),
                            c()(n, gn.C + "s", u(i)),
                            c()(n, gn.I + "s", u(a)),
                            c()(n, gn.q + "s", u(o)),
                            n
                        }(f),
                        musics: p,
                        inserts: w,
                        viewsData: O,
                        globalViewsData: P,
                        historyCommand: R,
                        countLoop: I
                    };
                    if (T.sounds = Array(10).fill(null),
                    g.forEach((function(t, e) {
                        return t && (T.sounds[null != t.index ? t.index : e] = t)
                    }
                    )),
                    s) {
                        T.commandUuid = s.commandUuid;
                        var M = s.historyCommand
                          , D = M.images
                          , B = void 0 === D ? [] : D
                          , U = M.dialog
                          , z = M.autotext
                          , L = M.weather
                          , V = M.animateScene
                          , F = M.views
                          , N = void 0 === F ? [] : F
                          , H = M.hideGlobalViews
                          , W = void 0 === H ? [] : H
                          , G = M.viewsData
                          , q = void 0 === G ? [] : G
                          , Y = M.bubbleMode
                          , Z = void 0 === Y ? [] : Y
                          , J = M.bubbleCount
                          , K = void 0 === J ? [] : J;
                        R.autotext = z && z.uuid,
                        R.weather = L && L.uuid,
                        R.animateScene = {
                            shake: V && V.shake && V.shake.uuid || void 0
                        },
                        R.views = N.map((function(t) {
                            return {
                                instanceUuid: t[0],
                                commandUuid: t[1]
                            }
                        }
                        )),
                        R.hideGlobalViews = W,
                        R.dialog = {
                            command: U && U.command
                        },
                        R.viewsData = q,
                        R.images = B.map((function(t) {
                            return {
                                command: {
                                    args: [t]
                                }
                            }
                        }
                        )),
                        R.bubbleMode = function(t) {
                            var e = [];
                            return t.length > 0 && !t[0].args ? t : (t.forEach((function(t) {
                                var n = t.args
                                  , r = t.uuid
                                  , i = t.show
                                  , a = t.bubble
                                  , o = t.currentCount
                                  , s = n[0]
                                  , u = s.index
                                  , c = s.rect
                                  , l = s.remove
                                  , d = s.scale
                                  , f = void 0 === d ? 1 : d
                                  , h = {
                                    bubble: a.map((function(t) {
                                        return t.args ? t.args[0] : t
                                    }
                                    )) || [],
                                    currentCount: o,
                                    index: u,
                                    show: i,
                                    uuid: r,
                                    remove: l,
                                    rect: c,
                                    scale: f
                                };
                                e.push(h)
                            }
                            )),
                            e)
                        }(Z).concat(),
                        R.bubbleCount = K.concat()
                    }
                    w = w ? a()(w) : [],
                    k = k ? a()(k) : [],
                    E = E ? a()(E) : [],
                    A = A ? a()(A) : [];
                    var $ = vn.a.getChapterByUUID(e, o);
                    if ($) {
                        var X = [];
                        if (i({
                            plots: $.plots,
                            plotUuid: r,
                            commandUuid: s && s.commandUuid,
                            playStack: X
                        }))
                            return function(t) {
                                for (var n = t.pop(); n; ) {
                                    var r = n
                                      , a = r.chapterUuid
                                      , o = r.plotUuid
                                      , s = !1
                                      , u = void 0
                                      , c = null
                                      , l = k.length - 1;
                                    if (k[l] && o === k[l].uuid) {
                                        s = !0;
                                        var d = k.pop().data
                                          , f = void 0 === d ? {} : d;
                                        u = f.commandUuid,
                                        c = f.historyCommand
                                    }
                                    var h = vn.a.getChapterByUUID(e, a);
                                    if (!h)
                                        return void Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                                        ));
                                    if (X = [],
                                    !i({
                                        plots: h.plots,
                                        plotUuid: o,
                                        commandUuid: u,
                                        playStack: X
                                    }))
                                        return void Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                                        ));
                                    var p = {
                                        chapterUuid: a,
                                        plotUuid: o,
                                        historyCommand: {}
                                    };
                                    if (s) {
                                        p.commandUuid = u;
                                        var v = p.historyCommand
                                          , g = c
                                          , m = g.images
                                          , y = void 0 === m ? [] : m
                                          , b = g.dialog
                                          , w = g.autotext
                                          , x = g.weather
                                          , _ = g.animateScene
                                          , O = g.views
                                          , S = void 0 === O ? [] : O
                                          , P = g.hideGlobalViews
                                          , C = void 0 === P ? [] : P
                                          , E = g.viewsData
                                          , j = void 0 === E ? [] : E;
                                        v.autotext = w && w.uuid,
                                        v.weather = x && x.uuid,
                                        v.animateScene = {
                                            shake: _ && _.shake && _.shake.uuid || void 0
                                        },
                                        v.views = S.map((function(t) {
                                            return {
                                                instanceUuid: t[0],
                                                commandUuid: t[1]
                                            }
                                        }
                                        )),
                                        v.hideGlobalViews = C,
                                        v.dialog = {
                                            command: b && b.command
                                        },
                                        v.images = y.map((function(t) {
                                            return {
                                                command: {
                                                    args: [t]
                                                }
                                            }
                                        }
                                        )),
                                        v.viewsData = j
                                    }
                                    T.inserts.push(p),
                                    n = t.pop()
                                }
                            }(w),
                            T;
                        Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                        ))
                    } else
                        Xe.a.error("错误：".concat(mi.ERROR_PLAY_2.code, "，").concat(mi.ERROR_PLAY_2.msg)).catch((function() {}
                        ))
                }
                  , l = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                      , r = t.speakings
                      , i = t.values
                      , a = t.viewsData
                      , o = t.globalViewsData
                      , s = t.historyCommand
                      , u = t.v
                      , c = n && void 0 !== u;
                    e && (s = t.commandObj && t.commandObj.historyCommand || null);
                    var l = function(t) {
                        return t.map((function(t) {
                            return {
                                uuid: t[0],
                                value: t[1]
                            }
                        }
                        ))
                    };
                    if (Object(nn.p)(r) && (t.speakings = np(r, c)),
                    Object(nn.p)(i)) {
                        var d = gn.N + "s";
                        t[d] = np(i, c),
                        Object.keys(t[d]).forEach((function(e) {
                            return t[d][e] = l(t[d][e])
                        }
                        ))
                    }
                    return Object(nn.p)(a) && (t.viewsData = np(a, c)),
                    Object(nn.p)(o) && (t.globalViewsData = np(o, c)),
                    Object(nn.p)(s) && (e ? (t.commandObj.historyCommand = np(s, c),
                    Object(nn.p)(t.commandObj.historyCommand.viewsData) && (t.commandObj.historyCommand.viewsData = np(t.commandObj.historyCommand.viewsData, c))) : (t.historyCommand = np(s, c),
                    Object(nn.p)(t.historyCommand.viewsData) && (t.historyCommand.viewsData = np(t.historyCommand.viewsData, c)))),
                    Object(nn.b)(s) && 0 == s.length && (t.historyCommand = {
                        bubbleCount: [],
                        bubbleMode: []
                    }),
                    t
                };
                return t ? t.context ? o(t) : t.historyCommand ? Promise.resolve(l(t)) : Promise.resolve(u(l(t, !0))) : Promise.resolve(t)
            }
        }]),
        t
    }();
    function ip(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function ap(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? ip(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ip(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var op = null
      , sp = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = op ? op.update(t) : op = new up(t);
        return e
    }
      , up = function() {
        function t(e) {
            var n = this
              , r = e.callbacks
              , i = e.json
              , a = e.layer;
            h()(this, t),
            c()(this, "handleButtonClick", (function(t, e) {
                e.pointerMode === Phaser.PointerMode.CURSOR && 0 !== e.button || ("cover_button_start" === t.parent.name ? (n.callbacks && n.callbacks.start && n.callbacks.start(),
                n.close()) : "cover_button_load" === t.parent.name ? n.callbacks && n.callbacks.load && n.callbacks.load() : "cover_button_settings" === t.parent.name ? n.callbacks && n.callbacks.settings && n.callbacks.settings() : "cover_button_over" === t.parent.name && (n.callbacks && n.callbacks.over && n.callbacks.over(),
                On.gameQuit()))
            }
            )),
            this.callbacks = r,
            this.container = wu.group(),
            this.layer = a,
            this.layer.addChild(this.container),
            this.render(i),
            Object(vn.c)().onRestart.add((function() {
                return n.close()
            }
            ))
        }
        return v()(t, [{
            key: "update",
            value: function(t) {
                var e = t.callbacks;
                return this.callbacks = e,
                this.container.visible = !0,
                this.layer.addChild(this.container),
                this
            }
        }, {
            key: "close",
            value: function() {
                var t = this.container;
                t.parent && t.parent.remove(t),
                t.visible = !1
            }
        }, {
            key: "render",
            value: function(t) {
                var e = this
                  , n = t.template
                  , r = t.cover
                  , i = t.default_settings
                  , a = n.json.cover
                  , o = a.titleContainer
                  , s = a.startMenu
                  , u = a.loadMenu
                  , c = a.settingsMenu
                  , l = a.overMenu
                  , d = function(t, n, r) {
                    var i = t.rect
                      , a = t.normal
                      , o = t.active;
                    if (!t.hidden) {
                        var s = {
                            name: n,
                            normalUrl: a.background.url,
                            activeUrl: o.background.url,
                            onClick: e.handleButtonClick,
                            textOptions: {
                                normal: ap(ap({}, a.text), {}, {
                                    text: r
                                }),
                                active: ap(ap({}, o.text), {}, {
                                    text: r
                                })
                            },
                            audio: {
                                url: En.buttonSoundUrl,
                                volume: 1
                            }
                        };
                        e.container.add(wu.button(i, s))
                    }
                }
                  , f = r.title
                  , h = f.data
                  , p = f.font_size
                  , v = f.color
                  , g = f.bold
                  , m = f.fontFamily
                  , y = void 0 === m ? i.fontFamily : m;
                if (!f.hidden || !h) {
                    var b = o.background
                      , w = o.title
                      , x = w.rect
                      , k = w.text
                      , _ = k.color
                      , O = k.fontSize
                      , S = o.rect;
                    b && "" !== b.url && this.container.add(wu.image(b.url, ap({}, S))),
                    this.container.add(wu.text(ap(ap({}, x), {}, {
                        x: x.x + S.x,
                        y: x.y + S.y
                    }), {
                        text: h,
                        color: v || _,
                        fontWeight: g ? "bold" : "normal",
                        fontSize: p || O,
                        fontFamily: y,
                        boundsAlignH: "center",
                        boundsAlignV: "bottom"
                    }))
                }
                d(s, "cover_button_start", "开始"),
                d(u, "cover_button_load", "读档"),
                d(c, "cover_button_settings", "设置"),
                d(l, "cover_button_over", "结束")
            }
        }]),
        t
    }();
    function cp(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function lp(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? cp(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cp(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var dp = null
      , fp = function(t) {
        return parseInt(t.charAt(t.length - 1)) || 0
    }
      , hp = function(t, e, n) {
        var r = e.name
          , i = e.x
          , a = e.y
          , o = e.width
          , s = e.height
          , u = e.normal
          , c = void 0 === u ? {} : u
          , l = e.active
          , d = void 0 === l ? {} : l
          , f = e.hidden
          , h = void 0 !== f && f
          , p = e.opacity;
        if (!h) {
            var v = {
                x: i,
                y: a,
                width: o,
                height: s
            }
              , g = {
                name: r,
                normalUrl: c.url || "",
                activeUrl: d.url || "",
                onClick: n,
                audio: {
                    url: En.buttonSoundUrl,
                    volume: 1
                },
                opacity: p
            }
              , m = wu.button(v, g);
            return t.add(m),
            m
        }
    }
      , pp = function(t, e, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
          , i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0;
        t.forEach((function(t, a) {
            var o = t.button;
            o.scale.setTo(r, r),
            o.x = e,
            o.y = n,
            o.visible = a === i
        }
        ))
    }
      , vp = function() {
        function t() {
            var e = this;
            h()(this, t),
            c()(this, "show", (function(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                  , r = t.getByName("ToolsView") || null;
                if (r || (e.autoPlay = En.autoPlay,
                e.fasterId = e.autoPlay && 0 === e.fasterId ? 4 : 0,
                e.smuteId = 0,
                e.mmuteId = 0,
                t.addChild(e.container)),
                t.visible = !0,
                n) {
                    var i = n.ref
                      , a = n.x
                      , o = n.y
                      , s = n.scale;
                    switch (String(i)) {
                    case "faster":
                        En.autoPlay && 0 === e.fasterId && (e.fasterId = 1),
                        pp(e.fasterButtons, a, o, s, e.fasterId);
                        break;
                    case "review":
                        e.reviewButton.scale.setTo(s, s),
                        e.reviewButton.x = a,
                        e.reviewButton.y = o,
                        e.reviewButton.visible = !0;
                        break;
                    case "visible":
                        e.eyes = !0,
                        e.visibleButton.scale.setTo(s, s),
                        e.visibleButton.x = a,
                        e.visibleButton.y = o,
                        e.visibleButton.visible = e.eyes;
                        break;
                    case "sMute":
                        pp(e.sMuteButtons, a, o, s),
                        e.keepSoundVolume = En.soundVolume;
                        break;
                    case "mMute":
                        pp(e.mMuteButtons, a, o, s),
                        e.keepMusicVolume = En.musicVolume;
                        break;
                    case "saveRec":
                        e.saveRecButton.scale.setTo(s, s),
                        e.saveRecButton.x = a,
                        e.saveRecButton.y = o,
                        e.saveRecButton.visible = !0;
                        break;
                    case "loadRec":
                        e.loadRecButton.scale.setTo(s, s),
                        e.loadRecButton.x = a,
                        e.loadRecButton.y = o,
                        e.loadRecButton.visible = !0
                    }
                    e.addButtons[String(i)] = 1
                }
            }
            )),
            c()(this, "hideItem", (function(t) {
                switch (t) {
                case "faster":
                    e.updateButton(e.fasterButtons, -1);
                    break;
                case "review":
                    e.reviewButton.visible = !1;
                    break;
                case "visible":
                    e.visibleButton.visible = !1;
                    break;
                case "sMute":
                    e.updateButton(e.sMuteButtons, -1);
                    break;
                case "mMute":
                    e.updateButton(e.mMuteButtons, -1);
                    break;
                case "saveRec":
                    e.saveRecButton.visible = !1;
                    break;
                case "loadRec":
                    e.loadRecButton.visible = !1
                }
                e.addButtons[String(t)] = 0
            }
            )),
            c()(this, "hide", (function(t) {
                var n = t.getByName("ToolsView") || null;
                n && t.removeChild(n),
                e.fasterId = 0,
                e.visibleId = 0,
                e.smuteId = 0,
                e.mmuteId = 0,
                e.eyes = !0,
                e.autoPlay = En.autoPlay = !1
            }
            )),
            c()(this, "updateButton", (function(t, e) {
                t.forEach((function(t, n) {
                    t.button.visible = !1,
                    n === e && (t.button.visible = !0)
                }
                ))
            }
            )),
            c()(this, "handleEyes", (function(t) {
                e.addButtons.faster && e.updateButton(e.fasterButtons, t ? e.fasterId : -1),
                e.addButtons.sMute && e.updateButton(e.sMuteButtons, t ? e.smuteId : -1),
                e.addButtons.mMute && e.updateButton(e.mMuteButtons, t ? e.mmuteId : -1),
                e.addButtons.saveRec && (e.saveRecButton.visible = t),
                e.addButtons.loadRec && (e.loadRecButton.visible = t),
                e.addButtons.review && (e.reviewButton.visible = t),
                e.addButtons.visible && (e.visibleButton.visible = t),
                t || (En.autoPlay = !1)
            }
            )),
            c()(this, "dispatchEyes", (function() {
                e.eyes || (e.eyes = !e.eyes,
                e.handleEyes(e.eyes),
                e.visibleButton.visible = e.eyes,
                e.eyesCallback && e.eyesCallback(e.eyes),
                e.handleEyesing = !0,
                e.eyes && 0 !== e.fasterId && (e.handleEyesing = !1,
                En.autoPlay = !0,
                e.fasterCallback && e.fasterCallback(!0)),
                Object(k.z)(200).then((function() {
                    return e.handleEyesing = !1
                }
                )))
            }
            )),
            c()(this, "handleClick", (function(t, n) {
                if (n.pointerMode !== Phaser.PointerMode.CURSOR || 0 === n.button) {
                    var r = t.parent.name;
                    switch (r) {
                    case "faster_speed0":
                    case "faster_speed1":
                    case "faster_speed2":
                    case "faster_speed3":
                    case "faster_speed4":
                        e.fasterId = fp(r) + 1,
                        e.autoPlay = !0,
                        e.fasterId >= e.fasterButtons.length && (e.fasterId = 0,
                        e.autoPlay = !1),
                        En.autoPlay = e.autoPlay,
                        e.fasterCallback && e.fasterCallback(e.autoPlay),
                        e.updateButton(e.fasterButtons, e.fasterId);
                        break;
                    case "visible":
                        if (e.handleEyesing)
                            return;
                        e.eyes = !e.eyes,
                        e.eyesCallback && e.eyesCallback(e.eyes),
                        e.handleEyes(e.eyes);
                        break;
                    case "sMute_on0":
                    case "sMute_off1":
                        e.smuteId = fp(r),
                        e.smuteId = 0 === e.smuteId ? 1 : 0,
                        1 == e.smuteId && (e.keepMusicVolume = En.soundVolume),
                        e.soundMuteCallback(1 == e.smuteId ? 0 : e.keepSoundVolume),
                        e.updateButton(e.sMuteButtons, e.smuteId);
                        break;
                    case "mMute_on0":
                    case "mMute_off1":
                        e.mmuteId = fp(r),
                        e.mmuteId = 0 === e.mmuteId ? 1 : 0,
                        1 == e.mmuteId && (e.keepMusicVolume = En.musicVolume),
                        e.musicMuteCallback(1 == e.mmuteId ? 0 : e.keepMusicVolume),
                        e.updateButton(e.mMuteButtons, e.mmuteId);
                        break;
                    case "saveRec":
                        e.saveRecordCallback && e.saveRecordCallback();
                        break;
                    case "loadRec":
                        e.loadRecordCallback && e.loadRecordCallback();
                        break;
                    case "review":
                        e.reViewCallback && e.reViewCallback()
                    }
                }
            }
            )),
            this.container = wu.group("ToolsView"),
            this.fasterButtons = [],
            this.sMuteButtons = [],
            this.mMuteButtons = [],
            this.reviewButton = null,
            this.saveRecButton = null,
            this.loadRecButton = null,
            this.visibleButton = null,
            this.addButtons = {
                faster: 0,
                sMute: 0,
                mMute: 0,
                review: 0,
                saveRec: 0,
                loadRec: 0,
                visible: 0
            },
            this.fasterId = 0,
            this.smuteId = 0,
            this.mmuteId = 0,
            this.eyes = !0,
            this.handleEyesing = !1,
            this.autoPlay = En.autoPlay,
            this.autoPlay && (this.fasterId = 4),
            this.saveRecordCallback = null,
            this.loadRecordCallback = null,
            this.reViewCallback = null,
            this.eyesCallback = null,
            this.soundMuteCallback = null,
            this.musicMuteCallback = null,
            this.fasterCallback = null,
            this.keepSoundVolume = En.soundVolume,
            this.keepMusicVolume = En.musicVolume
        }
        return v()(t, [{
            key: "Container",
            get: function() {
                return this.container
            }
        }, {
            key: "Speed",
            get: function() {
                return this.fasterButtons[this.fasterId].speed
            }
        }, {
            key: "Visible",
            get: function() {
                return 1 === this.visibleId
            }
        }, {
            key: "SoundMute",
            get: function() {
                return 1 === this.smuteId
            }
        }, {
            key: "MusicMute",
            get: function() {
                return 1 === this.mmuteId
            }
        }, {
            key: "AutoPlay",
            get: function() {
                return this.autoPlay
            },
            set: function(t) {
                this.autoPlay = t,
                this.fasterId = t ? this.fasterId : 0,
                this.updateButton(this.fasterButtons, this.fasterId)
            }
        }, {
            key: "Eyes",
            get: function() {
                return this.eyes
            }
        }, {
            key: "EyesHandleing",
            get: function() {
                return this.handleEyesing
            }
        }], [{
            key: "getInstance",
            value: function() {
                return dp || (dp = new t),
                dp
            }
        }]),
        v()(t, [{
            key: "update",
            value: function(t) {
                var e = t.data
                  , n = t.loadRecord
                  , r = t.saveRecord
                  , i = t.reViewCallback
                  , a = t.eyesCallback
                  , o = t.soundMuteCallback
                  , s = t.musicMuteCallback
                  , u = t.fasterCallback;
                this.loadRecordCallback = n,
                this.saveRecordCallback = r,
                this.reViewCallback = i,
                this.eyesCallback = a,
                this.soundMuteCallback = o,
                this.musicMuteCallback = s,
                this.fasterCallback = u,
                this.render(e)
            }
        }, {
            key: "render",
            value: function(t) {
                var e = t.faster
                  , n = t.review
                  , r = t.visible
                  , i = t.sMute
                  , a = t.mMute
                  , o = t.saveRec
                  , s = t.loadRec
                  , u = e.speed1
                  , c = e.speed2
                  , l = e.speed3
                  , d = e.speed4;
                this.fasterButtons.push({
                    button: hp(this.container, lp(lp({}, e), {}, {
                        name: "faster_speed0"
                    }), this.handleClick),
                    speed: 400
                }),
                this.fasterButtons.push({
                    button: hp(this.container, lp(lp({}, e), {}, {
                        normal: u,
                        name: "faster_speed1"
                    }), this.handleClick),
                    speed: 400
                }),
                this.fasterButtons.push({
                    button: hp(this.container, lp(lp({}, e), {}, {
                        normal: c,
                        name: "faster_speed2"
                    }), this.handleClick),
                    speed: 200
                }),
                this.fasterButtons.push({
                    button: hp(this.container, lp(lp({}, e), {}, {
                        normal: l,
                        name: "faster_speed3"
                    }), this.handleClick),
                    speed: 100
                }),
                this.fasterButtons.push({
                    button: hp(this.container, lp(lp({}, e), {}, {
                        normal: d,
                        name: "faster_speed4"
                    }), this.handleClick),
                    speed: 600
                }),
                this.updateButton(this.fasterButtons, -1),
                this.reviewButton = hp(this.container, lp(lp({}, n), {}, {
                    name: "review"
                }), this.handleClick),
                this.visibleButton = hp(this.container, lp(lp({}, r), {}, {
                    name: "visible"
                }), this.handleClick);
                var f = i.off;
                this.sMuteButtons.push({
                    button: hp(this.container, lp(lp({}, i), {}, {
                        name: "sMute_on0"
                    }), this.handleClick)
                }),
                this.sMuteButtons.push({
                    button: hp(this.container, lp(lp({}, i), {}, {
                        normal: f,
                        name: "sMute_off1"
                    }), this.handleClick)
                }),
                this.updateButton(this.sMuteButtons, -1);
                var h = a.off;
                this.mMuteButtons.push({
                    button: hp(this.container, lp(lp({}, a), {}, {
                        name: "mMute_on0"
                    }), this.handleClick)
                }),
                this.mMuteButtons.push({
                    button: hp(this.container, lp(lp({}, a), {}, {
                        normal: h,
                        name: "mMute_off1"
                    }), this.handleClick)
                }),
                this.updateButton(this.mMuteButtons, -1),
                this.saveRecButton = hp(this.container, lp(lp({}, o), {}, {
                    name: "saveRec"
                }), this.handleClick),
                this.loadRecButton = hp(this.container, lp(lp({}, s), {}, {
                    name: "loadRec"
                }), this.handleClick)
            }
        }]),
        t
    }();
    function gp(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function mp(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? gp(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : gp(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var yp = null
      , bp = 0
      , wp = 0
      , xp = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = yp ? yp.update(t) : yp = new Ep(t);
        return e.container
    }
      , kp = ["settings_button_fullMode", "settings_button_windowMode"]
      , _p = ["settings_button_autoOn", "settings_button_autoOff"]
      , Op = navigator
      , Sp = Op.userAgent
      , Pp = /MicroMessenger/gi.test(Sp)
      , Cp = /QQ/gi.test(Sp)
      , Ep = function() {
        function t(e) {
            var n = this
              , r = e.callback
              , i = e.template;
            h()(this, t),
            c()(this, "setSize", (function(t) {
                var e = t.width
                  , r = t.height;
                bp == e && wp == r || (bp = e,
                wp = r,
                Object(k.z)(50).then((function() {
                    var t = window.innerWidth || window.documentElement && window.documentElement.clientWidth || window.document.body.clientWidth
                      , e = window.innerHeight || window.documentElement && window.documentElement.clientHeight || window.document.body.clientHeight
                      , r = Math.min(t, e)
                      , i = Math.max(t, e);
                    En.full = r > window.originalWidth || i > window.originalHeight;
                    var a, o = n.container;
                    a = kp[En.full ? 0 : 1],
                    kp.forEach((function(t) {
                        return o.getByName(t).check(a === t)
                    }
                    ))
                }
                )))
            }
            )),
            c()(this, "handleClick", (function(t, e) {
                if (e.pointerMode !== Phaser.PointerMode.CURSOR || 0 === e.button) {
                    var r = Object(vn.c)()
                      , i = n.container
                      , a = x.a.client
                      , o = x.a.isWapOther
                      , u = x.a.isSteam
                      , c = x.a.vertical
                      , l = function(t, e) {
                        return e.forEach((function(e) {
                            return i.getByName(e).check(t === e)
                        }
                        ))
                    };
                    if (t.parent.name === kp[0])
                        l(kp[0], kp),
                        u && cefCustomObject.setWinFormSize(1),
                        On.isAppClient() || Pp || Cp || "pc" === a || o || r.scale.startFullScreen(!0),
                        "pc" === a && !0 !== En.full && On.fullScreenFromPc(),
                        En.full = !0;
                    else if (t.parent.name === kp[1]) {
                        if (l(kp[1], kp),
                        u) {
                            var d = c ? [540, 960] : [960, 540]
                              , f = s()(d, 2)
                              , h = f[0]
                              , p = f[1];
                            cefCustomObject.setWinFormSize(0, h, p)
                        }
                        On.isAppClient() || Pp || Cp || "pc" === a || o || r.scale.stopFullScreen(),
                        "pc" === a && !1 !== En.full && On.exitFullScreenFromPc(),
                        En.full = !1
                    } else
                        t.parent.name === _p[0] ? (l(_p[0], _p),
                        En.autoPlay = !0,
                        vp.getInstance().AutoPlay = !0) : t.parent.name === _p[1] ? (l(_p[1], _p),
                        En.autoPlay = !1,
                        vp.getInstance().AutoPlay = !1) : "settings_button_back" === t.parent.name && (n.close(),
                        n.backCallback && n.backCallback())
                }
            }
            ));
            var a = x.a.client;
            if (this.container = wu.group(),
            "pc" === a) {
                var o = window.innerWidth || window.documentElement && window.documentElement.clientWidth || window.document.body.clientWidth
                  , u = window.innerHeight || window.documentElement && window.documentElement.clientHeight || window.document.body.clientHeight
                  , l = Math.min(o, u)
                  , d = Math.max(o, u);
                En.full = l > window.originalWidth || d > window.originalHeight
            }
            this.render(i.json.settings),
            this.update({
                callback: r
            }),
            On.setCallback("setAttribute", this.setSize),
            Object(vn.c)().onRestart.add((function() {
                return n.close()
            }
            ))
        }
        return v()(t, [{
            key: "close",
            value: function() {
                var t = this.container;
                t.parent && t.parent.remove(t),
                t.visible = !1
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.callback;
                this.container.visible = !0,
                this.backCallback = e;
                var n = this.container.getByName(kp[0])
                  , r = this.container.getByName(kp[1])
                  , i = this.container.getByName(_p[0])
                  , a = this.container.getByName(_p[1])
                  , o = this.container.getByName("music_progress")
                  , s = this.container.getByName("sound_progress")
                  , u = En.musicVolume
                  , c = En.soundVolume
                  , l = En.full
                  , d = En.autoPlay;
                return n && n.check(l),
                r && r.check(!l),
                i && i.check(d),
                a && a.check(!d),
                o && (o.mask.width = u <= 0 ? .01 : u * o.width),
                s && (s.mask.width = c <= 0 ? .01 : c * s.width),
                this
            }
        }, {
            key: "addProgressEventHandle",
            value: function(t, e, n) {
                var r = this
                  , i = Object(vn.c)()
                  , a = i.input
                  , o = i.world
                  , s = e.x
                  , u = e.width
                  , c = function(t) {
                    return t < 0 && (t = 0),
                    t > 1 && (t = 1),
                    t
                }
                  , l = function(e) {
                    var r = (e = c(e)) <= 0 ? .01 : e * u;
                    n.graphicsData[0].shape.width = r,
                    "music_progress" === t.name ? (En.videoVolume = e,
                    nr.updateMusicVolume(e)) : nr.updateSoundsVolume(e)
                }
                  , d = function(t) {
                    return l(((o.angle ? t.y : t.x) - s) / u)
                };
                t.events.onInputDown.add((function(t, e) {
                    var n = Math.abs(o.angle ? e.y : e.x);
                    l((n - s) / u),
                    a.addMoveCallback(d, r)
                }
                ), this),
                t.events.onInputUp.add((function(t, e) {
                    var n = Math.abs(o.angle ? e.y : e.x);
                    l(c((n - s) / u)),
                    a.deleteMoveCallback(d, r)
                }
                ), this)
            }
        }, {
            key: "renderProgress",
            value: function(t, e, n, r) {
                var i = Object(vn.c)().load.cache;
                e = i.checkImageKey(e) ? e : "",
                n = i.checkImageKey(n) ? n : "",
                this.container.add(wu.image(e, r));
                var a = wu.image(n, r);
                a.name = "".concat(t, "_progress"),
                a.inputEnabled = !0,
                this.container.add(a);
                var o = wu.rectMask({
                    color: 16773120,
                    alpha: .5,
                    rect: mp({}, r)
                });
                return this.container.add(o),
                a.mask = o,
                this.addProgressEventHandle(a, r, o),
                a
            }
        }, {
            key: "render",
            value: function(t) {
                var e = this
                  , n = t.background
                  , r = t.header
                  , i = t.displayHeader
                  , a = t.textHeader
                  , o = t.displayCaption
                  , s = t.textCaption
                  , u = t.fullMode
                  , c = t.windowMode
                  , l = t.autoOn
                  , d = t.autoOff
                  , f = t.back
                  , h = t.musicCaption
                  , p = t.musicVolume
                  , v = t.soundCaption
                  , g = t.soundVolume
                  , m = t.volumeHeader
                  , y = Object(vn.c)().world
                  , b = y.width
                  , w = y.height
                  , x = function(t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                      , r = t.rect
                      , i = t.background
                      , a = void 0 === i ? {} : i
                      , o = t.title
                      , s = a.url
                      , u = wu.group();
                    if (s && u.add(wu.image(s, mp(mp({}, r), {}, {
                        x: 0,
                        y: 0
                    }))),
                    o && !o.text.hidden) {
                        var c = o.rect
                          , l = c.x
                          , d = c.y
                          , f = c.width
                          , h = c.height;
                        u.add(wu.text({
                            x: l + r.x,
                            y: d + r.y,
                            width: f,
                            height: h
                        }, mp(mp({}, o.text), {}, {
                            text: n,
                            boundsAlignH: "center",
                            boundsAlignV: "middle"
                        })))
                    }
                    t.text && !t.text.hidden && u.add(wu.text(mp(mp({}, r), {}, {
                        x: 0,
                        y: 0
                    }), mp(mp({}, t.text), {}, {
                        text: n,
                        boundsAlignH: "center",
                        boundsAlignV: "middle"
                    })));
                    var p = wu.rectMask({
                        alpha: 0,
                        rect: mp(mp({}, r), {}, {
                            x: 0,
                            y: 0
                        })
                    });
                    u.mask = p,
                    u.add(p),
                    u.x = r.x,
                    u.y = r.y,
                    e.container.add(u)
                }
                  , k = function(t, n, r) {
                    var i = t.rect
                      , a = t.checked
                      , o = void 0 === a ? {} : a
                      , s = t.unchecked
                      , u = void 0 === s ? {} : s
                      , c = t.hidden
                      , l = void 0 !== c && c
                      , d = o.background
                      , f = void 0 === d ? {} : d
                      , h = u.background
                      , p = void 0 === h ? {} : h;
                    if (!l) {
                        var v = {
                            name: n,
                            checkedUrl: f.url || "",
                            uncheckedUrl: p.url || "",
                            onClick: e.handleClick,
                            textOptions: {
                                checked: mp(mp({}, o.text), {}, {
                                    text: r
                                }),
                                unchecked: mp(mp({}, o.text), {}, {
                                    text: r
                                })
                            }
                        };
                        e.container.add(wu.checkbox(i, v))
                    }
                }
                  , _ = wu.image(n.url, {
                    x: 0,
                    y: 0,
                    width: b,
                    height: w
                });
                if (_.inputEnabled = !0,
                this.container.add(_),
                x(r, "设置"),
                !i.hidden && x(i, "显示设定"),
                !a.hidden && x(a, "文字设定"),
                x(o, "画面模式"),
                x(s, "自动进行"),
                k(u, kp[0], "全屏模式"),
                k(c, kp[1], "窗口模式"),
                k(l, _p[0], "开"),
                k(d, _p[1], "关"),
                function(t, n, r) {
                    var i = t.rect
                      , a = t.normal
                      , o = void 0 === a ? {} : a
                      , s = t.active
                      , u = void 0 === s ? {} : s
                      , c = t.hidden
                      , l = void 0 !== c && c
                      , d = o.background
                      , f = void 0 === d ? {} : d
                      , h = u.background
                      , p = void 0 === h ? {} : h;
                    if (!l) {
                        var v = {
                            name: "settings_button_back",
                            normalUrl: f.url || "",
                            activeUrl: p.url || "",
                            onClick: e.handleClick,
                            textOptions: {
                                normal: mp(mp({}, o.text), {}, {
                                    text: "返回"
                                }),
                                active: mp(mp({}, u.text), {}, {
                                    text: "返回"
                                })
                            },
                            audio: {
                                url: En.buttonSoundUrl,
                                volume: 1
                            }
                        };
                        e.container.add(wu.button(i, v))
                    }
                }(f),
                h && x(h, "音乐音量"),
                p) {
                    this.hasProgress = !0;
                    var O = p.normal
                      , S = void 0 === O ? {} : O
                      , P = p.progress
                      , C = void 0 === P ? {} : P
                      , E = p.rect
                      , j = S.background
                      , A = void 0 === j ? {} : j
                      , I = C.background
                      , R = void 0 === I ? {} : I;
                    this.renderProgress("music", A.url || "", R.url || "", E)
                }
                if (v && x(v, "音效音量"),
                g) {
                    this.hasProgress = !0;
                    var T = g.normal
                      , M = void 0 === T ? {} : T
                      , D = g.progress
                      , B = void 0 === D ? {} : D
                      , U = g.rect
                      , z = M.background
                      , L = void 0 === z ? {} : z
                      , V = B.background
                      , F = void 0 === V ? {} : V;
                    this.renderProgress("sound", L.url || "", F.url || "", U)
                }
                m && x(m, "音量设置")
            }
        }]),
        t
    }();
    function jp(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Ap(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? jp(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : jp(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Ip = null
      , Rp = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = Ip ? Ip.update(t) : Ip = new Tp(t);
        return e.container
    }
      , Tp = function() {
        function t(e) {
            var n = this
              , r = e.callbacks
              , i = e.template;
            h()(this, t),
            c()(this, "handleClick", (function(t, e) {
                if (e.pointerMode !== Phaser.PointerMode.CURSOR || 0 === e.button) {
                    var r = function(t) {
                        n.close(),
                        n.callbacks && n.callbacks[t] && n.callbacks[t]()
                    };
                    "mainMenu_button_save" === t.parent.name ? r("save") : "mainMenu_button_load" === t.parent.name ? r("load") : "mainMenu_button_playback" === t.parent.name ? r("playback") : "mainMenu_button_autoplay" === t.parent.name ? (En.autoPlay = !En.autoPlay,
                    vp.getInstance().AutoPlay = En.autoPlay,
                    r("autoplay")) : "mainMenu_button_settings" === t.parent.name ? r("settings") : "mainMenu_button_back" === t.parent.name && r("back")
                }
            }
            )),
            this.callbacks = r,
            this.container = wu.group(),
            this.render(i.json.mainMenu),
            Object(vn.c)().onRestart.add((function() {
                return n.close()
            }
            ))
        }
        return v()(t, [{
            key: "close",
            value: function() {
                var t = this.container;
                t.parent && t.parent.remove(t),
                t.visible = !1
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.callbacks;
                return this.autoPlay && this.autoPlay.setText(En.autoPlay ? "手动播放" : "自动播放"),
                this.callbacks = e,
                this.container.visible = !0,
                this
            }
        }, {
            key: "render",
            value: function(t) {
                var e, n, r, i = this, a = t.background, o = t.header, s = t.save, u = t.load, c = t.playback, l = t.settings, d = t.autoplay, f = t.back, h = Object(vn.c)().world, p = h.width, v = h.height, g = function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    if (t || !t && n) {
                        var r = wu.image(t, e);
                        r.inputEnabled = n,
                        i.container.add(r)
                    }
                }, m = function(t, e, n) {
                    var r = t.rect
                      , a = t.normal
                      , o = t.active;
                    if (!t.hidden) {
                        var s = {
                            name: e,
                            normalUrl: a.background.url,
                            activeUrl: o.background.url,
                            onClick: i.handleClick,
                            textOptions: {
                                normal: Ap(Ap({}, a.text), {}, {
                                    text: n
                                }),
                                active: Ap(Ap({}, o.text), {}, {
                                    text: n
                                })
                            },
                            audio: {
                                url: En.buttonSoundUrl,
                                volume: 1
                            }
                        }
                          , u = wu.button(r, s);
                        return i.container.add(u),
                        u
                    }
                };
                g(a.url, {
                    x: 0,
                    y: 0,
                    width: p,
                    height: v
                }, !0),
                g(o.background && o.background.url || "", o.rect),
                e = o.title.rect,
                n = Ap(Ap({}, o.title.text), {}, {
                    text: "菜单"
                }),
                (r = wu.text(e, Ap(Ap({}, n), {}, {
                    boundsAlignH: "center",
                    boundsAlignV: "middle"
                }))) && i.container.add(r),
                m(s, "mainMenu_button_save", "保存进度"),
                m(u, "mainMenu_button_load", "读取进度"),
                m(c, "mainMenu_button_playback", "剧情回放"),
                this.autoPlay = m(d, "mainMenu_button_autoplay", En.autoPlay ? "手动播放" : "自动播放"),
                m(l, "mainMenu_button_settings", "设置"),
                m(f, "mainMenu_button_back", "返回")
            }
        }]),
        t
    }();
    function Mp(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Dp(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Mp(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Mp(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Bp = null
      , Up = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = Bp ? Bp.update(t) : Bp = new zp(t);
        return e.container
    }
      , zp = function() {
        function t(e) {
            var n = this
              , r = e.callback
              , i = e.template
              , a = e.records
              , o = void 0 === a ? [] : a
              , s = e.isload
              , u = void 0 !== s && s;
            h()(this, t),
            c()(this, "handleClick", (function(t, e) {
                e.pointerMode === Phaser.PointerMode.CURSOR && 0 !== e.button || "playback_button_back" === t.parent.name && (n.close(),
                n.backCallback && n.backCallback())
            }
            )),
            this.records = o,
            this.backCallback = r,
            this.container = wu.group(),
            this.totalHeight = 0,
            this.items = [],
            this.render(i.json.playback),
            this.update({
                callback: r,
                records: o,
                template: i,
                isload: u
            }),
            Object(vn.c)().onRestart.add((function() {
                return n.close()
            }
            ))
        }
        return v()(t, [{
            key: "close",
            value: function() {
                sn.a.playBackWheelEvent = !1;
                var t = this.container;
                t.parent && t.parent.remove(t),
                t.visible = !1
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.callback
                  , n = t.records
                  , r = t.template;
                return (1 == t.isload || 0 == n.length) && this.clear(r.json.playback),
                this.records = n,
                this.backCallback = e,
                this.container.visible = !0,
                this.updateItems(),
                this.scrollPane.scrollY(-this.totalHeight),
                this
            }
        }, {
            key: "clear",
            value: function(t) {
                for (; this.items.length > 0; ) {
                    var e = this.items.pop();
                    e.box && this.scrollPane.contains(e.box) && this.scrollPane.removeChild(e.box)
                }
                var n = t.scrollBox.rect.y;
                this.scrollPane.y = n,
                this.items = [],
                this.totalHeight = 0
            }
        }, {
            key: "updateItems",
            value: function() {
                var t = this
                  , e = 0
                  , n = [];
                this.records.length - this.items.length > 0 && (n = this.records.slice(this.items.length),
                e = this.totalHeight),
                n.forEach((function(n) {
                    var r = t.renderItems(t.itemData, t.scrollBoxRect);
                    r.y = t.totalHeight;
                    var i = r.getByName("text")
                      , o = n || "";
                    Object(nn.b)(o) || (o = sl(o).map((function(t) {
                        return Dp({}, t)
                    }
                    ))),
                    o = ul(a()(o), i.color);
                    var s = /([\s\S]*)\\(\d+)\s([\s\S]*)/;
                    i.setTexts(o.map((function(t) {
                        for (var e = t.data, n = void 0 === e ? "" : e, r = s.exec(n); r; )
                            n = r[1] + r[3],
                            r = s.exec(n);
                        return Dp(Dp({}, t), {}, {
                            data: n
                        })
                    }
                    ))),
                    e = i.height + 30,
                    t.totalHeight += e,
                    t.items.push({
                        box: r,
                        height: e
                    })
                }
                ))
            }
        }, {
            key: "renderItems",
            value: function(t, e) {
                var n = t.rect
                  , r = t.content
                  , i = t.background
                  , a = r.text
                  , o = function() {
                    var t = wu.group();
                    t.add(wu.image(i.url, Dp(Dp({}, n), {}, {
                        x: 0,
                        y: 0
                    })));
                    var o = e ? e.width : r.rect.width
                      , s = wu.textarea({
                        x: 0,
                        y: 0,
                        width: o - 0 - parseInt(a.fontSize),
                        height: Math.min(r.rect.height, n.height)
                    }, Dp(Dp({}, a), {}, {
                        forceFontFamily: qs.default,
                        boundsAlignH: "left",
                        boundsAlignV: "top"
                    }));
                    return s.color = a.color || En.DefaultColor,
                    s.name = "text",
                    t.add(s),
                    t
                }();
                return o.x = n.x,
                o.y = n.y + n.height,
                this.scrollPane.addChild(o),
                o
            }
        }, {
            key: "renderScrollBox",
            value: function(t) {
                var e = this
                  , n = x.a.vertical
                  , r = t.rect
                  , i = t.item
                  , a = Object(vn.c)();
                this.scrollBoxRect = r;
                var o = wu.sprite(r);
                this.container.add(o);
                var u = r.x
                  , c = r.y
                  , l = r.width
                  , d = r.height;
                o.scrollY = function(t) {
                    e.totalHeight <= d || ((t = t || 0) > c ? o.y = c : t - c <= -(e.totalHeight - d) ? o.y = -(e.totalHeight - c - d) : o.y = t)
                }
                ;
                var f = function(t) {
                    var e, r, i = t.worldX, o = t.worldY, f = a.world.angle;
                    if (n && 90 === f || !n && 0 === f) {
                        var h = n ? [o, -i] : [i, o]
                          , p = s()(h, 2);
                        e = p[0],
                        r = p[1]
                    } else {
                        var v = n ? [i, o] : [o, -i]
                          , g = s()(v, 2);
                        e = g[0],
                        r = g[1]
                    }
                    return r < c || r > c + d || e < u || e > u + l ? null : {
                        x: e,
                        y: r
                    }
                };
                o.inputEnabled = !0;
                var h = o.input
                  , p = o.events;
                h.enableDrag(),
                h.allowHorizontalDrag = !1,
                p.onDragUpdate.add((function(t, e, n, r) {
                    return o.scrollY(r)
                }
                ), this),
                p.onInputDown.add((function(t, n) {
                    return !f(n) || e.totalHeight <= d ? t.input.disableDrag() : t.input.enableDrag()
                }
                ));
                var v = !1
                  , g = function(t) {
                    e.container.parent && 1 == e.container.visible && (sn.a.playBackWheelEvent = !0),
                    t.preventDefault && t.preventDefault();
                    var n = t.wheelDelta ? t.wheelDelta / 120 : -t.detail / 3;
                    o.scrollY(o.y + 100 * n)
                };
                a.input.addMoveCallback((function(t) {
                    var e = f(t)
                      , n = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
                    !e && v ? (document.removeEventListener(n, g),
                    v = !1) : e && !v && (document.addEventListener(n, g, {
                        passive: !1
                    }),
                    v = !0)
                }
                ), this);
                var m = Math.min(i.content.rect.width, i.rect.width) - i.rect.x - parseInt(i.content.text.fontSize) || 25
                  , y = Math.max(m, r.width)
                  , b = wu.rectMask({
                    color: 16777215,
                    rect: Dp(Dp({}, r), {}, {
                        width: y
                    })
                });
                b.x -= 1.5,
                this.container.add(b),
                o.mask = b,
                this.scrollPane = o,
                this.itemData = i
            }
        }, {
            key: "render",
            value: function(t) {
                var e = this
                  , n = t.scrollBox
                  , r = t.back
                  , i = t.background
                  , a = Object(vn.c)().world
                  , o = a.width
                  , s = a.height
                  , u = function(t, n) {
                    var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    if (t || !t && r) {
                        var i = wu.image(t, n);
                        i.inputEnabled = r,
                        e.container.add(i)
                    }
                };
                u(i.url, {
                    x: 0,
                    y: 0,
                    width: o,
                    height: s
                }, !0),
                u(n.background && n.background.url, n.rect),
                this.renderScrollBox(n),
                function(t, n, r) {
                    var i = t.rect
                      , a = t.normal
                      , o = void 0 === a ? {} : a
                      , s = t.active
                      , u = void 0 === s ? {} : s
                      , c = t.hidden
                      , l = void 0 !== c && c
                      , d = o.background
                      , f = void 0 === d ? {} : d
                      , h = u.background
                      , p = void 0 === h ? {} : h;
                    if (!l) {
                        var v = {
                            name: "playback_button_back",
                            normalUrl: f.url,
                            activeUrl: p.url,
                            onClick: e.handleClick,
                            textOptions: {
                                normal: Dp(Dp({}, o.text), {}, {
                                    text: "返回"
                                }),
                                active: Dp(Dp({}, u.text), {}, {
                                    text: "返回"
                                })
                            },
                            audio: {
                                url: En.buttonSoundUrl,
                                volume: 1
                            }
                        };
                        e.container.add(wu.button(i, v))
                    }
                }(r)
            }
        }]),
        t
    }()
      , Lp = void 0
      , Vp = "shanyi3000guide"
      , Fp = "shanyi3000recordsversiontip"
      , Np = function(t) {
        return On.localStorageGetItem(t) || ""
    }
      , Hp = function(t, e) {
        return On.localStorageSetItem(t, e)
    }
      , Wp = Np(Vp)
      , Gp = Np(Fp)
      , qp = function(t) {
        var e = x.a.vertical
          , n = x.a.single
          , r = x.a.singleAlone
          , i = x.a.isSteam
          , a = Wp
          , o = "" == a ? null : JSON.parse(a)
          , s = n && !r;
        (!o || o && o.count < 10) && (t.image("Operation_tip", "".concat(i ? "" : "./", "img/Operation_tip").concat(e ? "_1" : "").concat(s ? "_single" : "", ".png")),
        t.image("Cloud_record_tip", "".concat(i ? "" : "./", "img/Cloud_record_tip").concat(e ? "_1.png" : ".png")))
    }
      , Yp = function(t) {
        var e = t.game
          , n = t.key
          , r = void 0 === n ? "" : n
          , i = (t.x,
        t.y,
        t.width)
          , a = void 0 === i ? 0 : i
          , o = t.height
          , s = void 0 === o ? 0 : o
          , u = t.container;
        return new Promise((function(t) {
            var n = e.world
              , i = e.cache;
            if ("" == r || !i.checkKey(Phaser.Cache.IMAGE, r))
                return t();
            var o = n.width
              , c = n.height;
            0 == a && (a = o),
            0 == s && (s = c),
            u || n.removeAll(!0, !1, !0);
            var l = wu.image(r, {
                x: a / 2,
                y: s / 2,
                centre: !0
            });
            l.inputEnabled = !0,
            u ? u.add(l) : n.add(l),
            l.events.onInputUp.add((function e(r, i) {
                i && i.pointerMode === Phaser.PointerMode.CURSOR && 0 !== i.button || (Ln.to({
                    target: l,
                    properties: {
                        alpha: 0
                    },
                    duration: 1e3
                }).then((function() {
                    u ? u.remove(l, !0) : n.removeAll(!0, !1, !0),
                    t()
                }
                )),
                l.events.onInputUp.remove(e, Lp))
            }
            ), Lp)
        }
        ))
    }
      , Zp = function(t) {
        var e = t.game
          , n = t.container;
        if ("" === Gp) {
            var r = x.a.vertical
              , i = e.world
              , a = function(t, n, i, a, o, s, u, c, l) {
                var d = wu.group("recordversiongroup")
                  , f = e.make.graphics(t - i / 2, n);
                f.beginFill(o, s),
                f.drawRoundedRect(0, 0, i, a, c, c),
                f.endFill(),
                d.add(f);
                var h = wu.image("ui", {
                    centre: !0
                }, "guide_tips");
                h.width = r ? h.width : h.width / 2,
                h.height = r ? h.height : h.height / 2,
                h.x = t - i / 2 + h.width / 2 + 4,
                h.y = n + a / 2,
                d.add(h);
                var p = wu.image("ui", {
                    centre: !0
                }, "guide_close");
                p.width = r ? p.width : p.width / 2,
                p.height = r ? p.height : p.height / 2,
                p.x = t + i / 2 - p.width / 2 - 7,
                p.y = n + a / 2,
                p.inputEnabled = !0,
                d.add(p),
                p.events.onInputUp.add((function t(e, n) {
                    n && n.pointerMode === Phaser.PointerMode.CURSOR && 0 !== n.button || (Ln.to({
                        target: d,
                        properties: {
                            alpha: 0
                        },
                        duration: 1e3
                    }).then((function() {
                        d.parent && d.parent.remove(d, !0)
                    }
                    )),
                    p.events.onInputUp.remove(t, Lp))
                }
                ), Lp);
                var v = wu.text({
                    x: t - i / 2,
                    y: n,
                    width: i,
                    height: a
                }, {
                    forceFontFamily: qs.default,
                    fontSize: u,
                    text: l,
                    color: "#fff",
                    boundsAlignH: "center",
                    boundsAlignV: "middle"
                });
                return d.add(v),
                d
            }
              , o = i.width;
            n || (n = i),
            r ? n.add(a(o / 2, 15, 475, 70, 0, .7, 20, 30, "版本更新，我们展示了更多的存档位，\n可以下滑查看更多存档内容~")) : n.add(a(o / 2, 13, 440, 35, 0, .7, 12, 22, "版本更新，我们展示了更多的存档位，可以下滑查看更多存档内容~")),
            Hp(Fp, "show")
        } else if (n) {
            var s = n.getByName("recordversiongroup");
            s && s.parent && s.parent.remove(s, !0)
        }
    }
      , Jp = function(t) {
        var e = Wp
          , n = "" == e ? null : JSON.parse(e);
        return n && n.count < 10 || !n ? (Hp(Vp, JSON.stringify({
            count: (n && n.count || 0) + 1
        })),
        Yp(t).then((function() {
            return (Jp = function() {
                return Promise.resolve()
            }
            )()
        }
        ))) : Promise.resolve()
    }
      , Kp = function(t) {
        var e = Wp;
        return null !== ("" == e ? null : JSON.parse(e)) ? Promise.resolve() : Yp(t).then((function() {
            return Hp(Vp, JSON.stringify({
                count: 0
            })),
            Promise.resolve()
        }
        ))
    };
    function $p(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Xp(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? $p(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : $p(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Qp = ["record_check_local", "record_ckeck_cloud"]
      , tv = function() {
        return x.a.singleAlone || x.a.isWapOther || "zxwwap" === x.a.wap || en.a.runTest || "wx" === x.a.wap && "wap" === x.a.client || "qqws" === x.a.wap || x.a.isSteam
    }
      , ev = function() {
        return "kk" === x.a.wap
    }
      , nv = 0
      , rv = !1
      , iv = null
      , av = 0
      , ov = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = iv ? iv.update(t) : iv = new uv(t);
        return e.container
    }
      , sv = ["系统存档", "自动存档1", "自动存档2"]
      , uv = function() {
        function t(e) {
            var n = this
              , r = e.mode
              , i = void 0 === r ? "load" : r
              , o = e.callback
              , s = e.json
              , u = e.getLocal
              , l = e.getCloud
              , d = e.clickRecord
              , f = e.lockRecord
              , p = e.getPlayContext;
            h()(this, t),
            c()(this, "handleClick", (function(t, e) {
                if (e.pointerMode !== Phaser.PointerMode.CURSOR || 0 === e.button) {
                    var r = n.container
                      , i = function(t, e) {
                        n.checked = e,
                        Qp.forEach((function(t) {
                            return r.getByName(t) && r.getByName(t).check(e === t)
                        }
                        )),
                        o(),
                        n.updateRecords(t)
                    }
                      , o = function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        n.loadingTipText.setText("加载存档中..."),
                        n.loadingTip.visible = n.state.getting = t
                    };
                    if ("record_button_back" === t.parent.name)
                        n.close(),
                        n.backCallback && n.backCallback();
                    else if (t.parent.name !== Qp[0] || n.state.getting) {
                        if (t.parent.name === Qp[1] && !n.state.getting) {
                            if (!n.clickInterval(1))
                                return void ml({
                                    type: gl,
                                    text: "操作太频繁，稍后重试~"
                                });
                            nv = an.a.passSeconds,
                            o(!0),
                            n.getCloud(!0, !0).then((function(t) {
                                Object(k.z)(200).then((function() {
                                    n.lockVector = [],
                                    n.getlock().then((function(e) {
                                        var r;
                                        (r = n.lockVector).push.apply(r, a()(e)),
                                        i(t, Qp[1])
                                    }
                                    ))
                                }
                                ))
                            }
                            ), (function() {
                                return o()
                            }
                            ))
                        }
                    } else {
                        if (!n.clickInterval(1))
                            return void ml({
                                type: gl,
                                text: "操作太频繁，稍后重试~"
                            });
                        nv = an.a.passSeconds,
                        n.checkUserAlpha("内测期间，暂不支持本地存储").then((function() {
                            o(!0),
                            n.getLocal().then((function(t) {
                                return i(t, Qp[0])
                            }
                            ), (function() {
                                return o()
                            }
                            ))
                        }
                        ))
                    }
                }
            }
            )),
            c()(this, "clickInterval", (function(t) {
                return nv - an.a.passSeconds >= 2 && (nv = an.a.passSeconds),
                0 == nv ? (nv = an.a.passSeconds,
                !0) : an.a.passSeconds - nv >= t
            }
            )),
            c()(this, "checkUserAlpha", (function(t) {
                return Xa().then((function(e) {
                    return !e || (Xe.a.info(t).then((function() {}
                    ), (function() {}
                    )),
                    Promise.reject())
                }
                ), (function() {
                    return Promise.resolve(!0)
                }
                ))
            }
            )),
            this.container = wu.group(),
            this.systemRecords = [],
            this.autoSaveOrLoad = !1,
            this.backCallback = o,
            this.getLocal = u,
            this.getCloud = l,
            this.clickRecord = d,
            this.getlock = f,
            this.getPlayContext = p,
            this.checked = null,
            this.lockVector = [],
            this.testLockVector = [],
            this.json = s,
            this.state = {
                mode: i,
                getting: !1
            },
            this.owner = El[gn.M],
            this.records = [],
            this.customMaxScrollY = 0;
            var v = x.a.vertical
              , g = s.template.json.record.scrollBox
              , m = g.column
              , y = g.total
              , b = void 0 === y ? 12 : y
              , w = g.location
              , _ = void 0 === w ? [] : w;
            this.isCustomPos = _.length > 0;
            var O = s.default_settings.autoSaveOrLoad
              , S = void 0 !== O && O;
            this.totalNum = b,
            Object(nn.b)(S) ? ([0, 0, 0].forEach((function(t, e) {
                return !S[e] && (S[e] = t)
            }
            )),
            this.systemRecords = S.map((function(t, e) {
                return {
                    record: null,
                    open: 1 == t,
                    cloudIndex: 12 + e,
                    title: sv[e],
                    show: !1
                }
            }
            )),
            this.systemRecords = this.systemRecords.map((function(t, e) {
                return Xp(Xp({}, t), {}, {
                    index: m ? e : e + 12
                })
            }
            )),
            this.totalNum += this.systemRecords.filter((function(t) {
                return t.open
            }
            )).length) : (this.autoSaveOrLoad = S,
            this.systemRecords = S ? [{
                index: 0,
                record: null,
                open: !0,
                cloudIndex: 0,
                title: sv[1],
                show: !1
            }] : []),
            m = m || 4,
            this.row = v ? this.totalNum : Math.ceil(this.totalNum / m),
            this.column = v ? 1 : m,
            this.render(s),
            this.getRecords(),
            Object(vn.c)().onRestart.add((function() {
                return n.close()
            }
            ))
        }
        return v()(t, [{
            key: "close",
            value: function() {
                var t = this.container;
                t.parent && t.parent.remove(t),
                t.visible = this.state.getting = !1,
                sn.a.saveRecordFrom = ""
            }
        }, {
            key: "getRecords",
            value: function() {
                var t = this
                  , e = x.a.istheatre;
                this.loadingTipText.setText("加载存档中..."),
                this.loadingTip.visible = this.state.getting = !0;
                var n = function(e, n) {
                    t.loadingTip.visible = !1,
                    t.checked = n,
                    Qp.forEach((function(e) {
                        return t.container.getByName(e) && t.container.getByName(e).check(n === e)
                    }
                    )),
                    t.state.getting = !1,
                    t.updateRecords(e)
                };
                this.getlock().then((function(r) {
                    var i;
                    (i = t.lockVector).push.apply(i, a()(r));
                    var o = function() {
                        return t.getLocal().then((function(t) {
                            return n(t, Qp[0])
                        }
                        ))
                    };
                    !e && Zp({
                        game: Object(vn.c)(),
                        container: t.container
                    }),
                    !tv() && !ev() && t.showGuide(),
                    tv() || t.checked !== Qp[1] && null !== t.checked ? o() : t.getCloud(!0, ev()).then((function(t) {
                        return n(t, Qp[1])
                    }
                    ), (function() {
                        ev() ? t.loadingTip.visible = t.state.getting = !1 : o()
                    }
                    ))
                }
                ))
            }
        }, {
            key: "update",
            value: function(t) {
                var e = this
                  , n = t.mode
                  , r = void 0 === n ? "load" : n
                  , i = t.callback
                  , a = t.getLocal
                  , o = t.getCloud
                  , s = t.clickRecord
                  , u = t.lockRecord
                  , c = t.getPlayContext;
                return e.state = {
                    mode: r,
                    getting: !1
                },
                e.records = [],
                e.owner = El[gn.M],
                e.backCallback = i,
                e.getLocal = a,
                e.getCloud = o,
                e.clickRecord = s,
                e.getlock = u,
                e.getPlayContext = c,
                e.lockVector = [],
                e.container.visible = !0,
                e.scrollPane && e.scrollPane.scrollY && e.scrollPane.scrollY(av),
                e.getRecords(),
                this
            }
        }, {
            key: "showGuide",
            value: function() {
                return Jp({
                    game: Object(vn.c)(),
                    key: "Cloud_record_tip",
                    container: this.container
                })
            }
        }, {
            key: "handleRecordClick",
            value: function(t) {
                var e = this
                  , n = this.state.mode
                  , r = t.id
                  , i = this.checked === Qp[0]
                  , a = this.systemRecords.findIndex((function(t) {
                    return t.cloudIndex == r
                }
                )) > -1
                  , o = x.a.uuid;
                if (!(a && "save" === n || this.state.getting)) {
                    "load" === n && (this.state.getting = !0);
                    var s = function(t) {
                        u(),
                        e.updateRecords(t)
                    }
                      , u = function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        e.loadingTipText.setText("load" === n ? "加载存档中..." : "保存档案中..."),
                        e.loadingTip.visible = e.state.getting = t
                    };
                    ("load" === n ? Promise.resolve() : new Promise((function(e, n) {
                        t && 1 == t.lock ? n() : e()
                    }
                    ))).then((function() {
                        if ("load" === n && e.records[r] && Object.keys(e.records[r]).length)
                            e.clickRecord(n, r, i).then((function() {
                                return e.close()
                            }
                            )).catch((function() {
                                u(),
                                ml({
                                    type: gl,
                                    text: "当前档位内容读取解析异常，请重新打开界面重试~"
                                })
                            }
                            ));
                        else {
                            if ("save" !== n)
                                return void u();
                            if (!e.clickInterval(2) || 1 == rv)
                                return void (!rv && ml({
                                    type: gl,
                                    text: "存档操作太频繁，稍后重试~"
                                }));
                            (t.hasRecord ? Xe.a.custom("Info", "是否要覆盖当前存档", "提示", "确认", "取消", !1, 0, 0, !1, null, !1).then((function() {
                                return Promise.resolve()
                            }
                            )) : Promise.resolve()).then((function() {
                                rv = !0;
                                var t = !1;
                                nv = an.a.passSeconds,
                                u(!0),
                                e.clickRecord(n, r, i).then((function() {
                                    return i ? e.getLocal() : Object(k.z)(700).then((function() {
                                        return e.getCloud()
                                    }
                                    ))
                                }
                                ), (function() {
                                    return t = !0,
                                    Promise.reject()
                                }
                                )).then((function(e) {
                                    s(e),
                                    !t && ml({
                                        type: vl,
                                        text: "存档成功，下次可以从这里读档继续哦~"
                                    }),
                                    rv = !1,
                                    "optionsclient" === sn.a.saveRecordFrom && On.localStorageSetItem("".concat(o, "optionsclient"), r)
                                }
                                ), (function() {
                                    s(e.records),
                                    yi(mi.ERROR_PLAY_6, null, null),
                                    rv = !1
                                }
                                ))
                            }
                            )).catch((function() {}
                            )).finally((function() {
                                rv = !1
                            }
                            ))
                        }
                    }
                    ), (function() {
                        var n = x.a.client
                          , i = x.a.wap
                          , a = x.a.gid
                          , o = e.getPlayContext()
                          , s = t.uuid
                          , c = t.price
                          , l = function(t, e) {
                            for (var n = [], r = function(r) {
                                var i = e[r];
                                n.push(t.filter((function(t) {
                                    return t.uuid == i
                                }
                                )))
                            }, i = 0; i < e.length; i++)
                                r(i);
                            return t.concat.apply(t, n).filter((function(t, e, n) {
                                return n.indexOf(t) === n.lastIndexOf(t)
                            }
                            ))
                        };
                        if (en.a.runTest || en.a.runCheck)
                            return Xe.a.info("购买存档操作（闪币-".concat(c, "）,测试阶段不会扣除账户余额")).then((function() {
                                e.renderLock(e.getRecordItem(r)),
                                sn.a.typeUnlockRecords.push(t.uuid),
                                e.lockVector = l(e.lockVector, [t.uuid])
                            }
                            ), (function() {}
                            )),
                            void u();
                        if (i && "zxwwap" === i)
                            return Xe.a.info("商城功能尚未开启，是否前往闪艺抢先体验？").then((function() {
                                window.location.href = "https://wap.3000.com/?m=detail&op=index&ac=index&id=".concat(a)
                            }
                            ), (function() {}
                            )),
                            void u();
                        if ("ios" !== n && "android" !== n && "wap" !== n && "pc" !== n)
                            return Xe.a.info("请前往APP或电脑端购买~").then((function() {}
                            ), (function() {}
                            )),
                            void u();
                        if ("wap" === n && i && "wx" === i)
                            return Xe.a.custom("Info", "请在应用商店下载闪艺app，阅读完整版作品", "提示", "知道了", "取消", !1).catch((function() {}
                            )),
                            void u();
                        var d = function() {
                            Ou.clearMask("paymask"),
                            u()
                        }
                          , f = {
                            playContext: o,
                            preValuesFun: null,
                            chapteruuid: "",
                            commodid: s,
                            count: -1,
                            charge: c,
                            name: "档位",
                            ispack: !1
                        };
                        Ou.addMask({
                            text: "购买发起中...",
                            alpha: .5,
                            name: "paymask"
                        }),
                        nh(f).then((function(t) {
                            return function(t) {
                                var n = t.result;
                                "1" !== (n = String(n)) && "2" !== n && "3" !== n || (e.renderLock(e.getRecordItem(r)),
                                e.lockVector = l(e.lockVector, [s])),
                                d()
                            }(t)
                        }
                        )).catch((function(t) {
                            t && console.warn("to pay record fail ", t),
                            d()
                        }
                        ))
                    }
                    ))
                }
            }
        }, {
            key: "updateRecords",
            value: function() {
                for (var t = this, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], n = Object(vn.c)(), r = n.cache, i = this.row, a = this.column, o = this.systemRecords, s = this.state, u = s.mode, c = this.json.template.json.record.scrollBox.item, l = c.info, d = c.rect, f = 0; f < i; f++)
                    for (var h = function(n) {
                        var i = t.items[f][n];
                        if (!i)
                            return "continue";
                        var a = i.id
                          , s = i.uuid;
                        "load" === u ? t.renderLock(i) : !~o.findIndex((function(t) {
                            return t.cloudIndex == a
                        }
                        )) && t.lockVector.some((function(t) {
                            return t.uuid == s
                        }
                        )) ? t.renderLock(i, !0) : t.renderLock(i);
                        var c = e[a]
                          , h = i.getByName("content")
                          , p = i.getByName("time")
                          , v = i.getByName("info")
                          , g = h.width
                          , m = h.height
                          , y = function(t) {
                            h.loadTexture(t),
                            h.width = g,
                            h.height = m
                        };
                        if (i.hasRecord = 0,
                        !c)
                            return p.setText(""),
                            v && v.setText(""),
                            y(t.defaultItemUrl),
                            "continue";
                        i.hasRecord = 1;
                        var b = c.thumb
                          , w = c.timestamp
                          , x = c.chapterUuid
                          , k = b.indexOf("coverran") > -1
                          , _ = vr.a.hash(b);
                        if (r.checkImageKey(_))
                            y(_);
                        else {
                            var O = new Image;
                            k && O.setAttribute("crossOrigin", "anonymous"),
                            O.src = b,
                            O.onload = function(t) {
                                r.checkImageKey(_) || r.addImage(_, b, t.target),
                                y(_)
                            }
                        }
                        if (p.setText(an.a.format(w)),
                        v && l) {
                            var S = l.text.fontSize
                              , P = d.width - d.x
                              , C = vn.a.getRecordChapterNameByUUID(t.json, x);
                            if (S * C.length >= P) {
                                var E = Math.floor(P / S);
                                C = C.substr(0, E - 1) + "..."
                            }
                            v.setText(C)
                        }
                    }, p = 0; p < a; p++)
                        h(p);
                this.records = e
            }
        }, {
            key: "renderRecords",
            value: function(t, e) {
                var n = e.itemSpaceX
                  , r = void 0 === n ? 20 : n
                  , i = e.itemSpaceY
                  , a = void 0 === i ? 12 : i
                  , o = e.location
                  , u = void 0 === o ? [] : o
                  , c = t.rect
                  , l = t.background
                  , d = t.content
                  , f = t.hint
                  , h = t.info
                  , p = void 0 === h ? null : h
                  , v = c.x
                  , g = void 0 === v ? 0 : v
                  , m = c.y
                  , y = void 0 === m ? 0 : m
                  , b = c.height
                  , w = c.width
                  , x = this.row
                  , k = this.column
                  , _ = this.systemRecords
                  , O = d.rect
                  , S = d.background;
                this.items = [],
                this.defaultItemUrl = S.url;
                for (var P = 0, C = 0, E = function(t) {
                    return _.some((function(e) {
                        return e.index === t && e.open && !e.show
                    }
                    ))
                }, j = function(t, e, n) {
                    var r = e.cloudIndex
                      , i = e.title;
                    r === t.id && n++,
                    t.id = r,
                    e.record = t,
                    e.show = !0;
                    var a = wu.rectMask({
                        rect: {
                            height: b,
                            width: w
                        },
                        alpha: .4
                    });
                    return t.addChild(a),
                    t.addChild(wu.text({
                        x: 0,
                        y: 0,
                        height: b,
                        width: w
                    }, {
                        fontSize: 16,
                        color: "white",
                        fontFamily: "Microsoft YaHei",
                        text: i,
                        boundsAlignH: "center",
                        boundsAlignV: "middle"
                    })),
                    n
                }, A = function(t) {
                    var e = t.index
                      , n = t.id
                      , r = t.r
                      , i = t.c
                      , a = t.rect
                      , o = wu.group();
                    o.row = r,
                    o.col = i,
                    o.x = a.x,
                    o.y = a.y,
                    o.rect = a,
                    o.id = n;
                    var s = En.records[n];
                    o.uuid = s ? s.uuid : "",
                    o.price = s ? s.price : 0,
                    o.lock = !1,
                    o.add(wu.image(l.url, {
                        height: b,
                        width: w
                    }));
                    var u = wu.image(S.url, Xp(Xp({}, O), {}, {
                        name: "content"
                    }));
                    o.add(u);
                    var c = wu.text(f.rect, Xp(Xp({}, f.text), {}, {
                        name: "time",
                        boundsAlignH: "center",
                        boundsAlignV: "middle"
                    }));
                    c && o.add(c);
                    var d = p && p.height > 0 ? wu.text(p.rect, Xp(Xp({}, p.text), {}, {
                        name: "info",
                        boundsAlignH: "left",
                        boundsAlignV: "middle"
                    })) : null;
                    d && o.add(d);
                    var h = wu.rectMask({
                        rect: {
                            height: b,
                            width: w
                        }
                    });
                    if (o.addChild(h),
                    o.mask = h,
                    E(e)) {
                        var v = _[e];
                        n = j(o, v, n)
                    } else
                        e < 3 ? 0 === e ? E(1) ? n = j(o, _[1], n) : E(2) ? n = j(o, _[2], n) : n++ : 1 === e && E(2) ? n = j(o, _[2], n) : n++ : n++;
                    return [o, n]
                }, I = 0; I < x; I++) {
                    this.items[I] = [];
                    for (var R = 0; R < k; R++) {
                        var T = I * k + R
                          , M = {
                            x: this.isCustomPos ? u[T][0] : R * (w + r) + g,
                            y: this.isCustomPos ? u[T][1] : I * (b + a) + y,
                            width: w,
                            height: b
                        };
                        this.isCustomPos && (this.customMaxScrollY = Math.max(this.customMaxScrollY, u[T][1]));
                        var D = A({
                            index: T,
                            id: P,
                            r: I,
                            c: R,
                            rect: M
                        })
                          , B = s()(D, 2)
                          , U = B[0];
                        if (P = B[1],
                        this.scrollPane.addChild(U),
                        this.items[I][R] = U,
                        ++C >= this.totalNum)
                            return void (this.isCustomPos && this.customMaxScrollY + b > e.rect.height && this.scrollPane.updateScrollHeight(this.customMaxScrollY))
                    }
                }
            }
        }, {
            key: "renderLock",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (t) {
                    var n = t.getByName("lockmask")
                      , r = t.getByName("locktext")
                      , i = t.getByName("locakimg");
                    if (!e)
                        return n && t.remove(n, !0),
                        r && t.remove(r, !0),
                        i && t.remove(i, !0),
                        void (t.lock = !1);
                    var a = t.rect
                      , o = a.width
                      , s = a.height;
                    n || ((n = wu.rectMask({
                        rect: {
                            height: s,
                            width: o
                        },
                        alpha: .8
                    })).name = "lockmask",
                    t.addChild(n));
                    var u = Math.min(Math.ceil(s / 2), 22)
                      , c = Math.min(Math.ceil(s / 2) - u, u);
                    i || ((i = wu.image("ui", {
                        x: o / 2,
                        y: s / 2 - c,
                        centre: !0
                    }, "lock")).name = "locakimg",
                    t.addChild(i));
                    var l = i ? Math.ceil(i.height / 2) : Math.min(Math.ceil(s / 2), 22);
                    r || ((r = wu.text({
                        x: 0,
                        y: s / 2 + l,
                        height: 20,
                        width: o
                    }, {
                        fontSize: 16,
                        color: "white",
                        forceFontFamily: "Microsoft YaHei",
                        text: "".concat(t.price, "闪币解锁"),
                        boundsAlignH: "center",
                        boundsAlignV: "middle"
                    })).name = "locktext",
                    t.addChild(r)),
                    t.lock = !0
                }
            }
        }, {
            key: "getRecordItem",
            value: function(t) {
                var e, n = 0;
                for (e = 0; e < this.items.length; e++)
                    for (n = 0; n < this.items[e].length; n++) {
                        var r = this.items[e][n];
                        if (r.id == t)
                            return r
                    }
                return null
            }
        }, {
            key: "renderScrollBox",
            value: function(t) {
                var e = this
                  , n = Object(vn.c)()
                  , r = x.a.vertical
                  , i = t.rect
                  , a = t.item
                  , o = t.itemsOffsetX
                  , u = void 0 === o ? 0 : o
                  , c = t.itemsOffsetY
                  , l = void 0 === c ? 0 : c
                  , d = t.itemSpaceX
                  , f = void 0 === d ? 20 : d
                  , h = t.itemSpaceY
                  , p = void 0 === h ? 12 : h
                  , v = i.x
                  , g = i.y
                  , m = i.width
                  , y = i.height
                  , b = a.rect
                  , w = b.height
                  , k = b.width
                  , _ = v + (this.isCustomPos ? 0 : u)
                  , O = g + (this.isCustomPos ? 0 : l)
                  , S = wu.sprite({
                    x: _,
                    y: O
                });
                this.container.add(S);
                var P = w * this.row + p * (this.row - 1);
                S.updateScrollHeight = function(t) {
                    P = t + w + p;
                    var e = wu.rectMask({
                        rect: {
                            x: 0,
                            y: 0,
                            width: m,
                            height: P
                        },
                        alpha: 0
                    });
                    S.addChildAt(e, 0)
                }
                ;
                var C = !1;
                S.scrollY = function(t) {
                    t = t || 0,
                    null != I && Math.abs(S.y - I) > 5 && (C = !0),
                    S.y = t > O || P <= y ? O : t + P < g + y ? g + y - P : t
                }
                ;
                var E = function(t) {
                    var e, i, a = t.worldX, o = t.worldY, u = n.world.angle;
                    if (r && 90 === u || !r && 0 === u) {
                        var c = r ? [o, -a] : [a, o]
                          , l = s()(c, 2);
                        e = l[0],
                        i = l[1]
                    } else {
                        var d = r ? [a, o] : [o, -a]
                          , f = s()(d, 2);
                        e = f[0],
                        i = f[1]
                    }
                    return i < O || i > O + y || e < _ || e > _ + m ? null : {
                        x: e,
                        y: i
                    }
                };
                S.inputEnabled = !0;
                var j = S.input
                  , A = S.events;
                j.enableDrag(),
                j.allowHorizontalDrag = !1;
                var I = null;
                A.onDragUpdate.add((function(t, e, n, r) {
                    return S.scrollY(r)
                }
                ), this),
                A.onDragStart.add((function() {
                    return I = S.y
                }
                ), this),
                A.onDragStop.add((function() {
                    return I = S.y
                }
                ), this),
                A.onInputDown.add((function(t, e) {
                    C = !1,
                    E(e) ? t.input.enableDrag() : t.input.disableDrag()
                }
                )),
                A.onInputUp.add((function(t, n) {
                    var r = E(n);
                    if (!C && r && (n.pointerMode !== Phaser.PointerMode.CURSOR || 0 === n.button)) {
                        var i = r.x - S.x
                          , a = r.y - S.y
                          , o = k + f
                          , s = w + p;
                        if (i % o < k && a % s < w && i <= M) {
                            var u = null;
                            if (e.isCustomPos)
                                for (var c = 0; c < e.items.length && !u; c++)
                                    for (var l = e.items[c], d = 0; d < l.length && !u; d++) {
                                        var h = l[d];
                                        h.x <= i && h.x + k >= i && h.y <= a && h.y + w >= a && (u = h)
                                    }
                            else {
                                var v = Math.floor(a / s)
                                  , g = Math.floor(i / o);
                                u = e.items[v][g]
                            }
                            u && e.handleRecordClick(u)
                        }
                    }
                }
                ), this);
                var R = !1
                  , T = function(t) {
                    t.preventDefault && t.preventDefault();
                    var e = t.wheelDelta ? t.wheelDelta / 120 : -t.detail / 3;
                    S.scrollY(S.y + 100 * e)
                };
                n.input.addMoveCallback((function(t) {
                    var e = E(t)
                      , n = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
                    !e && R ? (document.removeEventListener(n, T),
                    R = !1) : e && !R && (document.addEventListener(n, T, {
                        passive: !1
                    }),
                    R = !0)
                }
                ), this);
                var M = m - (this.isCustomPos ? 0 : u)
                  , D = y - (this.isCustomPos ? 0 : l)
                  , B = wu.rectMask({
                    rect: {
                        x: _,
                        y: O,
                        width: M,
                        height: D
                    }
                });
                this.container.add(B),
                S.mask = B,
                this.scrollPane = S,
                this.renderRecords(a, t),
                av = this.scrollPane.y;
                var U = wu.group("", {
                    x: _,
                    y: O
                })
                  , z = wu.rectMask({
                    rect: {
                        width: M,
                        height: D
                    },
                    alpha: .5
                });
                z.inputEnabled = !0,
                U.add(z),
                this.loadingTipText = wu.text({
                    width: M,
                    height: D
                }, {
                    fontSize: 16,
                    forceFontFamily: qs.default,
                    color: "#fff",
                    boundsAlignH: "center",
                    boundsAlignV: "middle"
                }),
                U.add(this.loadingTipText),
                this.loadingTip = U,
                this.container.add(U)
            }
        }, {
            key: "render",
            value: function(t) {
                var e = this
                  , n = t.template.json.record
                  , r = n.scrollBox
                  , i = n.back
                  , a = n.background
                  , o = void 0 === a ? {} : a
                  , s = Object(vn.c)().world
                  , u = s.width
                  , c = s.height
                  , l = function(t, n) {
                    var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    if (t || !t && r) {
                        var i = wu.image(t, n);
                        i.inputEnabled = r,
                        e.container.add(i)
                    }
                };
                l(o.url, {
                    x: 0,
                    y: 0,
                    width: u,
                    height: c
                }, !0),
                l(r.background && r.background.url, r.rect),
                this.renderScrollBox(r),
                function(t, n, r) {
                    var i = t.rect
                      , a = t.normal
                      , o = t.active
                      , s = t.hidden
                      , u = void 0 !== s && s
                      , c = a.background
                      , l = void 0 === c ? {} : c
                      , d = o.background
                      , f = void 0 === d ? {} : d;
                    if (!u) {
                        var h = {
                            name: "record_button_back",
                            normalUrl: l.url || "",
                            activeUrl: f.url || "",
                            onClick: e.handleClick,
                            textOptions: {
                                normal: Xp(Xp({}, a.text), {}, {
                                    text: "返回"
                                }),
                                active: Xp(Xp({}, o.text), {}, {
                                    text: "返回"
                                })
                            },
                            audio: {
                                url: En.buttonSoundUrl,
                                volume: 1
                            }
                        };
                        e.container.add(wu.button(i, h))
                    }
                }(i);
                var d = {
                    x: u - 74,
                    y: 25,
                    width: 68,
                    height: 68
                }
                  , f = {
                    name: Qp[0],
                    onClick: this.handleClick,
                    checkedUrl: "local_hover",
                    uncheckedUrl: "local",
                    textOptions: {
                        checked: Xp({}, i.active.text),
                        unchecked: Xp({}, i.normal.text)
                    }
                };
                ev() || this.container.add(wu.checkbox(d, f, "ui")),
                tv() || (f.name = Qp[1],
                d.y = ev() ? 25 : 107,
                f.uncheckedUrl = "cloud",
                f.checkedUrl = "cloud_hover",
                this.container.add(wu.checkbox(d, f, "ui")))
            }
        }]),
        t
    }();
    function cv(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function lv(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? cv(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cv(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var dv = null
      , fv = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = dv ? dv.update(t) : dv = new hv(t);
        return e
    }
      , hv = function() {
        function t(e) {
            var n = this
              , r = e.callbacks
              , i = e.layer;
            h()(this, t),
            c()(this, "handleButtonClick", (function(t, e) {
                e.pointerMode === Phaser.PointerMode.CURSOR && 0 !== e.button || ("end_button_back" === t.parent.name ? (n.close(),
                n.callbacks && n.callbacks.back && n.callbacks.back()) : "end_button_load" === t.parent.name ? n.callbacks && n.callbacks.load && n.callbacks.load() : "end_button_save" === t.parent.name && n.callbacks && n.callbacks.save && n.callbacks.save())
            }
            )),
            this.callbacks = r,
            this.container = wu.group(),
            this.render(),
            this.layer = i,
            this.layer.addChild(this.container),
            Object(vn.c)().onRestart.add((function() {
                return n.close()
            }
            ))
        }
        return v()(t, [{
            key: "close",
            value: function() {
                var t = this.container;
                t.parent && t.parent.remove(t),
                t.visible = !1
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.callbacks;
                return this.callbacks = e,
                this.show(),
                this
            }
        }, {
            key: "show",
            value: function() {
                this.container.visible = !0,
                this.layer.addChild(this.container)
            }
        }, {
            key: "render",
            value: function() {
                var t = this
                  , e = x.a.vertical
                  , n = Object(vn.c)().world
                  , r = n.width
                  , i = n.height
                  , a = wu.rectMask({
                    rect: {
                        width: r,
                        height: i
                    },
                    alpha: .8
                });
                a.inputEnabled = !0,
                this.container.add(a);
                var o = function(e, n, r, i) {
                    var a = e.rect
                      , o = e.normal
                      , s = e.active
                      , u = {
                        name: n,
                        normalUrl: o.url,
                        activeUrl: s.url,
                        onClick: t.handleButtonClick,
                        textOptions: {
                            center: !1,
                            normal: lv(lv({}, o.text), {}, {
                                text: r
                            }),
                            active: lv(lv({}, s.text), {}, {
                                text: r
                            }),
                            rect: {
                                width: 96,
                                height: 30,
                                x: 0,
                                y: 100
                            }
                        },
                        audio: {
                            url: En.buttonSoundUrl,
                            volume: 1
                        }
                    };
                    t.container.add(wu.button(a, u, i))
                }
                  , u = {
                    width: 96,
                    height: 96
                }
                  , c = {
                    text: {
                        forceFontFamily: qs.default,
                        fontSize: 14,
                        color: "#ffffff"
                    }
                }
                  , l = {
                    text: {
                        forceFontFamily: qs.default,
                        fontSize: 14,
                        color: "#ef7297"
                    }
                }
                  , d = e ? [55, 427] : [168, 100]
                  , f = s()(d, 2);
                u.x = f[0],
                u.y = f[1];
                var h = ["icon_get", "icon_get_hover_pressed"];
                c.url = h[0],
                l.url = h[1],
                o({
                    rect: u,
                    normal: c,
                    active: l
                }, "end_button_load", "读取进度", "ui");
                var p = e ? [216, 427] : [432, 100]
                  , v = s()(p, 2);
                u.x = v[0],
                u.y = v[1];
                var g = ["icon_back", "icon_back_over_pressed"];
                c.url = g[0],
                l.url = g[1],
                o({
                    rect: u,
                    normal: c,
                    active: l
                }, "end_button_back", "返回封面", "ui");
                var m = e ? [377, 427] : [696, 100]
                  , y = s()(m, 2);
                u.x = y[0],
                u.y = y[1];
                var b = ["icon_save", "icon_save_over_pressed"];
                c.url = b[0],
                l.url = b[1],
                o({
                    rect: u,
                    normal: c,
                    active: l
                }, "end_button_save", "存个档，下次玩", "ui")
            }
        }]),
        t
    }()
      , pv = (n(245),
    null)
      , vv = function() {
        return x.a.singleAlone && !x.a.singlepay || On.isAppClient() && Object(k.c)(x.a.app_version, "2.2.0") >= 0 && "game4399" !== x.a.wap || "kk" === x.a.wap || "pc" === x.a.client && x.a.isGame
    }
      , gv = function() {
        var t = x.a.istheatre
          , e = x.a.app_version
          , n = x.a.client;
        return Object(jn.g)() || t && ("pc" === n || Object(k.c)(e, "1.14.1") >= 0)
    }
      , mv = function() {
        return "wap" !== x.a.client && !x.a.single || !x.a.istheatre
    }
      , yv = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = pv ? pv.update(t) : pv = new wv(t);
        return e.container
    };
    function bv() {
        return new Promise((function(t) {
            var e = x.a.uuid
              , n = x.a.vertical
              , r = x.a.wap;
            On.setCallback("shanyiMenuBack", (function() {
                document.body.removeChild(i),
                t()
            }
            )),
            On.setCallback("shanyiMenuExit", (function(e) {
                "string" != typeof e || -1 === e.indexOf("http") ? (document.body.removeChild(i),
                t()) : window.location.href = e
            }
            ));
            var i = document.createElement("div");
            i.classList.add("syModalContainer");
            var a = document.createElement("div");
            a.classList.add("syModalPortal"),
            Object(k.n)() <= Object(k.m)() && (a.style.transform = n ? "rotate(0)" : "rotate(90deg)"),
            window.onresize = function() {
                Object(k.n)() <= Object(k.m)() ? a.style.transform = n ? "rotate(0)" : "rotate(90deg)" : a.style.transform = n ? "rotate(90deg)" : "rotate(0)"
            }
            ,
            i.appendChild(a);
            var o = document.createElement("div");
            o.classList.add("syContent"),
            a.appendChild(o),
            n && (o.style.width = "320px",
            o.style.height = "510px");
            var s = document.createElement("iframe");
            s.src = "https://www.3000.com/popup.html?uuid=" + e + "&wap=" + r + "&vertical=" + (n ? 1 : 0),
            s.scrolling = "no",
            s.width = "100%",
            s.height = "100%",
            s.frameBorder = "0",
            o.appendChild(s),
            document.body.appendChild(i)
        }
        ))
    }
    var wv = function() {
        function t(e) {
            var n = this
              , r = e.callbacks
              , i = e.template;
            h()(this, t),
            c()(this, "handleClick", (function(t, e) {
                var r = x.a.istheatre
                  , i = x.a.client
                  , a = x.a.single
                  , o = x.a.isWapOther
                  , s = x.a.wap
                  , u = x.a.singleAlone;
                if (e.pointerMode !== Phaser.PointerMode.CURSOR || 0 === e.button)
                    if ("qzone" !== s)
                        if ("menu_button" === t.parent.name)
                            n.callbacks && n.callbacks.menu && n.callbacks.menu();
                        else if ("shanyiMenu_button" === t.parent.name) {
                            if (en.a.runTest || s && "qqws" === s)
                                return void (en.a.runTest && Xe.a.info("作品发布上线后才可以召唤闪艺菜单哦~~").catch((function() {}
                                )));
                            var c = function() {
                                En.full && !r && (!On.isAppClient() && Object(vn.c)().scale.stopFullScreen(),
                                En.full = !1)
                            };
                            if (a)
                                return c(),
                                void (u ? window.app && window.app.moreWorks("game4399" === s ? "2" : "") : On.gameQuit());
                            if ("wap" === i)
                                return c(),
                                void ("wx" === s ? Qe.h.openWxPage("back") : window.parent && window.parent.closGame());
                            "ios" === i || "android" === i ? o ? (c(),
                            bv()) : On.openShanyiMenu() : "pc" === i ? (c(),
                            On.openShanyiMenu()) : (c(),
                            bv())
                        } else
                            "packdown_button" === t.parent.name ? (n.packdown.visible = !1,
                            n.packup.visible = !0,
                            n.showList.forEach((function(t) {
                                return t.visible = !0
                            }
                            ))) : "packup_button" === t.parent.name && (n.packdown.visible = !0,
                            n.packup.visible = !1,
                            n.showList.forEach((function(t) {
                                return t.visible = !1
                            }
                            )));
                    else
                        switch (t.parent.name) {
                        case "invite_button":
                            n.callbacks && n.callbacks.share && n.callbacks.share(!0);
                            break;
                        case "share_button":
                            n.callbacks && n.callbacks.share && n.callbacks.share();
                            break;
                        case "help_button":
                            n.callbacks && n.callbacks.menu && n.callbacks.menu()
                        }
            }
            )),
            this.callbacks = r,
            this.container = wu.group(),
            this.packup = null,
            this.packdown = null,
            this.showList = [],
            this.render(i.json)
        }
        return v()(t, [{
            key: "update",
            value: function(t) {
                var e = t.callbacks;
                return this.callbacks = e,
                this.container.visible = !0,
                this
            }
        }, {
            key: "render",
            value: function(t) {
                var e = this
                  , n = x.a.client
                  , r = x.a.single
                  , i = x.a.isWapOther
                  , a = x.a.wap
                  , o = x.a.vertical
                  , u = x.a.singleAlone
                  , c = t.menu
                  , l = t.shanyiMenu
                  , d = function(t, n, r) {
                    var i = t.rect
                      , a = t.normal
                      , o = t.active
                      , s = {
                        name: n,
                        normalUrl: a.background.url,
                        activeUrl: o.background.url,
                        onClick: e.handleClick,
                        audio: {
                            url: En.buttonSoundUrl,
                            volume: 1
                        }
                    }
                      , u = wu.button(i, s, r);
                    return e.container.add(u),
                    u
                };
                if ("qzone" === a) {
                    var f = o ? 442 : 886
                      , h = {
                        rect: {
                            x: f,
                            y: 100,
                            width: 44,
                            height: 69
                        },
                        normal: {
                            background: {
                                url: "share"
                            }
                        },
                        active: {
                            background: {
                                url: "share"
                            }
                        }
                    }
                      , p = {
                        rect: {
                            x: f,
                            y: 180,
                            width: 44,
                            height: 69
                        },
                        normal: {
                            background: {
                                url: "help"
                            }
                        },
                        active: {
                            background: {
                                url: "help"
                            }
                        }
                    };
                    d({
                        rect: {
                            x: f,
                            y: 20,
                            width: 44,
                            height: 69
                        },
                        normal: {
                            background: {
                                url: "invite"
                            }
                        },
                        active: {
                            background: {
                                url: "invite"
                            }
                        }
                    }, "invite_button"),
                    d(h, "share_button"),
                    d(p, "help_button")
                } else if (i) {
                    var v = o ? [442, 30] : [886, 26]
                      , g = s()(v, 2)
                      , m = g[0]
                      , y = g[1];
                    c.rect.x = m,
                    c.rect.y = y,
                    this.showList.push(d(c, "menu_button"))
                } else {
                    if (mv()) {
                        var b = {
                            rect: {
                                x: c.rect.x + 5,
                                y: 0,
                                width: 61,
                                height: 26
                            },
                            normal: {
                                background: {
                                    url: "packup"
                                }
                            },
                            active: {
                                background: {
                                    url: "packup-hover"
                                }
                            }
                        };
                        this.packup = d(b, "packup_button", "ui");
                        var w = {
                            rect: {
                                x: c.rect.x + 5,
                                y: 0,
                                width: 61,
                                height: 26
                            },
                            normal: {
                                background: {
                                    url: "packdown"
                                }
                            },
                            active: {
                                background: {
                                    url: "packdown-hover"
                                }
                            }
                        };
                        this.packdown = d(w, "packdown_button", "ui"),
                        this.packdown.visible = !1
                    }
                    if (vv()) {
                        if (Object(jn.g)() && On.isAppClient() && Object(k.c)(x.a.app_version, "2.2.0") >= 0)
                            return this.packdown.visible = !1,
                            void (this.packup.visible = !1);
                        l.rect ? c.rect = l.rect : (c.rect.x = o ? 442 : 886,
                        c.rect.y = o ? 30 : 26),
                        this.showList.push(d(c, "menu_button"))
                    } else if (gv() || this.showList.push(d(c, "menu_button")),
                    l) {
                        var _ = l
                          , O = _.rect
                          , S = _.normal
                          , P = (_.active,
                        r && "game4399" !== a || "wap" === n)
                          , C = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                            return r ? "game4399" === a ? "game4399".concat(t) : u ? "more".concat(t) : "wapback" : "wap" === n ? "wapback" : S.background.url
                        }
                          , E = {
                            rect: O,
                            normal: {
                                background: {
                                    url: C()
                                }
                            },
                            active: {
                                background: {
                                    url: C("_over")
                                }
                            }
                        };
                        this.showList.push(d(E, "shanyiMenu_button", P ? "ui" : ""))
                    } else if ("wap" === n) {
                        var j = o ? [442, 30] : [886, 26]
                          , A = s()(j, 2);
                        l = {
                            rect: {
                                x: A[0],
                                y: A[1],
                                width: 68,
                                height: 68
                            },
                            normal: {
                                background: {
                                    url: "wapback"
                                }
                            },
                            active: {
                                background: {
                                    url: "wapback"
                                }
                            }
                        },
                        this.showList.push(d(l, "shanyiMenu_button", "ui"))
                    }
                }
            }
        }]),
        t
    }();
    function xv(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function kv(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? xv(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : xv(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var _v = null
      , Ov = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = _v ? _v.update(t) : _v = new Pv(t);
        return e
    }
      , Sv = /([\s\S]*)\\(\d+)\s|\\1-\s|\\2-(\d+)-(\d+)\s|\\3-(\d+)-#[0-9a-fA-F]{6}\s([\s\S]*)/
      , Pv = function() {
        function t(e) {
            var n = this
              , r = e.json
              , i = e.settings;
            h()(this, t),
            c()(this, "resetMask", (function(t) {
                var e = t.baseX
                  , r = t.baseY
                  , i = t.curLineWidth
                  , a = t.linesHeight
                  , o = t.offsetX
                  , s = t.lineHeight
                  , u = t.maxWidth
                  , c = n.textarea.mask
                  , l = new Phaser.Polygon;
                c.clear(),
                c.beginFill(16773120, .5),
                l.setTo([new Phaser.Point(0 + e,0 + r), new Phaser.Point(0 + e,a + r), new Phaser.Point(i + e + o,a + r), new Phaser.Point(i + e + o,a - s + r), new Phaser.Point(u + e,a - s + r), new Phaser.Point(u + e,0 + r)]),
                c.drawPolygon(l.points),
                c.endFill()
            }
            )),
            c()(this, "createImage", (function(t, e, n, r) {
                var i = Object(vn.c)()
                  , a = new Phaser.Image(i,0,0,"");
                a.name = r;
                var o = new PIXI.BaseTexture;
                o.width = t,
                o.height = e,
                o._glTextures = [],
                o.resolution = n,
                o.scaleMode = Phaser.scaleModes.DEFAULT,
                o.hasLoaded = !0;
                var s = function() {
                    return new Phaser.Rectangle(0,0,t,e)
                }
                  , u = new PIXI.Texture(o,s(),s());
                return a.setTexture(u),
                a.width = t,
                a.height = e,
                a
            }
            )),
            this.json = r,
            this.container = wu.group(),
            this.containerVector = [];
            var a = this.json
              , o = a.template.json.dialog
              , s = a.dialogs;
            this.containerVector.push(this.render(o, 0)),
            s && s.forEach((function(t) {
                n.containerVector.push(n.render(t, t.id))
            }
            )),
            this.paused = !1,
            this.changeline = !1,
            this.showpageing = !1,
            this.isClickChange = !1,
            this.block = !1,
            this.isUpdate = !1,
            this.update({
                settings: i
            })
        }
        return v()(t, [{
            key: "clear",
            value: function() {
                var t = this.container
                  , e = t.parent;
                e && e.remove(t, !1),
                this.animating && this.animating.cancel && this.animating.cancel()
            }
        }, {
            key: "pause",
            value: function() {
                this.paused = !0
            }
        }, {
            key: "proceed",
            value: function() {
                this.paused = !1
            }
        }, {
            key: "isShowPage",
            value: function() {
                return !this.changeline && !this.block
            }
        }, {
            key: "updateDialogs",
            value: function() {
                var t = this;
                qs.systemFont && this.containerVector.forEach((function(e, n) {
                    e.textarea instanceof Phaser.Group && (t.containerVector.splice(n, 1, t.render(e.json, e.id)),
                    t.isUpdate = !0)
                }
                ))
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.settings
                  , n = e.dialogid
                  , r = e.animateScene
                  , i = this.json.default_settings.color;
                this.updateDialogs();
                var a, o, s, u, c = this.container.children[0] || null;
                this.animateScene = r,
                this.container.alpha = 1,
                this.container.visible = !0;
                var l = null;
                if (c)
                    n !== c.id || this.isUpdate ? (l = this.containerVector.find((function(t) {
                        return t.id == n
                    }
                    )) || this.containerVector[0],
                    this.container.replace(c, l)) : l = c;
                else {
                    var d = this.containerVector.filter((function(t) {
                        return t.id === n
                    }
                    ));
                    l = d.length && d[0] || this.containerVector[0],
                    this.container.add(l)
                }
                this.isUpdate = !1,
                a = l.json.content.rect.width,
                o = l.json.content.rect.height,
                s = l.json.titleContainer.title,
                u = l.json.avatarContainer,
                i = 0 != l.id ? l.json.content.text.color || i : i || l.json.content.text.color,
                this.background = l.background,
                this.titleContainer = l.titleContainer,
                this.titleText = l.titleText,
                this.avatarContainer = l.avatarContainer,
                this.avatar = l.avatar,
                this.textarea = l.textarea;
                var f = {
                    width: a,
                    height: o,
                    title: s,
                    avatarContainer: u,
                    color: i
                };
                return this.setting(e, f),
                this
            }
        }, {
            key: "setting",
            value: function(t, e) {
                var n = e.width
                  , r = e.height
                  , i = e.title
                  , o = e.avatarContainer
                  , s = e.color
                  , u = o.avatar
                  , c = o.rect
                  , l = t.speaking
                  , d = l.fontFamily
                  , f = l.font_size
                  , h = void 0 === f ? 12 : f
                  , p = l.data
                  , v = l.immediate
                  , g = l.hidden
                  , m = l.speed
                  , y = l.spacing
                  , b = l.align
                  , w = t.avatar
                  , x = t.dialogtitle;
                if (this.avatarContainer.visible = !!w.url && !w.hidden,
                !w.hidden) {
                    var k = u.x
                      , _ = u.y
                      , O = u.width
                      , S = u.height;
                    k += c.x,
                    _ += c.y,
                    this.avatar.loadTexture(w.url || "");
                    var P = this.avatar.texture
                      , C = Math.min(O / P.width, S / P.height);
                    O = P.width * C,
                    S = P.height * C,
                    this.avatar.x = k + (u.width - O) / 2,
                    this.avatar.y = _ + (u.height - S) / 2,
                    this.avatar.width = O,
                    this.avatar.height = S
                }
                this.background.visible = !g,
                this.titleContainer.visible = !x.hidden,
                this.titleText.setStyle({
                    align: "center",
                    boundsAlignH: "center",
                    boundsAlignV: "middle",
                    fontFamily: d,
                    color: x.color || i.text.color,
                    fontSize: Number(x.font_size || i.text.fontSize)
                }),
                this.titleText.setText(x.data);
                var E = g ? Object(vn.c)().world.height : r;
                this.textarea.setStyle({
                    fontFamily: d,
                    fontSize: h,
                    wordSpacing: y,
                    align: b
                }),
                Object(nn.b)(p) || (p = sl(p).map((function(e) {
                    return kv(kv({}, e), {}, {
                        color: t.speaking.color || s
                    })
                }
                ))),
                p = ul(a()(p), s),
                this.state = {
                    data: p,
                    immediate: v,
                    speed: parseInt(m, 10),
                    lineHeight: 1.5 * h,
                    maxHeight: E,
                    hidden: g
                },
                this.textarea.setTexts(p.map((function(t) {
                    var e = t.data
                      , n = void 0 === e ? "" : e;
                    return kv(kv({}, t), {}, {
                        data: n.replace(Sv, "")
                    })
                }
                ))),
                this.textarea.y = 0,
                v || (E = 0);
                var j = this.textarea.mask;
                j.clear(),
                j.beginFill(16773120, .5);
                var A = new Phaser.Polygon;
                A.setTo([new Phaser.Point(0,0), new Phaser.Point(n,0), new Phaser.Point(n,E), new Phaser.Point(0,E)]),
                j.drawPolygon(A.points),
                j.endFill()
            }
        }, {
            key: "getTexture",
            value: function(t) {
                var e, n = this.textarea.isChange, r = this.textarea instanceof Phaser.Group;
                if (r || n) {
                    var i = this.textarea.children
                      , a = Math.min(t, i.length - 1);
                    e = i[a] && i[a].texture
                } else
                    e = this.textarea.texture;
                return !e && r ? this.getTexture(t) : e
            }
        }, {
            key: "copyImage",
            value: function(t, e, n) {
                var r = this.textarea
                  , i = r.tempGroup
                  , a = r.tempCopyCanvas
                  , o = this.textarea instanceof Phaser.Group
                  , s = i.getByName("tempImage");
                s && (s.texture.baseTexture.source = null),
                i.removeAll();
                var u = this.getTexture(t).baseTexture.source
                  , c = u.width
                  , l = u.height
                  , d = o ? 1 : this.textarea._res
                  , f = a.getContext("2d");
                f.clearRect(0, 0, a.width, a.height),
                a.width = c,
                a.height = l,
                f.drawImage(u, 0, o ? 0 : e * d, c, n * d, 0, 0, c, n * d);
                var h = this.createImage(c, n * d, d, "tempImage");
                return h.texture.baseTexture.source = a,
                this.textarea.tempGroup.own = !0,
                this.textarea.tempGroup.complete = !1,
                this.textarea.tempGroup.imageWidth = c / d,
                this.textarea.tempGroup.imageHeight = n,
                h
            }
        }, {
            key: "animateAlign",
            value: function(t) {
                var e = t.align
                  , n = t.sdx
                  , r = t.sdy
                  , i = t.tx
                  , a = t.ch
                  , o = t.cw
                  , s = t.ty
                  , u = t.lineIndex
                  , c = t.maxWidth
                  , l = t.offsetX
                  , d = t.toEnd;
                if (!this.textarea.width || !this.textarea.height)
                    return !1;
                var f = this.textarea instanceof Phaser.Group;
                this.textarea.isChange && (f = !1);
                var h = this.textarea.tempGroup
                  , p = (h = void 0 === h ? {} : h).imageWidth;
                this.textarea.tempGroup.complete = f ? Math.ceil(o) >= Math.ceil(p) : o >= i,
                this.textarea.tempGroup.own || this.textarea.tempGroup.complete || (this.textarea.tempGroup.addChild(this.copyImage(u, r, a)),
                this.textarea.tempGroup.x = i + f ? 0 : Math.abs(n) + l,
                this.textarea.tempGroup.y = s);
                var v = this.textarea.tempGroup
                  , g = (v = void 0 === v ? {} : v).imageWidth
                  , m = v.imageHeight;
                if (!this.textarea.tempGroup.complete) {
                    var y = this.textarea.tempGroup.getByName("tempMask");
                    y || (y = wu.rectMask({
                        x: f ? 0 : l,
                        y: 0,
                        rect: {
                            x: 0,
                            y: 0,
                            width: g,
                            height: m
                        },
                        name: "tempMask"
                    }),
                    this.textarea.tempGroup.add(y),
                    this.textarea.tempGroup.mask = y),
                    y.clear(),
                    y.beginFill(65280, .5),
                    y.drawRect(0, 0, o, m),
                    y.endFill()
                }
                switch (e) {
                case "center":
                    this.textarea.tempGroup && (this.textarea.tempGroup.x = f ? (c - o) / 2 : (c - o) / 2 - l);
                    break;
                case "right":
                    this.textarea.tempGroup && (this.textarea.tempGroup.x = c - o - (f ? 0 : l));
                    break;
                default:
                    this.textarea.tempGroup && (this.textarea.tempGroup.x = 0)
                }
                var b = (f = this.textarea instanceof Phaser.Group) ? Math.ceil(o) >= Math.ceil(g) : o >= i;
                if (f && d && (b = !0),
                b && this.textarea.tempGroup.own) {
                    var w = this.textarea.tempGroup.getByName("tempImage");
                    w && (w.texture.baseTexture.source = null),
                    this.textarea.tempGroup.removeAll(),
                    this.textarea.tempGroup.own = !1,
                    this.textarea.tempGroup.complete = !0
                }
                return b
            }
        }, {
            key: "getMaxWidthHeight",
            value: function(t) {
                if (t) {
                    var e = t.json.content.rect;
                    return {
                        width: e.width,
                        height: e.height
                    }
                }
                var n = this.json.template.json.dialog.content.rect;
                return {
                    width: n.width,
                    height: n.height
                }
            }
        }, {
            key: "animate",
            value: function(t) {
                var e = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                this.changeline = !1,
                this.showpageing = !1,
                this.paused = !1;
                var r = !1
                  , i = 0
                  , a = 0
                  , o = 0
                  , s = 0
                  , u = 0
                  , c = 0
                  , l = 1
                  , d = !1
                  , f = this.state
                  , h = f.data
                  , p = f.speed
                  , v = f.lineHeight
                  , g = f.maxHeight
                  , m = f.hidden
                  , y = v / 3
                  , b = h.map((function(t) {
                    return t.data.length || 0
                }
                ))
                  , w = this.textarea.getLines()
                  , x = w.map((function(t) {
                    return t.length
                }
                ))
                  , _ = w.length
                  , O = this.getMaxWidthHeight(this.container.children[0])
                  , S = O.width
                  , P = O.height
                  , C = Math.floor((P + y) / v)
                  , E = {
                    baseX: 0,
                    baseY: 0,
                    curLineWidth: 0,
                    linesHeight: 0,
                    offsetX: 0,
                    lineHeight: 0,
                    maxWidth: 0
                };
                this.resetMask(E),
                this.animating && this.animating.cancel && this.animating.cancel(!0),
                this.isClickChange = !m && _ * v >= P;
                var j = function(t) {
                    var n = t.lineIndex
                      , r = t.lineCharIndex
                      , i = t.init;
                    if (void 0 !== i && i)
                        return e.textarea.tempGroup.own = !1,
                        e.textarea.tempGroup.complete = !0,
                        void e.resetMask(E);
                    var a = !1;
                    n >= _ && (a = !0,
                    n = _ ? _ - 1 : _,
                    r = _ ? w[_ - 1].length : 0);
                    var o = e.textarea instanceof Phaser.Group
                      , s = g - (n + 1) * v;
                    e.textarea.y = s + y > 0 || !n ? 0 : s;
                    var u = e.textarea.getBase()
                      , c = u.x
                      , l = void 0 === c ? 0 : c
                      , d = u.y
                      , f = void 0 === d ? 0 : d
                      , h = e.textarea.getLinePoition(w[n])
                      , p = h.x
                      , m = (h.y,
                    -1 * l)
                      , b = -1 * f
                      , x = Math.min((n + 1) * v, g)
                      , k = e.textarea.getCharsWidth((w[n] || "").slice(0, r))
                      , O = e.textarea.getCharsWidth(w[n])
                      , P = (w[n] || "").substr(r, 1)
                      , C = (e.textarea.getCharsWidth(P),
                    l)
                      , j = n * v
                      , A = k
                      , I = v
                      , R = e.textarea.style.align || "left"
                      , T = o ? S : O
                      , M = e.textarea.y + j + b;
                    e.textarea.y < 0 && e.resetMask(Object.assign({}, E, {
                        baseX: m,
                        baseY: b,
                        curLineWidth: e.textarea.width,
                        linesHeight: Math.max(g - v, v),
                        offsetX: p,
                        lineHeight: v,
                        maxWidth: S
                    })),
                    e.animateAlign({
                        align: R,
                        sdx: C,
                        sdy: j,
                        cw: A,
                        tx: T,
                        ch: I,
                        ty: M,
                        lineIndex: n,
                        maxWidth: S,
                        offsetX: p,
                        toEnd: a
                    }) && e.resetMask(Object.assign({}, E, {
                        baseX: m,
                        baseY: b,
                        curLineWidth: S,
                        linesHeight: x,
                        offsetX: p,
                        lineHeight: v,
                        maxWidth: S
                    }))
                }
                  , A = function(t) {
                    j({
                        lineIndex: _,
                        lineCharIndex: 0,
                        init: t
                    }),
                    e.isClickChange = !1
                }
                  , I = function(t, e) {
                    r || j({
                        lineIndex: t,
                        lineCharIndex: e
                    })
                };
                return t || this.state.immediate ? (A(),
                Promise.resolve()) : (this.animating && this.animating.cancel && this.animating.cancel(!0),
                this.isClickChange = !m && _ * v >= P,
                this.animating = new Promise((function(t) {
                    !function i(f) {
                        var g = f.lineIndex
                          , m = f.lineCharIndex
                          , b = f.dataIndex
                          , x = f.dataCharIndex;
                        if (!r)
                            if (e.paused) {
                                if (e.changeline && !d) {
                                    if (m = o,
                                    b = s,
                                    x = u,
                                    (g = a) >= _)
                                        return A(),
                                        e.animating && (e.animating.over = !0),
                                        t("over");
                                    c = 0
                                }
                                Object(k.x)(100).then((function() {
                                    return i({
                                        lineIndex: g,
                                        lineCharIndex: m,
                                        dataIndex: b,
                                        dataCharIndex: x
                                    })
                                }
                                ))
                            } else {
                                if (b >= h.length || g >= _)
                                    return A(),
                                    e.animating && (e.animating.over = !0),
                                    t("over");
                                l = Math.ceil((g + 1) / C),
                                e.changeline = d = !1,
                                e.block = !1;
                                var O = h[b]
                                  , S = O.data
                                  , E = O.placeholder
                                  , I = O.block
                                  , R = O.shake
                                  , T = O.twinkle
                                  , M = O.lineBreak
                                  , D = p
                                  , B = null;
                                do {
                                    if (B = Sv.exec(S),
                                    E && B || I || M || "\n" == S) {
                                        b++,
                                        x = 0,
                                        B && (D = B[2]),
                                        I && (e.pause(),
                                        e.block = !0,
                                        e.isClickChange = !0);
                                        break
                                    }
                                    if (R || T) {
                                        var U = S.split("-")
                                          , z = R ? {
                                            type: "shake",
                                            duration: U[2],
                                            level: U[1]
                                        } : {
                                            type: "twinkle",
                                            duration: U[1],
                                            color: U[2]
                                        };
                                        e.animateScene(z),
                                        b++,
                                        x = 0;
                                        break
                                    }
                                    if (m++,
                                    x++,
                                    m > w[g].length && (g++,
                                    m = 0,
                                    c += v,
                                    Math.abs(c - P) <= y && e.isClickChange && !En.fastPlay && En.autoPlay && !n)) {
                                        if (b >= h.length || g >= _)
                                            return A(),
                                            e.animating && (e.animating.over = !0),
                                            t("over");
                                        d = !0,
                                        e.changeline = !0,
                                        e.paused = !0,
                                        c = 0,
                                        j({
                                            lineIndex: g - 1,
                                            lineCharIndex: w[g - 1].length
                                        })
                                    }
                                    x >= S.length && (b++,
                                    x = 0)
                                } while (0);
                                !e.changeline && j({
                                    lineIndex: g,
                                    lineCharIndex: m
                                }),
                                Object(k.x)(En.fastPlay ? 10 : D).then((function() {
                                    return i({
                                        lineIndex: g,
                                        lineCharIndex: m,
                                        dataIndex: b,
                                        dataCharIndex: x
                                    })
                                }
                                ))
                            }
                    }({
                        lineIndex: 0,
                        lineCharIndex: 0,
                        dataIndex: 0,
                        dataCharIndex: 0
                    })
                }
                )),
                this.animating.cancel = function(t) {
                    r = !0,
                    A(t)
                }
                ,
                this.animating.showpage = function() {
                    r || (e.showpageing = !0,
                    e.changeline = !0,
                    e.paused = !0,
                    o = 0,
                    s = function(t) {
                        var e = 0
                          , n = 0
                          , r = 0;
                        for (e = 0; e < t && e < x.length; e++)
                            n += x[e];
                        for (e = 0; e < b.length; e++)
                            if ((r += b[e]) >= n)
                                return e;
                        return b.length - 1
                    }(a = C * l),
                    u = function(t, e) {
                        var n = 0
                          , r = 0
                          , i = 0;
                        for (n = 0; n < t && n < x.length; n++)
                            r += x[n];
                        for (n = 0; n < e; n++)
                            i += b[n];
                        return r - i
                    }(a, s),
                    (i = a - 1) >= _ || (I(i, w[i].length),
                    e.animating && (e.animating.over = !0),
                    e.showpageing = !1))
                }
                ,
                this.animating && (this.animating.over = !1),
                this.animating)
            }
        }, {
            key: "render",
            value: function(t, e) {
                var n = wu.group();
                n.id = e,
                n.json = t;
                var r = Object(vn.c)().make
                  , i = this.json.default_settings
                  , a = (i = void 0 === i ? {} : i).color
                  , o = t.background
                  , s = t.rect
                  , u = t.avatarContainer
                  , c = t.titleContainer
                  , l = t.content;
                n.background = wu.image(o.url, kv(kv({}, s), {}, {
                    x: 0,
                    y: 0
                })),
                n.add(n.background),
                n.titleContainer = wu.group(),
                c.background.url && n.titleContainer.add(wu.image(c.background.url, c.rect));
                var d = c.rect.x + c.title.rect.x
                  , f = c.rect.y + c.title.rect.y;
                n.titleText = wu.text(kv(kv({}, c.title.rect), {}, {
                    x: d,
                    y: f
                }), {}),
                n.titleContainer.add(n.titleText),
                n.add(n.titleContainer),
                n.avatarContainer = wu.group(),
                u.background.url && n.avatarContainer.add(wu.image(u.background.url, u.rect)),
                d = u.rect.x + u.avatar.x,
                f = u.rect.y + u.avatar.y;
                var h = u.avatar
                  , p = h.width
                  , v = h.height
                  , g = h.clip;
                n.avatar = wu.image("", {
                    width: p,
                    height: v,
                    x: d,
                    y: f
                });
                var m = r.graphics(0, 0);
                switch (m.beginFill(),
                g) {
                case "square":
                    m.drawRect(d, f, p, v);
                    break;
                case "hexagon":
                    var y = new Phaser.Polygon;
                    y.setTo([new Phaser.Point(p / 2 + d,f), new Phaser.Point(p / 2 + v / 4 * Math.pow(3, .5) + d,v / 4 + f), new Phaser.Point(p / 2 + v / 4 * Math.pow(3, .5) + d,v / 4 * 3 + f), new Phaser.Point(p / 2 + d,v + f), new Phaser.Point(p / 2 - v / 4 * Math.pow(3, .5) + d,v / 4 * 3 + f), new Phaser.Point(p / 2 - v / 4 * Math.pow(3, .5) + d,v / 4 + f)]),
                    m.drawPolygon(y.points);
                    break;
                case "heart":
                    m.moveTo(p / 2 + d, p / 4 + f),
                    m.bezierCurveTo(3 * p / 4 + d, -p / 4 + f, 3 * p / 2 + d, p / 4 + f, p / 2 + d, p + f),
                    m.bezierCurveTo(-p / 2 + d, p / 4 + f, p / 4 + d, -p / 4 + f, p / 2 + d, p / 4 + f);
                    break;
                case "round":
                default:
                    m.drawCircle(d + p / 2, f + v / 2, p)
                }
                m.endFill(),
                n.avatar.mask = m,
                n.avatarContainer.add(n.avatar),
                n.add(m),
                n.add(n.avatarContainer);
                var b = l.rect;
                d = b.x,
                f = b.y,
                p = b.width,
                v = b.height,
                d = iu.roundToInt(d),
                f = iu.roundToInt(f);
                var w = wu.group("textareaContainer", {
                    x: d,
                    y: f,
                    width: p,
                    height: v
                });
                n.add(w);
                var x = r.graphics(0, 0);
                x.beginFill();
                var k = new Phaser.Polygon;
                x.drawPolygon(k.points),
                x.endFill(),
                n.textarea = wu.textarea({
                    width: p,
                    height: v
                }, {
                    color: 0 !== e ? l.text.color : a
                }),
                n.textarea.mask = x,
                w.add(x),
                w.add(n.textarea),
                n.textarea.tempCopyCanvas = document.createElement("canvas");
                var _ = wu.group("tempGroup", {
                    x: 0,
                    y: 0,
                    width: p,
                    height: v
                });
                return n.textarea.tempGroup = _,
                w.add(_),
                n
            }
        }]),
        t
    }()
      , Cv = (n(246),
    [])
      , Ev = function() {
        var t = Cv.findIndex((function(t) {
            return t.free
        }
        ))
          , e = null;
        return ~t ? ((e = Cv[t]).free = !1,
        e) : (e = document.createElement("canvas"),
        Cv.push(e),
        e.free = !1,
        e)
    }
      , jv = {
        grey: 20,
        brightness: 40,
        blur: 60
    }
      , Av = function(t, e, n, r) {
        var i = n - e;
        return t && (i /= t / r),
        i
    }
      , Iv = function(t, e, n, r) {
        var i = e;
        if (r[t]) {
            var a = r[t].value;
            i = n > 0 ? n >= a ? a : i : n <= a ? a : i
        }
        return i
    }
      , Rv = function(t, e, n) {
        var r = function(t, e, n) {
            var r = new RegExp("\\b" + e + " \\w+ (\\w+)","ig");
            t.replace(r, (function(t, e) {
                return n[e] = 0,
                t
            }
            ))
        }
          , i = function(t, e, n) {
            var r = t.createShader(n);
            return t.shaderSource(r, e),
            t.compileShader(r),
            t.getShaderParameter(r, t.COMPILE_STATUS) ? r : (console.log(t.getShaderInfoLog(r)),
            null)
        };
        this.uniform = {},
        this.attribute = {};
        var a = i(t, e, t.VERTEX_SHADER)
          , o = i(t, n, t.FRAGMENT_SHADER);
        for (var s in this.id = t.createProgram(),
        t.attachShader(this.id, a),
        t.attachShader(this.id, o),
        t.linkProgram(this.id),
        t.getProgramParameter(this.id, t.LINK_STATUS) || console.log(t.getProgramInfoLog(this.id)),
        t.useProgram(this.id),
        r(e, "attribute", this.attribute),
        this.attribute)
            this.attribute[s] = t.getAttribLocation(this.id, s);
        for (var u in r(e, "uniform", this.uniform),
        r(n, "uniform", this.uniform),
        this.uniform)
            this.uniform[u] = t.getUniformLocation(this.id, u)
    }
      , Tv = {
        INTERMEDIATE: 1
    }
      , Mv = {};
    Mv.VERTEX_IDENTITY = ["precision highp float;", "attribute vec2 pos;", "attribute vec2 uv;", "varying vec2 vUv;", "uniform float flipY;", "void main(void) {", "vUv = uv;", "gl_Position = vec4(pos.x, pos.y*flipY, 0.0, 1.);", "}"].join("\n"),
    Mv.FRAGMENT_IDENTITY = ["precision highp float;", "varying vec2 vUv;", "uniform sampler2D texture;", "void main(void) {", "gl_FragColor = texture2D(texture, vUv);", "}"].join("\n");
    var Dv, Bv, Uv, zv, Lv = function() {
        var t = {
            colorMatrix: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                  , r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , i = new Float32Array(e);
                r || (i[4] /= 255,
                i[9] /= 255,
                i[14] /= 255,
                i[19] /= 255);
                var a = n.length ? n : 1 == i[18] && 0 == i[3] && 0 == i[8] && 0 == i[13] && 0 == i[15] && 0 == i[16] && 0 == i[17] && 0 == i[19] ? t.colorMatrix.SHADER.WITHOUT_ALPHA : t.colorMatrix.SHADER.WITH_ALPHA
                  , o = Wv(a);
                qv.uniform1fv(o.uniform.m, i),
                Hv()
            }
        };
        return t.colorMatrix.SHADER = {},
        t.colorMatrix.SHADER.WITH_ALPHA = ["precision highp float;", "varying vec2 vUv;", "uniform sampler2D texture;", "uniform float m[20];", "void main(void) {", "vec4 c = texture2D(texture, vUv);", "gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b + m[3] * c.a + m[4];", "gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b + m[8] * c.a + m[9];", "gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b + m[13] * c.a + m[14];", "gl_FragColor.a = m[15] * c.r + m[16] * c.g + m[17] * c.b + m[18] * c.a + m[19];", "}"].join("\n"),
        t.colorMatrix.SHADER.WITHOUT_ALPHA = ["precision highp float;", "varying vec2 vUv;", "uniform sampler2D texture;", "uniform float m[20];", "void main(void) {", "vec4 c = texture2D(texture, vUv);", "gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b + m[4];", "gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b + m[9];", "gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b + m[14];", "gl_FragColor.a = c.a;", "}"].join("\n"),
        t.brightness = function(e) {
            var n = e / 100;
            t.colorMatrix([1, 0, 0, 0, n, 0, 1, 0, 0, n, 0, 0, 1, 0, n, 0, 0, 0, 1, 0], t.brightness.SHADER, !0)
        }
        ,
        t.brightness.SHADER = ["precision highp float;", "varying vec2 vUv;", "uniform sampler2D texture;", "uniform float m[20];", "vec4 bright = vec4(0.0);", "void main(void) {", "vec4 c = texture2D(texture, vUv);", "if(c.a != 0.0){", "float r = m[4] < 0.0 ?  m[4] * c.r : (1.0 - c.r) * m[4] * c.a ;", "float g = m[9] < 0.0 ?  m[9] * c.g   : (1.0 - c.g) * m[9] * c.a;", "float b = m[14] < 0.0 ? m[14] * c.b   : (1.0 - c.b) * m[14] * c.a;", "float a = m[19] < 0.0 ?  m[19] * c.a : (1.0 - c.a) * m[19];", "gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b + m[3] * c.a + r;", "gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b + m[8] * c.a +  g;", "gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b + m[13] * c.a + b;", "gl_FragColor.a = m[15] * c.r + m[16] * c.g + m[17] * c.b + m[18] * c.a + a;", "}else{", "gl_FragColor = c;", "}", "}"].join("\n"),
        t.grey = function(e) {
            var n = .3 * (e /= 100)
              , r = 1 - .7 * e;
            t.colorMatrix([r, n, n, 0, 0, n, r, n, 0, 0, n, n, r, 0, 0, 0, 0, 0, 1, 0])
        }
        ,
        t.grey.SHADER = ["precision highp float;", "varying vec2 vUv;", "uniform sampler2D texture;", "uniform float m[20];", "void main(void) {", "vec4 c = texture2D(texture, vUv);", "gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b ;", "gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b;", "gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b ;", "}"],
        t.blur = function(e) {
            if (e) {
                e = eg >= 1 || Math.min(Uv, zv) >= 256 ? e / 2 : Math.round(e * Math.min(Math.min(Uv, zv) / 256, 2)),
                e = Math.round(e);
                var n = Wv(t.blur.SHADER1)
                  , r = e / Uv
                  , i = e / zv
                  , a = Math.max((Uv - 2 * e) / Uv, (zv - 2 * e) / zv) * Math.pow(2, .5) / 2;
                qv.uniform2f(n.uniform.px, r, i),
                qv.uniform1f(n.uniform.maxDist, a),
                Hv(Tv.INTERMEDIATE),
                Hv()
            }
        }
        ,
        t.blur.SHADER1 = ["precision highp float;", "varying vec2 vUv;", "uniform sampler2D texture;", "uniform vec2 px;", "uniform float maxDist;", "vec4 getColor(vec2 xy){", "vec4 Color = texture2D(texture, xy);", "if(length(vec2(0.5, 0.5)-xy)>maxDist){", "return Color*0.3;", "}", "return Color;", "}", "void main(void){", "const float Pi = 6.28318530718;", "const float Quality = 6.0;", "const float Directions = 16.0;", "vec4 Color = getColor(vUv);", "for(float d=0.0; d < Pi; d += Pi/Directions){", "for(float i=1.0/Quality; i<=1.0; i+=1.0/Quality){", "Color += getColor(vUv + vec2(cos(d) , sin(d))*px*i);", "}", "}", "Color /=(Quality * Directions);", "gl_FragColor =  Color;", "}"].join("\n"),
        t.blur.SHADER = ["precision highp float;", "varying vec2 vUv;", "uniform sampler2D texture;", "uniform vec2 px;", "void main(void) {", "gl_FragColor = vec4(0.0);", "gl_FragColor += texture2D(texture, vUv + vec2(-7.0*px.x, -7.0*px.y))*0.0044299121055113265;", "gl_FragColor += texture2D(texture, vUv + vec2(-6.0*px.x, -6.0*px.y))*0.00895781211794;", "gl_FragColor += texture2D(texture, vUv + vec2(-5.0*px.x, -5.0*px.y))*0.0215963866053;", "gl_FragColor += texture2D(texture, vUv + vec2(-4.0*px.x, -4.0*px.y))*0.0443683338718;", "gl_FragColor += texture2D(texture, vUv + vec2(-3.0*px.x, -3.0*px.y))*0.0776744219933;", "gl_FragColor += texture2D(texture, vUv + vec2(-2.0*px.x, -2.0*px.y))*0.115876621105;", "gl_FragColor += texture2D(texture, vUv + vec2(-1.0*px.x, -1.0*px.y))*0.147308056121;", "gl_FragColor += texture2D(texture, vUv                             )*0.159576912161;", "gl_FragColor += texture2D(texture, vUv + vec2( 1.0*px.x,  1.0*px.y))*0.147308056121;", "gl_FragColor += texture2D(texture, vUv + vec2( 2.0*px.x,  2.0*px.y))*0.115876621105;", "gl_FragColor += texture2D(texture, vUv + vec2( 3.0*px.x,  3.0*px.y))*0.0776744219933;", "gl_FragColor += texture2D(texture, vUv + vec2( 4.0*px.x,  4.0*px.y))*0.0443683338718;", "gl_FragColor += texture2D(texture, vUv + vec2( 5.0*px.x,  5.0*px.y))*0.0215963866053;", "gl_FragColor += texture2D(texture, vUv + vec2( 6.0*px.x,  6.0*px.y))*0.00895781211794;", "gl_FragColor += texture2D(texture, vUv + vec2( 7.0*px.x,  7.0*px.y))*0.0044299121055113265;", "}"].join("\n"),
        t
    }, Vv = function(t, e) {
        if (Gv.width != t || Gv.height != e) {
            if (Uv = t,
            zv = e,
            Gv.width = t,
            Gv.height = e,
            !Qv) {
                var n = new Float32Array([-1, -1, 0, 1, 1, -1, 1, 1, -1, 1, 0, 0, -1, 1, 0, 0, 1, -1, 1, 1, 1, 1, 1, 0]);
                Qv = qv.createBuffer(),
                qv.bindBuffer(qv.ARRAY_BUFFER, Qv),
                qv.bufferData(qv.ARRAY_BUFFER, n, qv.STATIC_DRAW),
                qv.pixelStorei(qv.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0)
            }
            qv.viewport(0, 0, Uv, zv),
            Xv = [null, null]
        }
    }, Fv = function(t) {
        return Xv[t] = Xv[t] || Nv(Uv, zv),
        Xv[t]
    }, Nv = function(t, e) {
        var n = qv.createFramebuffer();
        qv.bindFramebuffer(qv.FRAMEBUFFER, n);
        var r = qv.createRenderbuffer();
        qv.bindRenderbuffer(qv.RENDERBUFFER, r);
        var i = qv.createTexture();
        return qv.bindTexture(qv.TEXTURE_2D, i),
        qv.texImage2D(qv.TEXTURE_2D, 0, qv.RGBA, t, e, 0, qv.RGBA, qv.UNSIGNED_BYTE, null),
        qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_MAG_FILTER, qv.LINEAR),
        qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_MIN_FILTER, qv.LINEAR),
        qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_WRAP_S, qv.CLAMP_TO_EDGE),
        qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_WRAP_T, qv.CLAMP_TO_EDGE),
        qv.framebufferTexture2D(qv.FRAMEBUFFER, qv.COLOR_ATTACHMENT0, qv.TEXTURE_2D, i, 0),
        qv.bindTexture(qv.TEXTURE_2D, null),
        qv.bindFramebuffer(qv.FRAMEBUFFER, null),
        {
            fbo: n,
            texture: i
        }
    }, Hv = function(t) {
        var e, n = null, r = !1;
        e = 0 == Kv ? Dv : Fv(Bv).texture,
        Kv++,
        !$v || t & Tv.INTERMEDIATE ? n = Fv(Bv = (Bv + 1) % 2).fbo : (n = null,
        r = Kv % 2 == 0),
        qv.bindTexture(qv.TEXTURE_2D, e),
        qv.bindFramebuffer(qv.FRAMEBUFFER, n),
        qv.uniform1f(Jv.uniform.flipY, r ? -1 : 1),
        qv.drawArrays(qv.TRIANGLES, 0, 6)
    }, Wv = function(t) {
        if (Yv[t])
            return Jv = Yv[t],
            qv.useProgram(Jv.id),
            Jv;
        Jv = new Rv(qv,Mv.VERTEX_IDENTITY,t);
        var e = Float32Array.BYTES_PER_ELEMENT
          , n = 4 * e;
        return qv.enableVertexAttribArray(Jv.attribute.pos),
        qv.vertexAttribPointer(Jv.attribute.pos, 2, qv.FLOAT, !1, n, 0 * e),
        qv.enableVertexAttribArray(Jv.attribute.uv),
        qv.vertexAttribPointer(Jv.attribute.uv, 2, qv.FLOAT, !1, n, 2 * e),
        Yv[t] = Jv,
        Jv
    }, Gv = Ev(), qv = Gv.getContext("webgl") || Gv.getContext("experimental-webgl"), Yv = [], Zv = [], Jv = null, Kv = 0, $v = 0, Xv = [], Qv = null, tg = !1, eg = 1, ng = Lv(), rg = function(t) {
        var e = t.imageData
          , n = t.filters
          , r = t.reset
          , i = void 0 !== r && r
          , a = t.canvas
          , o = t.scale;
        eg = o,
        qv.clearColor(0, 0, 0, 1),
        qv.clear(qv.COLOR_BUFFER_BIT | qv.DEPTH_BUFFER_BIT),
        Kv = 0,
        $v = 0,
        Zv = [],
        tg = !1,
        Bv = 0,
        i && (Kv = 0,
        $v = 0,
        Zv = [],
        tg = !1,
        Xv = [],
        Uv = -1,
        zv = -1,
        Qv = null,
        Bv = 0,
        Dv = null,
        Jv = null,
        Yv = []),
        n.forEach((function(t) {
            return function(t, e) {
                if (t) {
                    var n = e
                      , r = ng[t];
                    if (r) {
                        var i = Zv.findIndex((function(e) {
                            return e.name === t
                        }
                        ));
                        ~i ? Zv[i].args = n : Zv.push({
                            func: r,
                            args: n,
                            name: t
                        })
                    }
                }
            }(t.name, t.value)
        }
        )),
        function(t) {
            var e = t.width
              , n = t.height;
            if (Gv.width === e && Gv.height === n || (Qv = null,
            Vv(e, n)),
            Kv = 0,
            Dv || (Dv = qv.createTexture()),
            qv.bindTexture(qv.TEXTURE_2D, Dv),
            qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_WRAP_S, qv.CLAMP_TO_EDGE),
            qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_WRAP_T, qv.CLAMP_TO_EDGE),
            qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_MIN_FILTER, qv.NEAREST),
            qv.texParameteri(qv.TEXTURE_2D, qv.TEXTURE_MAG_FILTER, qv.NEAREST),
            tg ? qv.texSubImage2D(qv.TEXTURE_2D, 0, 0, 0, qv.RGBA, qv.UNSIGNED_BYTE, t) : (qv.texImage2D(qv.TEXTURE_2D, 0, qv.RGBA, qv.RGBA, qv.UNSIGNED_BYTE, t),
            tg = !0),
            0 == Zv.length)
                return Wv(Mv.FRAGMENT_IDENTITY),
                Hv(),
                Gv;
            for (var r = 0; r < Zv.length; r++) {
                $v = r == Zv.length - 1;
                var i = Zv[r];
                i.func(i.args || [])
            }
        }(e),
        function() {
            if (a) {
                var t = a.getContext("2d");
                t.clearRect(0, 0, a.width, a.height),
                t.drawImage(Gv, 0, 0, Gv.width, Gv.height)
            }
        }()
    }, ig = function t(e) {
        var n = this;
        h()(this, t),
        c()(this, "clear", (function() {
            n.canvas.width = n.canvas.height = 1,
            n.canvas = null,
            n.free = !0
        }
        )),
        c()(this, "updateValue", (function(t) {
            var e = n.state[t] || null;
            if (!e)
                return null;
            var r, i = n.state.pause, a = e.end, o = e.step, s = e.value, u = e.stepTime;
            return o > 0 && s >= a || o < 0 && s <= a || i ? null : {
                name: t,
                value: r = o > 0 ? Math.min(s + o, a) : Math.max(s + o, a),
                isComplete: o > 0 ? r >= a : r <= a,
                stepTime: u,
                step: o
            }
        }
        )),
        c()(this, "tween", (function(t, e, n) {
            var r = this;
            this.myReq && window.cancelAnimationFrame(this.myReq),
            this.state.pause = n();
            var i = this.state
              , a = i.imageData
              , o = i.timeline
              , s = i.recover
              , u = i.scale
              , c = this.updateValue(t);
            if (c) {
                var l = c.value
                  , d = c.isComplete
                  , f = c.stepTime
                  , h = c.step
                  , p = this.state.filters.filter((function(e) {
                    return e.name == t
                }
                ));
                p.length ? Object.assign(p[0], {
                    value: l,
                    isComplete: d,
                    stepTime: f
                }) : this.state.filters.push(c),
                Object.assign(this.state[t], {
                    value: l
                });
                var v = Date.now();
                if (rg({
                    imageData: a,
                    filters: this.state.filters,
                    reset: !1,
                    canvas: this.canvas,
                    scale: u
                }),
                v = Date.now() - v,
                h && v > 1.5 * f) {
                    var g = h * (v / f)
                      , m = v;
                    Object.assign(this.state[t], {
                        step: g,
                        stepTime: m
                    })
                }
                if (e && e(this.canvas),
                d)
                    return s && !this.state.filters.some((function(t) {
                        return !t.isComplete
                    }
                    )) && (Object.assign(this.state[t], {
                        value: 0
                    }),
                    rg({
                        imageData: a,
                        filters: this.state.filters,
                        reset: !1,
                        canvas: this.canvas,
                        scale: u
                    }),
                    e && e(this.canvas)),
                    void (this.free = !0);
                this.myReq = window.requestAnimationFrame((function() {
                    o !== r.state.timeline || r.state.pause || 0 === h || r.tween(t, e, n)
                }
                ))
            }
        }
        )),
        c()(this, "update", (function(t) {
            var e = t.filter
              , n = t.start
              , r = t.end
              , i = t.duration
              , a = t.updateFrame
              , o = t.isPaused
              , s = t.recover
              , u = void 0 !== s && s;
            a && (this.updateFrame = a),
            o && (this.isPaused = o);
            var c = Iv(e, n, r, this.state)
              , l = jv[e] || 15
              , d = Av(i, c > n ? c : n, r, l);
            this.state[e] = {
                step: d,
                value: c,
                end: r,
                stepTime: l
            },
            Object.assign(this.state, {
                recover: u
            }),
            this.tween(e, this.updateFrame, this.isPaused)
        }
        )),
        c()(this, "start", (function(t) {
            var e = t.filter
              , n = t.start
              , r = t.end
              , i = t.duration
              , a = t.scale
              , o = jv[e] || 15
              , s = Av(i, n, r, o);
            Object.assign(this.state, {
                scale: a
            }),
            this.state[e] = {
                step: s,
                value: n,
                end: r,
                stepTime: o
            },
            this.tween(e, this.updateFrame, this.isPaused)
        }
        )),
        c()(this, "recover", (function() {
            Object.assign(this.state, {
                recover: !0
            })
        }
        ));
        var r = e.imageData
          , i = e.updateFrame
          , a = e.isPaused
          , o = e.key;
        this.key = o,
        this.free = !1;
        var s = r.width
          , u = r.height;
        this.state = {
            timeline: {},
            pause: !1,
            recover: !1,
            filters: [],
            imageData: r,
            scale: 1
        },
        window.createImageBitmap && window.createImageBitmap(r).then((function(t) {
            return n.state = Object.assign(n.state, {
                imageData: t
            })
        }
        )),
        this.updateFrame = i,
        this.isPaused = a,
        this.canvas = document.createElement("canvas"),
        this.canvas.width = s,
        this.canvas.height = u,
        this.myReq = -1
    }, ag = [], og = function(t) {
        var e = new ig(t);
        return ag.push(e),
        e
    }, sg = function(t) {
        t.clear(),
        t = null
    }, ug = function(t) {
        var e = og(t)
          , n = function(t) {
            var n = t.handle;
            switch (void 0 === n ? "start" : n) {
            case "start":
                e.start(t);
                break;
            case "update":
                e.update(t);
                break;
            case "clear":
                return void sg(e);
            case "recover":
                e.recover()
            }
        };
        return n(t),
        n
    }, cg = n(27), lg = n.n(cg), dg = n(128), fg = n.n(dg);
    function hg(t) {
        var e = pg();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function pg() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var vg = function t(e) {
        var n = this;
        h()(this, t),
        c()(this, "newImageBody", (function(t) {
            var e = document.createElement("img");
            return e.src = t,
            e
        }
        )),
        c()(this, "render", (function() {
            return n.proton.update()
        }
        )),
        c()(this, "initProton", (function() {}
        )),
        c()(this, "unload", (function() {
            fg.a.stop(),
            fg.a.remove((function() {
                return n.render()
            }
            )),
            n.render(),
            n.proton.destroyAllEmitters()
        }
        )),
        this.props = e;
        var r = e.updateFrame
          , i = e.width
          , a = e.height;
        this.canvas = document.createElement("canvas"),
        this.canvas.width = i,
        this.canvas.height = a,
        this.proton = new lg.a,
        lg.a.USE_CLOCK = !0,
        this.proton.addRenderer(new gg(this.canvas,r)),
        fg.a.add((function() {
            return n.render()
        }
        )),
        this.initProton()
    }
      , gg = function(t) {
        P()(n, t);
        var e = hg(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this, t)).stroke = null,
            i.context = i.element.getContext("2d"),
            i.updateFrame = r,
            i.bufferCache = {},
            i.name = "CanvasRenderer",
            i
        }
        return v()(n, [{
            key: "onProtonUpdateAfter",
            value: function() {
                this.updateFrame && this.updateFrame(this.element)
            }
        }, {
            key: "drawImage",
            value: function(t) {
                var e = this.context
                  , n = t.body
                  , r = t.scaleXY
                  , i = t.data
                  , a = t.p
                  , o = t.alpha
                  , s = t.color
                  , u = t.rgb
                  , c = t.rotation
                  , l = n.width * t.scale | 0
                  , d = n.height * t.scale | 0
                  , f = l / 2
                  , h = d / 2
                  , p = a.x - f
                  , v = a.y - h
                  , g = n
                  , m = r && !(1 === r.x && 1 === r.y);
                if (e.save(),
                !s && (e.globalAlpha = o),
                e.translate(a.x, a.y),
                e.rotate(cg.MathUtil.degreeTransform(c)),
                e.translate(-a.x, -a.y),
                s) {
                    i.buffer || (i.buffer = this.createBuffer(n));
                    var y = i.buffer
                      , b = y.getContext("2d");
                    b.clearRect(0, 0, y.width, y.height),
                    b.globalAlpha = o,
                    b.drawImage(n, 0, 0),
                    b.globalCompositeOperation = "source-atop",
                    b.fillStyle = cg.ColorUtil.rgbToHex(u),
                    b.fillRect(0, 0, y.width, y.height),
                    b.globalCompositeOperation = "source-over",
                    b.globalAlpha = 1,
                    g = y
                }
                if (m) {
                    var w = r.x
                      , x = r.y;
                    e.translate(a.x - Math.abs(w) * f, a.y - Math.abs(x) * h),
                    p = w < 0 ? -l : 0,
                    v = x < 0 ? -d : 0,
                    e.scale(r.x, r.y),
                    e.drawImage(g, p, v, l, d)
                } else
                    e.drawImage(g, p, v, l, d);
                !s && (e.globalAlpha = 1),
                e.restore()
            }
        }, {
            key: "drawCircle",
            value: function(t) {
                var e = this.context
                  , n = t.rect
                  , r = t.p
                  , i = t.alpha
                  , a = t.rgb
                  , o = t.data
                  , s = o.track
                  , u = void 0 === s ? [] : s
                  , c = o.trackShadow;
                e.fillStyle = a ? "rgba(".concat(a.r, ",").concat(a.g, ",").concat(a.b, ",").concat(i, ")") : t.color;
                var l = u.length;
                if (l > 1) {
                    e.beginPath();
                    var d = u[0];
                    e.lineWidth = 2 * t.radius;
                    var f = t.rgb || cg.ColorUtil.hexToRgb(t.color)
                      , h = "rgba(".concat(f.r, ",").concat(f.g, ",").concat(f.b, ",").concat(i, ")")
                      , p = e.createLinearGradient(t.p.x, t.p.y, d.x, d.y);
                    p.addColorStop(1, "rgba(0,0,0,0)"),
                    p.addColorStop(.5, h),
                    p.addColorStop(0, h),
                    e.strokeStyle = c ? p : h,
                    e.moveTo(d.x, d.y);
                    for (var v = 1; v < l; v++)
                        d = u[v],
                        e.lineTo(d.x, d.y);
                    e.lineTo(t.p.x, t.p.y),
                    e.stroke(),
                    e.closePath()
                }
                if (e.beginPath(),
                n) {
                    var g = n.w
                      , m = n.h;
                    e.rect(r.x - g / 2, r.y - m / 2, g, m)
                } else
                    e.arc(r.x, r.y, t.radius, 0, 2 * Math.PI, !0);
                this.stroke && (e.strokeStyle = this.stroke.color,
                e.lineWidth = this.stroke.thinkness,
                e.stroke()),
                e.closePath(),
                e.fill()
            }
        }]),
        n
    }(cg.CanvasRenderer)
      , mg = function() {
        function t(e, n) {
            h()(this, t),
            this.numPan = cg.Span.setSpanValue(cg.Util.initValue(e, 1)),
            this.timePan = cg.Span.setSpanValue(cg.Util.initValue(n, 1)),
            this.startTime = 0,
            this.nextTime = 0,
            this.init()
        }
        return v()(t, [{
            key: "init",
            value: function() {
                this.startTime = this.nextTime = this.timePan.getValue()
            }
        }, {
            key: "getValue",
            value: function(t) {
                return this.startTime += t,
                this.startTime >= this.nextTime ? (this.startTime = 0,
                this.nextTime = this.timePan.getValue(),
                1 === this.numPan.b ? this.numPan.getValue(!1) > .5 ? 1 : 0 : this.numPan.getValue(!0)) : 0
            }
        }]),
        t
    }();
    function yg(t) {
        var e = bg();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function bg() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var wg = function(t) {
        P()(n, t);
        var e = yg(n);
        function n(t, r, i, a, o, s) {
            var u;
            return h()(this, n),
            (u = e.call(this, o, s)).reset(t, r, i, a),
            u.name = "Circle",
            u
        }
        return v()(n, [{
            key: "reset",
            value: function(t, e, r) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "left"
                  , a = arguments.length > 4 ? arguments[4] : void 0
                  , o = arguments.length > 5 ? arguments[5] : void 0;
                this.force = cg.Span.setSpanValue(cg.Util.initValue(e, 1)),
                this.cycles = cg.Span.setSpanValue(cg.Util.initValue(t, 1)),
                this.delay = cg.Span.setSpanValue(cg.Util.initValue(r, 0)),
                this.angle = ("left" === i ? 1 : -1) * cg.MathUtil.PI * .5,
                a && F()(A()(n.prototype), "reset", this).call(this, a, o)
            }
        }, {
            key: "initialize",
            value: function(t) {
                var e = t.data;
                e.cycles = [0, this.cycles.getValue()];
                var n = this.delay.getValue();
                e.circleDelay = [0, n],
                e.circleForce = this.force.getValue(),
                e.circleGradients = []
            }
        }, {
            key: "inRange",
            value: function(t, e) {
                var n = s()(e, 2)
                  , r = n[0]
                  , i = n[1];
                return r < i && t > r && t < i
            }
        }, {
            key: "applyBehaviour",
            value: function(t, e, n) {
                this.calculate(t, e, n);
                var r = t.data
                  , i = r.cycles
                  , a = r.circleDelay
                  , o = r.circleGradients
                  , s = r.oldGradient
                  , u = void 0 === s ? null : s
                  , c = r.circleForce;
                if (!(i[0] >= i[1]))
                    if (a[0] < a[1])
                        a[0] += e;
                    else {
                        var l = t.v.getGradient() || 0;
                        null === u && (r.oldGradient = u = l,
                        r.oldLength = t.v.getGradient());
                        var d = o.length - 1
                          , f = this.angle > 0 ? [o[0], o[d]] : [o[d], o[0]];
                        if (this.inRange(u, f))
                            return a[0] = 0,
                            i[0]++,
                            o.length = 0,
                            r.oldGradient = null,
                            r.circleForce = this.force.getValue(),
                            a[1] += this.delay.getValue(),
                            void t.a.clear();
                        o.push(l),
                        l += this.angle,
                        d > 5 && o.shift();
                        var h = new cg.Vector2D(0,0);
                        h.x = c * Math.cos(l),
                        h.y = c * Math.sin(l),
                        h = this.normalizeForce(h),
                        t.a.set(h.x, h.y)
                    }
            }
        }]),
        n
    }(cg.Behaviour);
    function xg(t) {
        var e = kg();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function kg() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var _g = function(t) {
        P()(n, t);
        var e = xg(n);
        function n(t, r, i, a, o) {
            var s;
            return h()(this, n),
            (s = e.call(this, a, o)).reset(t, r, i),
            s.name = "Roll",
            s
        }
        return v()(n, [{
            key: "reset",
            value: function(t, e, r, i, a) {
                this.angle = cg.Span.setSpanValue(cg.Util.initValue(t, 1)),
                this.style = cg.Util.initValue(r, "x"),
                this.min = cg.Util.initValue(e, 0),
                i && F()(A()(n.prototype), "reset", this).call(this, i, a)
            }
        }, {
            key: "initialize",
            value: function(t) {
                t.scaleXY = new cg.Vector2D(1,1),
                t.data.rollAngle = [0, this.angle.getValue()]
            }
        }, {
            key: "applyBehaviour",
            value: function(t, e, n) {
                this.calculate(t, e, n);
                var r = t.scaleXY
                  , i = t.data.rollAngle;
                i[0] += i[1] * this.energy;
                var a = Math.cos(i[0]);
                this.min > Math.abs(a) && (a = a < 0 ? -this.min : this.min,
                i[0] += 4 * i[1]),
                "x" === this.style ? r.setX(a) : r.setY(a),
                t.scale < 1e-4 && (t.scale = 0)
            }
        }]),
        n
    }(cg.Behaviour);
    function Og(t) {
        var e = Sg();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Sg() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Pg = function(t) {
        P()(n, t);
        var e = Og(n);
        function n(t, r, i, a) {
            var o;
            return h()(this, n),
            (o = e.call(this, i, a)).reset(t, r),
            o.name = "Track",
            o
        }
        return v()(n, [{
            key: "reset",
            value: function(t, e, r, i) {
                this.length = cg.Util.initValue(t, 100),
                this.shadow = cg.Util.initValue(e, !0),
                r && F()(A()(n.prototype), "reset", this).call(this, r, i)
            }
        }, {
            key: "initialize",
            value: function(t) {
                t.data.track = [],
                t.data.trackShadow = this.shadow
            }
        }, {
            key: "applyBehaviour",
            value: function(t, e, n) {
                this.calculate(t, e, n);
                var r = t.data.track
                  , i = t.p;
                r.push(i.clone()),
                r.length > this.length && r.shift()
            }
        }]),
        n
    }(cg.Behaviour);
    function Cg(t) {
        var e = Eg();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Eg() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var jg = function(t) {
        P()(n, t);
        var e = Cg(n);
        function n(t, r) {
            var i;
            return h()(this, n),
            (i = e.call(this)).rect = {
                w: cg.Span.setSpanValue(t),
                h: cg.Span.setSpanValue(r)
            },
            i.name = "Rect",
            i
        }
        return v()(n, [{
            key: "reset",
            value: function(t, e) {
                this.rect = {
                    w: cg.Span.setSpanValue(t),
                    h: cg.Span.setSpanValue(e)
                }
            }
        }, {
            key: "initialize",
            value: function(t) {
                var e = this.rect
                  , n = e.w
                  , r = e.h;
                t.rect = {
                    w: n.getValue(),
                    h: r.getValue()
                },
                t.data.oldRect = t.rect
            }
        }]),
        n
    }(cg.Initialize);
    function Ag(t) {
        return Object(nn.b)(t) ? new cg.Span(t[0],t[1]) : Object(nn.m)(t) ? t : new cg.Span(t)
    }
    function Ig(t) {
        return new mg(Ag(t.num),Ag(t.time))
    }
    function Rg(t) {
        var e = t.x
          , n = void 0 === e ? 0 : e
          , r = t.y
          , i = void 0 === r ? 0 : r
          , a = t.width
          , o = void 0 === a ? 0 : a
          , s = t.height
          , u = void 0 === s ? 0 : s;
        return new cg.Position(new cg.RectZone(n,i,o,u))
    }
    function Tg(t) {
        var e = t.x
          , n = t.y;
        return new cg.Velocity(Ag(e),Ag(n))
    }
    function Mg(t) {
        return new cg.Life(Ag(t))
    }
    function Dg(t) {
        if (t && (t = t.filter((function(t) {
            return t.url || t.md5
        }
        ))).length)
            return t = t.map((function(t) {
                var e = document.createElement("img");
                return t.url && (e.src = t.url),
                e
            }
            )),
            new cg.Body(new cg.ArraySpan(t))
    }
    function Bg(t) {
        return Object(nn.b)(t) ? new cg.Radius(t[0],t[1]) : t ? new cg.Radius(t) : null
    }
    function Ug(t) {
        var e = t.width
          , n = t.height;
        return n && e ? new jg(e,n) : null
    }
    function zg(t, e, n) {
        if (e) {
            var r = n(e);
            r && t.addInitialize(r)
        }
    }
    function Lg(t) {
        var e = t.x
          , n = void 0 === e ? 0 : e
          , r = t.y
          , i = void 0 === r ? 0 : r;
        return new cg.Force(n,i)
    }
    function Vg(t) {
        return new cg.Scale(Ag(t.start),Ag(t.end))
    }
    function Fg(t) {
        return new cg.Alpha(Ag(t.start),Ag(t.end))
    }
    function Ng(t) {
        return new cg.Rotate(Ag(t.start),Ag(t.end),t.style)
    }
    function Hg(t) {
        return new cg.Cyclone(t.angle,t.force)
    }
    function Wg(t) {
        return new cg.RandomDrift(t.x,t.y,t.delay)
    }
    function Gg(t) {
        return new cg.Color(t.start,t.end)
    }
    function qg(t) {
        return new _g(Ag(t.angle),t.min,t.dir)
    }
    function Yg(t) {
        return new wg(Ag(t.num),Ag(t.force),Ag(t.delay),t.angle)
    }
    function Zg(t) {
        return new Pg(t)
    }
    function Jg(t) {
        var e = t.x
          , n = void 0 === e ? 0 : e
          , r = t.y
          , i = void 0 === r ? 0 : r
          , a = t.width
          , o = void 0 === a ? 0 : a
          , s = t.height
          , u = void 0 === s ? 0 : s;
        return new cg.CrossZone(new cg.RectZone(n,i,o,u),"dead")
    }
    function Kg(t, e, n) {
        if (e) {
            var r = n(e);
            r && t.addBehaviour(r)
        }
    }
    function $g(t, e) {
        e && t.addBehaviour(Jg(e))
    }
    function Xg(t) {
        var e = t.rate
          , n = t.damping
          , r = void 0 === n ? 0 : n
          , i = t.init
          , a = t.act
          , o = new cg.Emitter;
        return o.rate = Ig(e),
        o.damping = r,
        zg(o, i.l, Mg),
        zg(o, i.v, Tg),
        zg(o, i.p, Rg),
        i.b && zg(o, i.b, Dg),
        i.r && zg(o, i.r, Bg),
        i.rect && zg(o, i.rect, Ug),
        Kg(o, a.color, Gg),
        Kg(o, a.scale, Vg),
        Kg(o, a.alpha, Fg),
        Kg(o, a.rotate, Ng),
        Kg(o, a.gravity, Lg),
        Kg(o, a.cyclone, Hg),
        Kg(o, a.drift, Wg),
        Kg(o, a.roll, qg),
        Kg(o, a.circle, Yg),
        !i.b && Kg(o, a.track, Zg),
        $g(o, a.crossZone),
        o
    }
    var Qg = .006
      , tm = cg.MathUtil.PI;
    function em(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function nm(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? em(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : em(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function rm(t) {
        var e = im();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function im() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var am = ["./img/particle/weather/leaf_2.png", "./img/particle/weather/leaf_3.png", "./img/particle/weather/leaf_4.png", "./img/particle/weather/leaf_5.png"]
      , om = function(t) {
        P()(n, t);
        var e = rm(n);
        function n(t) {
            var r;
            return h()(this, n),
            r = e.call(this, Object.assign(t, {
                keys: am
            })),
            c()(O()(r), "initProton", (function() {
                var t = O()(r)
                  , e = t.proton
                  , n = t.props
                  , i = n.width
                  , a = void 0 === i ? 960 : i
                  , o = n.height
                  , s = {
                    x: -200,
                    y: -20,
                    width: a + 200,
                    height: (void 0 === o ? 540 : o) + 20
                }
                  , u = nm(nm({}, s), {}, {
                    height: 0
                })
                  , c = [{
                    url: am[1]
                }, {
                    url: am[2]
                }, {
                    url: am[3]
                }];
                [{
                    rate: {
                        num: 1,
                        time: .2
                    },
                    damping: Qg,
                    init: {
                        b: [{
                            url: am[0]
                        }, {
                            url: am[0]
                        }].concat(c),
                        p: u,
                        v: {
                            x: [.2, .4],
                            y: [1.4, 1.6]
                        }
                    },
                    act: {
                        gravity: {
                            y: 1
                        },
                        cyclone: {
                            angle: -.4,
                            force: 1.8
                        },
                        rotate: {
                            start: [0, 360],
                            end: .3,
                            style: "add"
                        },
                        drift: {
                            x: 1,
                            y: .5,
                            delay: .05
                        },
                        roll: {
                            angle: [.005, .08],
                            min: .18
                        },
                        scale: {
                            start: [.8, 1]
                        },
                        alpha: {
                            start: [.6, 1]
                        },
                        crossZone: s
                    }
                }, {
                    rate: {
                        num: 1,
                        time: .6
                    },
                    damping: Qg,
                    init: {
                        b: c,
                        p: u,
                        v: {
                            x: [-.2, 1],
                            y: [.3, .8]
                        }
                    },
                    act: {
                        gravity: {
                            y: 1
                        },
                        rotate: {
                            start: [0, 360],
                            end: .3,
                            style: "add"
                        },
                        drift: {
                            x: 2,
                            y: 0,
                            delay: .05
                        },
                        roll: {
                            angle: [.005, .06],
                            min: .18
                        },
                        scale: {
                            start: [.8, 1]
                        },
                        alpha: {
                            start: [.4, .6]
                        },
                        crossZone: s
                    }
                }].forEach((function(t) {
                    var n = Xg(t);
                    n.emit(),
                    e.addEmitter(n)
                }
                ))
            }
            )),
            c()(O()(r), "toUnload", (function() {
                return r.unload()
            }
            )),
            r.initProton(),
            r
        }
        return n
    }(vg);
    function sm(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function um(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? sm(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : sm(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function cm(t) {
        var e = lm();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function lm() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var dm = ["./img/particle/weather/cherry.png"]
      , fm = function(t) {
        P()(n, t);
        var e = cm(n);
        function n(t) {
            var r;
            return h()(this, n),
            r = e.call(this, Object.assign(t, {
                keys: dm
            })),
            c()(O()(r), "initProton", (function() {
                var t = O()(r)
                  , e = t.proton
                  , n = t.props
                  , i = n.width
                  , a = void 0 === i ? 960 : i
                  , o = n.height
                  , s = {
                    x: -10,
                    y: -10,
                    width: a + 20,
                    height: (void 0 === o ? 540 : o) + 20
                }
                  , u = um(um({}, s), {}, {
                    height: 0
                });
                [{
                    rate: {
                        num: 1,
                        time: 6
                    },
                    init: {
                        b: [{
                            url: dm[0]
                        }],
                        p: um(um({}, u), {}, {
                            width: u.width / 3
                        }),
                        v: {
                            x: [.5, .6],
                            y: [.8, 1.2]
                        }
                    },
                    act: {
                        cyclone: {
                            angle: -1,
                            force: .2
                        },
                        rotate: {
                            start: [0, 360],
                            end: .8,
                            style: "add"
                        },
                        circle: {
                            num: 1,
                            force: [2, 4],
                            delay: [3, 4.5]
                        },
                        roll: {
                            angle: [.005, .008],
                            min: .18
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.9, 1]
                        },
                        crossZone: s
                    }
                }, {
                    rate: {
                        num: 1,
                        time: 3
                    },
                    damping: Qg,
                    init: {
                        b: [{
                            url: dm[0]
                        }],
                        p: um(um({}, u), {}, {
                            width: u.width / 2
                        }),
                        v: {
                            x: [.2, .4],
                            y: [.4, .6]
                        }
                    },
                    act: {
                        gravity: {
                            y: .2
                        },
                        cyclone: {
                            angle: -.44,
                            force: .5
                        },
                        rotate: {
                            start: [0, 360],
                            end: .2,
                            style: "add"
                        },
                        drift: {
                            x: 1,
                            y: .5,
                            delay: .05
                        },
                        roll: {
                            angle: [.006, .008],
                            min: .2
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.6, .85]
                        },
                        crossZone: s
                    }
                }, {
                    rate: {
                        num: 1,
                        time: .3
                    },
                    damping: Qg,
                    init: {
                        b: [{
                            url: dm[0]
                        }],
                        p: u,
                        v: {
                            x: [-.2, 1],
                            y: [.4, .6]
                        }
                    },
                    act: {
                        gravity: {
                            y: .6
                        },
                        rotate: {
                            start: [0, 360],
                            end: .2,
                            style: "add"
                        },
                        drift: {
                            x: 4,
                            y: 0,
                            delay: .01
                        },
                        roll: {
                            angle: [.006, .008],
                            min: .2
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.3, 1]
                        },
                        crossZone: s
                    }
                }].forEach((function(t) {
                    var n = Xg(t);
                    n.emit(),
                    e.addEmitter(n)
                }
                ))
            }
            )),
            c()(O()(r), "toUnload", (function() {
                return r.unload()
            }
            )),
            r.initProton(),
            r
        }
        return n
    }(vg);
    function hm(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function pm(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? hm(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : hm(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function vm(t) {
        var e = gm();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function gm() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var mm = ["./img/particle/weather/peach_1.png", "./img/particle/weather/peach_2.png"]
      , ym = function(t) {
        P()(n, t);
        var e = vm(n);
        function n(t) {
            var r;
            return h()(this, n),
            r = e.call(this, Object.assign(t, {
                keys: mm
            })),
            c()(O()(r), "initProton", (function() {
                var t = O()(r)
                  , e = t.proton
                  , n = t.props
                  , i = n.width
                  , a = void 0 === i ? 960 : i
                  , o = n.height
                  , s = {
                    x: -10,
                    y: -10,
                    width: a + 20,
                    height: (void 0 === o ? 540 : o) + 20
                }
                  , u = pm(pm({}, s), {}, {
                    height: 0
                })
                  , c = [{
                    url: mm[0]
                }, {
                    url: mm[1]
                }];
                [{
                    rate: {
                        num: 1,
                        time: 6
                    },
                    init: {
                        b: c,
                        p: pm(pm({}, u), {}, {
                            width: u.width / 3
                        }),
                        v: {
                            x: [.5, .6],
                            y: [.8, 1.2]
                        }
                    },
                    act: {
                        cyclone: {
                            angle: -.6,
                            force: .2
                        },
                        rotate: {
                            start: [0, 360],
                            end: .8,
                            style: "add"
                        },
                        circle: {
                            num: 1,
                            force: [2, 4],
                            delay: [3, 4.5]
                        },
                        roll: {
                            angle: [.002, .005],
                            min: .18
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.9, 1]
                        },
                        crossZone: s
                    }
                }, {
                    rate: {
                        num: 1,
                        time: 4
                    },
                    damping: Qg,
                    init: {
                        b: c,
                        p: pm(pm({}, u), {}, {
                            width: u.width / 2
                        }),
                        v: {
                            x: [.2, .4],
                            y: [.2, .4]
                        }
                    },
                    act: {
                        gravity: {
                            y: .2
                        },
                        cyclone: {
                            angle: -.44,
                            force: .5
                        },
                        rotate: {
                            start: [0, 360],
                            end: .2,
                            style: "add"
                        },
                        drift: {
                            x: 1,
                            y: .5,
                            delay: .05
                        },
                        roll: {
                            angle: [.002, .005],
                            min: .2
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.6, .85]
                        },
                        crossZone: s
                    }
                }, {
                    rate: {
                        num: 1,
                        time: 1.5
                    },
                    damping: Qg,
                    init: {
                        b: [{
                            url: mm[0]
                        }],
                        p: u,
                        v: {
                            x: [-.2, 1],
                            y: [.3, .6]
                        }
                    },
                    act: {
                        gravity: {
                            y: .8
                        },
                        rotate: {
                            start: [0, 360],
                            end: .2,
                            style: "add"
                        },
                        drift: {
                            x: 4,
                            y: 0,
                            delay: .01
                        },
                        roll: {
                            angle: [.002, .005],
                            min: .2
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.3, 1]
                        },
                        crossZone: s
                    }
                }, {
                    rate: {
                        num: 2,
                        time: .7
                    },
                    damping: Qg,
                    init: {
                        b: [{
                            url: mm[1]
                        }],
                        p: u,
                        v: {
                            x: [-.2, 1],
                            y: [.3, .6]
                        }
                    },
                    act: {
                        gravity: {
                            y: .8
                        },
                        rotate: {
                            start: [0, 360],
                            end: .2,
                            style: "add"
                        },
                        drift: {
                            x: 4,
                            y: 0,
                            delay: .01
                        },
                        roll: {
                            angle: [.002, .005],
                            min: .2
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.3, 1]
                        },
                        crossZone: s
                    }
                }].forEach((function(t) {
                    var n = Xg(t);
                    n.emit(),
                    e.addEmitter(n)
                }
                ))
            }
            )),
            c()(O()(r), "toUnload", (function() {
                return r.unload()
            }
            )),
            r.initProton(),
            r
        }
        return n
    }(vg);
    function bm(t) {
        var e = wm();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function wm() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var xm = ["./img/particle/weather/lightning_t1.png", "./img/particle/weather/lightning_t2.png", "./img/particle/weather/lightning_l1.png", "./img/particle/weather/lightning_l2.png", "./img/particle/weather/lightning_r1.png"]
      , km = function(t) {
        P()(n, t);
        var e = bm(n);
        function n(t) {
            var r;
            return h()(this, n),
            r = e.call(this, Object.assign(t, {
                keys: xm
            })),
            c()(O()(r), "initProton", (function() {
                var t = O()(r)
                  , e = t.proton
                  , n = t.props
                  , i = n.width
                  , a = void 0 === i ? 960 : i
                  , o = n.height
                  , s = void 0 === o ? 540 : o
                  , u = n.vertical;
                _m(e, {
                    width: a,
                    height: s,
                    vertical: u
                })
            }
            )),
            c()(O()(r), "toUnload", (function() {
                return r.unload()
            }
            )),
            r.initProton(),
            r
        }
        return n
    }(vg)
      , _m = function(t, e) {
        for (var n = e.width, r = e.height, i = e.lightDelay, a = void 0 === i ? 0 : i, o = e.twinkleDelay, u = void 0 === o ? 0 : o, c = e.vertical, l = [xm[0], xm[1], xm[2], xm[3], xm[4]], d = c ? 40 : 60, f = c ? [[100, 80, d, 0, 1, .8], [n - 185, 68, d, 0, .6, 1], [145, 220, 0, d, .6, .5], [95, 350, 0, d, .8, 1], [n - 116, 300, 0, d, .6, .8]] : [[250, 100, d, 0, 1, 1], [n - 210, 69, d, 0, .6, 1], [295, 110, 0, d, .6, 1], [100, 150, 0, d, .8, 1], [n - 141, 200, 0, d, .8, 1]], h = {
            rate: {
                num: 1,
                time: .8
            },
            damping: Qg,
            init: {
                b: [{}],
                l: [.2, .6]
            },
            act: {
                alpha: {
                    start: [.3, 1],
                    end: [0, .1]
                },
                scale: {
                    start: 1
                }
            }
        }, p = h, v = p.init, g = p.act, m = 0, y = l.length; m < y; m++) {
            var b = s()(f[m], 6)
              , w = b[0]
              , x = b[1]
              , k = b[2]
              , _ = b[3]
              , O = b[4]
              , S = b[5];
            h.rate.time = O + a,
            v.b[0].url = l[m],
            v.p = {
                x: w,
                y: x,
                width: k,
                height: _
            },
            g.scale.start = S;
            var P = Xg(h);
            P.emit(),
            t.addEmitter(P)
        }
        var C = Xg(h = {
            rate: {
                num: 1,
                time: u + 1.8
            },
            damping: Qg,
            init: {
                rect: {
                    width: n,
                    height: r
                },
                l: [.06, .1],
                p: {
                    x: n / 2,
                    y: r / 2
                }
            },
            act: {
                alpha: {
                    start: [.1, .8]
                },
                color: {
                    start: "#FFFFFF"
                }
            }
        });
        C.emit(),
        t.addEmitter(C)
    };
    function Om(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Sm(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Om(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Om(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function Pm(t) {
        var e = Cm();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Cm() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Em = ["./img/particle/weather/rain.png"]
      , jm = function(t) {
        P()(n, t);
        var e = Pm(n);
        function n(t) {
            var r;
            return h()(this, n),
            r = e.call(this, Object.assign(t, {
                keys: Em
            })),
            c()(O()(r), "initProton", (function() {
                var t = O()(r)
                  , e = t.proton
                  , n = t.props
                  , i = n.width
                  , a = n.height
                  , o = n.type
                  , s = {
                    x: -120,
                    y: -40,
                    width: i + 120,
                    height: 0
                }
                  , u = Sm(Sm({}, s), {}, {
                    height: a + 80
                })
                  , c = {
                    rate: {
                        num: 1,
                        time: .01
                    },
                    damping: Qg,
                    init: {
                        b: [{
                            url: Em[0]
                        }],
                        v: {
                            x: 1,
                            y: [0, 10]
                        },
                        p: s
                    },
                    act: {
                        gravity: {
                            y: 4
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.4, 1]
                        },
                        rotate: {
                            start: -14
                        },
                        crossZone: u
                    }
                }
                  , l = c.init
                  , d = c.act
                  , f = [c];
                "mizzle" === o ? (c.rate = {
                    num: 1,
                    time: .06
                },
                l.v = {
                    x: 1,
                    y: [0, 6]
                },
                d.scale.start = [.4, .5]) : "deluge" === o ? (c.rate = {
                    num: 1,
                    time: .01
                },
                l.v = {
                    x: 0,
                    y: [5, 15]
                },
                d.gravity.y = 15,
                d.scale.start = [1, 1.2],
                delete d.rotate,
                f.push({
                    rate: {
                        num: 4,
                        time: .001
                    },
                    damping: Qg,
                    init: {
                        p: s,
                        r: [.8, 1.4],
                        v: {
                            x: 0,
                            y: [5, 15]
                        }
                    },
                    act: {
                        gravity: {
                            y: 25
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.2, 1]
                        },
                        color: {
                            start: "#ffffff"
                        },
                        track: 10,
                        crossZone: u
                    }
                })) : "thundershower" === o && (c.rate = {
                    num: 1,
                    time: .01
                },
                d.scale.start = [.4, 1],
                d.gravity.y = 10,
                _m(e, {
                    width: i,
                    height: a,
                    ightDelay: 1,
                    twinkleDelay: 2
                })),
                f.forEach((function(t) {
                    var n = Xg(t);
                    n.emit(),
                    e.addEmitter(n)
                }
                ))
            }
            )),
            c()(O()(r), "toUnload", (function() {
                return r.unload()
            }
            )),
            r.initProton(),
            r
        }
        return n
    }(vg);
    function Am(t) {
        var e = Im();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Im() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var Rm = ["./img/particle/weather/snow.png"]
      , Tm = function(t) {
        P()(n, t);
        var e = Am(n);
        function n(t) {
            var r;
            return h()(this, n),
            r = e.call(this, Object.assign(t, {
                keys: Rm
            })),
            c()(O()(r), "initProton", (function() {
                var t = O()(r)
                  , e = t.proton
                  , n = t.props
                  , i = n.width
                  , a = void 0 === i ? 960 : i
                  , o = n.height
                  , s = void 0 === o ? 540 : o
                  , u = n.vertical
                  , c = a + 20
                  , l = {
                    x: -10,
                    y: -10,
                    width: c,
                    height: 0
                }
                  , d = {
                    x: -10,
                    y: -10,
                    width: c,
                    height: s + 20
                };
                [{
                    rate: {
                        num: 1,
                        time: .8
                    },
                    damping: Qg,
                    init: {
                        p: l,
                        b: [{
                            url: Rm[0]
                        }],
                        l: u ? [8, 15] : [4, 10]
                    },
                    act: {
                        alpha: {
                            start: [.4, 1],
                            end: [0, .2]
                        },
                        scale: {
                            start: [.5, .65]
                        },
                        gravity: {
                            y: .6
                        },
                        drift: {
                            x: 6,
                            y: 0,
                            delay: .01
                        },
                        rotate: {
                            start: [0, 360],
                            end: .4,
                            style: "add"
                        },
                        crossZone: d
                    }
                }, {
                    rate: {
                        num: 1,
                        time: .15
                    },
                    damping: Qg,
                    init: {
                        p: l,
                        r: [1, 6],
                        l: u ? [6, 15] : [3, 10],
                        v: {
                            x: 0,
                            y: [0, 1]
                        }
                    },
                    act: {
                        alpha: {
                            start: [.8, 1],
                            end: [0, .2]
                        },
                        color: {
                            start: "#ffffff"
                        },
                        rotate: {
                            start: [0, 360],
                            end: .4,
                            style: "add"
                        },
                        gravity: {
                            y: .4
                        },
                        drift: {
                            x: 5,
                            y: 0,
                            delay: .01
                        },
                        crossZone: d
                    }
                }].forEach((function(t) {
                    var n = Xg(t);
                    n.emit(),
                    e.addEmitter(n)
                }
                ))
            }
            )),
            c()(O()(r), "toUnload", (function() {
                return r.unload()
            }
            )),
            r.initProton(),
            r
        }
        return n
    }(vg);
    function Mm(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Dm(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Mm(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Mm(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function Bm(t) {
        var e = Um();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Um() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var zm = ["./img/particle/weather/leaf_1.png"]
      , Lm = function(t) {
        P()(n, t);
        var e = Bm(n);
        function n(t) {
            var r;
            return h()(this, n),
            r = e.call(this, Object.assign(t, {
                keys: zm
            })),
            c()(O()(r), "initProton", (function(t) {
                var e = O()(r).proton
                  , n = t.width
                  , i = void 0 === n ? 960 : n
                  , a = t.height
                  , o = void 0 === a ? 540 : a
                  , s = t.type
                  , u = Math.max(i, o)
                  , c = {
                    x: -10,
                    y: -10,
                    width: 1.5 * u,
                    height: o + 20
                }
                  , l = Dm(Dm({}, c), {}, {
                    height: 0
                });
                [{
                    rate: {
                        num: [2, 3],
                        time: .07
                    },
                    damping: Qg,
                    init: {
                        p: l,
                        r: .6,
                        v: {
                            x: [-1, -2],
                            y: [2, 4]
                        }
                    },
                    act: {
                        gravity: {
                            y: 6
                        },
                        cyclone: {
                            angle: .6,
                            force: 20
                        },
                        drift: {
                            x: 1,
                            y: .5,
                            delay: .05
                        },
                        color: {
                            start: "#ffffff"
                        },
                        alpha: {
                            start: [.3, .5]
                        },
                        track: 16,
                        crossZone: c
                    }
                }, {
                    rate: {
                        num: [1, 2],
                        time: 1
                    },
                    damping: Qg,
                    init: {
                        p: l,
                        r: .6,
                        v: {
                            x: [-2, -4],
                            y: [2, 4]
                        }
                    },
                    act: {
                        gravity: {
                            y: 6
                        },
                        cyclone: {
                            angle: .6,
                            force: 6
                        },
                        circle: {
                            num: [2, 3],
                            force: [20, 40],
                            delay: [.2, .4],
                            angle: .55 * tm
                        },
                        color: {
                            start: "#ffffff"
                        },
                        alpha: {
                            start: [.3, .5]
                        },
                        track: 32,
                        crossZone: c
                    }
                }].forEach((function(t) {
                    var n = Xg(t);
                    n.emit(),
                    e.addEmitter(n)
                }
                )),
                "blow" === s && [{
                    rate: {
                        num: [1, 2],
                        time: 1.5
                    },
                    damping: Qg,
                    init: {
                        b: [{
                            url: zm[0]
                        }],
                        v: {
                            x: [-4, -3],
                            y: [3, 4]
                        },
                        p: {
                            x: 0,
                            y: -10,
                            width: u + 10,
                            height: 0
                        }
                    },
                    act: {
                        gravity: {
                            y: 1
                        },
                        cyclone: {
                            angle: .6,
                            force: .2
                        },
                        rotate: {
                            start: [0, 360],
                            end: .8,
                            style: "add"
                        },
                        circle: {
                            num: [1, 3],
                            force: [20, 25],
                            delay: [.4, 1],
                            angle: .5 * tm
                        },
                        roll: {
                            angle: [.005, .01],
                            min: .2
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.4, 1]
                        },
                        crossZone: c
                    }
                }, {
                    rate: {
                        num: [1, 2],
                        time: .5
                    },
                    damping: Qg,
                    init: {
                        p: {
                            x: u / 3,
                            y: -10,
                            width: 1.5 * u,
                            height: 0
                        },
                        b: [{
                            url: zm[0]
                        }],
                        v: {
                            x: [-.4, -.2],
                            y: [.2, .4]
                        }
                    },
                    act: {
                        gravity: {
                            y: .2
                        },
                        cyclone: {
                            angle: .44,
                            force: .65
                        },
                        rotate: {
                            start: [0, 360],
                            end: .2,
                            style: "add"
                        },
                        drift: {
                            x: 1,
                            y: .5,
                            delay: .05
                        },
                        roll: {
                            angle: [.005, .01],
                            min: .2
                        },
                        scale: {
                            start: [.6, 1]
                        },
                        alpha: {
                            start: [.4, 1]
                        },
                        crossZone: c
                    }
                }].forEach((function(t) {
                    var n = Xg(t);
                    n.emit(),
                    e.addEmitter(n)
                }
                ))
            }
            )),
            c()(O()(r), "toUnload", (function() {
                return r.unload()
            }
            )),
            r.initProton(t),
            r
        }
        return n
    }(vg);
    function Vm(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Fm(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Vm(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Vm(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Nm = function() {
        function t() {
            var e = this;
            h()(this, t),
            c()(this, "createImage", (function(t, n) {
                var r = new Phaser.Image(e.game,0,0,"")
                  , i = new PIXI.BaseTexture;
                i.width = t,
                i.height = n,
                i._glTextures = [],
                i.resolution = 1,
                i.scaleMode = Phaser.scaleModes.DEFAULT,
                i.hasLoaded = !0;
                var a = new PIXI.Texture(i,new Phaser.Rectangle(0,0,t,n),new Phaser.Rectangle(0,0,t,n));
                return r.setTexture(a),
                r.width = t,
                r.height = n,
                r
            }
            )),
            c()(this, "updateBaseTexture", (function(t, e) {
                return e && (t.texture.baseTexture = new PIXI.BaseTexture(e))
            }
            )),
            c()(this, "close", (function() {
                e.weather && e.weather.toUnload(e.image),
                e.weather = null
            }
            )),
            this.game = Object(vn.c)();
            var n = this.game.world
              , r = n.width
              , i = n.height
              , a = x.a.vertical;
            this.vertical = a || !1,
            this.width = r,
            this.height = i,
            this.weather = null
        }
        return v()(t, null, [{
            key: "getInstance",
            value: function() {
                return t.instance || (t.instance = new t),
                t.instance
            }
        }]),
        v()(t, [{
            key: "show",
            value: function(t) {
                var e = t.type
                  , n = t.layer;
                this.close();
                var r, i = this.width, a = this.height, o = this.vertical, s = this.updateBaseTexture, u = {
                    width: i,
                    height: a,
                    vertical: o,
                    type: e
                };
                switch ("none" !== e && (r = this.createImage(i, a),
                n.addChild(r)),
                e) {
                case "mizzle":
                case "rainy":
                case "deluge":
                case "thundershower":
                    this.weather = new jm(Fm(Fm({}, u), {}, {
                        updateFrame: function(t) {
                            return s(r, t)
                        }
                    }));
                    break;
                case "snowy":
                    this.weather = new Tm(Fm(Fm({}, u), {}, {
                        updateFrame: function(t) {
                            return s(r, t)
                        }
                    }));
                    break;
                case "blow":
                case "windy":
                    this.weather = new Lm(Fm(Fm({}, u), {}, {
                        updateFrame: function(t) {
                            return s(r, t)
                        }
                    }));
                    break;
                case "defoliation":
                    this.weather = new om(Fm(Fm({}, u), {}, {
                        updateFrame: function(t) {
                            return s(r, t)
                        }
                    }));
                    break;
                case "fallingPeach":
                    this.weather = new ym(Fm(Fm({}, u), {}, {
                        updateFrame: function(t) {
                            return s(r, t)
                        }
                    }));
                    break;
                case "fallingFlower":
                    this.weather = new fm(Fm(Fm({}, u), {}, {
                        updateFrame: function(t) {
                            return s(r, t)
                        }
                    }));
                    break;
                case "lightning":
                    this.weather = new km(Fm(Fm({}, u), {}, {
                        updateFrame: function(t) {
                            return s(r, t)
                        }
                    }));
                    break;
                default:
                    this.close()
                }
            }
        }]),
        t
    }();
    function Hm(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Wm(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Hm(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Hm(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    c()(Nm, "instance", null);
    var Gm = ["background", "bottomDialog", "images", "weather", "topDialog", "click2continue", "options", "animations"]
      , qm = function() {
        function t(e) {
            var n = this
              , r = e.game
              , i = e.json
              , a = e.getPlayContext
              , o = e.setBackground
              , s = e.getInheritBackground
              , u = e.showPlotViews
              , l = e.hideBackground
              , d = e.noShowingViews
              , f = e.autoSaveRecord
              , p = e.resetPlayCount
              , v = e.repeatHandle
              , g = e.saveReadRecord
              , m = e.filterOptionsClient
              , y = e.handleShowTools
              , b = e.dialogLayer;
            h()(this, t),
            c()(this, "animateScene", (function(t) {
                var e = t.type
                  , r = t.duration
                  , i = t.delay
                  , a = t.color
                  , o = t.level;
                if (!r)
                    return Promise.resolve();
                var s = n.animations;
                switch (e) {
                case "twinkle":
                    return Ln.twinkle({
                        target: s,
                        duration: r,
                        delay: i,
                        color: a
                    });
                case "shake":
                    return Promise.all(Gm.slice(0, 3).map((function(t) {
                        return Ln.shake({
                            target: n[t],
                            duration: r,
                            delay: i,
                            offSet: o ? 5 * o : 0
                        })
                    }
                    )))
                }
                return Promise.resolve()
            }
            )),
            c()(this, "dispatchContinueClick", (function() {
                var t = n.click2continue.children;
                t[0] && (En.fastPlay || En.autoPlay) && t[0].events.onInputUp.dispatch()
            }
            )),
            c()(this, "autoPlaySpeed", (function() {
                var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                return t ? 0 : vp.getInstance().AutoPlay ? vp.getInstance().Speed : 400
            }
            )),
            c()(this, "eyes", (function(t) {
                ["dialogLayer", "bottomDialog", "weather", "topDialog", "options", "animations"].forEach((function(e) {
                    "dialogLayer" === e ? n.props[e] && (n.props[e].visible = t) : n[e] && (n[e].visible = t)
                }
                ))
            }
            )),
            this.game = r,
            this.json = i,
            this.props = {
                getPlayContext: a,
                setBackground: o,
                getInheritBackground: s,
                showPlotViews: u,
                hideBackground: l,
                noShowingViews: d,
                autoSaveRecord: f,
                resetPlayCount: p,
                repeatHandle: v,
                saveReadRecord: g,
                filterOptionsClient: m,
                handleShowTools: y,
                dialogLayer: b
            };
            var w = wu.group("scene");
            this.container = w,
            Gm.forEach((function(t) {
                return n[t] = w.add(wu.group(t))
            }
            )),
            this.tweens = [],
            this.optionsTimeoutHandles = []
        }
        return v()(t, [{
            key: "renderBackground",
            value: function(t) {
                var e = this.props.getInheritBackground
                  , n = t.animations
                  , r = t.background
                  , i = r.flex
                  , a = r.url
                  , o = r.opacity
                  , s = void 0 === o ? 1 : o
                  , u = n[Vn.F]((function(t) {
                    return "fadein" === t.type || "coverblack" === t.type
                }
                )) ? 0 : s
                  , c = this.game.world
                  , l = c.width
                  , d = c.height
                  , f = null;
                if ("inherit" === a) {
                    var h = e();
                    i = h.flex,
                    a = h.url;
                    var p = h.opacity;
                    s = void 0 === p ? 1 : p,
                    u = n[Vn.F]((function(t) {
                        return "fadein" === t.type || "coverblack" === t.type
                    }
                    )) ? 0 : s
                }
                a ? (f = wu.image(a),
                Ou.flex(i, f, {
                    width: l,
                    height: d
                })) : f = wu.rectMask({
                    rect: {
                        width: l,
                        height: d
                    }
                }),
                f.alpha = u,
                this.background.add(f)
            }
        }, {
            key: "renderWeather",
            value: function() {
                var t = this.plot.weather.value;
                this.weather.removeAll(!0),
                Nm.getInstance().show({
                    type: t,
                    layer: this.weather
                })
            }
        }, {
            key: "renderDialog",
            value: function() {
                var t = this.plot
                  , e = t.speaking
                  , n = t.dialogtitle
                  , r = t.avatar
                  , i = t.dialogid
                  , a = void 0 === i ? 0 : i
                  , o = this.animateScene
                  , s = this.props
                  , u = (s = void 0 === s ? {} : s).dialogLayer
                  , c = this.json
                  , l = e.coverage
                  , d = e.x
                  , f = e.y
                  , h = e.opacity
                  , p = void 0 === h ? 1 : h
                  , v = e.animations
                  , g = void 0 === v ? [] : v;
                if (this.dialogView = Ov({
                    json: c,
                    settings: {
                        speaking: e,
                        dialogtitle: n,
                        avatar: r,
                        dialogid: a,
                        animateScene: o
                    }
                }),
                g.length) {
                    p = g[Vn.F]((function(t) {
                        return "fadein" === t.type
                    }
                    )) ? 0 : 1;
                    var m = g.find((function(t) {
                        return "moveFrom" === t.type
                    }
                    ));
                    d = m ? m.x : d,
                    f = m ? m.y : f
                }
                var y = this.dialogView.container;
                y.x = iu.roundToInt(d),
                y.y = iu.roundToInt(f),
                y.alpha = p;
                var b = this.topDialog;
                "overView" == l ? b = u : "bottom" === l && (b = this.bottomDialog),
                b.add(y)
            }
        }, {
            key: "renderImages",
            value: function() {
                var t = this
                  , e = this.plot
                  , n = e.characters
                  , r = e.props
                  , i = e.animations;
                return function e(n, r) {
                    return r >= n.length ? Promise.resolve() : function(e) {
                        var n = e.width
                          , r = e.height
                          , i = e.rotate
                          , a = void 0 === i ? 0 : i
                          , o = e.mirrorH
                          , s = e.mirrorV
                          , u = e.animations
                          , c = e.filter
                          , l = e.x
                          , d = e.y
                          , f = e.opacity
                          , h = void 0 === f ? 1 : f
                          , p = e.url;
                        h = u[Vn.F]((function(t) {
                            return "fadein" === t.type && "animateIn" === t.trigger
                        }
                        )) ? 0 : h;
                        var v = u.find((function(t) {
                            return "moveFrom" === t.type && "animateIn" === t.trigger
                        }
                        ));
                        v && (l = isNaN(parseFloat(v.x)) ? l : parseFloat(v.x),
                        d = isNaN(parseFloat(v.y)) ? d : parseFloat(v.y));
                        var m = Object(nn.o)(p) && p.type && "spine" !== p.type
                          , y = t.props.getPlayContext;
                        m && ($s.playContext = y());
                        var b = Promise.resolve();
                        return m && (b = Hc(p, y()).then((function(t) {
                            p = mr()(p, {
                                value: {
                                    $set: t
                                }
                            })
                        }
                        ))),
                        b.then((function() {
                            var i = wu.image(p, {
                                x: l,
                                y: d
                            });
                            i.info = e;
                            var u = 1
                              , f = i.width
                              , v = i.height;
                            0 === f && 0 === v || (u = m ? Math.min(n / 100, r / 100) : Math.min(n / f, r / v),
                            i.pivot.x = f / 2,
                            i.pivot.y = v / 2,
                            i.scale.setTo(u, u),
                            i.sourceScale = u,
                            i.x += i.width / 2,
                            i.y += i.height / 2,
                            i.alpha = h,
                            i.angle = 180 === parseInt(a) ? 179.9 : -180 === parseInt(a) ? -179.9 : a,
                            o && (i.angle = -i.angle,
                            i.scale.x = -i.scale.x),
                            s && (i.angle = -i.angle,
                            i.scale.y = -i.scale.y));
                            var y = i.redo;
                            i.redo = function() {
                                i.scale.setTo(1, 1);
                                var t = i.texture.frame
                                  , e = t.width
                                  , a = t.height
                                  , c = f * u
                                  , l = v * u;
                                u = m ? u : Math.min(n / e, r / a),
                                i.scale.setTo(u, u),
                                i.sourceScale = u,
                                o && (i.scale.x = -i.scale.x),
                                s && (i.scale.y = -i.scale.y);
                                var d = i.rotation
                                  , h = i.pivot;
                                if (h.x = c / u / 2,
                                h.y = l / u / 2,
                                d % Phaser.Math.PI2) {
                                    var p = Math.sin(d)
                                      , g = Math.cos(d)
                                      , b = g * i.scale.x
                                      , w = p * i.scale.x
                                      , x = -p * i.scale.y
                                      , k = g * i.scale.y
                                      , _ = function(t, e) {
                                        return {
                                            x: t.x - (e.x * b + e.y * x),
                                            y: t.y - (e.x * w + e.y * k)
                                        }
                                    }({
                                        x: (e * u - c) / 2,
                                        y: (a * u - l) / 2
                                    }, {
                                        x: e / 2,
                                        y: a / 2
                                    })
                                      , O = _.x
                                      , S = _.y;
                                    h.x = -(x * S - k * O) / (x * w - k * b),
                                    h.y = -(w * O - b * S) / (x * w - k * b)
                                }
                                i.updateTransform(),
                                y && y(),
                                y = null,
                                i.redo = null
                            }
                            ;
                            var b = i.destroy;
                            if (i.destroy = function() {
                                i.filterWorker && i.filterWorker({
                                    handle: "clear"
                                }),
                                i.filterWorker = null,
                                i.imageData = null;
                                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                                    e[n] = arguments[n];
                                b[Vn.a](i, e)
                            }
                            ,
                            c && c.type) {
                                var w = t.game.world
                                  , x = w.width
                                  , _ = w.height
                                  , O = Math.min(f / x, v / _) || 1;
                                i.handleFilters = [];
                                var S = t.game.cache.getImage(i.key, !0);
                                i.imageData || (i.imageData = Object(k.C)(S.data));
                                var P = !0;
                                i.visible = !1;
                                var C = c.type
                                  , E = c.value;
                                i.handleFilters.unshift({
                                    type: C,
                                    value: E,
                                    duration: 0
                                }),
                                en.a.runTest && Object(g.d)() && ml({
                                    type: gl,
                                    text: "同时执行的滤镜已达到上限，为了作品不闪退请及时调整作品！"
                                }),
                                sn.a.isSupportWebGl ? i.filterWorker = ug({
                                    imageData: i.imageData,
                                    filter: C,
                                    start: E,
                                    end: E,
                                    duration: 0,
                                    key: i.key,
                                    scale: O,
                                    updateFrame: function(t) {
                                        i.texture.baseTexture = new PIXI.BaseTexture(t),
                                        P && (i.visible = !0,
                                        P = !1)
                                    },
                                    isPaused: function() {
                                        return t.paused
                                    }
                                }) : i.filterWorker = Object(g.e)({
                                    imageData: i.imageData,
                                    filter: C,
                                    start: E,
                                    end: E,
                                    duration: 0,
                                    key: i.key,
                                    scale: O,
                                    updateFrame: function(t) {
                                        if (t) {
                                            if (!i.parent)
                                                return;
                                            var e = i.texture.baseTexture;
                                            i.texture.baseTexture = new PIXI.BaseTexture(Object(k.B)(t, e))
                                        } else
                                            ml({
                                                type: gl,
                                                text: "当前浏览器不支持滤镜功能！"
                                            });
                                        P && (i.visible = !0,
                                        P = !1)
                                    },
                                    isPaused: function() {
                                        return t.paused
                                    }
                                })
                            }
                            return i
                        }
                        ))
                    }(n[r]).then((function(i) {
                        return t.images.add(i),
                        e(n, r + 1)
                    }
                    ))
                }([].concat(a()(n), a()(r)), 0).then((function() {
                    t.images.visible = !i[Vn.F]((function(t) {
                        return "in" === t.trigger && t.duration > 0
                    }
                    ))
                }
                ))
            }
        }, {
            key: "renderOptions",
            value: function(t) {
                var e = this;
                this.options.removeAll(!0);
                var n = this.props.getPlayContext
                  , r = this.game.time.events
                  , i = this.plot.options
                  , a = this.json.template.json.option
                  , o = a.rect
                  , u = a.normal
                  , c = a.active
                  , l = []
                  , d = []
                  , f = n()
                  , h = {
                    type: null,
                    control: null
                };
                (function n(i, a) {
                    if (a >= i.length)
                        return Promise.resolve();
                    var p = i[a]
                      , v = p.font
                      , g = p.timer
                      , m = p.background
                      , y = p.hideTimer
                      , b = p.disable
                      , w = void 0 !== b && b
                      , x = p.name
                      , k = p.condition
                      , _ = p.sound
                      , O = p.uuid
                      , S = p.hidden
                      , P = void 0 !== S && S
                      , C = p.default;
                    if (void 0 !== C && C && P)
                        return h = {
                            type: "option",
                            control: {
                                index: a
                            }
                        },
                        n(i, a + 1);
                    (!_ || _ && !_.url) && (_ = En.optionSound);
                    var E = Gc(x, f, !0)
                      , j = g ? Hc(g.time, f) : Promise.resolve()
                      , A = k ? Hc(k[gn.m], f) : Promise.resolve();
                    return Promise.all([E, j, A]).then((function(f) {
                        var h = s()(f, 3)
                          , b = h[0]
                          , x = h[1]
                          , S = h[2];
                        if (k) {
                            var P = k.disable
                              , C = k.enable;
                            if (w = S ? "disable" === C.type : "disable" === P.type,
                            S ? "hidden" === C.type : "hidden" === P.type)
                                return d.push(Promise.resolve(!1)),
                                n(i, a + 1)
                        }
                        var E = o.x
                          , j = o.y
                          , A = o.width
                          , I = o.height
                          , R = u.background.url
                          , T = u.background.url
                          , M = c.background.url;
                        E = null != p.x ? p.x : E,
                        j = null != p.y ? p.y : j,
                        E = iu.roundToInt(E),
                        j = iu.roundToInt(j),
                        m && (A = null != p.width ? p.width : A,
                        I = null != p.height ? p.height : I,
                        M = m.active.url,
                        R = m.normal.url,
                        T = m.disable ? m.disable.url : R);
                        var D = {
                            fontSize: v.normal.font_size,
                            fontWeight: v.normal.bold,
                            color: v.normal.color
                        }
                          , B = {
                            fontSize: v.disable.font_size,
                            fontWeight: v.disable.bold,
                            color: v.disable.color
                        }
                          , U = wu.button({
                            x: E,
                            y: j,
                            width: A,
                            height: I
                        }, {
                            normalUrl: R,
                            activeUrl: M,
                            disableUrl: T,
                            audio: _,
                            onClick: function(e, n) {
                                n.pointerMode === Phaser.PointerMode.CURSOR && 0 !== n.button || (l.forEach((function(t) {
                                    return t()
                                }
                                )),
                                t({
                                    type: "option",
                                    control: {
                                        index: a
                                    }
                                }),
                                Za([O]))
                            },
                            textOptions: {
                                disable: B,
                                normal: D,
                                active: D
                            }
                        });
                        return e.options.add(U),
                        U.showText(!v.normal.hidden),
                        w && (U.disable(),
                        U.showText(!v.disable.hidden)),
                        U.setText(b),
                        g ? (!y && U.setText("".concat(b, "(").concat(x.toFixed(1), ")")),
                        d.push(new Promise((function(t) {
                            var n = r.loop(100, (function() {
                                e.paused || (x -= .1,
                                y || U && U.setText && U.setText("".concat(b, "(").concat(x.toFixed(1), ")")),
                                x <= 0 && (r.remove(n),
                                "disable" === g.type ? (U && U.showText && U.showText(!v.disable.hidden),
                                U && U.disable && U.disable(),
                                t(!1)) : (U && U.showText && U.showText(!v.normal.hidden),
                                U && U.enable && U.enable(),
                                t(!0)),
                                U && U.setText && U.setText(b)))
                            }
                            ));
                            e.optionsTimeoutHandles.push((function() {
                                r.remove(n)
                            }
                            )),
                            l.push((function() {
                                r.remove(n),
                                t(!0)
                            }
                            ))
                        }
                        )))) : w && d.push(Promise.resolve(!1)),
                        n(i, a + 1)
                    }
                    ))
                }
                )(i, 0).then((function() {
                    return Promise.all(d).then((function(e) {
                        var n = h.type ? i.length - 1 : i.length;
                        e.length !== n || e[Vn.F]((function(t) {
                            return t
                        }
                        )) || t(h)
                    }
                    ))
                }
                ))
            }
        }, {
            key: "doInTL",
            value: function(t) {
                var e = this;
                return t !== this.timeline ? Promise.reject("timeline changed") : this.paused ? new Promise((function(n, r) {
                    !function i() {
                        e.paused ? e.setTimeoutId = setTimeout(i, 50) : t !== e.timeline ? r("timeline changed") : n()
                    }()
                }
                )) : Promise.resolve()
            }
        }, {
            key: "pause",
            value: function() {
                this.paused = !0,
                this.dialogView && this.dialogView.pause()
            }
        }, {
            key: "proceed",
            value: function() {
                this.paused = !1,
                this.dialogView && !this.dialogView.changeline && this.dialogView.proceed()
            }
        }, {
            key: "playMusic",
            value: function() {
                var t = this.plot.music
                  , e = t.url
                  , n = t.volume;
                e ? "inherit" === e ? nr.setMusicVolume(n) : nr.playMusic({
                    url: e,
                    volume: n
                }) : !nr.music.view && nr.stopMusic()
            }
        }, {
            key: "playSounds",
            value: function() {
                var t = this.plot.plot_sound
                  , e = function(t, e) {
                    var n = e || {}
                      , r = n.url
                      , i = n.volume
                      , a = n.time
                      , o = void 0 === a ? 1 : a;
                    r ? nr.playSound({
                        channel: t,
                        url: r,
                        volume: i,
                        loop: 1 !== o
                    }) : !nr.sounds[t].view && nr.stopSound(t)
                };
                Object(nn.b)(t) ? t.forEach((function(t, n) {
                    return e(n, t)
                }
                )) : e(0, t)
            }
        }, {
            key: "fadeinMusic",
            value: function(t) {
                var e = this
                  , n = this.plot.music.animation
                  , r = void 0 === n ? {} : n;
                if (!Object.keys(r).length)
                    return Promise.resolve();
                if (!r || r.type && !r.type[Vn.m]("fadein"))
                    return Promise.resolve();
                var i = En.fastPlay || this.restore ? 10 : 1e3;
                return nr.tweenFromWithMusic({
                    volume: 0,
                    duration: i
                }).then((function() {
                    return e.doInTL(t)
                }
                ))
            }
        }, {
            key: "fadeOutMusic",
            value: function(t) {
                var e = this
                  , n = this.plot.music.animation
                  , r = void 0 === n ? {} : n;
                if (!Object.keys(r).length)
                    return Promise.resolve();
                if (!r || !r.type[Vn.m]("fadeout"))
                    return Promise.resolve();
                var i = En.fastPlay ? 10 : 1e3;
                return nr.tweenToWithMusic({
                    volume: 0,
                    duration: i
                }).then((function() {
                    return e.doInTL(t)
                }
                ))
            }
        }, {
            key: "transform",
            value: function() {
                var t = this
                  , e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "in"
                  , n = arguments.length > 1 ? arguments[1] : void 0
                  , r = this.plot
                  , i = r.animations
                  , a = r.background.opacity
                  , o = void 0 === a ? 1 : a;
                return i = i.filter((function(t) {
                    return t.trigger === e
                }
                )).map((function(e) {
                    var n = e.type
                      , r = e.duration
                      , i = e.delay
                      , a = e.color
                      , s = e.level;
                    if (En.fastPlay) {
                        var u = En.getFastPlayAnimationInfo(r);
                        i = u.delay,
                        r = u.duration
                    }
                    switch (t.restore && (i = r = 0),
                    n) {
                    case "fadein":
                        return Ln.to({
                            target: t.background.children[0],
                            properties: {
                                alpha: o
                            },
                            duration: r,
                            delay: i
                        });
                    case "twinkle":
                    case "shake":
                        return t.animateScene({
                            type: n,
                            duration: r,
                            delay: i,
                            color: a,
                            level: s
                        });
                    case "curtain":
                        return Ln.curtain({
                            target: t.animations,
                            duration: r,
                            delay: i
                        });
                    case "interlacing":
                        return Ln.interlacing({
                            target: t.animations,
                            duration: r,
                            delay: i
                        });
                    case "coverblack":
                        return Promise.all([Ln.coverblack({
                            target: t.animations,
                            duration: r,
                            delay: i
                        }), Ln.to({
                            target: t.background.children[0],
                            properties: {
                                alpha: o
                            },
                            duration: 1,
                            delay: i + r / 2
                        })]);
                    case "spread":
                        var c = t.game.world
                          , l = c.width
                          , d = c.height
                          , f = wu.rectMask({
                            rect: {
                                width: l,
                                height: d
                            }
                        });
                        return t.container.add(f, !0, 0),
                        Promise.all(Gm.slice(0, 7).map((function(e) {
                            return Ln.spread({
                                target: t[e],
                                duration: r,
                                delay: i
                            })
                        }
                        ))).then((function() {
                            return f.destroy()
                        }
                        ))
                    }
                }
                )),
                Promise.all(i).then((function() {
                    return t.doInTL(n)
                }
                ))
            }
        }, {
            key: "animateImages",
            value: function() {
                var t = this
                  , e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "animateIn"
                  , n = arguments.length > 1 ? arguments[1] : void 0
                  , r = arguments.length > 2 ? arguments[2] : void 0;
                this.images.visible = !0;
                var i = this.images.children
                  , a = [];
                return i.forEach((function(n) {
                    var r = n.info
                      , i = n.sourceScale
                      , o = n.texture.frame
                      , s = o.width
                      , u = o.height
                      , c = r.opacity
                      , l = void 0 === c ? 1 : c
                      , d = r.animations
                      , f = void 0 === d ? [] : d
                      , h = r.x
                      , p = r.y;
                    f.filter((function(t) {
                        return t.trigger === e
                    }
                    )).forEach((function(e) {
                        var r = e.type
                          , o = e.duration
                          , c = void 0 === o ? 0 : o
                          , d = e.delay
                          , f = void 0 === d ? 0 : d
                          , v = e.x
                          , g = void 0 === v ? 0 : v
                          , m = e.y
                          , y = void 0 === m ? 0 : m;
                        if (En.fastPlay) {
                            var b = En.getFastPlayAnimationInfo(c);
                            f = b.delay,
                            c = b.duration
                        }
                        switch (t.restore && (f = c = 0),
                        r) {
                        case "fadein":
                            a.push(Ln.to({
                                target: n,
                                properties: {
                                    alpha: l
                                },
                                duration: c,
                                delay: f
                            }));
                            break;
                        case "fadeout":
                            a.push(Ln.to({
                                target: n,
                                properties: {
                                    alpha: 0
                                },
                                duration: c,
                                delay: f
                            }));
                            break;
                        case "moveFrom":
                            g = h + i * s / 2,
                            y = p + i * u / 2,
                            a.push(Ln.to({
                                target: n,
                                properties: {
                                    x: g,
                                    y: y
                                },
                                duration: c,
                                delay: f
                            }));
                            break;
                        case "moveTo":
                            g += i * s / 2,
                            y += i * u / 2,
                            a.push(Ln.to({
                                target: n,
                                properties: {
                                    x: g,
                                    y: y
                                },
                                duration: c,
                                delay: f
                            }))
                        }
                    }
                    ))
                }
                )),
                Promise.all(a).then((function() {
                    return t.doInTL(n)
                }
                )).then((function() {
                    return r
                }
                ))
            }
        }, {
            key: "animateDialog",
            value: function() {
                var t = this
                  , e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "animateIn"
                  , n = arguments.length > 1 ? arguments[1] : void 0
                  , r = arguments.length > 2 ? arguments[2] : void 0
                  , i = this.plot.speaking
                  , a = i.animations
                  , o = void 0 === a ? [] : a
                  , s = i.x
                  , u = i.y
                  , c = this.dialogView.container
                  , l = o.filter((function(t) {
                    return t.trigger === e
                }
                )).map((function(e) {
                    var n = e.type
                      , r = e.duration
                      , i = e.delay
                      , a = e.x
                      , o = e.y;
                    if (En.fastPlay) {
                        var l = En.getFastPlayAnimationInfo(r);
                        i = l.delay,
                        r = l.duration
                    }
                    switch (t.restore && (i = r = 0),
                    n) {
                    case "fadein":
                        return Ln.to({
                            target: c,
                            properties: {
                                alpha: 1
                            },
                            duration: r,
                            delay: i
                        });
                    case "fadeout":
                        return Ln.to({
                            target: c,
                            properties: {
                                alpha: 0
                            },
                            duration: r,
                            delay: i
                        });
                    case "moveFrom":
                        return Ln.to({
                            target: c,
                            properties: {
                                x: s,
                                y: u
                            },
                            duration: r,
                            delay: i
                        });
                    case "moveTo":
                        return Ln.to({
                            target: c,
                            properties: {
                                x: a,
                                y: o
                            },
                            duration: r,
                            delay: i
                        })
                    }
                }
                ));
                return Promise.all(l).then((function() {
                    return t.doInTL(n)
                }
                )).then((function() {
                    return r
                }
                ))
            }
        }, {
            key: "animateSpeak",
            value: function(t) {
                var e = this;
                if ((0,
                this.props.setBackground)(this.plot.background),
                this.restore)
                    return this.dialogView.animate(!0);
                var n = this.dialogView.animate()
                  , r = new Promise((function(n) {
                    e.handleContinue(t).then((function() {
                        return n()
                    }
                    )),
                    e.setControlPlay(n)
                }
                ));
                return function i() {
                    return Promise.race([n, r]).then((function(a) {
                        return null != a || !e.dialogView.isClickChange || En.autoPlay || e.plot.autotext ? Promise.resolve() : (e.handleClearContinue(),
                        r = new Promise((function(n) {
                            e.handleContinue(t).then((function() {
                                return n()
                            }
                            )),
                            e.setControlPlay(n)
                        }
                        )),
                        e.dialogView.showpageing || (e.dialogView.isShowPage() ? n.showpage && n.showpage() : e.dialogView.proceed()),
                        i())
                    }
                    )).then((function(t) {
                        return n.cancel && n.cancel(),
                        t
                    }
                    )).then((function(n) {
                        return e.doInTL(t).then((function() {
                            return e.handleClearContinue()
                        }
                        )).then((function() {
                            return n
                        }
                        ))
                    }
                    ))
                }()
            }
        }, {
            key: "waitTime",
            value: function(t, e) {
                var n = this
                  , r = this.plot.wait.value;
                return En.fastPlay && (r = 20),
                Object(k.x)(r).then((function() {
                    return n.doInTL(t)
                }
                )).then((function() {
                    return e
                }
                ))
            }
        }, {
            key: "setControlPlay",
            value: function(t) {
                var e = this;
                if (!t)
                    return new Promise((function(t) {
                        return e.controlPlay = function(e) {
                            return t(e)
                        }
                    }
                    ));
                this.controlPlay = function(e) {
                    return t(e)
                }
            }
        }, {
            key: "handleContinue",
            value: function(t) {
                var e = this
                  , n = this.props
                  , r = n.noShowingViews
                  , i = n.resetPlayCount
                  , a = n.repeatHandle
                  , o = this.game
                  , s = o.input
                  , u = s.keyboard
                  , c = s.onHold
                  , l = o.device.desktop
                  , d = new Promise((function(t) {
                    return !l && r() && c.addOnce((function() {
                        return t()
                    }
                    ), e)
                }
                ))
                  , f = new Promise((function(t) {
                    return r() && u.addKey(Phaser.Keyboard.Z).onDown.add((function() {
                        return t()
                    }
                    ), e)
                }
                ))
                  , h = new Promise((function(t) {
                    return r() && u.addKey(Phaser.Keyboard.SPACEBAR).onDown.add((function() {
                        return t()
                    }
                    ), e)
                }
                ))
                  , p = new Promise((function(t) {
                    e.click2continue.removeAll(!0);
                    var n = e.game.world
                      , r = n.width
                      , a = n.height
                      , o = wu.rectMask({
                        rect: {
                            width: r,
                            height: a
                        },
                        alpha: 0
                    });
                    o.inputEnabled = !0;
                    var s = {};
                    o.events.onInputDown.add((function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        return s = {
                            x: e.x,
                            y: e.y
                        }
                    }
                    )),
                    o.events.onInputUp.add((function(n) {
                        var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        if (!r || r.pointerMode !== Phaser.PointerMode.CURSOR || 0 === r.button) {
                            var a = Math.abs(s.x - r.x)
                              , o = Math.abs(s.y - r.y);
                            (isNaN(a) || isNaN(o) || Math.max(a, o) > 60) && On.isAppClient() || (i(),
                            e.click2continue.removeAll(!0),
                            t())
                        }
                    }
                    )),
                    e.click2continue.add(o)
                }
                ));
                return Promise.race([p, f, h, d]).then((function() {
                    return vp.getInstance().EyesHandleing ? (e.handleClearContinue(),
                    e.handleContinue(t)) : (a && a(),
                    e.doInTL(t))
                }
                )).then((function() {
                    return e.handleClearContinue()
                }
                ))
            }
        }, {
            key: "handleClearContinue",
            value: function() {
                var t = this.game.input
                  , e = t.keyboard
                  , n = t.onHold;
                this.click2continue.removeAll(!0),
                n.removeAll(this),
                e.addKey(Phaser.Keyboard.Z).onDown.removeAll(this),
                e.addKey(Phaser.Keyboard.SPACEBAR).onDown.removeAll(this)
            }
        }, {
            key: "renderVideo",
            value: function(t) {
                if (!t)
                    return Promise.resolve();
                var e = this.game.world
                  , n = e.width
                  , r = e.height
                  , i = t.url
                  , a = t.skip
                  , o = t.volume;
                if (!i || "" === i)
                    return Promise.resolve();
                var s, u = ps.get(i);
                return (s = wu.rectMask({
                    rect: {
                        width: n,
                        height: r
                    },
                    alpha: 0
                })).name = "videoMask",
                s.inputEnabled = !0,
                e.addChild(s),
                u.show(),
                new Promise((function(t) {
                    u.onComplete.addOnce((function() {
                        return function() {
                            var t = e.getByName("videoMask");
                            t && e.remove(t, !0)
                        }(),
                        t()
                    }
                    )),
                    u.start({
                        url: i,
                        skip: a,
                        volume: o,
                        width: n,
                        height: r
                    })
                }
                )).catch((function() {
                    return Promise.resolve()
                }
                ))
            }
        }, {
            key: "play",
            value: function(t) {
                var e = this;
                return Promise.race([this.setControlPlay(), function() {
                    var n = e.props
                      , r = n.getPlayContext
                      , i = n.showPlotViews
                      , o = n.noShowingViews
                      , u = n.autoSaveRecord
                      , c = n.saveReadRecord
                      , l = n.filterOptionsClient
                      , d = n.handleShowTools
                      , f = t.plots
                      , h = t.plotIndex
                      , p = t.load
                      , v = t.restore;
                    e.restore = v;
                    var g = r()
                      , m = e.plot = f[h]
                      , y = m.condition_options || []
                      , b = function() {
                        var t = e.json.default_settings.autoSaveOrLoad;
                        if (m.disableSaveOrLoad && Object.keys(m.disableSaveOrLoad).length > 0) {
                            if (Object.keys(m.disableSaveOrLoad).filter((function(t) {
                                return m.disableSaveOrLoad[t]
                            }
                            )).length > 0)
                                return !0
                        } else if (!Object(nn.b)(t))
                            return t;
                        return !1
                    }
                      , w = [];
                    return ["faster", "review", "visible", "sMute", "mMute", "saveRec", "loadRec"].forEach((function(t) {
                        m[t] && w.push({
                            ref: t,
                            x: m[t][0] || 0,
                            y: m[t][1] || 0,
                            scale: m[t][2] || 1
                        })
                    }
                    )),
                    w.length && d(w),
                    Promise.all([Gc(a()(m.speaking.data), g, !0), Gc(m.dialogtitle.data, g, !0)]).then((function(t) {
                        var n = s()(t, 2)
                          , a = n[0]
                          , d = n[1];
                        m = e.plot = mr()(m, {
                            speaking: {
                                data: {
                                    $set: a
                                }
                            },
                            dialogtitle: {
                                data: {
                                    $set: d
                                }
                            }
                        }),
                        e.renderWeather(),
                        e.renderDialog();
                        var f = {};
                        e.timeline = f;
                        var h = function t(e, n) {
                            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1;
                            return n >= e.length || ~i ? Promise.resolve(i) : Hc(e[n][gn.m], r()).then((function(r) {
                                return t(e, n + 1, r ? n : -1)
                            }
                            ))
                        };
                        return e.renderImages().then((function() {
                            return (p ? Promise.resolve() : e.renderVideo(m.video)).then((function() {
                                return p || (e.playMusic(),
                                e.playSounds()),
                                Promise.resolve()
                            }
                            )).then((function() {
                                return e.transform("in", f)
                            }
                            )).then((function() {
                                return Promise.all([i(), e.transform("animateIn", f), e.animateImages("animateIn", f), e.animateDialog("animateIn", f), e.fadeinMusic(f)])
                            }
                            )).then((function() {
                                return Promise.all([e.transform("animateInEnd", f), e.animateDialog("animateInEnd", f)])
                            }
                            )).then((function() {
                                return e.animateSpeak(f)
                            }
                            )).then((function(t) {
                                var e = m.autoSaveOrLoad || {}
                                  , n = e.type
                                  , r = e.index;
                                return 0 !== n || p || v ? t : u(void 0 === r ? 0 : r).then((function() {
                                    return t
                                }
                                ))
                            }
                            )).then((function(t) {
                                var n = !!t;
                                if (t && "nextPlot" !== t.type)
                                    return Promise.resolve(t);
                                t = {};
                                var i = En.fastPlay && o()
                                  , a = (m.autotext || En.autoPlay) && o()
                                  , s = function(t) {
                                    var r = n || i || a ? Promise.resolve() : e.handleContinue(f);
                                    return new Promise((function(n) {
                                        e.setControlPlay((function(e) {
                                            return n("nextPlot" === e.type ? t : e)
                                        }
                                        ));
                                        var o = function() {
                                            return r.then((function() {
                                                return n(t)
                                            }
                                            ))
                                        };
                                        i ? o() : a ? Object(k.x)(e.autoPlaySpeed(m.speaking.immediate)).then((function() {
                                            return e.doInTL(f)
                                        }
                                        )).then((function() {
                                            return o()
                                        }
                                        )) : o()
                                    }
                                    ))
                                };
                                if (m.insert)
                                    t = {
                                        type: "insertPlot",
                                        control: {
                                            uuid: m.insert,
                                            from: "scene"
                                        }
                                    };
                                else if (m.back)
                                    t = {
                                        type: "back"
                                    };
                                else if (m.jump)
                                    t = {
                                        type: "jump",
                                        control: {
                                            uuid: m.jump
                                        }
                                    };
                                else if (!n)
                                    return !b() && c(),
                                    function n() {
                                        return l(m.condition_options || []).then((function(n) {
                                            return y = n,
                                            h(n || [], 0).then((function(o) {
                                                if (!(o < 0) && n[o]) {
                                                    var u = i || a ? Promise.resolve() : e.handleContinue(f);
                                                    return new Promise((function(t) {
                                                        var n = function() {
                                                            u.cancel && u.cancel(),
                                                            t({
                                                                type: "condition_option",
                                                                control: {
                                                                    index: o
                                                                }
                                                            })
                                                        };
                                                        e.setControlPlay(t);
                                                        var r = function() {
                                                            return u.then(n)
                                                        };
                                                        i ? r() : a ? Object(k.z)(m.speaking.immediate ? 400 : 0).then((function() {
                                                            return e.doInTL(f)
                                                        }
                                                        )).then((function() {
                                                            return r()
                                                        }
                                                        )) : r()
                                                    }
                                                    ))
                                                }
                                                return m.options.length > 0 ? (!b() && c(),
                                                function t(e, n) {
                                                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                                                    if (n >= e.length && !i)
                                                        return Promise.resolve();
                                                    if (e[n] && !e[n].condition || i)
                                                        return Promise.resolve(e[i ? n - 1 : n]);
                                                    var a = e[n].condition
                                                      , o = a.disable
                                                      , s = a.enable;
                                                    return Hc(a[gn.m], r()).then((function(r) {
                                                        return t(e, n + 1, !(r ? "hidden" === s.type : "hidden" === o.type))
                                                    }
                                                    ))
                                                }(m.options, 0).then((function(n) {
                                                    return n ? (e.game.input.onUp.dispatch(),
                                                    new Promise((function(t) {
                                                        e.renderOptions(t),
                                                        e.setControlPlay(t)
                                                    }
                                                    ))) : s(t)
                                                }
                                                ))) : s(t)
                                            }
                                            ))
                                        }
                                        )).catch((function() {
                                            return e.doInTL(f).then((function() {
                                                return e.handleContinue(f)
                                            }
                                            )).then((function() {
                                                return n()
                                            }
                                            ))
                                        }
                                        ))
                                    }();
                                return !b() && c(),
                                s(t)
                            }
                            )).then((function() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                return e.options.removeAll(!0),
                                e.handleClearContinue(),
                                h(y || [], 0).then((function(e) {
                                    var n = e < 0 ? null : y[e];
                                    return t.type && "nextPlot" !== t.type && "condition_option" !== t.type || m.back || m.jump || m.insert ? Wm({}, t) : n ? {
                                        type: "condition_option",
                                        control: {
                                            index: e
                                        }
                                    } : {}
                                }
                                ))
                            }
                            )).then((function(t) {
                                return e.waitTime(f, t)
                            }
                            )).then((function(t) {
                                return Promise.all([e.animateImages("animateOut", f, t), e.animateDialog("animateOut", f, t), e.fadeOutMusic(f)])
                            }
                            )).then((function(t) {
                                return t[0]
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }()])
            }
        }, {
            key: "clear",
            value: function() {
                var t = this;
                for (this.proceed(),
                this.dialogView && this.dialogView.clear(),
                this.handleClearContinue(); this.optionsTimeoutHandles.length > 0; )
                    this.optionsTimeoutHandles.pop()();
                Gm.forEach((function(e) {
                    var n = t[e];
                    n.removeAll(!0),
                    n.y = n.x = 0
                }
                ))
            }
        }]),
        t
    }();
    function Ym(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Zm(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Ym(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Ym(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    n(168);
    var Jm = {
        eventNext: null,
        commandNext: null
    }
      , Km = function(t) {
        var e = Jm.commandNext
          , n = Jm.eventNext;
        !t && n && n(),
        t && e && e(t.commands, t.type, t.inNextContext, t.playStack)
    }
      , $m = function(t) {
        return String(t).length >= 36
    }
      , Xm = function(t, e) {
        return Object.assign(Jm, e ? {
            commandNext: e
        } : {}, t ? {
            eventNext: t
        } : {})
    }
      , Qm = function(t) {
        var e = t.target
          , n = t.args
          , r = t.getPlayContext
          , i = t.dispatch
          , a = t.callback
          , o = {
            getPlayContext: r,
            dispatch: i,
            callback: a,
            commands: t.commands,
            inNextContext: t.inNextContext,
            playStack: t.playStack
        }
          , s = {
            drag: {
                open: !1,
                props: null
            },
            swipein: {
                open: !1,
                props: null
            },
            swipeout: {
                open: !1,
                props: null
            },
            click: {
                open: !1,
                props: null
            }
        }
          , u = n.type
          , c = n.mode;
        switch (u) {
        case "drag":
            Object.assign(o, {
                rect: function() {
                    var t = n.x
                      , r = n.y
                      , i = n.mode
                      , a = e.x
                      , o = e.y
                      , s = e.width
                      , u = e.height
                      , c = Math.abs(s / 2)
                      , l = Math.abs(u / 2)
                      , d = t.range[0] + c
                      , f = r.range[0] + l
                      , h = t.range[1] + c
                      , p = r.range[1] + l;
                    return {
                        assigns: [t.assign, r.assign],
                        dragRect: {
                            mode: i,
                            left: d,
                            top: f,
                            right: h,
                            bottom: p,
                            cx: a,
                            cy: o
                        }
                    }
                }()
            }),
            Object.assign(s.drag, {
                open: !0,
                props: o
            });
            break;
        case "swipe":
            Object.assign(o, {
                type: c
            }),
            "in" == c ? Object.assign(s.swipein, {
                open: !0,
                props: o
            }) : "out" == c && Object.assign(s.swipeout, {
                open: !0,
                props: o
            });
            break;
        case "click":
            Object.assign(s.click, {
                open: !0,
                props: o
            });
            break;
        default:
            return void a("未知事件类型")
        }
        e.imageEvents = s,
        ey(e)
    }
      , ty = function(t) {
        var e = t.target
          , n = t.type
          , r = t.mode;
        if (e && e.imageEvents) {
            var i = e.input
              , a = e.events
              , o = a.onInputOver
              , s = a.onInputOut
              , u = a.onInputDown
              , c = a.onInputUp;
            switch (n) {
            case "drag":
                i.disableDrag(),
                Object.assign(e.imageEvents.drag, {
                    open: !1
                });
                break;
            case "swipe":
                "in" == r ? (o.dispose(),
                Object.assign(e.imageEvents.swipein, {
                    open: !1
                })) : "out" == r && (s.dispose(),
                Object.assign(e.imageEvents.swipeout, {
                    open: !1
                }))
            }
            var l = e.imageEvents
              , d = l.drag
              , f = l.swipein
              , h = l.swipeout;
            d.open || f.open || h.open || (u.dispose(),
            c.dispose(),
            o.dispose(),
            s.dispose(),
            i && (i.useHandCursor = !1))
        }
    }
      , ey = function(t) {
        var e = t.events
          , n = t.imageEvents
          , r = t.input
          , i = n.drag
          , a = n.swipein
          , o = n.swipeout
          , s = n.click
          , u = e.onInputOver
          , c = e.onInputOut
          , l = e.onInputDown
          , d = e.onInputUp;
        t.inputEnabled = !0,
        t.input.useHandCursor = !0,
        l.dispose(),
        d.dispose(),
        u.dispose(),
        c.dispose(),
        r && (r.useHandCursor = !0),
        t.isMouseDown = !1,
        t.downPoint = {},
        l.add((function(t, e) {
            if (Object(nn.e)() || (sn.a.isHandleInputEventing = !0),
            t.input.disableDrag(),
            t.dragged = t.deferDrag = !1,
            t.isMouseDown = !0,
            i.open) {
                t.deferDrag = o.open || s.open;
                var n = i.props.rect;
                ys.changeVH = "",
                t.input.enableDrag(!1, !1, !1, 255, Zm(Zm({}, n.dragRect), {}, {
                    currentx: t.x,
                    currenty: t.y
                }))
            }
            Object.assign(t.downPoint, {
                x: e.x,
                y: e.y
            })
        }
        )),
        e.onInputUp.add((function(t, e) {
            t.input.disableDrag(),
            t.isMouseDown && (t.isMouseDown = !1,
            i.open && t.dragged ? ay(t, e, i.props) : s.open ? iy(s.props) : oy(t, e) && Km())
        }
        )),
        a.open && u.add((function(t, e) {
            return ny(t, e, a.props)
        }
        )),
        o.open && c.add((function(t, e) {
            return ry(t, e, o.props)
        }
        ))
    }
      , ny = function(t, e, n) {
        var r = n.getPlayContext
          , i = n.commands
          , a = n.inNextContext
          , o = n.playStack
          , s = n.callback;
        e && e.justReleased() || void 0 === e || !sn.a.touchDown || s && s(r(), (function() {
            return Km({
                commands: i,
                type: "imgEvents",
                inNextContext: a,
                playStack: o
            })
        }
        ))
    }
      , ry = function(t, e, n) {
        var r = n.getPlayContext
          , i = n.commands
          , a = n.inNextContext
          , o = n.playStack
          , s = n.callback;
        e && e.justReleased() || void 0 === e || !t.isMouseDown || (t.isMouseDown = !1,
        s && s(r(), (function() {
            return Km({
                commands: i,
                type: "imgEvents",
                inNextContext: a,
                playStack: o
            })
        }
        )))
    }
      , iy = function(t) {
        var e = t.getPlayContext
          , n = t.commands
          , r = t.inNextContext
          , i = t.playStack
          , a = t.callback;
        a && a(e(), (function() {
            return Km({
                commands: n,
                type: "imgEvents",
                inNextContext: r,
                playStack: i
            })
        }
        ))
    }
      , ay = function(t, e, n) {
        var r = n.rect
          , i = n.getPlayContext
          , a = n.commands
          , o = n.inNextContext
          , s = n.playStack
          , u = n.callback
          , l = r.assigns
          , d = t.width
          , f = t.height;
        if (oy(t, e))
            Km();
        else {
            var h, p, v, g, m = Math.abs(d / 2), y = Math.abs(f / 2), b = [Math.floor(t.x - m), Math.floor(t.y - y)], w = b[0], x = b[1], _ = (p = {},
            c()(p, gn.m, (h = {},
            c()(h, gn.a, {
                type: gn.t,
                value: w
            }),
            c()(h, "type", gn.a),
            h)),
            c()(p, "uuid", $m(l[0][gn.a] || 0) ? l[0][gn.a] : Object(k.u)(l[0].type, l[0][gn.a] || 0)),
            p), O = (g = {},
            c()(g, gn.m, (v = {},
            c()(v, gn.a, {
                type: gn.t,
                value: x
            }),
            c()(v, "type", gn.a),
            v)),
            c()(g, "uuid", $m(l[1][gn.a] || 0) ? l[1][gn.a] : Object(k.u)(l[1].type, l[1][gn.a] || 0)),
            g);
            qc(i(), [_, O]).then((function(t) {
                return u(t, (function() {
                    return Km({
                        commands: a,
                        type: "imgEvents",
                        inNextContext: o,
                        playStack: s
                    })
                }
                ))
            }
            )).catch((function(t) {
                return u("dragEvent数值计算赋值异常" + t)
            }
            ))
        }
    }
      , oy = function(t, e) {
        sn.a.isHandleInputEventing = !1;
        var n = t.downPoint
          , r = void 0 === n ? {} : n;
        if (Object.keys(t.downPoint).length > 0) {
            var i = Math.abs(r.x - e.x)
              , a = Math.abs(r.y - e.y);
            if (Math.max(i, a) < 6)
                return t.downPoint = {},
                !0
        }
        return !1
    };
    function sy(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function uy(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? sy(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : sy(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function cy(t) {
        var e = ly();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function ly() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    var dy = x.a.vertical
      , fy = x.a.istheatre
      , hy = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel"
      , py = {
        context: null,
        stopHandle: null
    }
      , vy = function() {
        py.context = null,
        py.stopHandle = null
    }
      , gy = function(t) {
        return py.context === t
    }
      , my = function(t, e) {
        var n = py.stopHandle;
        n && n(),
        py.context = t,
        py.stopHandle = e
    }
      , yy = function() {
        return {
            x: 0,
            y: 0,
            width: dy ? 540 : 960,
            height: dy ? 960 : 540
        }
    }
      , by = function(t) {
        P()(n, t);
        var e = cy(n);
        function n(t) {
            var r;
            h()(this, n);
            var i = t.game
              , a = void 0 === i ? Object(vn.c)() : i
              , o = t.command
              , s = t.layer
              , u = t.next;
            r = e.call(this, a),
            c()(O()(r), "updateRunNext", (function(t) {
                return r.runNext = t
            }
            )),
            r.game = a;
            var l = o.args
              , d = o.uuid
              , f = l[0]
              , p = f.index
              , v = f.rect
              , g = void 0 === v ? yy() : v
              , m = f.remove
              , y = void 0 === m ? 0 : m
              , b = f.scale
              , w = void 0 === b ? 1 : b
              , x = f.show
              , k = void 0 === x || x
              , _ = f.spacing
              , S = void 0 === _ ? 0 : _;
            return r.state = {
                index: parseInt(p),
                rect: g,
                scale: w,
                show: k,
                remove: y,
                uuid: d,
                count: 0,
                height: 0,
                saves: [],
                spacing: S
            },
            r.runNext = u,
            r.border = r.createBorder(),
            r.updateMask(g.width, g.height),
            r.scale.set(w, w),
            s && s.addChild(O()(r)),
            r.display(k),
            r.resize(),
            r
        }
        return v()(n, [{
            key: "createBorder",
            value: function() {
                var t = this
                  , e = this.state.rect
                  , n = wu.sprite({
                    x: 0,
                    y: 0
                });
                n.name = "scrollPane";
                var r = wu.rectMask({
                    alpha: 0,
                    rect: uy(uy({}, e), {}, {
                        x: 0,
                        y: 0
                    })
                });
                n.addChildAt(r, 0);
                var i = {
                    sx: 0,
                    sy: 0,
                    ex: 0,
                    ey: 0,
                    downy: 0
                }
                  , a = !1
                  , o = function() {
                    return t.state.height
                }
                  , s = function() {
                    return {
                        x: t.game.input.x,
                        y: t.game.input.y
                    }
                }
                  , u = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                      , n = i.sx
                      , r = i.sy
                      , a = i.ex
                      , o = i.ey
                      , s = Math.abs(n - a)
                      , u = Math.abs(r - o);
                    return "x" == e ? s >= t : "y" == e ? u >= t : s >= t || u >= t
                };
                n.inputEnabled = !0;
                var c = n.events
                  , l = (c = void 0 === c ? {} : c).onInputDown
                  , d = c.onInputUp
                  , f = c.onInputOut
                  , h = c.onInputOver;
                l.add((function() {
                    n.isDown = !0;
                    var t = s();
                    Object.assign(i, {
                        sx: t.x,
                        sy: t.y,
                        downy: n.y
                    })
                }
                )),
                d.add((function() {
                    if (n.isDown) {
                        n.isDown = !1;
                        var e = s();
                        Object.assign(i, {
                            ex: e.x,
                            ey: e.y
                        }),
                        u(2) || t.runNext && t.runNext("bubble"),
                        Object.assign(i, {
                            sx: 0,
                            sy: 0,
                            ex: 0,
                            ey: 0
                        })
                    }
                }
                )),
                h.add((function() {
                    !a && document.addEventListener(hy, p, {
                        passive: !1
                    }),
                    a = !0
                }
                )),
                f.add((function() {
                    a && document.removeEventListener(hy, p, {
                        passive: !1
                    }),
                    a = !1
                }
                ));
                var p = function(t) {
                    t.preventDefault && t.preventDefault();
                    var e = t.wheelDelta ? t.wheelDelta / 120 : -t.detail / 3;
                    n.onScroll(0, n.y + 100 * e)
                }
                  , v = function() {
                    if (n.isDown) {
                        var t = s();
                        if (Object.assign(i, {
                            ex: t.x,
                            ey: t.y
                        }),
                        !u(1, "y"))
                            return;
                        n.onScroll(0, i.downy + (i.ey - i.sy))
                    }
                };
                return this.game.input.addMoveCallback(v, this),
                n.onScroll = function(e, r) {
                    var i = t.state.rect
                      , a = (i = void 0 === i ? {} : i).height;
                    o() <= a || (r > 0 ? n.y = 0 : r <= -(o() - a) ? n.y = -(o() - a) : n.y = r,
                    (o() < a || En.fastPlay) && n.input.disableDrag())
                }
                ,
                n.onUpdate = function(t, e) {
                    r.clear(),
                    r.beginFill(0, 0),
                    r.drawRect(0, 0, t, e),
                    r.endFill()
                }
                ,
                n.clearMoveCallback = function() {
                    document.removeEventListener(hy, p),
                    t.game.input.deleteMoveCallback(v, t)
                }
                ,
                n.hitArea = {
                    contains: function(e, r) {
                        var i = t.state
                          , a = i.rect
                          , o = i.scale
                          , s = n.x
                          , u = n.y
                          , c = a.width
                          , l = a.height;
                        return c *= o,
                        l *= o,
                        u = Math.abs(u),
                        e >= s && e < s + c && r >= u && r < u + l
                    }
                },
                this.addChild(n),
                n
            }
        }, {
            key: "updateMask",
            value: function(t, e) {
                var n = this.mask
                  , r = void 0 === n ? null : n;
                r ? (r.clear(),
                r.beginFill(0, 0),
                r.drawRect(0, 0, t, e),
                r.endFill()) : (r = wu.rectMask({
                    alpha: 0,
                    rect: {
                        width: t,
                        height: e,
                        x: 0,
                        y: 0
                    }
                }),
                this.addChild(r),
                this.mask = r)
            }
        }, {
            key: "display",
            value: function(t) {
                this.state.show = this.visible = t
            }
        }, {
            key: "save",
            value: function(t) {
                this.state.saves.push(t),
                this.state.count++
            }
        }, {
            key: "shift",
            value: function() {
                this.state.saves.shift()
            }
        }, {
            key: "createBubble",
            value: function(t, e) {
                var n = this;
                if (!this.border)
                    return Promise.resolve();
                var r = this.game
                  , i = r.cache
                  , o = r.world
                  , u = this.state
                  , c = u.spacing
                  , l = u.saves
                  , d = o.width
                  , f = o.height
                  , h = e.getPlayContext
                  , p = e.addViews
                  , v = e.existPlotViews
                  , g = e.recover
                  , m = e.json
                  , y = e.next
                  , b = t.type
                  , w = t.content
                  , x = t.avatar
                  , _ = t.role
                  , O = t.position
                  , S = t.animation
                  , P = this.state
                  , C = P.height
                  , E = P.rect
                  , j = {
                    animationsVector: [],
                    avatarHeight: 0,
                    roleHeight: 0,
                    contentHeight: 0
                }
                  , A = /([\s\S]*)\\(\d+)\s([\s\S]*)/
                  , I = l.length ? c : 0;
                return this.updateRunNext(y),
                Promise.all([Gc(_.data, h(), !0), Gc(w.data, h(), !0)]).then((function(e) {
                    var r = s()(e, 2)
                      , u = r[0]
                      , c = r[1]
                      , l = function(t, e) {
                        if (g)
                            return Promise.resolve();
                        var n = []
                          , r = []
                          , i = 0
                          , a = 0
                          , o = En.fastPlay;
                        if (Object(nn.o)(e) ? "fadein" == e.type && n.push(e) : (n = e.filter((function(t) {
                            return "fadein" === t.type
                        }
                        )),
                        r = e.filter((function(t) {
                            return "moveFrom" === t.type
                        }
                        ))),
                        o) {
                            var s = En.getFastPlayAnimationInfo(a);
                            i = s.delay,
                            a = s.duration
                        }
                        return Promise.all([n.length > 0 && Ln.from({
                            target: t,
                            properties: {
                                alpha: 0
                            },
                            duration: o ? a : n[0].duration || 0,
                            ease: null,
                            autoStart: !0,
                            delay: o ? i : n[0].delay || 0
                        }), r.length > 0 && Ln.from({
                            target: t,
                            properties: {
                                x: r[0].x || 0,
                                y: r[0].y || 0
                            },
                            duration: o ? a : r[0].duration || 0,
                            ease: null,
                            autoStart: !0,
                            delay: o ? i : r[0].delay || 0
                        })])
                    }
                      , h = function() {
                        var t = 0
                          , e = 0;
                        switch (O) {
                        case "left":
                            t = 0,
                            e = C;
                            break;
                        case "center":
                            t = E.width / 2,
                            e = C;
                            break;
                        case "right":
                            var n = [E.width, C];
                            t = n[0],
                            e = n[1]
                        }
                        return {
                            x: t,
                            y: e + I,
                            width: 0,
                            height: 0
                        }
                    }()
                      , y = wu.group("bubbleGroup", h);
                    n.border.addChild(y),
                    function(t) {
                        var e = x.url
                          , r = x.rect
                          , a = x.hidden
                          , o = x.animations
                          , s = x.view
                          , u = r.x
                          , c = r.y
                          , d = r.width
                          , f = r.height;
                        if (j.avatarHeight = 0,
                        !a && i.checkImageKey(e)) {
                            var h = wu.image(e)
                              , g = Math.min(d / h.width, f / h.height);
                            h.width *= g,
                            h.height *= g,
                            h.x = u + (d - h.width) / 2,
                            h.y = c + (f - h.height) / 2,
                            s && (h.inputEnabled = !0,
                            h.input.useHandCursor = !0,
                            h.events.onInputDown.add((function(t, e) {
                                e && e.pointerMode === Phaser.PointerMode.CURSOR && 0 !== e.button || !0 !== n.state.show || v(s) || p && p([s])
                            }
                            ))),
                            o && j.animationsVector.push(l(h, o)),
                            t.addChild(h),
                            j.avatarHeight = c + f
                        }
                    }(y),
                    function(t) {
                        var e = _.rect
                          , n = _.fontFamily
                          , r = void 0 === n ? qs.default : n
                          , i = _.font_size
                          , a = _.color
                          , o = _.hidden
                          , s = _.animations;
                        if (j.roleHeight = 0,
                        !o && (s || "center" !== O || "center" == O && !s)) {
                            var c = wu.group("rolegroup", e)
                              , d = wu.text({
                                x: 0,
                                y: 0,
                                width: e.width,
                                height: e.height
                            }, {
                                fontSize: i,
                                forceFontFamily: r || qs.default,
                                color: a || "#000000",
                                text: u
                            });
                            s && j.animationsVector.push(l(c, s)),
                            c.addChild(d),
                            t.addChild(c),
                            j.roleHeight = e.y + e.height
                        }
                    }(y),
                    function(t) {
                        var e = w.url
                          , r = w.rect
                          , s = w.viewMode
                          , u = w.view
                          , h = w.opacity
                          , g = void 0 === h ? 1 : h
                          , y = w.font_size
                          , x = w.background
                          , _ = w.data
                          , S = w.animations
                          , P = r.x
                          , C = r.y
                          , E = r.width
                          , I = r.height
                          , R = wu.group("contentGroup", {
                            x: P,
                            y: C,
                            width: E,
                            height: I
                        })
                          , T = function(t) {
                            var e, r = t.url, i = void 0 === r ? "" : r, a = t.color, o = void 0 === a ? "#ffffff" : a, s = t.flex, u = void 0 === s ? 1 : s, c = t.maxHeight, l = t.width, d = t.alpha, f = void 0 === d ? 1 : d;
                            if (-1 === u)
                                return null;
                            if ("" !== i) {
                                e = wu.image(i, {
                                    opacity: f
                                }),
                                Ou.flex(u, e, {
                                    width: l,
                                    height: I
                                });
                                var h = wu.rectMask({
                                    rect: {
                                        width: l,
                                        height: I
                                    },
                                    alpha: 0
                                });
                                R.addChild(h),
                                R.mask = h
                            } else if ((e = n.game.add.graphics()).beginFill(Object(k.A)(o), f),
                            e.drawRoundedRect(0, 0, l, c, 6, 6),
                            e.endFill(),
                            "center" !== O) {
                                var p = Math.min(Math.floor(c / 3), 8)
                                  , v = "left" === O ? -p : p
                                  , g = p
                                  , m = "left" === O ? 1 : l - 1
                                  , y = p / 2
                                  , b = n.game.add.graphics();
                                b.beginFill(Object(k.A)(o), f),
                                b.moveTo(m, y),
                                b.lineTo(m + v, y + g),
                                b.lineTo(m, y + 2 * p),
                                b.endFill(),
                                R.addChildAt(b, 0)
                            }
                            return e && R.addChildAt(e, 0),
                            e
                        };
                        if ("image" == b) {
                            var M = !1
                              , D = !1
                              , B = 0
                              , U = 0
                              , z = m.motionImgMap
                              , L = void 0 === z ? {} : z;
                            if (Object(nn.p)(e) && i.checkImageKey(e) && (M = !0),
                            Object(nn.o)(e) && (e.uuid && L[e.uuid] ? M = L[e.uuid].images.map((function(t) {
                                return t.url
                            }
                            )).every((function(t) {
                                return i.checkImageKey(t)
                            }
                            )) : "spine" == e.type && i.checkSpineKey(e.image) && (D = !0,
                            B = e.width,
                            U = e.height)),
                            M || D) {
                                var V = wu.image(e);
                                D || (B = V.width,
                                U = V.height);
                                var F = Math.min(E / B, I / U);
                                V.width *= F,
                                V.height *= F,
                                V.x += (E - V.width) / 2,
                                V.y += (I - V.height) / 2,
                                V.alpha = g,
                                s && (V.inputEnabled = !0,
                                V.input.useHandCursor = !0,
                                V.events.onInputDown.add((function(t, r) {
                                    if ((!r || r.pointerMode !== Phaser.PointerMode.CURSOR || 0 === r.button) && n.state.show)
                                        if (1 == s) {
                                            var i = wu.sprite({
                                                x: 0,
                                                y: 0
                                            });
                                            o.addChildAt(i, o.length - 2 || o.length - 1),
                                            i.addChild(wu.rectMask({
                                                color: 0,
                                                alpha: .5,
                                                x: 0,
                                                y: 0,
                                                rect: {
                                                    x: 0,
                                                    y: 0,
                                                    width: d,
                                                    height: f
                                                }
                                            }));
                                            var a, c = wu.image(e, {
                                                x: 0,
                                                y: 0,
                                                width: D ? d : void 0,
                                                height: D ? f : void 0
                                            });
                                            if (c.width > d || c.height > f)
                                                a = Math.min(c.width / d, c.height / f),
                                                c.width *= a,
                                                c.height *= a;
                                            c.x = (d - c.width) / 2,
                                            c.y = (f - c.height) / 2,
                                            c.alpha = g,
                                            i.addChild(c),
                                            i.inputEnabled = !0,
                                            i.events.onInputDown.addOnce((function() {
                                                for (; i.children.length > 0; )
                                                    i.removeChildAt(0);
                                                n.game.world.remove(i),
                                                i.destroy()
                                            }
                                            ))
                                        } else if (2 == s) {
                                            if (v(u))
                                                return;
                                            p && p([u])
                                        } else
                                            console.warn("图片气泡未知点击类型模式！")
                                }
                                ), n)),
                                R.addChild(V)
                            }
                        } else if ("text" == b) {
                            if (_ && _.length > 0 && "" !== _[0].data) {
                                var N = {
                                    url: "",
                                    flex: 1,
                                    color: "center" == O ? "#dadada" : "right" == O ? "#98e165" : "#ffffff"
                                };
                                x && Object.assign(N, x, x.flex && !x.url && !x.color && {
                                    flex: -1
                                });
                                var H = wu.textarea({
                                    x: 6,
                                    y: 1,
                                    width: E + y / (fy ? 10 : 12) - cl(y),
                                    height: I
                                }, {
                                    color: "#000000",
                                    fontSize: y,
                                    name: "bubbledialog",
                                    forceFontFamily: qs.default
                                });
                                _ = c,
                                Object(nn.b)(_) || (_ = sl(_).map((function(t) {
                                    return uy(uy({}, t), {}, {
                                        color: N.color
                                    })
                                }
                                ))),
                                _ = ul(a()(_), En.DefaultColor),
                                H.setTexts(_.map((function(t) {
                                    for (var e = t.data, n = void 0 === e ? "" : e, r = A.exec(n); r; )
                                        n = r[1] + r[3],
                                        r = A.exec(n);
                                    return uy(uy({}, t), {}, {
                                        data: n
                                    })
                                }
                                )));
                                var W = I = Math.max(H.height, I);
                                T(uy(uy({}, N), {}, {
                                    maxHeight: W,
                                    alpha: g,
                                    width: E
                                })),
                                H.alpha = g,
                                R.addChild(H)
                            }
                        } else if ("voice" == b) {
                            if (e) {
                                var G, q = Math.ceil((E - 60) / 100 * 60), Y = q + '"';
                                q *= 1e3;
                                var Z = Math.min(E, 150)
                                  , J = T(Object.assign({
                                    url: "",
                                    flex: 1,
                                    color: "center" == O ? "#dadada" : "right" == O ? "#98e165" : "#ffffff",
                                    width: Z,
                                    maxHeight: I,
                                    alpha: g
                                }, x, x.flex && !x.url && !x.color && {
                                    flex: -1
                                }));
                                J.inputEnabled = !0,
                                J.input.useHandCursor = !0;
                                var K = function(t, e, n, r) {
                                    G = wu.image("bugle_0", {
                                        x: t,
                                        y: 9
                                    }),
                                    "right" == r && (G.x += 15,
                                    G.scale.x = -G.scale.x),
                                    R.addChild(G),
                                    R.addChild(wu.text({
                                        x: e,
                                        width: n,
                                        height: I
                                    }, {
                                        text: Y,
                                        fontSize: 12,
                                        forceFontFamily: qs.default,
                                        color: "#000",
                                        boundsAlignH: r,
                                        boundsAlignV: "middle"
                                    }))
                                };
                                "right" == O ? K(Z - 20, 0, Z - 20, "right") : K(5, 25, Z - 25, "left"),
                                R.inputEnabled = !0;
                                var $ = R.destroy
                                  , X = !1;
                                R.onChildInputUp.add((function(t, r) {
                                    if (!r || r.pointerMode !== Phaser.PointerMode.CURSOR || 0 === r.button) {
                                        if (Qo.forceLoadAudio(e, !0),
                                        gy(R)) {
                                            if (X ? nr.resumeSound({
                                                channel: 10,
                                                url: e,
                                                volume: 1,
                                                loop: !1
                                            }) : nr.pauseSound(10),
                                            X = !X)
                                                return void my(R)
                                        } else
                                            nr.stopSound(10),
                                            nr.playSound({
                                                channel: 10,
                                                url: e,
                                                volume: 1,
                                                loop: !1
                                            });
                                        R.destroy = function() {
                                            for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++)
                                                n[r] = arguments[r];
                                            $[Vn.a](R, n),
                                            nr.stopSound(10),
                                            Qo.removeCache("audio", e),
                                            R.destroy = $,
                                            vy()
                                        }
                                        ;
                                        var i = !1;
                                        my(R, (function() {
                                            i = !0,
                                            G.parent && G.game && G.loadTexture("bugle_0")
                                        }
                                        ));
                                        var a = n.game.time.events
                                          , o = 0
                                          , s = 300
                                          , u = 0;
                                        !function t() {
                                            if ((G.parent || G.game) && !i) {
                                                if (!nr.inCache(e))
                                                    return s = 10,
                                                    void a.add(s, (function() {
                                                        return t()
                                                    }
                                                    ));
                                                if (s = 300,
                                                u > q)
                                                    return G.loadTexture("bugle_0"),
                                                    void vy();
                                                u += s,
                                                o = (o + 1) % 3,
                                                G.loadTexture("bugle_".concat(o)),
                                                a.add(s, (function() {
                                                    return t()
                                                }
                                                ))
                                            }
                                        }()
                                    }
                                }
                                ))
                            }
                        } else
                            console.warn("未知气泡内容类型！");
                        S && j.animationsVector.push(l(R, S)),
                        t.addChild(R),
                        j.contentHeight = C + I
                    }(y);
                    var P = Math.max(j.avatarHeight, j.roleHeight, j.contentHeight);
                    n.state.height += I + P + 20;
                    var R = n.state
                      , T = R.height
                      , M = R.rect
                      , D = (M = void 0 === M ? {} : M).width
                      , B = M.height;
                    return T > B && n.border.onScroll(0, -(T - B)),
                    n.border.onUpdate(D, T),
                    !g && n.save(t),
                    Promise.all(j.animationsVector).then((function() {
                        return Promise.all(void 0 === S || g ? [] : [l(y, S)])
                    }
                    )).then((function() {
                        return y
                    }
                    ))
                }
                ))
            }
        }, {
            key: "updateState",
            value: function(t, e) {
                var n = t.args
                  , r = t.uuid
                  , i = n[0]
                  , a = i.rect
                  , o = i.remove
                  , s = void 0 === o ? 0 : o
                  , u = i.scale
                  , c = void 0 === u ? 1 : u
                  , l = i.spacing
                  , d = void 0 === l ? 0 : l;
                this.clear(),
                Object.assign(this.state, {
                    uuid: r,
                    rect: a,
                    remove: s,
                    scale: c,
                    count: 0,
                    spacing: d
                }),
                e && (this.runNext = e),
                this.resize()
            }
        }, {
            key: "clear",
            value: function(t) {
                for (this.display(!1); this.border.children.length > 1; )
                    this.border.removeChildAt(this.border.children.length - 1).destroy();
                this.state.height = 0,
                this.border.x = this.border.y = 0;
                var e = this.state
                  , n = e.remove
                  , r = e.count;
                if (2 == n || t) {
                    for (; this.state.saves.length > 0; )
                        this.state.saves.pop();
                    if (this.state.count = 0,
                    t) {
                        for (; this.border.children.length > 0; )
                            this.border.removeChildAt(0).destroy();
                        this.runNext = null,
                        this.border.clearMoveCallback(),
                        this.parent && this.parent.remove(this),
                        this.destroy()
                    }
                } else if (1 == n) {
                    for (var i = 0; i < r && r > 0; )
                        this.state.saves.pop(),
                        i++;
                    this.state.count = 0
                }
            }
        }, {
            key: "resize",
            value: function() {
                var t = this.state
                  , e = t.rect
                  , n = t.scale
                  , r = void 0 === n ? 1 : n
                  , i = e.x
                  , a = void 0 === i ? 0 : i
                  , o = e.y
                  , s = void 0 === o ? 0 : o
                  , u = e.width
                  , c = void 0 === u ? dy ? 540 : 960 : u
                  , l = e.height
                  , d = void 0 === l ? dy ? 960 : 540 : l;
                this.x = a,
                this.y = s,
                this.scale.set(r, r),
                this.border.onUpdate(c, d),
                this.updateMask(c, d),
                this.parent && this.parent.bringToTop(this)
            }
        }, {
            key: "rect",
            get: function() {
                return this.state.rect
            }
        }, {
            key: "scalenum",
            get: function() {
                return this.state.scale
            }
        }, {
            key: "uuid",
            get: function() {
                return this.state.uuid
            }
        }, {
            key: "count",
            get: function() {
                return this.state.count
            }
        }, {
            key: "index",
            get: function() {
                return this.state.index
            }
        }, {
            key: "saveVector",
            get: function() {
                return this.state.saves
            }
        }, {
            key: "show",
            get: function() {
                return this.state.show
            }
        }, {
            key: "remove",
            get: function() {
                return this.state.remove
            }
        }, {
            key: "spacing",
            get: function() {
                return this.state.spacing || 0
            }
        }]),
        n
    }(Phaser.Group)
      , wy = null
      , xy = null
      , ky = {}
      , _y = {}
      , Oy = []
      , Sy = function(t) {
        return Oy.find((function(e) {
            return e.index == t
        }
        )) || null
    }
      , Py = function() {
        for (var t = Oy.length - 1; t >= 0; t--)
            if (Oy[t].show)
                return Oy[t];
        return null
    }
      , Cy = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, [{
            key: "init",
            value: function(t, e) {
                ky = Object.assign({}, t),
                _y = Object.assign({}, e)
            }
        }, {
            key: "clear",
            value: function(t) {
                if (t)
                    for (; Oy.length > 0; )
                        Oy.pop().clear(!0);
                else
                    Oy.forEach((function(t) {
                        return t.clear()
                    }
                    ))
            }
        }, {
            key: "showBubble",
            value: function(t, e) {
                var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]
                  , r = t.args
                  , i = r[0].index
                  , a = Sy(i);
                return xy = a || new by(Object.assign({}, ky, {
                    command: t,
                    next: e
                })),
                a && xy.updateState(t, e),
                a || Oy.push(xy),
                xy.display(n),
                this.recoverBubble(0).then((function() {
                    return xy
                }
                ))
            }
        }, {
            key: "eidtBubble",
            value: function(t, e) {
                return xy && xy.show || (xy = Py()),
                xy ? (xy.display(xy.show),
                xy.createBubble(t, Object.assign({}, _y, e))) : Promise.reject()
            }
        }, {
            key: "recoverBubble",
            value: function(t) {
                var e = this;
                if (!xy || !xy.saveVector.length)
                    return Promise.resolve();
                var n = xy.saveVector[t];
                return this.eidtBubble(n, {
                    recover: !0
                }).then((function() {
                    return ++t >= xy.saveVector.length ? Promise.resolve() : e.recoverBubble(t)
                }
                )).catch((function() {
                    return Promise.resolve()
                }
                ))
            }
        }, {
            key: "recoverBubbleByMode",
            value: function(t, e) {
                var n = this;
                return t.length ? function r(i) {
                    var a = t[i]
                      , o = a.index
                      , s = a.rect
                      , u = a.remove
                      , c = a.scale
                      , l = a.show
                      , d = a.uuid
                      , f = a.bubble
                      , h = void 0 === f ? [] : f
                      , p = a.currentCount
                      , v = void 0 === p ? 0 : p
                      , g = a.spacing
                      , m = {
                        uuid: d,
                        args: [{
                            index: o,
                            rect: s,
                            remove: u,
                            scale: c,
                            show: l,
                            spacing: g
                        }]
                    }
                      , y = Sy(o);
                    return (y ? function() {
                        return y.updateState(m),
                        y.display(l),
                        xy = y,
                        Promise.resolve(y)
                    }
                    : function() {
                        return n.showBubble(m, null, l)
                    }
                    )().then((function(a) {
                        var o = a;
                        return e && h.length && h.forEach((function(t) {
                            return o.save(t)
                        }
                        )),
                        n.recoverBubble(0).then((function() {
                            return ++i >= t.length ? (o.state.count = v,
                            Promise.resolve()) : r(i)
                        }
                        ))
                    }
                    ))
                }(0) : Promise.resolve()
            }
        }, {
            key: "updateRunNext",
            value: function(t) {
                Oy.forEach((function(e) {
                    return e.updateRunNext(t)
                }
                ))
            }
        }, {
            key: "handleBubbleCount",
            value: function() {
                var t = []
                  , e = 0
                  , n = 0;
                for (Oy.forEach((function(e) {
                    var n = e.saveVector
                      , r = e.index;
                    n.forEach((function() {
                        return t.push(r)
                    }
                    ))
                }
                )); t.length > 100; )
                    t.shift(),
                    e++;
                return Oy.forEach((function(t) {
                    ++n >= e || t.shift()
                }
                )),
                t
            }
        }, {
            key: "handleBubbleState",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : xy
                  , e = t.index
                  , n = t.uuid
                  , r = t.saveVector
                  , i = t.show
                  , a = t.remove
                  , o = t.rect
                  , s = t.scalenum
                  , u = t.count
                  , c = t.spacing;
                return {
                    index: e,
                    uuid: n,
                    bubble: r,
                    show: i,
                    remove: a,
                    rect: o,
                    scale: s,
                    currentCount: u,
                    spacing: c
                }
            }
        }, {
            key: "updateBubbleState",
            value: function() {}
        }, {
            key: "hideBubble",
            value: function(t, e) {
                var n = Sy(t);
                n && (n.clear(),
                n.display(!1),
                e && e())
            }
        }, {
            key: "currentBorder",
            get: function() {
                return xy
            }
        }, {
            key: "borderVectors",
            get: function() {
                return Oy
            }
        }], [{
            key: "getInstance",
            value: function() {
                return wy || (wy = new t),
                wy
            }
        }]),
        t
    }();
    function Ey(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function jy(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Ey(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Ey(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Ay = ["background", "bottomDialog", "click1continue", "images", "weather", "click2continue", "bubbles", "topDialog", "options", "animations"]
      , Iy = {
        condition_option: 1,
        option: 1,
        imgEvents: 1,
        macro: 1
    }
      , Ry = {
        saveRead: {
            time: 0,
            max: 10
        }
    }
      , Ty = function() {
        function t(e) {
            var n = this
              , r = e.game
              , i = e.json
              , a = e.getPlayContext
              , o = e.setBackground
              , s = e.getInheritBackground
              , u = e.noShowingViews
              , l = e.addViews
              , d = e.pushPlayback
              , f = e.existPlotViews
              , p = e.resetPlayCount
              , v = e.repeatHandle
              , g = e.updatePlayContext
              , m = e.saveReadRecord
              , y = e.filterOptionsClient
              , b = e.findPlayStackId
              , w = e.handleShowTools
              , x = e.dialogLayer;
            h()(this, t),
            c()(this, "copy", (function(t) {
                var e = t.data.buffer
                  , n = t.width
                  , r = t.height;
                return new ImageData(new Uint8ClampedArray(e.slice(0)),n,r)
            }
            )),
            c()(this, "animateScene", (function(t) {
                var e = n.tweens
                  , r = void 0 === e ? [] : e
                  , i = t.type
                  , a = t.duration
                  , o = t.delay
                  , s = t.color
                  , u = t.level
                  , c = t.loop
                  , l = void 0 !== c && c;
                if (En.fastPlay) {
                    var d = En.getFastPlayAnimationInfo(a);
                    o = d.delay,
                    a = d.duration
                }
                switch (n.tweens = r.filter((function(t) {
                    return t.type !== i || (t.cancel && t.cancel(),
                    !1)
                }
                )),
                i) {
                case "twinkle":
                    var f = Ln.twinkle({
                        target: n.animations,
                        duration: a,
                        delay: o,
                        color: s
                    });
                    return f.type = i,
                    n.tweens.push(f),
                    f;
                case "shake":
                    if (!a)
                        return Promise.resolve();
                    var h = u ? 5 * u : 0;
                    return Promise.all(Ay.slice(0, 4).map((function(t) {
                        var e = Ln.shake({
                            target: n[t],
                            duration: a,
                            delay: o,
                            offSet: h,
                            repeat: l ? 1 / 0 : 0
                        });
                        e.type = i,
                        n.tweens.push(e)
                    }
                    )));
                case "spread":
                    var p = n.game.world
                      , v = p.width
                      , g = p.height
                      , m = wu.rectMask({
                        rect: {
                            width: v,
                            height: g
                        }
                    });
                    return n.container.add(m, !0, 0),
                    Promise.all(Ay.slice(0, 7).map((function(t) {
                        var e = Ln.spread({
                            target: n[t],
                            duration: a,
                            delay: o
                        });
                        e.type = i,
                        n.tweens.push(e)
                    }
                    ))).then((function() {
                        return m.destroy()
                    }
                    ))
                }
            }
            )),
            c()(this, "autoPlaySpeed", (function() {
                var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                return t ? 0 : vp.getInstance().AutoPlay ? vp.getInstance().Speed : 400
            }
            )),
            c()(this, "getImagebyIndex", (function(t) {
                return n.images.children.filter((function(e) {
                    return e.zIndex === t
                }
                ))
            }
            )),
            c()(this, "dispatchContinueClick", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                  , e = n.props.noShowingViews
                  , r = n.click2continue.children
                  , i = n.click1continue.children;
                (r[0] || i[0]) && (En.fastPlay || En.autoPlay && e() || t) && (r[0] && r[0].events.onInputUp.dispatch(),
                i[0] && i[0].events.onInputUp.dispatch())
            }
            )),
            c()(this, "handleContinue", (function(t) {
                var e = n.props
                  , r = e.noShowingViews
                  , i = e.resetPlayCount
                  , a = e.repeatHandle
                  , o = n.game
                  , s = o.input
                  , u = s.keyboard
                  , c = s.onHold
                  , l = o.device.desktop
                  , d = new Promise((function(t) {
                    return !l && r() && c.addOnce((function() {
                        return !sn.a.isHandleInputEventing && t()
                    }
                    ), n)
                }
                ))
                  , f = new Promise((function(t) {
                    return r() && u.addKey(Phaser.Keyboard.Z).onDown.add((function() {
                        return t()
                    }
                    ), n)
                }
                ))
                  , h = new Promise((function(t) {
                    return r() && u.addKey(Phaser.Keyboard.SPACEBAR).onDown.add((function() {
                        return t()
                    }
                    ), n)
                }
                ))
                  , p = new Promise((function(t) {
                    n.click2continue.removeAll(!0);
                    var e = n.game.world
                      , r = e.width
                      , a = e.height
                      , o = wu.rectMask({
                        rect: {
                            width: r,
                            height: a
                        },
                        alpha: 0
                    });
                    o.inputEnabled = !0;
                    var s = {};
                    o.events.onInputDown.add((function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        return s = {
                            x: e.x,
                            y: e.y
                        }
                    }
                    )),
                    o.events.onInputUp.add((function(e) {
                        var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        if (!r || r.pointerMode !== Phaser.PointerMode.CURSOR || 0 === r.button) {
                            var a = Math.abs(s.x - r.x)
                              , o = Math.abs(s.y - r.y);
                            (isNaN(a) || isNaN(o) || Math.max(a, o) > 60) && !l || (i(),
                            n.click2continue.removeAll(!0),
                            t())
                        }
                    }
                    )),
                    n.click2continue.add(o)
                }
                ));
                return n.imageEvents && n.imageEvents.length > 0 && n.imageEvents.filter((function(t) {
                    return function(t) {
                        for (var e = n.images.children, r = 0; r < e.length; r++)
                            if (e[r].zIndex === t)
                                return !0;
                        return !1
                    }(t.index)
                }
                )).length > 0 && (n.click2continue.removeAll(!0),
                p = new Promise((function(t) {
                    n.click1continue.removeAll(!0);
                    var e = n.game.world
                      , r = e.width
                      , a = e.height
                      , o = wu.rectMask({
                        rect: {
                            width: r,
                            height: a
                        },
                        alpha: 0
                    });
                    o.inputEnabled = !0;
                    var s = {};
                    o.events.onInputDown.add((function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        return s = {
                            x: e.x,
                            y: e.y
                        }
                    }
                    )),
                    o.events.onInputUp.add((function(e) {
                        var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        if (!(r && r.pointerMode === Phaser.PointerMode.CURSOR && 0 !== r.button || 0 === Object.keys(r).length && !l)) {
                            var a = Math.abs(s.x - r.x)
                              , o = Math.abs(s.y - r.y);
                            Math.max(a, o) > 60 && !l || (i(),
                            n.click1continue.removeAll(!0),
                            t())
                        }
                    }
                    )),
                    n.click1continue.add(o)
                }
                ))),
                Promise.race([p, f, h, d]).then((function() {
                    return vp.getInstance().EyesHandleing ? n.handleContinue(t) : (a && a(),
                    n.doInTL(t))
                }
                )).then((function() {
                    return n.handleClearContinue()
                }
                ))
            }
            )),
            c()(this, "eyes", (function(t) {
                ["dialogLayer", "bottomDialog", "weather", "bubbles", "topDialog", "options", "animations"].forEach((function(e) {
                    "dialogLayer" === e ? n.props[e] && (n.props[e].visible = t) : n[e] && (n[e].visible = t)
                }
                ))
            }
            )),
            this.game = r,
            this.json = i,
            this.props = {
                getPlayContext: a,
                setBackground: o,
                getInheritBackground: s,
                noShowingViews: u,
                addViews: l,
                pushPlayback: d,
                existPlotViews: f,
                resetPlayCount: p,
                repeatHandle: v,
                updatePlayContext: g,
                saveReadRecord: m,
                filterOptionsClient: y,
                findPlayStackId: b,
                handleShowTools: w,
                dialogLayer: x
            };
            var k = wu.group("scene");
            this.container = k,
            Ay.forEach((function(t) {
                return n[t] = k.add(wu.group(t))
            }
            )),
            this.tweens = [],
            this.optionsTimeoutHandles = [],
            this.bubbleBorderVector = [],
            this.imageEvents = [],
            this.controlNextPlot = 0,
            Cy.getInstance().init({
                layer: this.bubbles,
                game: r
            }, {
                getPlayContext: a,
                addViews: l,
                existPlotViews: f,
                json: i
            }),
            this.state = {
                playStack: [],
                images: [],
                dialog: {},
                weather: null,
                autotext: null,
                disableSaveOrLoad: null,
                animateScene: null,
                views: [],
                hideGlobalViews: [],
                bubbleMode: [],
                bubbleCount: [],
                toolsView: []
            },
            this.showSpeaking = !1
        }
        return v()(t, [{
            key: "getContext",
            value: function() {
                return this.context
            }
        }, {
            key: "getState",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                return t && (this.state.playStack = this.state.playStack.filter((function(t) {
                    return "imgEvents" !== t.type
                }
                ))),
                this.state
            }
        }, {
            key: "getBubbleState",
            value: function() {
                var t = this.state
                  , e = t.bubbleMode
                  , n = void 0 === e ? [] : e
                  , r = t.bubbleCount;
                return {
                    bubbleMode: n,
                    bubbleCount: void 0 === r ? [] : r
                }
            }
        }, {
            key: "setBubbleState",
            value: function(t, e) {
                return this.state = mr()(this.state, {
                    bubbleMode: {
                        $set: t
                    },
                    bubbleCount: {
                        $set: e
                    }
                }),
                Cy.getInstance().recoverBubbleByMode(t, !0)
            }
        }, {
            key: "setState",
            value: function(t) {
                var e = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , r = t.playStack
                  , i = void 0 === r ? [] : r
                  , a = t.images
                  , o = void 0 === a ? [] : a
                  , s = t.dialog
                  , u = void 0 === s ? {} : s
                  , c = t.weather
                  , l = void 0 === c ? null : c
                  , d = t.autotext
                  , f = void 0 === d ? null : d
                  , h = t.disableSaveOrLoad
                  , p = void 0 === h ? null : h
                  , v = t.animateScene
                  , g = void 0 === v ? null : v
                  , m = t.views
                  , y = void 0 === m ? [] : m
                  , b = t.hideGlobalViews
                  , w = void 0 === b ? [] : b
                  , x = t.bubbleMode
                  , k = void 0 === x ? [] : x
                  , _ = t.bubbleCount
                  , O = void 0 === _ ? [] : _
                  , S = t.toolsView
                  , P = void 0 === S ? [] : S
                  , C = this.props.handleShowTools;
                this.imageEvents = [];
                var E = Promise.resolve();
                if (o.forEach((function(t) {
                    if (t) {
                        var n = t.command
                          , r = t.animate
                          , i = t.events
                          , a = void 0 === i ? [] : i
                          , o = t.x
                          , s = t.y
                          , u = t.next;
                        e.renderImage(r ? jy(jy({}, n.args[0]), r.args[0]) : n.args[0], a, o, s, u, !0)
                    }
                }
                )),
                l && this.renderWeather(l.args[0]),
                g && this.animateScene(g.args[0]),
                Promise.resolve(),
                u.command) {
                    var j = jy({}, u.command.args[0]);
                    u.animate && (j = mr()(j, {
                        speaking: {
                            $apply: function(t) {
                                return jy(jy({}, t), u.animate.args[0])
                            }
                        }
                    })),
                    this.renderDialog(j).then((function() {
                        return e.dialogView.animate(!0)
                    }
                    ))
                }
                var A = [];
                return P.forEach((function(t) {
                    var e = Object.keys(t)[0];
                    A.push({
                        ref: e,
                        x: t[e][0] || 0,
                        y: t[e][1] || 0,
                        scale: t[e][2] || 1
                    })
                }
                )),
                A.length > 0 && C(A),
                E = Cy.getInstance().recoverBubbleByMode(k, n),
                this.state = {
                    playStack: i,
                    images: o,
                    dialog: u,
                    weather: l,
                    autotext: f,
                    disableSaveOrLoad: p,
                    animateScene: g,
                    views: y,
                    hideGlobalViews: w,
                    bubbleMode: k,
                    bubbleCount: O,
                    toolsView: P
                },
                this.autoPlay = f && f.args && f.args[0],
                E
            }
        }, {
            key: "renderBackground",
            value: function(t) {
                var e = this.props
                  , n = e.getInheritBackground
                  , r = e.setBackground;
                this.background.removeAll(!0);
                var i = t.flex
                  , a = t.url
                  , o = t.opacity
                  , s = void 0 === o ? 1 : o;
                if ("inherit" === a) {
                    var u = n();
                    i = u.flex,
                    a = u.url;
                    var c = u.opacity;
                    s = void 0 === c ? 1 : c
                } else
                    r(t);
                var l = this.game.world
                  , d = l.width
                  , f = l.height
                  , h = wu.image(a);
                Ou.flex(i, h, {
                    width: d,
                    height: f
                }),
                h.alpha = s,
                this.background.add(h)
            }
        }, {
            key: "renderWeather",
            value: function(t) {
                this.weather.removeAll(!0),
                Nm.getInstance().show({
                    type: t,
                    layer: this.weather
                })
            }
        }, {
            key: "renderDialog",
            value: function(t) {
                var e = this
                  , n = this.tweens
                  , r = this.props
                  , i = this.animateScene
                  , a = this.json
                  , o = n.findIndex((function(t) {
                    return "animateDialog" === t.name
                }
                ));
                if (~o) {
                    var u = n[o];
                    u.cancel && u.cancel(),
                    n.splice(o, 1)
                }
                var c = t.speaking
                  , l = t.dialogtitle
                  , d = t.avatar
                  , f = t.dialogid
                  , h = void 0 === f ? 0 : f
                  , p = r.getPlayContext
                  , v = r.dialogLayer
                  , g = c.coverage
                  , m = c.x
                  , y = c.y
                  , b = c.opacity
                  , w = void 0 === b ? 1 : b
                  , x = c.data;
                return Promise.all([Gc(x, p(), !0), Gc(l.data, p(), !0)]).then((function(t) {
                    var n = s()(t, 2)
                      , r = n[0]
                      , o = n[1];
                    e.dialogView = Ov({
                        json: a,
                        settings: {
                            speaking: jy(jy({}, c), {}, {
                                data: r
                            }),
                            dialogtitle: jy(jy({}, l), {}, {
                                data: o
                            }),
                            avatar: d,
                            dialogid: h,
                            animateScene: i
                        }
                    });
                    var u = e.dialogView.container;
                    u.x = iu.roundToInt(m),
                    u.y = iu.roundToInt(y),
                    u.alpha = w;
                    var f = e.topDialog;
                    return "overView" == g ? f = v : "bottom" === g && (f = e.bottomDialog),
                    f.add(u),
                    Promise.resolve()
                }
                ))
            }
        }, {
            key: "handleImageFilter",
            value: function(t, e) {
                var n = this
                  , r = this.game.cache.getImage(t.key, !0);
                if (r.key === t.key) {
                    var i = e.type
                      , a = e.start
                      , o = e.end
                      , s = e.duration
                      , u = void 0 === s ? 0 : s
                      , c = e.recover
                      , l = void 0 !== c && c
                      , d = i
                      , f = t.handleFilters.find((function(t) {
                        return t.type == d
                    }
                    ));
                    if (f && Object.assign(f, {
                        value: o,
                        duration: u
                    }),
                    !f && t.handleFilters.unshift({
                        type: i,
                        value: o,
                        duration: u,
                        start: a
                    }),
                    t.filterWorker)
                        t.filterWorker({
                            handle: "update",
                            filter: sn.a.isSupportWebGl ? i : t.handleFilters,
                            start: a,
                            end: o,
                            duration: u,
                            recover: l,
                            key: t.key
                        });
                    else {
                        var h = !0;
                        t.visible = !1,
                        en.a.runTest && Object(g.d)() && ml({
                            type: gl,
                            text: "同时执行的滤镜已达到上限，为了作品不闪退请及时调整作品！"
                        });
                        var p = this.game.world
                          , v = p.width
                          , m = p.height
                          , y = t.width
                          , b = t.height
                          , w = Math.min(y / v, b / m) || 1;
                        t.imageData = t.imageData || sn.a.isSupportWebGl ? t.texture.baseTexture.source : Object(k.C)(r.data);
                        var x = sn.a.isSupportWebGl ? ug : g.e
                          , _ = {
                            filter: i,
                            imageData: t.imageData,
                            start: a,
                            end: o,
                            duration: u,
                            key: t.key,
                            zIndex: t.zIndex,
                            scale: w,
                            updateFrame: function(e) {
                                if (e) {
                                    var n = t.texture.baseTexture;
                                    t.texture.baseTexture = new PIXI.BaseTexture(sn.a.isSupportWebGl ? e : Object(k.B)(e, n))
                                } else
                                    ml({
                                        type: gl,
                                        text: "当前浏览器不支持滤镜功能！"
                                    });
                                h && (t.visible = !0,
                                h = !1)
                            },
                            isPaused: function() {
                                return n.paused
                            }
                        };
                        t.filterWorker = x(_)
                    }
                }
            }
        }, {
            key: "renderImage",
            value: function(t) {
                var e = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                  , r = arguments.length > 2 ? arguments[2] : void 0
                  , i = arguments.length > 3 ? arguments[3] : void 0
                  , a = arguments.length > 4 ? arguments[4] : void 0
                  , o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5]
                  , s = t.url
                  , u = t.width
                  , l = t.height
                  , d = t.rotate
                  , f = void 0 === d ? 0 : d
                  , h = t.mirrorH
                  , p = t.mirrorV
                  , v = t.x
                  , g = t.y
                  , m = t.opacity
                  , y = void 0 === m ? 1 : m
                  , b = t.index
                  , w = t.scaleX
                  , x = void 0 === w ? 1 : w
                  , k = t.scaleY
                  , _ = void 0 === k ? 1 : k
                  , O = t.filter
                  , S = void 0 === O ? {} : O;
                if (1 !== b) {
                    var P = Object(nn.o)(s) && s.type && "spine" !== s.type
                      , C = this.props.getPlayContext;
                    P && ($s.playContext = C());
                    var E = Promise.resolve();
                    P && (E = s && void 0 !== s.value && o ? Promise.resolve() : Hc(s, C()).then((function(t) {
                        s = mr()(s, {
                            value: {
                                $set: t
                            }
                        }),
                        e.state = mr()(e.state, {
                            images: c()({}, b, {
                                command: {
                                    args: c()({}, 0, {
                                        url: {
                                            $set: s
                                        }
                                    })
                                }
                            })
                        })
                    }
                    ))),
                    E.then((function() {
                        var t = wu.image(s, {
                            x: v,
                            y: g
                        })
                          , o = function() {
                            var e, n = t.texture.frame, r = t.width, i = t.height;
                            e = P ? Math.min(u / 100, l / 100) : Math.min(u / r, l / i),
                            t.pivot.x = r / 2,
                            t.pivot.y = i / 2,
                            t.sourceScale = e,
                            t.scale.setTo(e, e),
                            t.width = Math.abs(x * e * n.width),
                            t.height = Math.abs(_ * e * n.height),
                            t.x += t.width / 2,
                            t.y += t.height / 2,
                            t.angle = 180 === parseInt(f) ? 179.9 : f,
                            h && (t.angle = -t.angle,
                            t.scale.x = -t.scale.x,
                            t.mirrorH = !0),
                            p && (t.angle = -t.angle,
                            t.scale.y = -t.scale.y,
                            t.mirrorV = !0)
                        };
                        o(),
                        t.alpha = y,
                        t.zIndex = b,
                        t.tweenPromises = [];
                        var d = t.redo;
                        S = jy(jy({}, S), {}, {
                            start: S.value,
                            end: S.value,
                            duration: 0
                        }),
                        t.handleFilters = [],
                        t.redo = function() {
                            t.x = v,
                            t.y = g,
                            t.scale.setTo(1, 1),
                            o(),
                            t.updateTransform();
                            var n = t.tweenPromises;
                            t.tweenPromises = [],
                            n.forEach((function(t) {
                                return t.redo && t.redo()
                            }
                            )),
                            n.forEach((function(t) {
                                return t.cancel && t.cancel(!1)
                            }
                            )),
                            d && d(),
                            d = null,
                            t.redo = null,
                            e.state = mr()(e.state, {
                                images: c()({}, b, {
                                    $apply: function(e) {
                                        return e ? jy(jy({}, e), {}, {
                                            x: Math.floor(t.x),
                                            y: Math.floor(t.y)
                                        }) : e
                                    }
                                })
                            }),
                            S.type && e.handleImageFilter(t, S)
                        }
                        ;
                        var m = t.destroy;
                        t.destroy = function() {
                            t.tweenPromises.forEach((function(t) {
                                return t.cancel && t.cancel(!1)
                            }
                            )),
                            t.tweenPromises = [],
                            t.filterWorker && t.filterWorker({
                                handle: "clear",
                                key: t.key
                            }),
                            t.filterWorker = null,
                            t.imageData = null;
                            for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)
                                n[r] = arguments[r];
                            m[Vn.a](t, n)
                        }
                        ,
                        S.type && e.handleImageFilter(t, S);
                        for (var w = e.images.children, k = 0; k < w.length; k++) {
                            var O = w[k];
                            if (O.zIndex === b) {
                                e.images.removeChildAt(k),
                                O.destroy();
                                break
                            }
                            if (O.zIndex > b)
                                break
                        }
                        e.images.add(t, !1, k),
                        void 0 !== r && (t.x = r),
                        void 0 !== i && (t.y = i),
                        e.state = mr()(e.state, {
                            images: c()({}, b, {
                                $apply: function(e) {
                                    return e ? jy(jy({}, e), {}, {
                                        x: Math.floor(t.x),
                                        y: Math.floor(t.y)
                                    }) : e
                                }
                            })
                        }),
                        n.forEach((function(t) {
                            if (t.commands && t.next)
                                e.registerEvents(t.args, t.commands, t.next);
                            else {
                                var n = t.args[0]
                                  , r = n.events
                                  , i = n.commands
                                  , o = void 0 === i ? [] : i;
                                r.forEach((function(t) {
                                    return e.registerEvents(t, o, a)
                                }
                                ))
                            }
                        }
                        ))
                    }
                    ))
                } else
                    this.renderBackground(t)
            }
        }, {
            key: "removeImage",
            value: function(t) {
                if (1 == t)
                    (0,
                    this.props.setBackground)({}),
                    this.background.removeAll(!0);
                else
                    for (var e = this.images.children, n = 0; n < e.length; n++) {
                        var r = e[n];
                        if (r.zIndex == t) {
                            this.images.removeChildAt(n),
                            r.destroy();
                            break
                        }
                    }
            }
        }, {
            key: "renderOptions",
            value: function(t, e) {
                var n = this;
                this.options.removeAll(!0);
                var r = (0,
                this.props.getPlayContext)()
                  , i = this.game.time.events
                  , a = this.json.template.json.option
                  , o = a.rect
                  , u = a.normal
                  , c = a.active
                  , l = []
                  , d = []
                  , f = {
                    type: null,
                    index: null
                };
                (function t(a, h) {
                    if (h >= a.length)
                        return Promise.resolve();
                    var p = a[h]
                      , v = p.font
                      , g = p.timer
                      , m = p.background
                      , y = p.hideTimer
                      , b = p.disable
                      , w = void 0 !== b && b
                      , x = p.name
                      , k = p.condition
                      , _ = p.sound
                      , O = p.uuid
                      , S = p.hidden
                      , P = void 0 !== S && S
                      , C = p.default;
                    if (void 0 !== C && C && P)
                        return f = {
                            type: "option",
                            index: h
                        },
                        t(a, h + 1);
                    (!_ || _ && !_.url) && (_ = En.optionSound);
                    var E = k ? Hc(k[gn.m], r) : Promise.resolve()
                      , j = g ? Hc(g.time, r) : Promise.resolve();
                    return Promise.all([Gc(x, r, !0), j, E]).then((function(r) {
                        var f = s()(r, 3)
                          , b = f[0]
                          , x = f[1]
                          , S = f[2];
                        if (k) {
                            var P = k.disable
                              , C = k.enable;
                            if (w = S ? "disable" === C.type : "disable" === P.type,
                            S ? "hidden" === C.type : "hidden" === P.type)
                                return d.push(Promise.resolve(!1)),
                                t(a, h + 1)
                        }
                        var E = o.x
                          , j = o.y
                          , A = o.width
                          , I = o.height
                          , R = u.background.url
                          , T = u.background.url
                          , M = c.background.url;
                        E = null != p.x ? p.x : E,
                        j = null != p.y ? p.y : j,
                        E = iu.roundToInt(E),
                        j = iu.roundToInt(j),
                        m && (A = null != p.width ? p.width : A,
                        I = null != p.height ? p.height : I,
                        M = m.active.url,
                        R = m.normal.url,
                        T = m.disable ? m.disable.url : R);
                        var D = {
                            fontSize: v.normal.font_size,
                            fontWeight: v.normal.bold,
                            color: v.normal.color
                        }
                          , B = {
                            fontSize: v.disable.font_size,
                            fontWeight: v.disable.bold,
                            color: v.disable.color
                        }
                          , U = wu.button({
                            x: E,
                            y: j,
                            width: A,
                            height: I
                        }, {
                            normalUrl: R,
                            activeUrl: M,
                            disableUrl: T,
                            audio: _,
                            onClick: function(t, n) {
                                n.pointerMode === Phaser.PointerMode.CURSOR && 0 !== n.button || (l.forEach((function(t) {
                                    return t()
                                }
                                )),
                                e({
                                    type: "options",
                                    index: h
                                }),
                                Za([O]))
                            },
                            textOptions: {
                                disable: B,
                                normal: D,
                                active: D
                            }
                        });
                        return n.options.add(U),
                        U.showText(!v.normal.hidden),
                        w && (U.disable(),
                        U.showText(!v.disable.hidden)),
                        U.setText(b),
                        g ? (!y && U.setText("".concat(b, "(").concat(x.toFixed(1), ")")),
                        d.push(new Promise((function(t) {
                            var e = i.loop(100, (function() {
                                n.paused || (x -= .1,
                                y || U && U.setText && U.setText("".concat(b, "(").concat(x.toFixed(1), ")")),
                                x <= 0 && (i.remove(e),
                                "disable" === g.type ? (U && U.showText && U.showText(!v.disable.hidden),
                                U && U.disable && U.disable(),
                                t(!1)) : (U && U.showText && U.showText(!v.normal.hidden),
                                U && U.enable && U.enable(),
                                t(!0)),
                                U && U.setText && U.setText(b)))
                            }
                            ));
                            n.optionsTimeoutHandles.push((function() {
                                i.remove(e)
                            }
                            )),
                            l.push((function() {
                                i.remove(e),
                                t(!0)
                            }
                            ))
                        }
                        )))) : w && d.push(Promise.resolve(!1)),
                        t(a, h + 1)
                    }
                    ))
                }
                )(t, 0).then((function() {
                    return Promise.all(d).then((function(n) {
                        var r = f.type ? t.length - 1 : t.length;
                        n.length !== r || n[Vn.F]((function(t) {
                            return t
                        }
                        )) || e(f)
                    }
                    ))
                }
                ))
            }
        }, {
            key: "updateBubbleState",
            value: function(t) {
                if (t) {
                    var e = Cy.getInstance().handleBubbleState(t)
                      , n = Cy.getInstance().handleBubbleCount();
                    this.state = mr()(this.state, {
                        bubbleCount: {
                            $set: a()(n)
                        }
                    });
                    var r = this.state.bubbleMode.findIndex((function(t) {
                        return t.index === e.index
                    }
                    ));
                    this.state = ~r ? mr()(this.state, {
                        bubbleMode: c()({}, r, {
                            $set: e
                        })
                    }) : mr()(this.state, {
                        bubbleMode: {
                            $push: [e]
                        }
                    })
                }
            }
        }, {
            key: "doInTL",
            value: function(t) {
                var e = this;
                return t !== this.timeline ? Promise.reject("timeline changed") : this.paused ? new Promise((function(n, r) {
                    !function i() {
                        e.paused ? e.setTimeoutId = setTimeout(i, 50) : t !== e.timeline ? r("timeline changed") : n()
                    }()
                }
                )) : Promise.resolve()
            }
        }, {
            key: "pause",
            value: function() {
                this.paused = !0,
                this.dialogView && this.dialogView.pause()
            }
        }, {
            key: "proceed",
            value: function() {
                this.paused = !1,
                this.dialogView && !this.dialogView.changeline && this.dialogView.proceed()
            }
        }, {
            key: "playMusic",
            value: function(t) {
                var e = t.url
                  , n = t.volume;
                e ? "inherit" === e ? nr.setMusicVolume(n) : nr.playMusic({
                    url: e,
                    volume: n
                }) : nr.stopMusic()
            }
        }, {
            key: "playSound",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , e = t || {}
                  , n = e.index
                  , r = e.url
                  , i = e.volume
                  , a = e.time
                  , o = void 0 === a ? 0 : a;
                r && "" !== r ? nr.playSound({
                    channel: n,
                    url: r,
                    volume: i,
                    loop: 1 !== o
                }) : nr.stopSound(n)
            }
        }, {
            key: "animateImage",
            value: function(t) {
                var e = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , r = this.props.getInheritBackground
                  , i = t.index
                  , a = t.duration
                  , o = t.delay
                  , s = t.x
                  , u = t.y
                  , c = t.opacity
                  , l = void 0 === c ? 1 : c
                  , d = t.scaleX
                  , f = void 0 === d ? 1 : d
                  , h = t.scaleY
                  , p = void 0 === h ? 1 : h
                  , v = t.rotate
                  , g = t.filter;
                if (1 === i)
                    return r().opacity = l,
                    Ln.to({
                        target: this.background.children[0],
                        properties: {
                            alpha: l
                        },
                        duration: a,
                        delay: o
                    });
                v = 180 === v ? 179.9 : -180 === v ? -179.9 : v;
                for (var m = this.images.children, y = null, b = 0; b < m.length; b++) {
                    var w = m[b];
                    if (w.zIndex === i) {
                        y = w;
                        break
                    }
                }
                if (y) {
                    var x = y.texture.frame
                      , _ = y
                      , O = _.sourceScale;
                    s += f * O * x.width / 2,
                    u += p * O * x.height / 2,
                    f *= O,
                    p *= O,
                    y.mirrorH && (v = -v,
                    f = -f),
                    y.mirrorV && (v = -v,
                    p = -p);
                    var S = f * x.width
                      , P = p * x.height
                      , C = {
                        alpha: l,
                        angle: v,
                        x: s,
                        y: u,
                        width: S,
                        height: P
                    }
                      , E = Object.keys(C);
                    if (n || y.tweenPromises.forEach((function(t) {
                        return t.cancel && t.cancel(!0, C)
                    }
                    )),
                    En.fastPlay) {
                        var j = En.getFastPlayAnimationInfo(a);
                        o = j.delay,
                        a = j.duration
                    }
                    if (E[Vn.F]((function(t) {
                        return y[t] !== C[t]
                    }
                    ))) {
                        (E.filter((function(t) {
                            return y[t] == C[t]
                        }
                        )) || []).forEach((function(t) {
                            return C[t] && delete C[t]
                        }
                        ));
                        var A = Ln.to({
                            target: y,
                            properties: C,
                            duration: a,
                            delay: o
                        });
                        A.properties = C;
                        var I = A.cancel
                          , R = A.properties;
                        A.redo = function() {
                            return e.animateImage(t, !0)
                        }
                        ,
                        A.cancel = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                              , e = arguments.length > 1 ? arguments[1] : void 0;
                            if (R && e) {
                                R = Object.assign({}, R);
                                var n = Object.keys(R) || []
                                  , r = Object.keys(e) || [];
                                n[Vn.F]((function(t) {
                                    return e[t] == R[t] && R[t] !== y[t]
                                }
                                )) && (r.filter((function(t) {
                                    return R[t] == e[t]
                                }
                                )) || []).forEach((function(t) {
                                    return e[t] && delete e[t]
                                }
                                ))
                            }
                            I && I(t),
                            y.tweenPromises = []
                        }
                        ,
                        y.tweenPromises.push(A)
                    }
                    var T = function(t) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                          , r = !1
                          , i = Object(k.x)(n).then((function() {
                            return !r && e.handleImageFilter(y, t)
                        }
                        ));
                        i.cancel = function() {
                            r = !0,
                            e.handleImageFilter(y, jy(jy({}, t), {}, {
                                duration: 0
                            }))
                        }
                        ,
                        i.redo = function() {
                            return e.handleImageFilter(y, t)
                        }
                        ,
                        y.tweenPromises.push(i)
                    };
                    g && g.type ? (g = jy(jy({}, g), {}, {
                        start: 0,
                        end: g.value,
                        duration: a
                    }),
                    T(g, o)) : y.handleFilters && Object(k.x)(o).then((function() {
                        y.handleFilters.forEach((function(t) {
                            T({
                                type: t.type,
                                start: t.value,
                                end: 0,
                                duration: a,
                                recover: !0
                            }, 0)
                        }
                        )),
                        y.handleFilters = []
                    }
                    ))
                }
            }
        }, {
            key: "animateDialog",
            value: function(t) {
                var e = this
                  , n = t.duration
                  , r = t.delay
                  , i = t.opacity
                  , a = void 0 === i ? 1 : i
                  , o = t.rotate
                  , s = t.x
                  , u = t.y;
                if (this.dialogView) {
                    if (En.fastPlay) {
                        var c = En.getFastPlayAnimationInfo(n);
                        r = c.delay,
                        n = c.duration
                    }
                    var l = this.dialogView.container
                      , d = Ln.to({
                        target: l,
                        properties: {
                            x: Number(s),
                            y: Number(u),
                            alpha: a,
                            rotate: o
                        },
                        duration: n,
                        delay: r
                    });
                    this.tweens.push(d),
                    l.animateDialog = d,
                    d.then((function() {
                        var t = e.tweens.findIndex((function(t) {
                            return t === d
                        }
                        ));
                        ~t && e.tweens.splice(t, 1),
                        l.animateDialog = null
                    }
                    ))
                }
            }
        }, {
            key: "showSpeak",
            value: function(t) {
                return this.handleClearContinue(),
                this.dialogView && this.dialogView.animating && !this.dialogView.animating.over && this.dialogView.animating.showpage ? (this.dialogView.animating && this.dialogView.animating.showpage(),
                void Object(k.x)(500).then(t)) : t()
            }
        }, {
            key: "animateSpeak",
            value: function(t) {
                var e = this
                  , n = this.dialogView.animate(void 0, this.autoPlay)
                  , r = this.handleContinue(t);
                return function i() {
                    return Promise.race([n, r]).then((function(a) {
                        return null == a && e.dialogView.isClickChange && !En.autoPlay ? (e.handleClearContinue(),
                        r = e.handleContinue(t),
                        e.dialogView.showpageing || (e.dialogView.isShowPage() ? n.showpage && n.showpage() : e.dialogView.proceed()),
                        i()) : Promise.resolve()
                    }
                    )).then((function() {
                        return n.cancel && n.cancel()
                    }
                    )).then((function() {
                        return e.doInTL(t)
                    }
                    )).then((function() {
                        return e.handleClearContinue()
                    }
                    ))
                }()
            }
        }, {
            key: "registerEvents",
            value: function(t, e, n) {
                var r = this
                  , i = this.props
                  , o = i.getPlayContext
                  , s = i.updatePlayContext
                  , u = this.getImagebyIndex(t.index)[0];
                if (u) {
                    var l = this.imageEvents.findIndex((function(e) {
                        return e.index === t.index && e.type === t.type
                    }
                    ));
                    ~l && this.imageEvents.splice(l, 1),
                    Qm({
                        target: u,
                        args: t,
                        getPlayContext: o,
                        commands: e,
                        inNextContext: n,
                        playStack: a()(this.state.playStack),
                        dispatch: function(t) {
                            return r.dispatchContinueClick(t)
                        },
                        callback: function(e, n) {
                            Object(nn.o)(e) && s(e),
                            r.state = mr()(r.state, {
                                images: c()({}, t.index, {
                                    $apply: function(t) {
                                        return t ? jy(jy({}, t), {}, {
                                            x: Math.floor(u.x),
                                            y: Math.floor(u.y)
                                        }) : t
                                    }
                                })
                            }),
                            n && n()
                        }
                    }),
                    this.imageEvents.push({
                        index: t.index,
                        type: t.type,
                        mode: t.mode
                    })
                }
            }
        }, {
            key: "removeEvents",
            value: function(t) {
                ty(jy(jy({}, t), {}, {
                    target: this.getImagebyIndex(t.index)[0]
                })),
                this.imageEvents = a()(this.imageEvents.filter((function(e) {
                    return e.index !== t.index || e.type !== t.type || void 0 !== t.mode && t.mode !== e.mode || void 0 === t.mode
                }
                )))
            }
        }, {
            key: "handleClearContinue",
            value: function() {
                var t = this.game.input
                  , e = t.keyboard
                  , n = t.onHold;
                this.click2continue.removeAll(!0),
                this.click1continue.removeAll(!0),
                n.removeAll(this),
                e.addKey(Phaser.Keyboard.Z).onDown.removeAll(this),
                e.addKey(Phaser.Keyboard.SPACEBAR).onDown.removeAll(this)
            }
        }, {
            key: "getNextContextInStack",
            value: function() {
                var t = this
                  , e = (0,
                this.props.getPlayContext)()
                  , n = this.state.playStack;
                return function r() {
                    if (!n || !n.length)
                        return Promise.resolve(null);
                    var i = n[0]
                      , a = i.loop
                      , o = i.chapter
                      , u = i.plotIndex
                      , c = i.plots
                      , l = i.commands
                      , d = i.cmdIndex;
                    if (a) {
                        var f = a.countExpr
                          , h = a.count
                          , p = a.condition
                          , v = a.breakNext;
                        return Promise.all([Hc(p, e), f ? Hc(f, e) : Promise.resolve()]).then((function(e) {
                            var i = s()(e, 2)
                              , a = i[0]
                              , p = i[1];
                            if (a) {
                                if (!f)
                                    return {
                                        chapter: o,
                                        plotIndex: u,
                                        plots: c,
                                        commands: l,
                                        cmdIndex: d
                                    };
                                if (t.state = mr()(t.state, {
                                    playStack: {
                                        0: {
                                            loop: {
                                                count: {
                                                    $set: h + 1
                                                }
                                            }
                                        }
                                    }
                                }),
                                p = parseInt(p, 10),
                                h < (p = p >= 1 ? p : 1))
                                    return {
                                        chapter: o,
                                        plotIndex: u,
                                        plots: c,
                                        commands: l,
                                        cmdIndex: d
                                    }
                            }
                            return o = v.chapter,
                            u = v.plotIndex,
                            c = v.plots,
                            l = v.commands,
                            d = v.cmdIndex,
                            n = n.slice(1),
                            t.state = Object.assign({}, t.state, {
                                playStack: n
                            }),
                            l[d] ? Promise.resolve({
                                chapter: o,
                                plotIndex: u,
                                plots: c,
                                commands: l,
                                cmdIndex: d
                            }) : r()
                        }
                        ))
                    }
                    return n = n.slice(1),
                    t.state = Object.assign({}, t.state, {
                        playStack: n
                    }),
                    l[d] ? Promise.resolve({
                        chapter: o,
                        plotIndex: u,
                        plots: c,
                        commands: l,
                        cmdIndex: d
                    }) : r()
                }()
            }
        }, {
            key: "setControlPlay",
            value: function(t, e) {
                var n = this;
                this.controlPlay = function(r) {
                    var i = n.props.findPlayStackId
                      , a = r.type
                      , o = r.control;
                    switch (a) {
                    case "nextPlot":
                        if (1 === n.controlNextPlot)
                            return;
                        n.controlNextPlot = 1;
                        var s = n.context
                          , u = s.commands
                          , c = s.cmdIndex
                          , l = s.chapter;
                        Qo.resetCommandOption(u[c], -1, l),
                        n.timeline = {},
                        e(mr()(n.context, {
                            cmdIndex: {
                                $apply: function(t) {
                                    return t + 1
                                }
                            }
                        }));
                        break;
                    case "back":
                        return n.timeline = {},
                        t({
                            type: a
                        });
                    case "jump":
                    case "insertPlot":
                        return n.timeline = {},
                        t(r);
                    case "jumpOption":
                    case "backOption":
                        var d = n.state.playStack
                          , f = parseInt(o.value) > 0 ? o.value : 0
                          , h = d.takeWhile((function(t) {
                            return Iy[t.type]
                        }
                        )).length
                          , p = null;
                        f > 0 && h && (p = d[(h = i(d, h = h > f ? f : h)) - 1],
                        n.state = mr()(n.state, {
                            playStack: {
                                $splice: [[0, h]]
                            }
                        }),
                        p.loop && (p = p.loop.breakNext),
                        "backOption" === a && (p = mr()(p, {
                            cmdIndex: {
                                $apply: function(t) {
                                    return t - 1
                                }
                            }
                        }))),
                        p && (n.timeline = {},
                        e(p));
                        break;
                    default:
                        console.warn("".concat(a, " is error"))
                    }
                }
            }
        }, {
            key: "play",
            value: function(t, e) {
                var n = this;
                this.handleClearContinue();
                var r = this.props
                  , i = r.getPlayContext
                  , o = r.noShowingViews
                  , s = r.pushPlayback
                  , u = r.repeatHandle
                  , l = r.saveReadRecord
                  , d = r.filterOptionsClient
                  , f = r.findPlayStackId
                  , h = r.handleShowTools
                  , p = this.game.world
                  , v = p.width
                  , g = p.height;
                this.context = t;
                var m = {}
                  , y = t.load;
                this.timeline = m,
                this.controlPlay = null;
                var b = null
                  , w = !1;
                this.controlNextPlot = 0,
                y || (this.autoPlay = !1,
                t.commandState && t.commandState.autotext && (this.autoPlay = t.commandState.autotext.args[0])),
                Cy.getInstance().borderVectors.forEach((function(t) {
                    return t && n.updateBubbleState(t)
                }
                ));
                var x = function(t, e, r) {
                    if ("loop" === e.type || "countLoop" === e.type) {
                        var i = {
                            count: 1,
                            countExpr: e.count,
                            condition: e[gn.m],
                            breakNext: r
                        }
                          , a = Object.assign({}, r, {
                            commands: e.commands,
                            cmdIndex: 0,
                            loop: i,
                            type: t
                        });
                        n.state = Object.assign({}, n.state, {
                            playStack: [a].concat(n.state.playStack)
                        })
                    } else
                        r = Object.assign({}, r, {
                            type: t
                        }),
                        n.state = Object.assign({}, n.state, {
                            playStack: [r].concat(n.state.playStack)
                        })
                }
                  , _ = function(t, r) {
                    n.controlNextPlot = 1;
                    var i = n.context
                      , a = i.commands
                      , o = i.cmdIndex
                      , s = a[o] || {}
                      , u = s.type
                      , c = s.args
                      , l = "autoSaveOrLoad" === u && 1 === c[0].type
                      , d = b;
                    a = d.commands,
                    o = d.cmdIndex;
                    var f = u == gn.D + "s";
                    (f ? e(s) : Promise.resolve()).then((function() {
                        var i = Promise.resolve(b);
                        a && a[o] || (i = n.getNextContextInStack()),
                        i.then((function(i) {
                            var u = b = i || {};
                            if (a = u.commands,
                            o = u.cmdIndex,
                            n.timeline = m = {},
                            !a || !a[o])
                                return n.controlNextPlot = 0,
                                e(s, null, f).then((function() {
                                    return l ? null : t({})
                                }
                                ));
                            e(s, b, f, y).then((function() {
                                y = !1,
                                n.controlNextPlot = 0,
                                l || (n.context = b,
                                S(t, r))
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                  , O = function(t) {
                    if (!function() {
                        var t = n.json.default_settings.autoSaveOrLoad;
                        if (n.state && n.state.disableSaveOrLoad) {
                            if (Object.keys(n.state.disableSaveOrLoad.args[0]).filter((function(t) {
                                return n.state.disableSaveOrLoad.args[0][t]
                            }
                            )).length > 0)
                                return !0
                        } else if (!Object(nn.b)(t))
                            return t;
                        return !1
                    }() && (t || !En.fastPlay)) {
                        if (!t) {
                            var e = Ry.saveRead
                              , r = (e = void 0 === e ? {} : e).time
                              , i = e.max
                              , a = an.a.getCurDate();
                            if (0 !== r && a - r < i)
                                return
                        }
                        return Ry.saveRead.time = an.a.getCurDate(),
                        l(t)
                    }
                }
                  , S = function t(e, r) {
                    if (m === n.timeline) {
                        if (n.paused)
                            return n.setTimeoutId = setTimeout((function() {
                                return t(e, r)
                            }
                            ), 50);
                        n.controlNextPlot = 0;
                        var l = n.context
                          , p = l.commands
                          , S = l.cmdIndex
                          , P = l.chapter
                          , C = p[S];
                        if (b = Object.assign({}, n.context, {
                            cmdIndex: S + 1
                        }),
                        !C)
                            return _(e, r);
                        w = !1;
                        var E = C.type
                          , j = C.args
                          , A = m
                          , I = function() {
                            return n.options.children.length <= 0
                        }
                          , R = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                            if (u && u(),
                            A === m)
                                if ("bubble" != t || I() && !En.fastPlay) {
                                    if (!w || "events" === t || "bubble" === t)
                                        return _(e, r);
                                    var i = n.click2continue.children
                                      , a = i[0];
                                    a && a.events.onInputUp.dispatch()
                                } else
                                    n.game.input.onUp.dispatch();
                            else
                                n.game.input.onUp.dispatch()
                        }
                          , T = function(t) {
                            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "imgEvents"
                              , a = arguments.length > 2 ? arguments[2] : void 0
                              , o = arguments.length > 3 ? arguments[3] : void 0;
                            if (t.length > 0)
                                return n.state = mr()(n.state, {
                                    playStack: {
                                        $set: o
                                    }
                                }),
                                x(i, j[0], a),
                                b = jy(jy({}, a), {}, {
                                    commands: t,
                                    cmdIndex: 0
                                }),
                                _(e, r)
                        }
                          , M = n.game.world
                          , D = M.width
                          , B = M.height;
                        Xm(R, T),
                        Cy.getInstance().updateRunNext(R);
                        var U, z = function t(e, n) {
                            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1;
                            return n >= e.length || ~r ? Promise.resolve(r) : Hc(e[n][gn.m], i()).then((function(r) {
                                return t(e, n + 1, r ? n : -1)
                            }
                            ))
                        };
                        switch (E) {
                        case "animateScene":
                            n.state = mr()(n.state, {
                                animateScene: {
                                    $set: "shake" === j[0].type && j[0].loop ? C : void 0
                                }
                            }),
                            n.animateScene(j[0]);
                            break;
                        case "animateDialog":
                            n.state = mr()(n.state, {
                                dialog: {
                                    animate: {
                                        $set: C
                                    }
                                }
                            }),
                            n.animateDialog(j[0]);
                            break;
                        case "showDialog":
                            return !y && s(j[0]),
                            n.dialogView && n.dialogView.container && n.dialogView.container.animateDialog && (n.dialogView.container.animateDialog.cancel(),
                            n.dialogView.container.animateDialog = null),
                            n.renderDialog(j[0]).then((function() {
                                return w = !0,
                                n.animateSpeak(A).then((function() {
                                    O();
                                    var t = function() {
                                        return t = null,
                                        n.state = mr()(n.state, {
                                            dialog: {
                                                $set: {
                                                    command: C
                                                }
                                            }
                                        }),
                                        _(e, r)
                                    };
                                    Xm((function() {
                                        w = !1,
                                        t && t()
                                    }
                                    ));
                                    var i = function() {
                                        return t && t()
                                    };
                                    return En.fastPlay && o() ? i() : (n.autoPlay || En.autoPlay) && o() ? Object(k.x)(n.autoPlaySpeed(j[0].speaking.immediate)).then((function() {
                                        return n.doInTL(A)
                                    }
                                    )).then((function() {
                                        return i()
                                    }
                                    )) : n.handleContinue(A).then(i)
                                }
                                ))
                            }
                            ));
                        case "hideDialog":
                            n.dialogView && n.dialogView.clear(),
                            n.dialogView = null,
                            n.state = mr()(n.state, {
                                dialog: {
                                    $set: {}
                                }
                            });
                            break;
                        case "options":
                            if (!j.length)
                                break;
                            return O(!0),
                            function t(e, n) {
                                var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                                if (n >= e.length && !r)
                                    return Promise.resolve();
                                if (e[n] && !e[n].condition || r)
                                    return Promise.resolve(e[r ? n - 1 : n]);
                                var a = e[n].condition
                                  , o = a.disable
                                  , s = a.enable;
                                return Hc(a[gn.m], i()).then((function(r) {
                                    return t(e, n + 1, !(r ? "hidden" === s.type : "hidden" === o.type))
                                }
                                ))
                            }(j, 0, !1).then((function(t) {
                                return t ? (w = !0,
                                n.game.input.onUp.dispatch(),
                                new Promise((function(t) {
                                    return n.renderOptions(j, t)
                                }
                                )).then((function(t) {
                                    return n.options.removeAll(!0),
                                    Promise.resolve(t)
                                }
                                )).then((function(t) {
                                    return n.doInTL(A).then((function() {
                                        return t
                                    }
                                    ))
                                }
                                )).then((function(t) {
                                    var e = -1;
                                    t && null !== t.index && j[t.index].commands && (e = t.index,
                                    x("option", j[e], b),
                                    b = jy(jy({}, b), {}, {
                                        commands: j[e].commands,
                                        cmdIndex: 0
                                    })),
                                    Qo.resetCommandOption(C, e, P)
                                }
                                )).then((function() {
                                    return _(e, r)
                                }
                                ))) : (Qo.resetCommandOption(C, -1, P),
                                _(e, r))
                            }
                            ));
                        case "conditionOptions":
                            if (!j.length)
                                break;
                            return d(j).then((function(t) {
                                return z(t, 0).then((function(t) {
                                    var n = t > -1 ? j[t].commands : [];
                                    return n.length && (x("condition_option", j[t], b),
                                    b = Object.assign({}, b, {
                                        commands: n,
                                        cmdIndex: 0
                                    })),
                                    Qo.resetCommandOption(C, t, P),
                                    _(e, r)
                                }
                                ))
                            }
                            )).catch((function() {
                                return b = Object.assign({}, b, {
                                    cmdIndex: S
                                }),
                                n.doInTL(A).then((function() {
                                    return n.handleContinue(m).then((function() {
                                        return _(e, r)
                                    }
                                    ))
                                }
                                ))
                            }
                            ));
                        case "autotext":
                            n.autoPlay = j[0],
                            n.state = mr()(n.state, {
                                autotext: {
                                    $set: C
                                }
                            });
                            break;
                        case "disableSaveOrLoad":
                            n.state = mr()(n.state, {
                                disableSaveOrLoad: {
                                    $set: C
                                }
                            });
                            break;
                        case "wait":
                            return w = !0,
                            Object(k.x)(j[0].value && En.fastPlay ? 10 : j[0].value + 20, !0).then((function() {
                                return n.doInTL(A)
                            }
                            )).then((function() {
                                return _(e, r)
                            }
                            )).catch((function(t) {
                                return console.warn("command wait error ", t)
                            }
                            ));
                        case "hideMenu":
                        case "showMenu":
                            break;
                        case "weather":
                            n.state = mr()(n.state, {
                                weather: {
                                    $set: C
                                }
                            }),
                            n.renderWeather(j[0]);
                            break;
                        case "back":
                            return e({
                                type: E
                            });
                        case "jump":
                        case "insert":
                            var L = function() {
                                return e({
                                    type: E,
                                    control: {
                                        uuid: j[0]
                                    }
                                })
                            };
                            return y ? n.handleContinue(A).then(L) : L();
                        case "jumpOption":
                        case "backOption":
                            var V = n.state.playStack
                              , F = parseInt(j[0].value) > 0 ? j[0].value : 0
                              , N = V.takeWhile((function(t) {
                                return Iy[t.type]
                            }
                            )).length;
                            F > 0 && N && (N = f(V, N = N > F ? F : N),
                            b = V[N - 1],
                            n.state = Object.assign({}, n.state, {
                                playStack: V.slice(N)
                            }),
                            b.loop && (b = b.loop.breakNext),
                            "backOption" === E && (b = Object.assign({}, b, {
                                cmdIndex: b.cmdIndex - 1
                            })));
                            break;
                        case "showBubble":
                            return Cy.getInstance().showBubble(C, R).then((function() {
                                return _(e, r)
                            }
                            ));
                        case "emitBubble":
                            return y ? n.handleContinue(A).then((function() {
                                return _(e, r)
                            }
                            )) : Cy.getInstance().eidtBubble(j[0], {
                                recover: !1,
                                next: R
                            }).then((function() {
                                return n.updateBubbleState(Cy.getInstance().currentBorder),
                                O(),
                                "text" == j[0].type && s(j[0], !0),
                                En.fastPlay || n.autoPlay || En.autoPlay && o() && I() ? Object(k.x)(n.autoPlaySpeed(!1)).then((function() {
                                    return n.doInTL(A)
                                }
                                )).then((function() {
                                    return _(e, r)
                                }
                                )) : n.doInTL(A).then((function() {
                                    return n.handleContinue(m).then((function() {
                                        return R()
                                    }
                                    ))
                                }
                                ))
                            }
                            )).catch((function() {
                                return n.doInTL(A).then((function() {
                                    return _(e, r)
                                }
                                ))
                            }
                            ));
                        case "hideBubble":
                            Cy.getInstance().hideBubble(parseInt(j[0]), (function() {
                                return n.updateBubbleState(Cy.getInstance().currentBorder)
                            }
                            ));
                            break;
                        case "playSound":
                            n.playSound(j[0]);
                            break;
                        case "stopSound":
                            nr.stopSound(j[0]);
                            break;
                        case "playMusic":
                            n.playMusic(j[0]);
                            break;
                        case "stopMusic":
                            nr.stopMusic();
                            break;
                        case "animateSound":
                            var H = j[0]
                              , W = H.index
                              , G = H.volume
                              , q = H.duration
                              , Y = H.delay;
                            if (En.fastPlay) {
                                var Z = En.getFastPlayAnimationInfo(q);
                                Y = Z.delay,
                                q = Z.duration
                            }
                            nr.tweenToWithSound({
                                volume: G,
                                duration: q,
                                delay: Y,
                                channel: W
                            });
                            break;
                        case "animateMusic":
                            var J = j[0]
                              , K = J.volume
                              , $ = J.duration
                              , X = J.delay;
                            if (En.fastPlay) {
                                var Q = En.getFastPlayAnimationInfo($);
                                X = Q.delay,
                                $ = Q.duration
                            }
                            nr.tweenToWithMusic({
                                volume: K,
                                duration: $,
                                delay: X
                            });
                            break;
                        case "addImage":
                            n.state = mr()(n.state, {
                                images: c()({}, j[0].index, {
                                    $set: {
                                        command: C
                                    }
                                })
                            }),
                            n.renderImage(j[0]);
                            break;
                        case "animateImage":
                            n.state = mr()(n.state, {
                                images: c()({}, j[0].index, {
                                    $apply: function(t) {
                                        return t ? jy(jy({}, t), {}, {
                                            x: void 0 !== t.x ? void 0 : t.x,
                                            y: void 0 !== t.y ? void 0 : t.y,
                                            animate: C
                                        }) : t
                                    }
                                })
                            }),
                            n.animateImage(j[0]);
                            break;
                        case "delImage":
                            j.forEach((function(t) {
                                n.state = mr()(n.state, {
                                    images: c()({}, t, {
                                        $set: void 0
                                    })
                                }),
                                n.removeImage(t)
                            }
                            )),
                            O(!0);
                            break;
                        case "addView":
                            n.state = mr()(n.state, {
                                views: {
                                    $apply: function(t) {
                                        return [].concat(a()(t), [C])
                                    }
                                }
                            }),
                            O(!0);
                            break;
                        case "delView":
                            var tt = {};
                            j.forEach((function(t) {
                                return tt[t] = 1
                            }
                            )),
                            n.state = mr()(n.state, {
                                views: {
                                    $apply: function(t) {
                                        return t.filter((function(t) {
                                            return !tt[t.args[0].instanceUuid]
                                        }
                                        ))
                                    }
                                }
                            });
                            break;
                        case "showGlobalView":
                        case "hideGlobalView":
                            n.state = mr()(n.state, {
                                hideGlobalViews: {
                                    $apply: function(t) {
                                        return t = t.filter((function(t) {
                                            return t !== j[0]
                                        }
                                        )),
                                        "showGlobalView" === E ? t : [].concat(a()(t), [j[0]])
                                    }
                                }
                            });
                            break;
                        case "addImageEvent":
                            if (!j.length)
                                break;
                            var et = j[0].commands;
                            j[0].events.forEach((function(t) {
                                n.registerEvents(t, et, b),
                                Xm(R, T);
                                var e = {
                                    args: t,
                                    commands: et,
                                    uuid: C.uuid,
                                    type: E,
                                    next: b
                                };
                                n.state = mr()(n.state, {
                                    images: c()({}, t.index, {
                                        $apply: function(t) {
                                            return t ? t.events ? jy(jy({}, t), {}, {
                                                events: [].concat(a()(t.events), [e])
                                            }) : jy(jy({}, t), {}, {
                                                events: [e]
                                            }) : t
                                        }
                                    })
                                })
                            }
                            ));
                            break;
                        case "delImageEvent":
                            j.forEach((function(t) {
                                n.removeEvents(t),
                                n.state = mr()(n.state, {
                                    images: c()({}, t.index, {
                                        $apply: function(e) {
                                            return e ? jy(jy({}, e), {}, {
                                                events: e.events ? a()(e.events.filter((function(e) {
                                                    return e.args.type !== t.type && (void 0 !== t.mode && e.args.mode !== t.mode || void 0 === t.mode)
                                                }
                                                ))) : []
                                            }) : void 0
                                        }
                                    })
                                })
                            }
                            ));
                            break;
                        case "video":
                            var nt = j[0]
                              , rt = nt.url
                              , it = nt.skip
                              , at = nt.volume;
                            if (!rt || "" === rt)
                                return _(e, r);
                            En.video && En.video.dispose(),
                            nr.toMuteAllSound();
                            var ot = ps.get(rt);
                            return (U = wu.rectMask({
                                rect: {
                                    width: D,
                                    height: B
                                },
                                alpha: 0
                            })).name = "videoMask",
                            U.inputEnabled = !0,
                            M.addChild(U),
                            ot.show(),
                            new Promise((function(t) {
                                ot.onComplete.addOnce((function() {
                                    return function() {
                                        var t = M.getByName("videoMask");
                                        t && M.remove(t, !0)
                                    }(),
                                    t()
                                }
                                )),
                                ot.start({
                                    url: rt,
                                    skip: it,
                                    volume: at,
                                    width: v,
                                    height: g
                                })
                            }
                            )).then((function() {
                                return _(e, r)
                            }
                            )).catch((function() {
                                return _(e, r)
                            }
                            ));
                        case "macro":
                            return x(E, j[0], b),
                            b = jy(jy({}, b), {}, {
                                commands: j[0].commands,
                                cmdIndex: 0
                            }),
                            n.doInTL(A).then((function() {
                                return _(e, r)
                            }
                            ));
                        case "addItem":
                            var st = [];
                            j.forEach((function(t) {
                                var e = t.ref
                                  , r = t.position;
                                st.push({
                                    ref: e,
                                    x: r[0] || 0,
                                    y: r[1] || 0,
                                    scale: r[2] || 1
                                }),
                                n.state = mr()(n.state, {
                                    toolsView: {
                                        $push: [c()({}, e, a()(r))]
                                    }
                                })
                            }
                            )),
                            h(st);
                            break;
                        case "delItem":
                            n.state = mr()(n.state, {
                                toolsView: {
                                    $apply: function(t) {
                                        return t.filter((function(t) {
                                            return String(Object.keys(t)[0]) !== String(j[0])
                                        }
                                        ))
                                    }
                                }
                            }),
                            vp.getInstance().hideItem(j[0])
                        }
                        _(e, r)
                    }
                };
                return new Promise((function(t, e) {
                    n.setControlPlay(t, (function(r) {
                        n.options.removeAll(!0),
                        n.handleClearContinue(),
                        b = r,
                        m = n.timeline,
                        n.controlNextPlot = 1,
                        _(t, e)
                    }
                    )),
                    S(t, e)
                }
                ))
            }
        }, {
            key: "clear",
            value: function() {
                var t = this
                  , e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                for (this.proceed(),
                this.tweens.forEach((function(t) {
                    return t.cancel && t.cancel()
                }
                )),
                this.tweens.length = 0,
                this.state = {
                    playStack: [],
                    images: [],
                    dialog: {},
                    weather: null,
                    autotext: null,
                    disableSaveOrLoad: null,
                    animateScene: null,
                    views: [],
                    hideGlobalViews: [],
                    bubbleMode: [],
                    toolsView: []
                },
                this.imageEvents = [],
                this.dialogView && this.dialogView.clear(),
                Cy.getInstance().clear(e); this.optionsTimeoutHandles.length > 0; ) {
                    var n = this.optionsTimeoutHandles.pop();
                    n()
                }
                this.handleClearContinue(),
                Ay.forEach((function(n) {
                    var r = t[n];
                    ("bubbles" !== n || e) && r.removeAll(!0),
                    r.y = r.x = 0
                }
                ))
            }
        }]),
        t
    }()
      , My = 50
      , Dy = null
      , By = null
      , Uy = 0
      , zy = 0
      , Ly = function(t, e) {
        var n = window
          , r = n.orientation
          , i = n.originalWidth
          , a = n.originalHeight;
        if (Object(nn.k)() && Object(nn.j)() && void 0 !== r) {
            var o = 90 == r || -90 == r;
            t = o ? a : i,
            e = o ? i : a
        }
        return [t, e]
    }
      , Vy = function(t, e) {
        var n = x.a.vertical
          , r = x.a.istheatre
          , i = window.orientation;
        if (0 != Uy || !Object(nn.k)() || 0 != i || !r) {
            var a = Object(k.n)()
              , o = Object(k.m)()
              , u = function() {
                if (t) {
                    var r = a
                      , i = o;
                    a <= o && (r = n ? a : o,
                    i = n ? o : a),
                    t.setAttribute("width", r),
                    t.setAttribute("height", i)
                }
                var s = a <= o;
                e.style.transform = "rotate(".concat(n ? s ? 0 : 90 : s ? 90 : 0, "deg)"),
                Uy = window.orientation
            };
            Object(nn.k)() && Object(nn.j)() && void 0 !== i ? zy = Object(k.z)(My).then((function() {
                var t = Ly(a, o)
                  , e = s()(t, 2);
                a = e[0],
                o = e[1],
                u(),
                zy && clearTimeout(zy)
            }
            )) : u()
        }
    }
      , Fy = function t() {
        h()(this, t)
    };
    function Ny(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function Hy(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Ny(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Ny(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function Wy(t) {
        var e = Gy();
        return function() {
            var n, r = A()(t);
            if (e) {
                var i = A()(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else
                n = r.apply(this, arguments);
            return E()(this, n)
        }
    }
    function Gy() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
            ))),
            !0
        } catch (t) {
            return !1
        }
    }
    c()(Fy, "add", (function(t) {
        return new Promise((function(e) {
            var n = x.a.vertical
              , r = document.createElement("div");
            r.style.position = "absolute",
            r.style.top = 0,
            r.style.left = 0,
            r.style.bottom = 0,
            r.style.right = 0,
            r.style.overflow = "hidden";
            var i = document.createElement("div");
            r.appendChild(i),
            Object(k.y)(i, "transformOrigin", "center");
            var a = Object(k.n)()
              , o = Object(k.m)()
              , u = Ly(a, o)
              , c = s()(u, 2);
            if ((a = c[0]) <= (o = c[1]) && !n) {
                var l = [a, o];
                o = l[0],
                a = l[1],
                i.style.transform = "rotate(90deg)"
            }
            Uy = window.orientation;
            var d = document.createElement("iframe");
            d.src = t,
            d.setAttribute("scrolling", "no"),
            d.setAttribute("width", a),
            d.setAttribute("height", o),
            d.setAttribute("frameborder", 0),
            d.setAttribute("allowtransparency", "true"),
            i.appendChild(d),
            document.body.appendChild(r),
            Dy = r,
            By = function() {
                return Vy(d, i)
            }
            ,
            window.addEventListener("resize", By, !0),
            e()
        }
        ))
    }
    )),
    c()(Fy, "close", (function() {
        Dy && (document.body.removeChild(Dy),
        By && window.removeEventListener("resize", By, !0),
        zy && clearTimeout(zy),
        Object(vn.c)().gameResumed(),
        Dy = null,
        By = null)
    }
    ));
    var qy = function t() {
        h()(this, t)
    };
    c()(qy, "show", (function() {
        return new Promise((function(t) {
            var e = Object(vn.c)()
              , n = x.a.client
              , r = x.a.single
              , i = x.a.wap;
            if ("wap" === n && "wx" == i || r)
                return e.gameResumed(),
                t();
            Object(An.a)({
                url: Oo(!0)
            }).then((function(n) {
                if ("" === n.response && "" === n.responseText)
                    return e.gameResumed(),
                    t();
                Fy.close(),
                Fy.add(Oo(!0)).then((function() {
                    window.addEventListener("message", (function(n) {
                        var r = n.data;
                        try {
                            if ((r = JSON.parse(r)).isHide && "none" === r.isHide)
                                return Fy.close(),
                                e.gameResumed(),
                                t()
                        } catch (n) {
                            return e.gameResumed(),
                            t()
                        }
                    }
                    ), !1)
                }
                ))
            }
            )).catch((function() {
                return e.gameResumed(),
                t()
            }
            ))
        }
        ))
    }
    )),
    c()(qy, "showInside", (function(t) {
        var e = Object(vn.c)();
        return t.notice && t.notice.data && 0 !== t.notice.data.length ? new Promise((function(n) {
            return e.world.addChild(new Yy(e,t,n))
        }
        )) : Promise.resolve()
    }
    ));
    var Yy = function(t) {
        P()(n, t);
        var e = Wy(n);
        function n(t, r, i) {
            var a;
            return h()(this, n),
            (a = e.call(this, t)).game = t,
            a.json = r,
            a.callback = i,
            a.render(),
            a
        }
        return v()(n, [{
            key: "resize",
            value: function(t, e, n, r) {
                var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1
                  , a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0
                  , o = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0;
                t.x = a,
                t.y = o,
                t.clear(),
                t.beginFill(r, i),
                t.drawRoundedRect(0, 0, e, n),
                t.endFill()
            }
        }, {
            key: "render",
            value: function() {
                var t = this
                  , e = this.game.world
                  , n = (e = void 0 === e ? {} : e).width
                  , r = e.height
                  , i = this.json
                  , o = i.notice
                  , u = i.default_settings
                  , c = o.data
                  , l = u.font_size
                  , d = x.a.vertical
                  , f = n / 2
                  , h = r / 2
                  , p = 0
                  , v = 0
                  , g = 0;
                try {
                    var m = function() {
                        t.removeAll(!0, !0),
                        t.game.world.remove(t),
                        t.callback && t.callback()
                    }
                      , y = wu.sprite({
                        x: 0,
                        y: 0,
                        width: n,
                        height: r
                    });
                    y.inputEnabled = !0,
                    y.events.onInputDown.add(m);
                    var b = wu.rectMask({
                        alpha: 1,
                        color: 16777215,
                        rect: {
                            width: n,
                            height: r,
                            x: 0,
                            y: 0
                        }
                    });
                    y.addChild(b);
                    var w = wu.sprite({
                        x: 0,
                        y: 0
                    });
                    w.name = "scrollPane",
                    y.addChild(w),
                    g = (r - (p = c.length * l >= r - 300 ? r - 300 : c.length * l)) / 2 + 20;
                    var k = n - 200
                      , _ = wu.textarea({
                        x: f - k / 2,
                        y: g,
                        width: k,
                        dialigheight: p
                    }, {
                        color: "#000000",
                        fontSize: l,
                        name: "noticedialog",
                        forceFontFamily: qs.default
                    });
                    Object(nn.b)(c) || (c = sl(c).map((function(t) {
                        return Hy(Hy({}, t), {}, {
                            color: "#000000"
                        })
                    }
                    ))),
                    c = ul(a()(c), En.DefaultColor);
                    var O = /([\s\S]*)\\(\d+)\s([\s\S]*)/;
                    _.setTexts(c.map((function(t) {
                        for (var e = t.data, n = void 0 === e ? "" : e, r = O.exec(n); r; )
                            n = r[1] + r[3],
                            r = O.exec(n);
                        return Hy(Hy({}, t), {}, {
                            data: n
                        })
                    }
                    ))),
                    w.addChild(_),
                    g = (r - (p = _.height >= r - 300 ? r - 300 : _.height)) / 2 + 20,
                    _.y = g,
                    v = _.height;
                    var S = n - 100
                      , P = p + 80
                      , C = wu.rectMask({
                        alpha: 0,
                        rect: {
                            width: S,
                            height: P,
                            x: 0,
                            y: 0
                        }
                    });
                    this.resize(C, S, P, 16777215, .1, f - S / 2, h - p / 2 - 20),
                    y.addChild(C),
                    y.mask = C,
                    function(e) {
                        var n = !1
                          , r = 0
                          , i = 0
                          , a = 0
                          , o = 0
                          , u = !1;
                        try {
                            var c = function(e) {
                                var n, r, i = e.worldX, a = e.worldY, o = t.game.world.angle;
                                if (d && 90 === o || !d && 0 === o) {
                                    var u = d ? [a, -i] : [i, a]
                                      , c = s()(u, 2);
                                    n = c[0],
                                    r = c[1]
                                } else {
                                    var l = d ? [i, a] : [a, -i]
                                      , f = s()(l, 2);
                                    n = f[0],
                                    r = f[1]
                                }
                                return {
                                    x: n,
                                    y: r
                                }
                            };
                            e.inputEnabled = !0,
                            e.input.enableDrag(),
                            e.input.allowHorizontalDrag = !1;
                            var l = e.events;
                            e.onUpdate = function() {}
                            ,
                            e.onScroll = function(t, n) {
                                n = n + .5 | 0,
                                e.y = n > 0 ? 0 : n <= -(v - p) ? -(v - p) : n,
                                (v < p || En.fastPlay) && e.input.disableDrag()
                            }
                            ,
                            l.onDragUpdate.add((function(t, n, r, i) {
                                return e.onScroll(r, i)
                            }
                            ), t),
                            l.onInputUp.add((function() {
                                !0 === u && (a = t.game.input.x,
                                o = t.game.input.y,
                                Math.abs(r - a) <= 2 && Math.abs(i - o) <= 2 && m(),
                                u = !1,
                                r = i = a = o = 0)
                            }
                            )),
                            l.onInputDown.add((function(e, n) {
                                u = !0,
                                r = t.game.input.x,
                                i = t.game.input.y,
                                !c(n) || v <= p ? e.input.disableDrag() : e.input.enableDrag()
                            }
                            ), t);
                            var f = function(t) {
                                t.preventDefault && t.preventDefault();
                                var n = t.wheelDelta ? t.wheelDelta / 120 : -t.detail / 3;
                                e.onScroll(0, e.y + 100 * n)
                            }
                              , h = function(t) {
                                var e = c(t)
                                  , r = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
                                !e && n ? (document.removeEventListener(r, f),
                                n = !1) : e && !n && (document.addEventListener(r, f, {
                                    passive: !1
                                }),
                                n = !0)
                            };
                            t.clearMoveCallback = function() {
                                var e = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
                                document.removeEventListener(e, f),
                                t.game.input.deleteMoveCallback(h, t)
                            }
                            ,
                            t.game.input.addMoveCallback(h, t)
                        } catch (t) {
                            console.log("notice evetns", t)
                        }
                    }(w),
                    this.add(y);
                    var E = wu.text({
                        x: 0,
                        y: C.y + P + 20,
                        width: n,
                        height: 30
                    }, {
                        text: "点击任意区域关闭",
                        name: "text",
                        fontSize: 18,
                        forceFontFamily: qs.default,
                        color: "#FFFFFF",
                        boundsAlignH: "center",
                        boundsAlignV: "middle"
                    });
                    this.addChild(E)
                } catch (t) {
                    console.log("notice ", t),
                    this.callback && this.callback()
                }
            }
        }]),
        n
    }(Phaser.Group)
      , Zy = function t() {
        h()(this, t)
    };
    c()(Zy, "show", (function() {
        return new Promise((function() {
            return Fy.add(So()).then((function() {
                return new Promise((function(t) {
                    window.addEventListener("message", (function e(n) {
                        var r = n.data;
                        try {
                            (r = JSON.parse(r)).isHide && "none" == r.isHide && (Fy.close(),
                            window.removeEventListener("message", e),
                            t())
                        } catch (n) {
                            Fy.close(),
                            window.removeEventListener("message", e),
                            t()
                        }
                    }
                    ), !1)
                }
                ))
            }
            ))
        }
        ))
    }
    )),
    n(247);
    var Jy = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "show",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return new Ky(0,t)
            }
        }, {
            key: "showTip",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 10;
                return new Ky(1,0,t)
            }
        }]),
        t
    }()
      , Ky = function t() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , r = arguments.length > 2 ? arguments[2] : void 0;
        h()(this, t);
        try {
            return new Promise((function(t, i) {
                var a = 0
                  , o = document.createElement("div");
                o.classList.add("shareModalContainer"),
                document.body.appendChild(o);
                var s = document.createElement("div");
                s.classList.add("shareModalPortal"),
                o.appendChild(s);
                var u = function() {
                    a > 0 && clearInterval(a),
                    document.body.removeChild(o)
                }
                  , c = function() {
                    return u(),
                    i("close")
                }
                  , l = function() {
                    return u(),
                    i("cancle")
                }
                  , d = function() {
                    return u(),
                    t("close")
                };
                0 === e ? (s.innerHTML = '<div class="friend_share_bg" id="modalPortal"><div class="share_close"><a title="关闭"></a></div><div class="share_cont"><img src="./img/share/sword_pic.png"><p>分享可领取<span class="content">6闪币</span></p></div><div><input class="cancle_btn" type="button" name=""><input class="sure_btn" type="button" name=""></div></div><div class="friend_shadow"></div>',
                s.getElementsByClassName("share_close")[0].onclick = c,
                s.getElementsByClassName("cancle_btn")[0].onclick = l,
                s.getElementsByClassName("sure_btn")[0].onclick = d,
                s.getElementsByClassName("content")[0].innerText = "".concat(n, "闪币")) : 1 === e && (s.innerHTML = '<div class="tip_share_bg" id="modalPortal"><div class="tip_close"><a title="关闭"></a></div><div class="tip_cont"><p>分享太过频繁，距离下次分享还需</p><div class="time_bg"><span class="tip_time">00:00:00</span></div></div><div><input class="cancle_btn" type="button" name=""><input class="sure_btn" type="button" name=""></div></div><div class="tip_shadow"></div>',
                s.getElementsByClassName("tip_close")[0].onclick = c,
                s.getElementsByClassName("cancle_btn")[0].onclick = l,
                s.getElementsByClassName("sure_btn")[0].onclick = d,
                s.getElementsByClassName("tip_time")[0].innerText = Object(k.d)(r, 2),
                a = setInterval((function() {
                    if (--r < 0)
                        return u(),
                        t("timeout");
                    s.getElementsByClassName("tip_time")[0].innerText = Object(k.d)(r, 2)
                }
                ), 1e3));
                var f = document.getElementById("modalPortal");
                Object(k.n)() <= Object(k.m)() && (f.style.transform = "rotate(90deg)");
                var h = function() {
                    var t = document.documentElement.clientWidth;
                    t > 960 && (t = 960);
                    var e = x.a.vertical
                      , n = Object(k.n)() <= Object(k.m)() ? 5 : 9.6;
                    document.documentElement.style.fontSize = t / n + "px",
                    Object(k.n)() <= Object(k.m)() ? f.style.transform = e ? "rotate(0)" : "rotate(90deg)" : f.style.transform = e ? "rotate(90deg)" : "rotate(0)"
                };
                h(),
                window.onresize = function() {
                    h()
                }
            }
            ))
        } catch (t) {
            return Promise.reject("error")
        }
    }
      , $y = function t() {
        h()(this, t)
    };
    c()($y, "show", (function(t) {
        var e = t.desc
          , n = t.image;
        return Fy.add(Co({
            desc: e,
            image: n
        })).then((function() {
            var t = 0;
            return new Promise((function(e) {
                window.addEventListener("message", (function n(r) {
                    var i = r.data;
                    try {
                        (i = JSON.parse(i)).isSuccess && "1" == i.isSuccess ? t = 1 : i.isShareHide && "none" == i.isShareHide && (Fy.close(),
                        window.removeEventListener("message", n),
                        e(t))
                    } catch (r) {
                        Fy.close(),
                        window.removeEventListener("message", n),
                        e(t)
                    }
                }
                ), !1)
            }
            ))
        }
        ))
    }
    ));
    var Xy, Qy = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "show",
            value: function(t, e, n) {
                return new tb(t = null == t ? 0 : t,e,n)
            }
        }]),
        t
    }(), tb = function t(e, n, r) {
        h()(this, t);
        try {
            return new Promise((function(t, i) {
                var a = document.createElement("div");
                a.classList.add("intivemodalContainer"),
                document.body.appendChild(a);
                var o = document.createElement("div");
                o.classList.add("intivemodalPortal"),
                a.appendChild(o);
                var s = function() {
                    document.body.removeChild(a)
                }
                  , u = function(t) {
                    if ("getbtn get1" === t.target.className) {
                        o.getElementsByClassName("prize")[t.target.id].children[2].innerHTML = '<a class="getbtn get2">已领奖励</a>';
                        var e = 0 === t.target.id ? 5 : 1 === t.target.id ? 10 : 2 === t.target.id ? 20 : 40;
                        r(t.target.id, e),
                        t.stopPropagation()
                    }
                };
                o.innerHTML = '<div class="task_bg" id="modalPortal"><div class="task_close"><a title="关闭"></a></div><div class="task_cont"><div class="banner"><img src="./img/share/banner.png"></div><div class="task_list"><ul><li><p>邀请<span>3位</span>好友获得额外奖励</p><div class="progress"><i style="width:50%"></i><em>1 / 3</em></div><div class="prize"><img src="./img/share/jl_coin.png" alt="">x<span>5</span><a class="getbtn get0">尚未达成</a></div></li><li><p>邀请<span>10位</span>好友获得额外奖励</p><div class="progress"><i style="width:100%"></i><em>4/10</em></div><div class="prize"><img src="./img/share/jl_coin.png" alt="">x<span>10</span><a class="getbtn get0">尚未达成</a></div></li><li><p>邀请<span>50位</span>好友获得额外奖励</p><div class="progress"><i style="width:50%"></i><em>4/10</em></div><div class="prize"><img src="./img/share/jl_coin.png" alt="">x<span>20</span><a class="getbtn get0">尚未达成</a></div></li><li><p>邀请<span>100位</span>好友得额外奖励</p><div class="progress"><i style="width:50%"></i><em>4/50</em></div><div class="prize"><img src="./img/share/jl_coin.png" alt="">x<span>40</span><a class="getbtn get0">尚未达成</a></div></li></ul></div></div><div><input class="invate_btn" type="button" name=""></div></div><div class="friend_shadow"></div>';
                var c = document.getElementById("modalPortal");
                Object(k.n)() <= Object(k.m)() && (c.style.transform = "rotate(90deg)");
                var l = function() {
                    var t = document.documentElement.clientWidth
                      , e = x.a.vertical;
                    t > 960 && (t = 960);
                    var n = Object(k.n)() <= Object(k.m)() ? 5 : 9.6;
                    document.documentElement.style.fontSize = t / n + "px",
                    Object(k.n)() <= Object(k.m)() ? c.style.transform = e ? "rotate(0)" : "rotate(90deg)" : c.style.transform = e ? "rotate(90deg)" : "rotate(0)"
                };
                l(),
                window.onresize = function() {
                    l()
                }
                ;
                var d = e / 3 >= 1 ? 100 : e / 3 * 100
                  , f = e / 10 >= 1 ? 100 : e / 10 * 100
                  , h = e / 50 >= 1 ? 100 : e / 50 * 100
                  , p = e / 100 >= 1 ? 100 : e / 100 * 100;
                !function() {
                    for (var t = 0; t < 4; t++) {
                        var r = o.getElementsByClassName("progress")[t];
                        r.children[0].style.width = "".concat(0 === t ? d : 1 === t ? f : 2 === t ? h : p, "%"),
                        r.children[1].innerText = "".concat(e, "/").concat(0 === t ? 3 : 1 === t ? 10 : 2 === t ? 50 : 100),
                        o.getElementsByClassName("prize")[t].children[2].innerHTML = "1" === n[t] ? '<a class="getbtn get2">已领奖励</a>' : 100 === d ? '<a class="getbtn get1" id="'.concat(t, '">领取奖励</a>') : '<a class="getbtn get0">尚未达成</a>'
                    }
                }(),
                o.getElementsByClassName("task_close")[0].onclick = function() {
                    return s(),
                    i("close")
                }
                ,
                o.getElementsByClassName("invate_btn")[0].onclick = function() {
                    return s(),
                    t("intive")
                }
                ;
                var v = function(t) {
                    return o.getElementsByClassName("getbtn get1")[t]
                };
                v(0) && (v(0).onclick = u),
                v(1) && (v(1).onclick = u),
                v(2) && (v(2).onclick = u),
                v(3) && (v(3).onclick = u)
            }
            ))
        } catch (t) {
            return Promise.reject("error")
        }
    }, eb = 0, nb = 60, rb = function() {
        function t() {
            var e = this;
            h()(this, t),
            c()(this, "share", (function(t) {
                var n = t.isInvite
                  , r = void 0 !== n && n
                  , i = t.force
                  , a = void 0 !== i && i
                  , o = t.context
                  , s = t.desc
                  , u = t.image
                  , c = t.title
                  , l = void 0 === c ? "" : c
                  , d = x.a.wap
                  , f = x.a.client;
                if (!x.a.isWapOther)
                    return "kk" === d ? Qe.c.share({
                        title: l,
                        desc: s,
                        icon: u
                    }).then((function(t) {
                        return e.shareBack(t, o)
                    }
                    )) : en.a.runTest || en.a.runCheck ? Xe.a.info("分享执行操作成功（作品测试不需要真实分享）").then((function() {
                        return Promise.resolve({
                            result: 1,
                            context: o
                        })
                    }
                    ), (function() {
                        return Promise.resolve({
                            result: -1,
                            context: o
                        })
                    }
                    )) : "ios" === f || "android" === f ? On.gameShare().then((function(t) {
                        return e.shareBack(t, o)
                    }
                    )) : $y.show({
                        desc: s,
                        image: u
                    }).then((function(t) {
                        return e.shareBack(t, o)
                    }
                    ));
                if ("qzone" === d) {
                    var h = function(t) {
                        return new Promise((function(t) {
                            return Qe.f.addEventsSharePanelQzone((function(e) {
                                return t(e)
                            }
                            ))
                        }
                        )).then((function(n) {
                            return e.shareBack(n, t)
                        }
                        ))
                    };
                    if (0 === eb || an.a.passSeconds - eb >= nb) {
                        if (a) {
                            if (r) {
                                var p = x.a.qz_receivecount
                                  , v = x.a.qz_invitecount
                                  , g = x.a.qz_pindex || 134
                                  , m = 0
                                  , y = -1;
                                v >= 3 && v < 10 ? "1" !== p[0] && (m = 5,
                                y = 0) : v >= 10 && v < 50 ? "1" !== p[1] && (m = 10,
                                y = 1) : v >= 50 && v < 100 ? "1" !== p[2] && (m = 20,
                                y = 2) : v > 100 && "1" !== p[3] && (m = 40,
                                y = 3);
                                var b = o.playContext;
                                b = Vc(b, Object(rn.i)(), g, (function(t) {
                                    return t + m
                                }
                                )),
                                Ed((o = Object.assign({}, o, {
                                    playContext: b
                                })).playContext, [], !0),
                                -1 !== y && (x.a.qz_receivecount[y] = "1"),
                                Qe.f.postGetPrizeQzone()
                            }
                            return Qe.f.openShareMessageQzone(r).then((function() {
                                return h(o)
                            }
                            ), (function() {
                                return Promise.resolve(o)
                            }
                            ))
                        }
                        return r ? Qe.f.getIntiveInfoQzone().then((function(t) {
                            if (!t)
                                return ml({
                                    type: gl,
                                    text: "邀请人数信息获取失败,稍后重试！"
                                }),
                                Promise.reject(o);
                            var n = x.a.qz_invitecount
                              , i = x.a.qz_receivecount
                              , s = x.a.qz_pindex || 134;
                            return Qy.show(n, i, (function(t, e) {
                                var n = o.playContext;
                                n = Vc(n, Object(rn.i)(), s, (function(t) {
                                    return t + e
                                }
                                )),
                                Ed((o = Object.assign({}, o, {
                                    playContext: n
                                })).playContext, [], !0),
                                x.a.qz_receivecount[t] = "1",
                                Qe.f.postGetPrizeQzone()
                            }
                            )).then((function() {
                                return Qe.f.openShareMessageQzone(!0)
                            }
                            ), (function(t) {
                                return "error" === t ? e.share({
                                    isInvite: r,
                                    force: a,
                                    context: o
                                }) : Promise.resolve(o)
                            }
                            ))
                        }
                        )).then((function(t) {
                            return h(t)
                        }
                        ), (function() {
                            return Promise.resolve(o)
                        }
                        )) : Jy.share(1).then((function() {
                            return Qe.f.openShareMessageQzone().then((function() {
                                return h(o)
                            }
                            ), (function() {
                                return Promise.resolve(o)
                            }
                            ))
                        }
                        ), (function(t) {
                            return "error" === t ? e.shareBack({
                                isInvite: r,
                                force: !0,
                                context: o
                            }) : Promise.resolve(o)
                        }
                        ))
                    }
                    var w = nb - an.a.passSeconds - eb;
                    return a ? (ml({
                        type: gl,
                        text: "分享太过频繁，距离下次分享还需".concat(Object(k.d)(w, 2))
                    }),
                    Promise.reject(o)) : Jy.showTip(w).then((function(t) {
                        return "timeout" === t ? h(o) : Promise.resolve(o)
                    }
                    ), (function() {
                        return Promise.resolve(o)
                    }
                    ))
                }
            }
            )),
            c()(this, "shareBack", (function(t, e) {
                var n = x.a.wap
                  , r = x.a.client;
                if (!x.a.isWapOther)
                    return t = String(t),
                    On.setCallback("shareback", (function() {}
                    )),
                    en.a.runTest || en.a.runCheck ? Xe.a.info("分享执行操作成功（作品测试不需要真实分享）").then((function() {
                        return Promise.resolve({
                            result: 1,
                            context: e
                        })
                    }
                    ), (function() {
                        return Promise.resolve({
                            result: -1,
                            context: e
                        })
                    }
                    )) : "ios" === r || "android" === r || "pc" === r ? "-1" === t || "0" === t ? ("-1" === t && ml({
                        type: gl,
                        text: "分享失败！"
                    }),
                    Promise.resolve({
                        result: -1,
                        context: e
                    })) : El.checkLogin().then((function() {
                        return ml({
                            type: vl,
                            text: "分享成功！"
                        }),
                        Promise.resolve({
                            result: 1,
                            context: e
                        })
                    }
                    ), (function() {
                        return ml({
                            type: gl,
                            text: "温馨提示，登录后才可以领取分享奖励哦~"
                        }),
                        Promise.resolve({
                            result: -1,
                            context: e
                        })
                    }
                    )) : (ml({
                        type: gl,
                        text: "未知平台，分享失败！"
                    }),
                    Promise.resolve({
                        result: -1,
                        context: e
                    }));
                if ("qzone" === n) {
                    if (!t)
                        return ml({
                            type: gl,
                            text: "分享失败!"
                        }),
                        Promise.reject(e);
                    ml({
                        type: vl,
                        text: "分享成功!"
                    }),
                    eb = an.a.passSeconds;
                    var i = x.a.qz_sharecount
                      , a = x.a.qz_pindex;
                    if (i < 10) {
                        var o = a || 134
                          , s = e.playContext;
                        return s = Vc(s, Object(rn.i)(), o, (function(t) {
                            return t + 1
                        }
                        )),
                        Ed((e = Object.assign({}, e, {
                            playContext: s
                        })).playContext, [], !0).then((function() {
                            return Promise.resolve()
                        }
                        ), (function() {
                            return Promise.resolve()
                        }
                        ))
                    }
                }
            }
            ))
        }
        return v()(t, null, [{
            key: "getInstance",
            value: function() {
                return Xy || (Xy = new t),
                Xy
            }
        }]),
        t
    }();
    function ib(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function ab(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? ib(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ib(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var ob, sb, ub = null, cb = "clip", lb = 0, db = 0, fb = {}, hb = !1, pb = function() {
        function t() {
            var e = this;
            h()(this, t),
            c()(this, "remove", (function() {
                return e.progress && Object(vn.c)().world.remove(e.progress.view, !0)
            }
            ))
        }
        return v()(t, [{
            key: "create",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (this.remove(),
                ub && e) {
                    hb = !0;
                    var n = new vb(ub);
                    this.progress = {
                        view: n.progress,
                        update: function(t) {
                            return n.update(t)
                        }
                    }
                } else {
                    hb = !1;
                    var r = Ou.fullScreenTip(ab({
                        text: "",
                        alpha: .5
                    }, t))
                      , i = r.getByName("text");
                    Object(vn.c)().world.add(r),
                    this.progress = {
                        view: r,
                        update: function(t) {
                            return i.text = t
                        }
                    }
                }
                return this
            }
        }, {
            key: "getView",
            value: function() {
                return this.progress && this.progress.view
            }
        }, {
            key: "update",
            value: function(t, e) {
                this.progress && (hb ? this.progress.update(e) : this.progress.update(t))
            }
        }], [{
            key: "getInstance",
            value: function() {
                return ob || (ob = new t),
                ob
            }
        }, {
            key: "progressJson",
            set: function(t) {
                ub = t
            },
            get: function() {
                return ub
            }
        }]),
        t
    }(), vb = function() {
        function t(e) {
            h()(this, t),
            c()(this, "renderText", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                  , e = arguments.length > 1 ? arguments[1] : void 0
                  , n = arguments.length > 2 ? arguments[2] : void 0;
                return n.boundsAlignH = "center",
                n.boundsAlignV = "middle",
                wu.text(e, ab(ab({}, n), {}, {
                    text: t
                }))
            }
            )),
            c()(this, "renderBackGround", (function(t) {
                var e, n = t.url, r = void 0 === n ? "" : n, i = t.flex, a = void 0 === i ? 1 : i, o = t.opacity, s = void 0 === o ? 1 : o, u = t.width, c = t.height, l = t.x, d = t.y;
                return t.hidden ? null : (Object(nn.p)(r) && "" !== r ? ((e = wu.image()).scale = new PIXI.Point(1,1),
                e.loadTexture(r)) : e = Object(nn.o)(r) ? wu.image(r) : wu.rectMask({
                    rect: {
                        width: u,
                        height: c
                    }
                }),
                e.alpha = s,
                e.y = d,
                e.x = l,
                r && Ou.flex(a, e, {
                    width: u,
                    height: c
                }),
                e)
            }
            )),
            this.render(e),
            this.update(0)
        }
        return v()(t, [{
            key: "update",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                t > 1 && (t /= 100),
                Object(nn.n)(t) ? this.percent = t : this.percent += .01,
                this.percent = Math.min(Math.max(.01, this.percent), .99);
                var e = this.barProgress
                  , n = this.text
                  , r = this.dot;
                n && n.setText("".concat(Math.floor(100 * this.percent), "%"));
                var i = lb * (fb.width ? 1 : this.percent)
                  , a = db * (fb.height ? 1 : this.percent)
                  , o = sb.x > 0 ? sb.x == lb ? sb.x - i : sb.x - i / 2 : sb.x
                  , s = sb.y > 0 ? sb.y == db ? sb.y - a : sb.y - a / 2 : sb.y;
                if (e) {
                    if ("clip" === cb) {
                        var u = wu.rectMask({
                            color: 16777215,
                            rect: {
                                x: o,
                                y: s,
                                width: i,
                                height: a
                            }
                        })
                          , c = e.parent;
                        c.remove(e.mask, !0),
                        c.add(u, !0),
                        e.mask = u
                    } else
                        e.x = o,
                        e.y = s,
                        e.width = i,
                        e.height = a;
                    r && (fb.height ? r.y = db / 2 : 0 === sb.y ? r.y = a : sb.y === db ? r.y = s : r.y = db / 2,
                    fb.width ? r.x = lb / 2 : 0 === sb.x ? r.x = i : sb.x === lb ? r.x = o : r.x = lb / 2)
                }
            }
        }, {
            key: "render",
            value: function(t) {
                var e = t.dot
                  , n = t.bar
                  , r = t.percent
                  , i = Object(vn.c)().world;
                this.progress = wu.group();
                var a = this.progress;
                a.addChild(this.renderBackGround({
                    url: "",
                    x: 0,
                    y: 0,
                    opacity: .5,
                    width: i.width,
                    height: i.height
                })),
                sb = n.basePoint || {
                    x: 0,
                    y: 0
                };
                var o = wu.group();
                if (o.x = n.x,
                o.y = n.y,
                a.addChild(o),
                !n.hidden) {
                    var s = n.width
                      , u = n.height
                      , c = n.style
                      , l = n.background
                      , d = n.progress
                      , f = n.value;
                    cb = c,
                    lb = s,
                    db = u,
                    fb = f;
                    var h = {
                        width: s,
                        height: u
                    };
                    o.addChild(wu.image(l.url, h)),
                    this.barProgress = wu.image(d.url, h),
                    o.addChild(this.barProgress)
                }
                if (!n.hidden && !e.hidden) {
                    var p = wu.group();
                    p.add(wu.image(e.url, e)),
                    this.dot = p,
                    o.addChild(this.dot)
                }
                if (!r.hidden) {
                    var v = r.fontSize
                      , g = r.color
                      , m = r.x
                      , y = r.y;
                    this.text = this.renderText("0", {
                        x: m,
                        y: y
                    }, {
                        fontSize: v,
                        color: g,
                        forceFontFamily: qs.default
                    }),
                    a.addChild(this.text)
                }
                this.percent = 0,
                i.add(a)
            }
        }]),
        t
    }(), gb = void 0, mb = [], yb = function(t) {
        return new Promise((function(e) {
            var n = t.cache
              , r = t.time.events
              , i = t.world
              , a = wu.group();
            i.add(a);
            var o = wu.image();
            a.addChild(o);
            var s = 0
              , u = mb.length
              , c = function() {
                Ln.to({
                    target: a,
                    properties: {
                        alpha: 0
                    },
                    duration: 1e3
                }).then((function() {
                    return a.removeAll(!0),
                    i.removeChild(a, !0),
                    e()
                }
                ))
            };
            if (0 != u) {
                var l = function t() {
                    return r.add(40, (function() {
                        var e = mb[s].url || "";
                        mb[s] && o.parent && n.checkImageKey(e) && (o.loadTexture(e),
                        ++s >= u ? c() : (s %= u,
                        t()))
                    }
                    ), gb)
                };
                Ln.to({
                    target: a,
                    properties: {
                        alpha: 1
                    },
                    duration: 500
                }).then((function() {
                    return l()
                }
                ))
            } else
                c()
        }
        ))
    }, bb = function(t, e) {
        var n = x.a.istheatre
          , r = t.world
          , i = e.flex
          , a = e.opacity
          , o = e.x
          , s = void 0 === o ? 0 : o
          , u = e.y
          , c = void 0 === u ? 0 : u
          , l = e.url
          , d = n ? "theatrelogo" : l
          , f = wu.image(d, {
            x: s,
            y: c
        });
        return Ou.flex(i, f, r),
        f.alpha = 0,
        r.add(f),
        Ln.to({
            target: f,
            properties: {
                alpha: a
            },
            duration: 1e3
        }).then((function() {
            return Object(k.x)(1e3)
        }
        )).then((function() {
            return Ln.to({
                target: f,
                properties: {
                    alpha: 0
                },
                duration: 1e3
            })
        }
        )).then((function() {
            return r.remove(f, !0)
        }
        ))
    }, wb = function() {
        var t = x.a.isWapOther
          , e = x.a.wap
          , n = x.a.vertical;
        return (t || "kk" == e) && new Array(n ? 60 : 61).fill(1).forEach((function(t, e) {
            var r = "./img/".concat(n ? "logo_1" : "logo", "/logo_").concat(e + 1, ".jpg");
            mb.push({
                key: r,
                url: r,
                type: "image"
            })
        }
        )),
        mb
    }, xb = function(t, e) {
        var n = x.a.single
          , r = x.a.istheatre
          , i = x.a.showLogo
          , a = x.a.isWapOther
          , o = x.a.wap
          , s = t.cache
          , u = e.logo
          , c = (void 0 === u ? {} : u).background
          , l = void 0 === c ? {} : c
          , d = l.url
          , f = void 0 === d ? "" : d
          , h = l.hidden
          , p = void 0 === h || h;
        return a || "kk" == o ? yb(t) : n || !i || !r && (p || !f || s.checkImageKey(f)) ? Promise.resolve() : bb(t, l)
    };
    function kb(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function _b(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? kb(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : kb(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    var Ob = {
        logo: "logo",
        cover: "cover",
        scene: "scene",
        mainMenu: "mainMenu",
        settings: "settings",
        loadRecord: "loadRecord",
        saveRecord: "saveRecord",
        playback: "playback",
        diyMainMenu: "diyMainMenu"
    }
      , Sb = ["plotViews", "calledViews", "dialogLayer", "globalViews", "globalCalledViews", "menus", "space", "tools", "menuViews", "menuCalledViews"]
      , Pb = ["backGroundLayer", "coverLayer", "endViewLayer", "systemLayer", "mouseStyleLayer"]
      , Cb = {
        THERRETIME: 300,
        PLAYERTIME: 63,
        SYSTEM_SAVERECORD_TIME: 600,
        curRecordMod: 0,
        focusMVolume: 0,
        focusSVolume: 0,
        refreshEvents: [],
        isRepeatOver: !1,
        playerCount: 0,
        canPlayerCount: !1,
        isLoad: !1,
        canNoticeStart: !0,
        repeatHandleOver: !1,
        gameValuesMap: vn.a.gameValuesMap,
        version: ""
    }
      , Eb = {
        condition_option: 1,
        option: 1,
        imgEvents: 1,
        macro: 1
    }
      , jb = {
        click: !1,
        keyup: !1,
        timerBreak: 0
    };
    function Ab() {
        Object.assign(jb, {
            click: !1,
            keyup: !1,
            timerBreak: 0
        })
    }
    function Ib() {
        Object.assign(jb, {
            click: !0,
            keyup: !0,
            timerBreak: Number.MAX_SAFE_INTEGER
        })
    }
    function Rb(t) {
        "click" === t ? jb.click = !0 : "keyup" === t && (jb.keyup = !0),
        jb.timerBreak++
    }
    function Tb(t) {
        var e = jb.click
          , n = jb.keyup
          , r = jb.timerBreak;
        return "click" === t && e ? !n : "keyup" === t && n ? !e : "timer" === t && !e && !n && 1 === r
    }
    function Mb(t) {
        var e = jb.click
          , n = jb.keyup
          , r = jb.timerBreak;
        return "click" === t || "keyup" === t ? !(e || n) : !(e || n || r)
    }
    var Db = function(t) {
        if (t.length >= 15)
            return !0;
        var e = function(e, n) {
            if (t.filter((function(t) {
                var n = t.url ? t.url.split(".") : t.split(".");
                return n[n.length - 1].toLowerCase() === e
            }
            )).length >= n)
                return !0
        };
        return !!e("mp3", 4) || !!e("mp4", 2)
    }
      , Bb = Object(jn.j)(100)
      , Ub = function() {
        function t(e, n, r) {
            var i = this;
            h()(this, t),
            c()(this, "getPlayContext", (function() {
                return i.playContext
            }
            )),
            c()(this, "getInheritBackground", (function() {
                return i.background && i.background.info || {
                    url: "",
                    flex: 1,
                    opacity: 1
                }
            }
            )),
            c()(this, "handleUpdateVolume", (function(t) {
                var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                nr.updateMusicVolume(t, e),
                nr.updateSoundsVolume(t, e),
                En.video && En.video.changeVolume(t)
            }
            )),
            c()(this, "noticeGameStart", (function() {
                Cb.canNoticeStart && (On.notifyGameStarted(),
                Object.assign(Cb, {
                    canNoticeStart: !1,
                    canPlayerCount: !0
                }))
            }
            )),
            c()(this, "handleShowGameNotice", (function() {
                var t = x.a.uuid
                  , e = x.a.gid
                  , n = x.a.client;
                if (x.a.istheatre)
                    return qy.showInside(i.json);
                if ("pc" == n && On.toOpenNotice(),
                "ios" === n || "android" === n || "wap" === n) {
                    var r = "".concat(t).concat(e, "GameNotice")
                      , a = On.localStorageGetItem(r) || "";
                    Eo().then((function(t) {
                        t > a && (On.localStorageSetItem(r, t),
                        qy.show())
                    }
                    ))
                }
                return Promise.resolve()
            }
            )),
            c()(this, "handleShareBack", (function(t, e) {
                return rb.getInstance().shareBack(t, e)
            }
            )),
            c()(this, "handleShare", (function(t) {
                var e = t.isInvite
                  , n = void 0 !== e && e
                  , r = t.force
                  , i = void 0 !== r && r
                  , a = t.context
                  , o = t.desc
                  , s = t.image;
                return rb.getInstance().share({
                    isInvite: n,
                    force: i,
                    context: a,
                    desc: o,
                    image: s
                })
            }
            )),
            c()(this, "handleShowTools", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return t.forEach((function(t) {
                    return vp.getInstance().show(i.tools, t)
                }
                ))
            }
            )),
            c()(this, "handleLogin", (function(t) {
                if (t) {
                    var e = t.client;
                    El.setUserAccount(t[gn.M], "wap" !== e ? t.token : "", "wap" !== e ? t.u : ""),
                    On.postMessageIframe(JSON.stringify({
                        type: "loginInfo",
                        data: t
                    }))
                }
                i.showWorldTip(!0, "updateUser", "更新用户数据");
                var n = x.a.single
                  , r = Hl.copyLocal
                  , a = r.records
                  , o = r.owner;
                Hl.saveLocalRecord(o, a);
                var s = Da().then((function(t) {
                    return an.a.updateServerTimeStamp(t),
                    Promise.resolve()
                }
                ), (function() {
                    return an.a.updateServerTimeStamp(Math.floor(Date.now() / 1e3)),
                    Promise.resolve()
                }
                ))
                  , u = Hl.updateRecords().then((function() {
                    return Promise.resolve()
                }
                ), (function() {
                    return Promise.resolve()
                }
                ));
                s.then((function() {
                    u.then((function() {
                        df(i.playContext, !0).then((function(t) {
                            if (i.playContext = t,
                            n) {
                                var e = i.viewContext
                                  , r = i.handleShare
                                  , a = i.autoSaveRecord
                                  , o = {
                                    game: i.json,
                                    playContext: t,
                                    viewContext: e,
                                    handleShare: r,
                                    autoSaveRecord: a
                                }
                                  , s = Yh.fixContext(o);
                                Yh.runSpecialEvents(Cb.refreshEvents, s).then((function(t) {
                                    return t !== s && i.handleChangeContext(t)
                                }
                                ))
                            }
                            i.showWorldTip(!1, "updateUser", "更新用户数据"),
                            El.resetCheckDelay(),
                            Hl.checkSaveRecord() || Xe.a.warn("你已切换账号，将无法进行存档，请登录正确账号进行操作~").then((function() {}
                            ), (function() {}
                            ))
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            )),
            c()(this, "handleLogout", (function() {
                El.setUserAccount("", "", ""),
                i.showWorldTip(!0, "updateUser", "更新用户数据");
                var t = Hl.copyLocal
                  , e = t.records
                  , n = t.owner;
                Hl.saveLocalRecord(n, e),
                Hl.updateForceLocal(!0),
                i.playContext = Vc(i.playContext, Object(rn.l)(), 0, (function() {
                    return 0
                }
                )),
                df(i.playContext, !0).then((function(t) {
                    i.playContext = t,
                    i.showWorldTip(!1, "updateUser", "更新用户数据")
                }
                ))
            }
            )),
            c()(this, "handleMenuClick", (function() {
                var t = i.state
                  , e = i.json
                  , n = i.playContext
                  , r = i.handleShare
                  , a = i.inputs
                  , o = i.game
                  , s = i.autoSaveRecord
                  , u = a.views
                  , c = o.world
                  , l = (c = void 0 === c ? {} : c).width
                  , d = c.height
                  , f = e.default_settings
                  , h = (f = void 0 === f ? {} : f).mainMenu;
                if (!t.loading) {
                    var p = function(t) {
                        return i.menus.visible = t
                    };
                    p(!1),
                    h && h.ref ? (i.state.plotSnap = Object(k.r)(),
                    i.loadAssets(Qo.getViewsMenuAssets()).then((function() {
                        Sb.slice(5).forEach((function(t) {
                            return i[t].visible = !0
                        }
                        )),
                        i.targetScene && i.targetScene.pause(),
                        u.forEach((function(t) {
                            return t.show(!1)
                        }
                        )),
                        i.playContext.openPages.unshift(Ob.diyMainMenu);
                        var t = wu.rectMask({
                            rect: {
                                width: l,
                                height: d
                            },
                            alpha: 0
                        });
                        t.inputEnabled = !0,
                        i.space.add(t),
                        Yh.instanceView(h, e, n).then((function(t) {
                            var a = mr()(i.viewContext, {
                                menuViews: {
                                    $set: [t]
                                },
                                menuCalledViews: {
                                    $set: []
                                }
                            });
                            Yh.runOnLoadEventInView([0, ["menuViews", null]], {
                                playContext: n,
                                viewContext: a,
                                game: e,
                                handleShare: r,
                                autoSaveRecord: s
                            }, !0).then((function(t) {
                                var e = t.viewContext;
                                t.viewContext = mr()(i.viewContext, {
                                    menuViews: {
                                        $set: e.menuViews
                                    },
                                    menuCalledViews: {
                                        $set: e.menuCalledViews
                                    }
                                }),
                                i.handleChangeContext(t)
                            }
                            ))
                        }
                        ))
                    }
                    ))) : i.showSystemUI(Ob.mainMenu, (function() {
                        return p(!0)
                    }
                    ))
                }
            }
            )),
            c()(this, "resetPlayCount", (function() {
                return Object.assign(Cb, {
                    canPlayerCount: !0,
                    playerCount: 0
                })
            }
            )),
            c()(this, "hasChangedContext", (function(t) {
                var e = t.playContext
                  , n = t.viewContext;
                return e !== i.playContext || n != i.viewContext
            }
            )),
            c()(this, "handleViewMount", (function(t, e, n) {
                var r = i.viewContext
                  , a = i.playContext
                  , o = e.events
                  , s = void 0 === o ? [] : o
                  , u = e.view
                  , c = u.events
                  , l = u.type
                  , d = u.content
                  , f = (d = void 0 === d ? {} : d).step
                  , h = d.count
                  , p = d.value;
                t.viewData = e,
                t.pathInfos = Yh.getViewPathInfos(n, r);
                var v = t.destroy;
                t.destroy = function() {
                    i.handleViewUnmount(t);
                    for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)
                        n[r] = arguments[r];
                    v[Vn.a](t, n)
                }
                ;
                var g = Pu.stringify(n)[Vn.m]("menu")
                  , m = s[Vn.F]((function(t) {
                    return "onKeyUp" === t.type
                }
                )) || c[Vn.F]((function(t) {
                    return "onKeyUp" === t.type
                }
                ))
                  , y = s[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                )) || c[Vn.F]((function(t) {
                    return "onClick" === t.type
                }
                ))
                  , b = function(t) {
                    return t && String(t).length >= 36
                };
                if (m) {
                    var w = {
                        type: "keyup",
                        isDiyMenuView: g,
                        viewPathInfos: Yh.getViewPathInfos(n, r),
                        handle: function(t, e) {
                            w.viewPathInfos = Yh.updateViewPathInfos(w.viewPathInfos, e.viewContext);
                            var n = w.viewPathInfos[w.viewPathInfos.length - 1].path
                              , r = Pu.get(e.viewContext, n);
                            if (r)
                                return Yh.runEventInView("onKeyUp", n, e, t, !0).then((function(t) {
                                    return i.loadViewsAssets([r], t).then((function() {
                                        return t
                                    }
                                    ))
                                }
                                ));
                            var a = i.keyUpListeners.indexOf(w);
                            return ~a && i.keyUpListeners.splice(a, 1),
                            Promise.resolve(e)
                        }
                    };
                    i.keyUpListeners.push(w)
                }
                if ("timer" !== l) {
                    if ("input" === l) {
                        var x = p.type
                          , k = p[gn.a]
                          , _ = -1
                          , O = {
                            type: l,
                            index: _
                        };
                        if (_ = b(k) ? Cb.gameValuesMap[Object(rn.g)(x)][k] : k || 0,
                        !b(k) && x) {
                            var S = x;
                            if (x === gn.z) {
                                var P = Cc(a[Object(rn.h)()][_])
                                  , C = P.value
                                  , E = P.init
                                  , j = (E = void 0 === E ? {} : E).value;
                                S = E.type,
                                _ = (void 0 !== C ? iu.toN(C) : Wc(j)) - 1
                            }
                            t.isNumber = S + "s" !== Object(rn.e)(2),
                            O = {
                                index: _,
                                type: S + "s"
                            }
                        } else
                            -1 !== (_ = a[Object(rn.m)()].findIndex((function(t) {
                                return t.uuid === k
                            }
                            ))) ? (t.isNumber = !0,
                            O = {
                                index: _,
                                type: Object(rn.e)(0)
                            }) : -1 !== (_ = a[Object(rn.j)()].findIndex((function(t) {
                                return t.uuid === k
                            }
                            ))) ? (t.isNumber = !0,
                            O = {
                                index: _,
                                type: Object(rn.e)(1)
                            }) : -1 !== (_ = a[Object(rn.k)()].findIndex((function(t) {
                                return t.uuid === k
                            }
                            ))) ? O = {
                                index: _,
                                type: Object(rn.e)(2)
                            } : -1 !== (_ = a[Object(rn.i)()].findIndex((function(t) {
                                return t.uuid === k
                            }
                            ))) && (t.isNumber = !0,
                            O = {
                                index: _,
                                type: Object(rn.e)(3)
                            });
                        -1 === _ && (t.text = "[未知数值]"),
                        t.setInputCallback(function(t, e) {
                            return function(n) {
                                if (i.state.inputing = !n,
                                !n) {
                                    var r = i.game.input
                                      , a = (r = void 0 === r ? {} : r).keyboard;
                                    return a.removeKey(Phaser.Keyboard.Z),
                                    void a.removeKey(Phaser.Keyboard.SPACEBAR)
                                }
                                var o = e.text
                                  , s = e.isNumber
                                  , u = e.originText
                                  , c = t.index
                                  , l = t.type
                                  , d = i.playContext;
                                if (s && (o = parseFloat(o)),
                                -1 !== c) {
                                    i.playContext = Vc(d, Object(rn.g)(l), c, (function() {
                                        return u || o
                                    }
                                    ));
                                    var f = e.pathInfos;
                                    if (!e.parent)
                                        return;
                                    var h = f[f.length - 1].path
                                      , p = i.viewContext;
                                    if (Pu.get(p, h)) {
                                        var v = Pu.createQuery(h, {
                                            view: {
                                                content: {
                                                    value: {
                                                        value: {
                                                            $set: o
                                                        }
                                                    }
                                                }
                                            }
                                        });
                                        i.viewContext = mr()(p, v)
                                    }
                                } else
                                    e.text = "[未知数值]"
                            }
                        }(O, t)),
                        g ? i.inputs.diyMainMenu.push(t) : i.inputs.views.push(t),
                        En.fastPlay && i.holdFastPlayTip && t.show(!1)
                    }
                    if ("text" === l) {
                        if (!y && !t.scroll) {
                            var A = t.input;
                            return void (A ? (t.inputEnabled = !1,
                            A.removedFromGroup()) : t.ignoreChildInput = !0)
                        }
                        t instanceof Phaser.Group && t.children.forEach((function(t) {
                            t.inputEnabled = !0,
                            t.input && (t.input.useHandCursor = !0)
                        }
                        ))
                    }
                    t.inputEnabled = !0;
                    var I = function(e, n) {
                        if ((!n || n.pointerMode !== Phaser.PointerMode.CURSOR || 0 === n.button) && Mb("click")) {
                            var r = i.viewContext
                              , a = i.playContext
                              , o = i.handleShare
                              , s = i.autoSaveRecord
                              , u = t.pathInfos = Yh.updateViewPathInfos(t.pathInfos, r)
                              , c = u[u.length - 1].path
                              , l = Pu.get(r, c);
                            if (l) {
                                Rb("click");
                                var d = Object.assign(Yh.fixContext({
                                    game: i.json,
                                    playContext: a,
                                    viewContext: r,
                                    handleShare: o,
                                    autoSaveRecord: s
                                }), {
                                    save: !1
                                });
                                Yh.runEventInView("onClick", c, d, void 0, !0).then((function(t) {
                                    if (t !== d && Tb("click"))
                                        return i.loadViewsAssets([l], t).then((function() {
                                            return i.handleChangeContext(t)
                                        }
                                        )).then((function() {
                                            return t.save && i.saveReadRecord(),
                                            Promise.resolve()
                                        }
                                        ))
                                }
                                )).finally((function() {
                                    return Tb("click") && Ab()
                                }
                                ))
                            }
                        }
                    };
                    t instanceof Phaser.Group ? (t.children.forEach((function(t) {
                        t.isView = !0,
                        y && (t.isViewEvents = !0)
                    }
                    )),
                    t.onChildInputUp.add(I)) : t instanceof el ? t.setClickCallback(I) : (t.isView = !0,
                    y && (t.isViewEvents = !0),
                    t.events.onInputUp.add(I))
                } else {
                    var R = {
                        type: "timer",
                        isDiyMenuView: g,
                        viewPathInfos: Yh.getViewPathInfos(n, r),
                        step: f.value,
                        count: h.value || 0,
                        current: e.currentCount * f.value || 0,
                        stop: !1,
                        handleing: !1,
                        revert: function() {
                            R.backup && (Object.assign(R, R.backup),
                            R.backup = void 0)
                        },
                        handle: function(t, e) {
                            var n = R.current
                              , r = R.viewPathInfos
                              , a = R.path
                              , o = R.currentCount;
                            R.backup = {
                                current: n,
                                viewPathInfos: r,
                                path: a,
                                currentCount: o
                            },
                            R.current += e,
                            R.viewPathInfos = Yh.updateViewPathInfos(R.viewPathInfos, t.viewContext),
                            a = R.viewPathInfos[R.viewPathInfos.length - 1].path,
                            R.path = a;
                            var s = Pu.get(t.viewContext, a);
                            if (s && "timer" === s.view.type) {
                                var u = R.current / R.step;
                                if (!(R.current % R.step)) {
                                    if (s.currentCount = u,
                                    !R.count || R.count >= u)
                                        return Yh.runEventInView("onStep", a, t);
                                    R.count < u && (R.stop = !0)
                                }
                            }
                            if (!s || "timer" !== s.view.type || R.stop) {
                                var c = i.timerListeners.indexOf(R);
                                ~c && i.timerListeners.splice(c, 1)
                            }
                            return Promise.resolve(t)
                        }
                    };
                    i.timerListeners.push(R)
                }
            }
            )),
            c()(this, "handleViewUpdate", (function(t, e, n) {
                var r = i.viewContext;
                t.viewData = e,
                t.pathInfos = Yh.getViewPathInfos(n, r);
                for (var a = i.timerListeners, o = 0, s = a.length; o < s; o++) {
                    var u = a[o];
                    u.viewPathInfos = Yh.updateViewPathInfos(u.viewPathInfos, r);
                    var c = u.viewPathInfos[u.viewPathInfos.length - 1].path;
                    Pu.isSame(n, c) && (e.currentCount = 0)
                }
            }
            )),
            c()(this, "handleViewUnmount", (function(t) {
                var e = t.viewData
                  , n = (e = void 0 === e ? {} : e).view.type
                  , r = i.inputs
                  , a = (r = void 0 === r ? {} : r).diyMainMenu
                  , o = r.views
                  , s = i.viewContext;
                if ("input" === n) {
                    var u = a.findIndex((function(e) {
                        return e === t
                    }
                    ));
                    ~u ? a.splice(u, 1) : ~(u = o.findIndex((function(e) {
                        return e === t
                    }
                    ))) && o.splice(u, 1)
                }
                t.viewData = null,
                t.pathInfos = null;
                var c = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var n = t[e].viewPathInfos
                          , r = Yh.updateViewPathInfos(n, s)
                          , i = r[r.length - 1].path;
                        Pu.get(s, i) || (t.splice(e, 1),
                        e--)
                    }
                };
                c(i.keyUpListeners),
                c(i.timerListeners)
            }
            )),
            c()(this, "showPlotViews", (function() {
                i.plotViews.visible = !0,
                i.calledViews.visible = !0,
                !i.noShowingViews() && i.game.input.onUp.dispatch()
            }
            )),
            c()(this, "existPlotViews", (function(t) {
                var e = t.ref
                  , n = t.instanceUuid;
                return -1 !== i.viewContext.plotViews.findIndex((function(t) {
                    return t.ref == e && t.instanceUuid == n
                }
                ))
            }
            )),
            c()(this, "noShowingViews", (function() {
                var t = i.viewContext
                  , e = t.plotViews
                  , n = void 0 === e ? [] : e
                  , r = t.calledViews
                  , a = void 0 === r ? [] : r;
                return !(n.length || a.length)
            }
            )),
            c()(this, "instanceView", (function(t, e) {
                if (e >= t.length)
                    return Promise.resolve(t);
                var n = i.playContext
                  , r = i.json;
                return Yh.instanceView(t[e], r, n).then((function(n) {
                    return i.instanceView(mr()(t, c()({}, e, {
                        $set: n
                    })), e + 1)
                }
                ))
            }
            )),
            c()(this, "addViews", (function(t) {
                var e = i.playContext
                  , n = i.handleShare
                  , r = i.json
                  , o = i.autoSaveRecord;
                return i.instanceView(t, 0).then((function(t) {
                    var s = t.map((function(t) {
                        return t.instanceUuid
                    }
                    ));
                    return function t(e, n) {
                        var r = s[n];
                        if (!r)
                            return Promise.resolve(e);
                        for (var i, a = e.viewContext, o = (a = void 0 === a ? {} : a).plotViews; r && !o[Vn.F]((function(t) {
                            return t.instanceUuid === r
                        }
                        )); )
                            r = s[++n];
                        return r ? (i = o.findIndex((function(t) {
                            return t.instanceUuid === r
                        }
                        )),
                        Yh.runOnLoadEventInView([i, ["plotViews", null]], e, !0).then((function(e) {
                            return t(e, n + 1)
                        }
                        ))) : Promise.resolve(e)
                    }({
                        viewContext: mr()(i.viewContext, {
                            plotViews: {
                                $push: t
                            }
                        }),
                        game: r,
                        playContext: e,
                        handleShare: n,
                        autoSaveRecord: o
                    }, 0).then((function(t) {
                        var e = i.viewContext
                          , n = e.menuViews
                          , r = e.menuCalledViews;
                        return (n.length || r.length) && (t = mr()(t, {
                            viewContext: {
                                menuViews: {
                                    $set: a()(n)
                                },
                                menuCalledViews: {
                                    $set: a()(r)
                                }
                            }
                        })),
                        i.handleChangeContext(t)
                    }
                    ))
                }
                ))
            }
            )),
            c()(this, "delView", (function(t) {
                var e = mr()(i.viewContext, {
                    plotViews: {
                        $apply: function(e) {
                            var n = e.findIndex((function(e) {
                                return e.instanceUuid === t
                            }
                            ));
                            return ~n ? e.filter((function(t, e) {
                                return e !== n
                            }
                            )) : e
                        }
                    }
                });
                i.handleChangeViewContext(e)
            }
            )),
            c()(this, "updatePlayContext", (function(t) {
                if (t[Object(rn.j)()] !== i.playContext[Object(rn.j)()]) {
                    var e = t[Object(rn.j)()].map((function(t) {
                        return Sc(t)
                    }
                    ))
                      , n = x.a.uuid;
                    On.localStorageSetItem("".concat(n).concat(gn.C, "s").concat(El[gn.M]), JSON.stringify(e))
                }
                i.playContext = t
            }
            )),
            c()(this, "findPlayStackId", (function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                if (e >= t.length || e <= 1)
                    return Math.max(Math.min(e, t.length), 1);
                var r = 0;
                if (!n) {
                    var a = t.slice(0, e - 1);
                    r = a.takeWhile((function(t) {
                        return "condition_option" !== t.type && "option" !== t.type && "imgEvents" !== t.type
                    }
                    )).length || 0
                }
                var o = t[(e += r) - 1];
                return o && "condition_option" !== o.type && "option" !== o.type && "imgEvents" !== o.type ? i.findPlayStackId(t, e + 1, !0) : Math.min(e, t.length)
            }
            )),
            c()(this, "pushPlayback", (function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , n = i.playContext
                  , r = t[e ? "content" : "speaking"].data
                  , a = t[e ? "role" : "dialogtitle"].data
                  , o = t[e ? "role" : "dialogtitle"].hidden
                  , u = "";
                Promise.all([Gc(a, n, !0), Gc(r, n, !0)]).then((function(t) {
                    var e = s()(t, 2)
                      , r = e[0]
                      , i = e[1];
                    !o && r.length && (u = r + ":"),
                    Object(nn.b)(i) ? i.forEach((function(t) {
                        return u += t.data
                    }
                    )) : u += i,
                    u && n.playback.push(u)
                }
                ))
            }
            )),
            c()(this, "runCommandAfter", (function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , r = arguments.length > 3 ? arguments[3] : void 0;
                if (!t)
                    return Promise.resolve();
                Qo.resetComandAfter(t);
                var a = t.type
                  , o = t.args
                  , s = t.noAsstes
                  , u = !1;
                if ((s || !Xo[a]) && e) {
                    var l = e.commands[e.cmdIndex] || {};
                    u = Xo[l.type]
                }
                var d = e && (Xo[a] && !s || u) ? i.loadAssetsByCommand(e) : Promise.resolve();
                if (n)
                    return d;
                var f = function() {
                    var t = i.json
                      , e = (t = void 0 === t ? {} : t).default_settings
                      , n = (e = void 0 === e ? {} : e).autoSaveOrLoad;
                    return Object(nn.b)(n) ? 1 == n[1] || 1 == n[2] : n
                }
                  , h = function(t) {
                    switch (t) {
                    case "settings":
                        t = Ob.settings;
                        break;
                    case "playback":
                        t = Ob.playback;
                        break;
                    case "save-record":
                        t = Ob.saveRecord;
                        break;
                    case "load-record":
                        t = Ob.loadRecord;
                        break;
                    default:
                        t = null
                    }
                    return t
                };
                switch (a) {
                case "addView":
                    Ib(),
                    i.game.input.onUp.dispatch(),
                    d = d.then((function() {
                        return En.fastPlay = !1,
                        i.addViews(o)
                    }
                    )).finally((function() {
                        return Ab()
                    }
                    ));
                    break;
                case "delView":
                    d = d.then((function() {
                        return Object(k.x)(En.fastPlay ? 10 : 100).then((function() {
                            return o.forEach((function(t) {
                                return i.delView(t)
                            }
                            ))
                        }
                        ))
                    }
                    ));
                    break;
                case "showGlobalView":
                case "hideGlobalView":
                    i.handleChangeViewContext(mr()(i.viewContext, {
                        globalViews: {
                            $apply: function(t) {
                                var e = t.findIndex((function(t) {
                                    return t.instanceUuid === o[0]
                                }
                                ));
                                return ~e ? mr()(t, c()({}, e, {
                                    visible: {
                                        $set: "showGlobalView" === a
                                    }
                                })) : t
                            }
                        }
                    }));
                    break;
                case gn.D + "s":
                    Ib(),
                    d = d.then((function() {
                        var t;
                        return Td((t = {
                            playContext: i.playContext
                        },
                        c()(t, gn.N + "s", o),
                        c()(t, "middle", (function(t) {
                            var e = t.status
                              , n = t.playContext;
                            "upload" === e && i.updatePlayContext(n)
                        }
                        )),
                        t))
                    }
                    )).finally((function() {
                        Ab()
                    }
                    ));
                    break;
                case "autoSaveOrLoad":
                    if (r)
                        break;
                    if (f() && 1 === o[0].type)
                        d = d.then((function() {
                            return i.autoLoadRecord(o[0].index).then(null, (function() {
                                return yi(mi.ERROR_PLAY_5, (function() {
                                    return i.start(),
                                    Promise.reject()
                                }
                                ), (function() {
                                    return Promise.reject()
                                }
                                ))
                            }
                            ))
                        }
                        ));
                    else if (f() && 0 === o[0].type) {
                        var p = i.context
                          , v = p.commands
                          , g = p.cmdIndex
                          , m = v && v[g];
                        m && m.uuid === t.uuid && (d = d.then((function() {
                            return Object(k.x)(1)
                        }
                        ))),
                        d = d.then((function() {
                            return e && (i.commandScene.context = e),
                            i.autoSaveRecord(o[0].index)
                        }
                        ))
                    }
                    break;
                case "systemUI":
                    var y = h(o[0]);
                    y && (d = d.then((function() {
                        return new Promise((function(t) {
                            return i.showSystemUI(y, (function() {
                                return t()
                            }
                            ))
                        }
                        ))
                    }
                    )))
                }
                return d
            }
            )),
            c()(this, "filterOptionsClient", (function(t) {
                if (en.a.runCheck && (t = t.slice(0)),
                0 === t.length || t.checked)
                    return Promise.resolve(t);
                var e = x.a.client;
                return new Promise((function(n, r) {
                    (en.a.runCheck && t.filter((function(t) {
                        return t.client && Object(nn.b)(t.client)
                    }
                    )).length > 0 ? new Promise((function(t) {
                        return Xe.a.custom("Info", "作品存在两个显示端，请选择需要测试的显示端。<tip>*建议提前存档，可以刷新页面后读档测试另一个显示端。", "提示", "", "", !0, 0, 0, !0, {
                            b1Text: "电脑端",
                            b2Text: "手机端",
                            b3Text: "存档"
                        }).then((function(e) {
                            return t(parseInt(e))
                        }
                        ))
                    }
                    )) : Promise.resolve("pc" === e ? 0 : 1)).then((function(e) {
                        return 2 === e ? (sn.a.saveRecordFrom = "optionsclient",
                        window.showSave(),
                        r()) : (sn.a.saveRecordFrom = "",
                        t.forEach((function(n, r) {
                            var i = n.client
                              , a = void 0 === i ? [] : i
                              , o = n.default;
                            void 0 !== o && o || a.length > 0 && (0 === e && 1 !== a[0] && (t[r] = Object.assign({}, n, c()({}, gn.m, {
                                value: 0,
                                type: gn.t
                            }))),
                            1 === e && 1 !== a[1] && (t[r] = Object.assign({}, n, c()({}, gn.m, {
                                value: 0,
                                type: gn.t
                            }))))
                        }
                        )),
                        en.a.runCheck || (t.checked = !0),
                        n(t))
                    }
                    ))
                }
                ))
            }
            )),
            c()(this, "dialogOptionClientLoadRecord", (function() {
                var t = x.a.uuid
                  , e = On.localStorageGetItem("".concat(t, "optionsclient")) || "";
                return (!El.isEmptyUid() && en.a.runCheck ? Hl.updateRecords(!0) : Promise.resolve()).then((function() {
                    return function() {
                        if (en.a.runCheck && "" !== e) {
                            var t = parseInt(e);
                            return El.isEmptyUid() ? Hl.localRecord.filter((function(e, n) {
                                return e && n === t
                            }
                            )).length > 0 : Hl.localRecord.filter((function(e, n) {
                                return e && n === t
                            }
                            )).length > 0 || Hl.cloudRecord.filter((function(e, n) {
                                return e && n === t
                            }
                            )).length > 0
                        }
                        return !1
                    }() ? new Promise((function(t) {
                        Xe.a.custom("Info", "是否读档之前的显示端存档？", "提示", "读档", "取消", !0).then((function() {
                            return i.dialogOptionClientLoadRecord = function() {
                                return Promise.resolve(0)
                            }
                            ,
                            i.showSystemUI(Ob.loadRecord),
                            t(1)
                        }
                        ), (function() {
                            return i.dialogOptionClientLoadRecord = function() {
                                return Promise.resolve(0)
                            }
                            ,
                            t(0)
                        }
                        ))
                    }
                    )) : (i.dialogOptionClientLoadRecord = function() {
                        return Promise.resolve(0)
                    }
                    ,
                    Promise.resolve(0))
                }
                ))
            }
            )),
            c()(this, "updateBubbleState", (function() {
                var t = i.commandScene.getBubbleState()
                  , e = t.bubbleMode
                  , n = t.bubbleCount;
                i.playContext = mr()(i.playContext, {
                    bubbleMode: {
                        $set: e
                    },
                    bubbleCount: {
                        $set: n
                    }
                })
            }
            )),
            c()(this, "repeatHandle", (function() {
                return Cb.repeatHandleOver && i.handleOver()
            }
            )),
            c()(this, "getLocalRecords", (function() {
                Cb.curRecordMod = 0;
                var t = x.a.alpha
                  , e = x.a.client;
                return (t && e ? Xa((function(t) {
                    if (t)
                        return Promise.resolve();
                    var e = function() {
                        return window.location.href = "lzj3000://quit"
                    };
                    return Xe.a.warn("内测作品，请登录内测账号试玩！").then(e, e),
                    Promise.reject()
                }
                )) : Promise.resolve()).then((function() {
                    return Hl.owner === El[gn.M] || El.isEmptyUid() ? Promise.resolve() : Hl.updateRecords(!0).then((function() {
                        return Promise.resolve()
                    }
                    ), (function() {
                        return Promise.resolve()
                    }
                    ))
                }
                )).then((function() {
                    return Promise.resolve(Hl.localRecord)
                }
                ))
            }
            )),
            c()(this, "getCloudRecords", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                  , e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                Cb.curRecordMod = 1;
                var n = x.a.alpha
                  , r = x.a.client
                  , a = function() {
                    return n && r ? Xa((function(t) {
                        if (t)
                            return Promise.resolve();
                        var e = function() {
                            return window.location.href = "lzj3000://quit"
                        };
                        return Xe.a.warn("内测作品，请登录内测账号试玩！").then(e, e),
                        Promise.reject()
                    }
                    )) : Promise.resolve()
                };
                return a().then((function() {
                    return Hl.updateRecords(t, e)
                }
                )).then((function() {
                    return i.loadAssets(Hl.cloudCoverAssets)
                }
                )).then((function() {
                    return Promise.resolve(Hl.cloudRecord)
                }
                ))
            }
            )),
            c()(this, "checkRecordIsCloud", (function() {
                var t = x.a.singleAlone;
                return en.a.runTest || 0 === Cb.curRecordMod || t ? Promise.resolve(!1) : 1 === Cb.curRecordMod ? El.checkLogin().then((function() {
                    return !0
                }
                ), (function() {
                    return Promise.resolve(!1)
                }
                )) : Promise.resolve(!1)
            }
            )),
            c()(this, "saveRecordBySystem", (function() {
                var t = i.playContext.openPages;
                if ((void 0 === t ? [] : t)[0] === Ob.scene && i.canOpenRecord(Ob.saveRecord))
                    return Object(k.x)(0, !0).then((function() {
                        return i.playContext.openPages[0] == Ob.scene && (i.state.plotSnap = Object(k.r)()),
                        i.checkRecordIsCloud().then((function(t) {
                            return i.saveRecord(12, !t, !1, !0)
                        }
                        ))
                    }
                    ))
            }
            )),
            c()(this, "autoLoadRecord", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return i.checkRecordIsCloud().then((function(e) {
                    return i.loadRecord(t, !e, !0)
                }
                ))
            }
            )),
            c()(this, "autoSaveRecord", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                  , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                return Object(k.x)(0, !0).then((function() {
                    var n = function() {
                        return i.playContext.openPages[0] == Ob.scene && (i.state.plotSnap = Object(k.r)()),
                        i.checkRecordIsCloud().then((function(e) {
                            return i.saveRecord(t, !e, !0)
                        }
                        ))
                    };
                    return e ? i.handleChangeContext(e).then((function() {
                        return n()
                    }
                    )) : n()
                }
                ))
            }
            )),
            c()(this, "updateRecordIndex", (function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , n = i.json
                  , r = (n = void 0 === n ? {} : n).default_settings
                  , a = (r = void 0 === r ? {} : r).autoSaveOrLoad
                  , o = a && Object(nn.b)(a);
                if (e)
                    if (o) {
                        var s = a[Vn.F]((function(t, e) {
                            return 1 == t && (1 == e || 2 == e)
                        }
                        ));
                        s ? 1 == a[1] && 0 == t ? t = 13 : 1 == a[2] && 1 == t ? t = 14 : 0 == a[1] && 1 == a[2] ? 0 == t && (t = 14) : 1 == a[1] && 0 == a[2] && 1 == t && (t = 13) : t = -1
                    } else
                        0 !== t || 0 != a && 0 != a || (t = -1);
                return t
            }
            )),
            c()(this, "handleclickRecord", (function(t, e, n) {
                var r = Promise.resolve();
                return Hl.hasRead && (r = El.checkLogin().then((function() {
                    return !0
                }
                ), (function() {
                    return Promise.resolve(!1)
                }
                ))),
                r.then((function() {
                    return i["save" == t ? "saveRecord" : "loadRecord"](e, n)
                }
                ))
            }
            )),
            c()(this, "saveReadRecord", (function() {
                var t = i.playContext
                  , e = i.context
                  , n = i.json
                  , r = i.viewContext
                  , a = i.commandScene
                  , o = i.targetScene
                  , s = i.background
                  , u = o === a
                  , c = r.plotViews
                  , l = r.calledViews;
                Cb.version || (Cb.version = Object(xi.b)(String(Object(k.o)()), Object(k.o)()));
                var d = {
                    v: Cb.version,
                    viewMap: n.viewMap,
                    context: u ? a.context : e,
                    playContext: t,
                    viewContext: r,
                    background: s && s.info || {},
                    commandState: u ? _b({
                        plotViews: c,
                        calledViews: l
                    }, a.getState(!1)) : null,
                    valuesFun: function() {
                        return kf(t)
                    },
                    musics: [nr.music],
                    sounds: nr.sounds.slice(0, 10).map((function(t, e) {
                        return t && t.url ? _b(_b({}, t), {}, {
                            index: e
                        }) : null
                    }
                    )).filter((function(t) {
                        return t
                    }
                    ))
                };
                Zl.save(d)
            }
            )),
            c()(this, "readRecord", (function() {
                var t = i.noticeGameStart;
                return Zl.read(t).then((function(t) {
                    return t ? (i.showWorldTip(!0, "readRecord", "阅读记录加载中..."),
                    i.parseRecord(t, "readRecord", !0, !0).then((function() {
                        return i.dialogOptionClientLoadRecord()
                    }
                    ))) : Promise.reject()
                }
                )).catch((function() {
                    return i.showWorldTip(!1, "readRecord"),
                    Promise.reject()
                }
                ))
            }
            )),
            c()(this, "showSystemUI", (function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , r = i.playContext
                  , o = r.openPages
                  , s = r.playback
                  , u = [Ob.cover, Ob.scene, Ob.diyMainMenu];
                if (n || o.length && u[Vn.F]((function(t) {
                    return t === o[0]
                }
                ))) {
                    o[0] !== Ob.diyMainMenu && (i.state.plotSnap = Object(k.r)()),
                    i.targetScene && i.targetScene.pause();
                    var c = i.inputs
                      , l = (c = void 0 === c ? {} : c).diyMainMenu
                      , d = c.views
                      , f = i.json
                      , h = void 0 === f ? {} : f
                      , p = i.game
                      , v = (p = void 0 === p ? {} : p).world
                      , g = h.template;
                    [].concat(a()(l), a()(d)).forEach((function(t) {
                        return t.show(!1)
                    }
                    ));
                    var m = function() {
                        o.shift(),
                        u[Vn.F]((function(t) {
                            return t === o[0]
                        }
                        )) ? (o[0] !== Ob.diyMainMenu ? (i.targetScene && i.targetScene.proceed(),
                        [].concat(a()(l), a()(d)).forEach((function(t) {
                            return t.show(!0)
                        }
                        ))) : l.forEach((function(t) {
                            return t.show(!0)
                        }
                        )),
                        e && e()) : b(o[0])
                    }
                      , y = function(t) {
                        o.unshift(t),
                        b(t)
                    }
                      , b = function t(e) {
                        var n = i.systemLayer;
                        switch (v.bringToTop(i.systemLayer),
                        v.bringToTop(i.mouseStyleLayer),
                        e) {
                        case Ob.settings:
                            return void n.add(xp({
                                template: g,
                                callback: m
                            }));
                        case Ob.playback:
                            return n.add(Up({
                                template: g,
                                callback: m,
                                records: s,
                                isload: Cb.isLoad
                            })),
                            void (Cb.isLoad = !1);
                        case Ob.loadRecord:
                        case Ob.saveRecord:
                            return i.canOpenRecord(Ob.loadRecord) ? void n.add(ov({
                                mode: e === Ob.loadRecord ? "load" : "save",
                                json: h,
                                callback: m,
                                getLocal: i.getLocalRecords,
                                getCloud: i.getCloudRecords,
                                clickRecord: i.handleclickRecord,
                                lockRecord: i.getlockRecord,
                                getPlayContext: function() {
                                    return i.playContext
                                }
                            })) : (m(),
                            void ml({
                                type: gl,
                                text: "抱歉，作者在此设置了禁用".concat(e === Ob.loadRecord ? "读" : "存", "档")
                            }));
                        case Ob.mainMenu:
                            var r = function(e) {
                                i.canOpenRecord(e) ? y(e) : (t(Ob.mainMenu),
                                ml({
                                    type: gl,
                                    text: "抱歉，作者在此设置了禁用".concat(e === Ob.loadRecord ? "读" : "存", "档")
                                }))
                            };
                            return void n.add(Rp({
                                template: g,
                                callbacks: {
                                    load: function() {
                                        return r(Ob.loadRecord)
                                    },
                                    save: function() {
                                        return r(Ob.saveRecord)
                                    },
                                    playback: function() {
                                        return y(Ob.playback)
                                    },
                                    settings: function() {
                                        return y(Ob.settings)
                                    },
                                    autoplay: function() {
                                        i.targetScene && i.targetScene.dispatchContinueClick(),
                                        m()
                                    },
                                    back: m
                                }
                            }))
                        }
                    };
                    y(t)
                }
            }
            )),
            c()(this, "getlockRecord", (function() {
                var t = En.records.filter((function(t) {
                    return 0 !== t.price
                }
                ));
                if (0 == t.length)
                    return Promise.resolve([]);
                var e = function(t, e) {
                    for (var n = [], r = function(r) {
                        var i = e[r];
                        n.push(t.filter((function(t) {
                            return t.uuid == i
                        }
                        )))
                    }, i = 0; i < e.length; i++)
                        r(i);
                    return t.concat.apply(t, n).filter((function(t, e, n) {
                        return n.indexOf(t) === n.lastIndexOf(t)
                    }
                    ))
                };
                return en.a.runTest ? Promise.resolve(e(t, sn.a.typeUnlockRecords)) : no().then((function(n) {
                    return e(t, n)
                }
                ), (function() {
                    return Promise.resolve(t)
                }
                ))
            }
            )),
            c()(this, "hideBackground", (function() {
                var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                return i.background && (i.background.visible = !t)
            }
            )),
            c()(this, "setBackground", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , e = i.background && i.background.info || {}
                  , n = t.url
                  , r = void 0 === n ? "" : n
                  , a = t.flex
                  , o = void 0 === a ? 1 : a
                  , s = t.opacity
                  , u = void 0 === s ? 1 : s;
                if ("inherit" === r) {
                    var c = e.url;
                    r = void 0 === c ? "" : c;
                    var l = e.flex;
                    o = void 0 === l ? 1 : l;
                    var d = e.opacity;
                    u = void 0 === d ? 1 : d
                }
                var f = i.game.world
                  , h = f.width
                  , p = f.height
                  , v = i.background || {}
                  , g = v.visible
                  , m = void 0 !== g && g;
                i.background && (i.background.key = ""),
                i.backGroundLayer.remove(i.background, !0, !0),
                i.background = null,
                Object(nn.p)(r) && "" !== r ? (i.background = wu.image(),
                i.background.scale = new PIXI.Point(1,1),
                i.background.loadTexture(r)) : Object(nn.o)(r) ? i.background = wu.image(r) : i.background = wu.rectMask({
                    rect: {
                        width: h,
                        height: p
                    }
                }),
                i.background.visible = m,
                i.background.alpha = u,
                i.background.inputEnabled = !0,
                i.background.y = i.background.x = 0,
                i.background.info = {
                    url: r,
                    flex: o,
                    opacity: u
                },
                r && Ou.flex(o, i.background, {
                    width: h,
                    height: p
                }),
                i.backGroundLayer.add(i.background, !0, 0),
                r && Qo.addRef("image", r, "using"),
                e.url && Qo.subRef("image", e.url, "using")
            }
            )),
            c()(this, "updateGameSavedValues", (function(t) {
                var e = x.a.uuid
                  , n = On.localStorageGetItem("".concat(e).concat(gn.C, "s").concat(El[gn.M])) || "";
                if (n) {
                    var r = t[Object(rn.j)()];
                    (n = JSON.parse(n)).forEach((function(e) {
                        var n = e.uuid
                          , i = e.value
                          , a = r.findIndex((function(t) {
                            return t.uuid === n
                        }
                        ));
                        ~a && (t = Vc(t, Object(rn.j)(), a, (function() {
                            return i
                        }
                        )))
                    }
                    ))
                }
                return t
            }
            )),
            c()(this, "start", (function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                t && vp.getInstance().hide(i.tools),
                Cb.repeatHandleOver = !1,
                t && i.resetPlayCount(),
                i.targetScene && (Cb.isLoad = !0,
                i.targetScene.clear(t));
                var e = i.game.world;
                Pb.forEach((function(t) {
                    return e.bringToTop(i[t])
                }
                )),
                t && i.commandScene && i.targetScene !== i.commandScene && i.commandScene.clear(!0),
                Qo.clearPreload();
                var n = i.playContext
                  , r = i.json
                  , a = i.gameValues
                  , o = r.cover
                  , s = {
                    plotViews: [],
                    calledViews: [],
                    globalViews: [],
                    globalCalledViews: [],
                    menuViews: [],
                    menuCalledViews: []
                };
                i.handleChangeViewContext(s),
                i.menus.visible = !1,
                n = mr()(n, {
                    stack: {
                        $set: []
                    },
                    playback: {
                        $set: []
                    },
                    openPages: {
                        $set: [Ob.cover]
                    }
                }),
                [Object(rn.m)(), Object(rn.k)(), Object(rn.h)()].forEach((function(t) {
                    return a[t].map((function(e, r) {
                        return n = Vc(n, t, r, (function() {
                            return Wc(e)
                        }
                        ))
                    }
                    ))
                }
                )),
                i.playContext = i.updateGameSavedValues(n),
                Cb.canNoticeStart && i.dialogOptionClientLoadRecord();
                var u = function() {
                    var t = i.playContext
                      , e = i.viewContext
                      , n = i.handleShare
                      , a = i.autoSaveRecord
                      , o = i.noticeGameStart
                      , s = r.views;
                    o(),
                    t.openPages = [],
                    i.instanceView(s, 0).then((function(o) {
                        var s = {
                            playContext: t,
                            viewContext: _b(_b({}, e), {}, {
                                globalViews: o
                            }),
                            game: r,
                            handleShare: n,
                            autoSaveRecord: a
                        };
                        Yh.runOnLoadEvent(["globalViews", null], s).then((function(t) {
                            i.menus.visible = !0,
                            i.handleChangeContext(t),
                            i.playContext.openPages.push(Ob.scene);
                            var e = t.controlPlay
                              , n = i.firstChapter;
                            return e && "jump" === e.type && (n = vn.a.getChapterByUUID(r, e.uuid)),
                            i.getChapterData(n).then((function(t) {
                                var e = {
                                    stack: i.stack,
                                    chapter: t,
                                    plots: t.plots,
                                    plotIndex: 0
                                };
                                return Qo.getPreload(e).then((function(t) {
                                    return i.loadAssets(t)
                                }
                                )).then((function() {
                                    i.play(e)
                                }
                                ), (function(t) {
                                    return console.warn(t)
                                }
                                ))
                            }
                            )).catch((function() {
                                i.start()
                            }
                            ))
                        }
                        ))
                    }
                    ))
                };
                i.showCover(o).then((function() {
                    return u()
                }
                ))
            }
            ));
            var o = e.add
              , u = e.cache
              , l = e.world
              , d = n.template.json.sound
              , f = n.default_settings
              , p = (f = void 0 === f ? {} : f).color
              , v = f.mouse
              , g = x.a.wap
              , m = x.a.single
              , y = x.a.client
              , b = x.a.channel;
            this.game = e,
            this.json = n,
            this.gameValues = r,
            this.state = {
                inputing: !1,
                loading: !1,
                plotSnap: null,
                recording: !1
            },
            this.audioMap = {
                sounds: new Array(10).fill(null),
                music: null
            },
            this.playContext = _b({
                bubbleMode: [],
                bubbleCount: [],
                stack: [],
                playback: [],
                openPages: []
            }, r),
            this.playContext = hf(this.playContext, "channel", b),
            this.viewContext = {
                plotViews: [],
                calledViews: [],
                globalViews: [],
                globalCalledViews: [],
                menuViews: [],
                menuCalledViews: []
            },
            this.firstChapter = vn.a.getFirstChapter(n),
            this.keyUpListeners = [],
            this.timerListeners = [],
            this.inputs = {
                views: [],
                diyMainMenu: []
            },
            this.mouseStyleLayer = null,
            Cb.curRecordMod = "" == El[gn.M] ? 0 : 1,
            Cb.nowkey = Date.now(),
            Cb[Cb.nowkey] = Cb.nowkey,
            En.DefaultColor = p,
            u.checkSoundKey(d.url) && (En.buttonOverSound = o.sound(d.url, d.volume)),
            $s.playContext = function() {
                return i.playContext
            }
            ,
            this.groups = wu.group(),
            Sb.forEach((function(t) {
                var e = "menus" === t ? yv({
                    template: n.template,
                    callbacks: {
                        menu: i.handleMenuClick,
                        share: function(t) {
                            var e = i.json
                              , n = i.playContext
                              , r = i.viewContext
                              , a = Yh.fixContext({
                                game: e,
                                playContext: n,
                                viewContext: r
                            });
                            i.handleShare({
                                isInvite: t,
                                context: a
                            }).then((function(t) {
                                return i.handleChangeContext(t)
                            }
                            ))
                        }
                    }
                }) : wu.group(t);
                i[t] = i.groups.add(e)
            }
            ));
            var w = this.createProps();
            this.scene = new qm(w),
            this.commandScene = new Ty(w),
            Hl.init(),
            Pb.forEach((function(t) {
                var e = wu.group(t);
                l.add(e),
                i[t] = e
            }
            )),
            this.initInteractionEvents(),
            this.initExternalShanyiApiInterface(),
            Cb.focusMVolume = En.musicVolume,
            Cb.focusSVolume = En.soundVolume,
            document.addEventListener("visibilitychange", (function() {
                var t = "hidden" == document.visibilityState;
                t && (Cb.focusMVolume = En.musicVolume,
                Cb.focusSVolume = En.soundVolume);
                var e = t ? 0 : Cb.focusMVolume
                  , n = t ? 0 : Cb.focusSVolume;
                nr.updateMusicVolume(e, !1),
                nr.updateSoundsVolume(n, !1),
                En.video && En.video.changeVolume(En.videoVolume)
            }
            )),
            "pc" === y && (En.musicVolume = En.soundVolume = .5,
            On.gameReady()),
            "qzone" === g && this.initQzoneConfig(),
            m && this.initSingleConfig(),
            this.runSysteamTimer(),
            this.handleTimer(),
            xb(e, n).then((function() {
                i.initToolsView(),
                $c({
                    game: e,
                    mouse: v,
                    layer: i.mouseStyleLayer
                }),
                i.handleShowGameNotice().then((function() {
                    return i.readRecord()
                }
                )).catch((function() {
                    return i.start()
                }
                ))
            }
            ))
        }
        return v()(t, [{
            key: "createProps",
            value: function() {
                var t = this.game
                  , e = this.json
                  , n = this.getPlayContext
                  , r = this.getInheritBackground
                  , i = this.setBackground
                  , a = this.showPlotViews
                  , o = this.hideBackground
                  , s = this.noShowingViews
                  , u = this.autoSaveRecord
                  , c = this.addViews
                  , l = this.pushPlayback
                  , d = this.existPlotViews
                  , f = this.resetPlayCount
                  , h = this.repeatHandle;
                return {
                    game: t,
                    json: e,
                    updatePlayContext: this.updatePlayContext,
                    getPlayContext: n,
                    getInheritBackground: r,
                    setBackground: i,
                    showPlotViews: a,
                    hideBackground: o,
                    noShowingViews: s,
                    autoSaveRecord: u,
                    addViews: c,
                    pushPlayback: l,
                    existPlotViews: d,
                    resetPlayCount: f,
                    repeatHandle: h,
                    saveReadRecord: this.saveReadRecord,
                    filterOptionsClient: this.filterOptionsClient,
                    findPlayStackId: this.findPlayStackId,
                    handleShowTools: this.handleShowTools,
                    dialogLayer: this.dialogLayer
                }
            }
        }, {
            key: "runSysteamTimer",
            value: function() {
                var t = this
                  , e = x.a.client
                  , n = x.a.wap
                  , r = this.json.default_settings
                  , i = (r = void 0 === r ? {} : r).autoSaveOrLoad;
                if (Object(nn.b)(i) && i[0] && an.a.timeCount(Cb.SYSTEM_SAVERECORD_TIME, (function() {
                    return t.saveRecordBySystem()
                }
                ), (function() {
                    return !1
                }
                ), (function() {
                    return !0
                }
                )),
                "wap" === e && "" === n) {
                    var a = !1;
                    an.a.timeCount(Cb.THERRETIME, (function() {
                        Qe.a.cnzzTrackEvent(Qe.a.Events.WAPPOPUP),
                        Xe.a.custom("Warn", "试读结束，快使用闪艺APP打开作品，体验完整剧情吧~", "提示", "APP打开", "取消", !0).then((function() {
                            return Ao()
                        }
                        ), (function() {
                            return Io()
                        }
                        )),
                        a = !0
                    }
                    ), (function() {
                        return a
                    }
                    ), (function() {
                        return !0
                    }
                    ))
                }
                an.a.timeCount(Cb.PLAYERTIME, (function() {
                    Ja(Cb.PLAYERTIME),
                    Cb.playerCount++
                }
                ), (function() {
                    return !1
                }
                ), (function() {
                    return Cb.playerCount < 5 && Cb.canPlayerCount
                }
                ))
            }
        }, {
            key: "initInteractionEvents",
            value: function() {
                var t = this
                  , e = this.game
                  , n = e.input
                  , r = e.onPause
                  , i = n.keyboard
                  , a = n.onHold
                  , o = n.onUp
                  , s = n.onDown;
                i.addCallbacks(this, this.handleKeyDown, this.handleKeyUp),
                Object(nn.e)() || (a.add((function() {
                    return t.handleHoldFastPlay(!0)
                }
                )),
                o.add((function() {
                    return t.handleHoldFastPlay(!1)
                }
                ))),
                s.add((function() {
                    return t.handleTouchDown()
                }
                )),
                r.add((function() {
                    return o.dispatch()
                }
                ))
            }
        }, {
            key: "initToolsView",
            value: function() {
                var t = this
                  , e = this.showSystemUI
                  , n = this.noShowingViews
                  , r = this.json.playerItem;
                vp.getInstance().update({
                    data: r,
                    loadRecord: function() {
                        return e(Ob.loadRecord)
                    },
                    saveRecord: function() {
                        return e(Ob.saveRecord)
                    },
                    reViewCallback: function() {
                        return e(Ob.playback)
                    },
                    eyesCallback: function(e) {
                        ["plotViews", "calledViews", "globalViews", "globalCalledViews", "menus", "space", "menuViews", "menuCalledViews"].forEach((function(n) {
                            return t[n] && (t[n].visible = e)
                        }
                        )),
                        t.targetScene && t.targetScene.eyes(e);
                        var n = t.inputs
                          , r = n.diyMainMenu
                          , i = n.views;
                        [].concat(a()(i), a()(r)).forEach((function(t) {
                            return t && t.show(e)
                        }
                        ))
                    },
                    soundMuteCallback: function(t) {
                        return nr.updateSoundsVolume(t)
                    },
                    musicMuteCallback: function(t) {
                        return nr.updateMusicVolume(t)
                    },
                    fasterCallback: function() {
                        t.targetScene && n() && t.targetScene.dispatchContinueClick()
                    }
                })
            }
        }, {
            key: "initQzoneConfig",
            value: function() {
                var t = this
                  , e = x.a.qz_vindex
                  , n = x.a.shareViewName
                  , r = x.a.shareViewName1
                  , i = x.a.inviteViewName
                  , o = x.a.refreshViewName
                  , s = e || 177;
                this.playContext = Vc(this.playContext, Object(rn.m)(), s, (function() {
                    return 1
                }
                )),
                Qe.f.addEventsSharePanelQzone((function(e) {
                    var n = t.json
                      , r = t.playContext
                      , i = t.viewContext
                      , a = Yh.fixContext({
                        game: n,
                        playContext: r,
                        viewContext: i
                    });
                    t.handleShareBack(e, a).then((function(e) {
                        return t.handleChangeContext(e)
                    }
                    ))
                }
                ));
                var u = {
                    shareView: {
                        name: n,
                        view: null,
                        eventType: "share"
                    },
                    share1View: {
                        name: r,
                        view: null,
                        eventType: ""
                    },
                    inviteView: {
                        name: i,
                        view: null,
                        eventType: "share"
                    },
                    refreshView: {
                        name: o,
                        view: null,
                        eventType: "share"
                    }
                };
                Cb.refreshEvents = a()(this.findSpecificViewsbyName(u))
            }
        }, {
            key: "initSingleConfig",
            value: function() {
                Cb.refreshEvents = a()(this.findSpecificViewsbyName({
                    playAdView: {
                        name: "g6Hsa9WoK8",
                        view: null,
                        eventType: "playad"
                    },
                    refreshView: {
                        name: "UGTmkxnxi",
                        view: null,
                        eventType: ""
                    },
                    logoutView: {
                        name: "SHANexit",
                        view: null,
                        eventType: "loginout"
                    },
                    rechargeView: {
                        name: "SHANcharge",
                        view: null,
                        eventType: "recharge"
                    }
                }))
            }
        }, {
            key: "initExternalShanyiApiInterface",
            value: function() {
                var t = this
                  , e = this.game
                  , n = function() {
                    var n = t.inputs
                      , r = t.playContext
                      , i = n.diyMainMenu
                      , o = n.views
                      , s = e.world;
                    t.showHoldFastPlayTip(!1),
                    [].concat(a()(i), a()(o)).forEach((function(t) {
                        return t.show(!1)
                    }
                    )),
                    r.openPages.unshift(Ob.diyMainMenu),
                    t.showPlayerSpace(!1),
                    En.video && En.video.dispose(),
                    Cb.isLoad = !0,
                    t.state.plotSnap = null,
                    En.fastPlay = !1;
                    var u = s.getByName("loadAssetsTip");
                    u && (s.removeChild(u, !0),
                    u.destroy(!0));
                    var c = s.getByName("videoMask");
                    c && s.remove(c, !0),
                    Xe.a.clearDialog(),
                    lh.getInstance().close(),
                    e.onRestart.dispatch()
                }
                  , r = function(n) {
                    t.showHoldFastPlayTip(!1),
                    t.showSystemUI(n, (function() {
                        return t.menus.visible = !0
                    }
                    ), !0),
                    e.gameResumed()
                };
                On.setCallback("updatevolume", (function(e) {
                    nr.externalProhibitVolume = 0 == e,
                    En.videoVolume = e,
                    "pc" === x.a.client && (En.musicVolume = En.soundVolume = e),
                    Cb.focusMVolume = e,
                    Cb.focusSVolume = e,
                    t.handleUpdateVolume(e)
                }
                )),
                On.setCallback("login", this.handleLogin),
                On.setCallback("logout", this.handleLogout),
                On.setCallback("restart", (function() {
                    var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    n(),
                    Cb.canNoticeStart = !0,
                    Object(k.x)(50).then((function() {
                        return t.start(e)
                    }
                    ))
                }
                )),
                On.setCallback("showSave", (function() {
                    return r(Ob.saveRecord)
                }
                )),
                On.setCallback("showLoad", (function() {
                    return r(Ob.loadRecord)
                }
                )),
                On.setCallback("showPlayback", (function() {
                    return r(Ob.playback)
                }
                )),
                On.setCallback("showSettings", (function() {
                    return r(Ob.settings)
                }
                )),
                On.setCallback("gamePause", (function(e) {
                    var n = t.inputs
                      , r = n.diyMainMenu
                      , i = n.views;
                    0 == e && t.targetScene ? t.targetScene.proceed() : t.targetScene.pause(),
                    [].concat(a()(r), a()(i)).forEach((function(t) {
                        return t.show("0" == e)
                    }
                    ))
                }
                )),
                On.setCallback("rechargeback", (function(e) {
                    var n = t.viewContext
                      , r = t.handleShare
                      , i = t.autoSaveRecord
                      , a = t.playContext
                      , o = t.json;
                    1 == e && mf(a).then((function(e) {
                        t.playContext = e;
                        var a = Yh.fixContext({
                            game: o,
                            playContext: e,
                            viewContext: n,
                            handleShare: r,
                            autoSaveRecord: i
                        });
                        Yh.runSpecialEvents(Cb.refreshEvents, a).then((function(e) {
                            return e !== a && t.handleChangeContext(e)
                        }
                        ))
                    }
                    ))
                }
                ));
                var i = 0
                  , o = 0;
                On.setCallback("setAttribute", (function() {
                    En.video && (i && clearInterval(i),
                    i = setInterval((function() {
                        ++o >= 3 && (clearInterval(i),
                        o = 0),
                        En.video.resize()
                    }
                    ), 100))
                }
                ))
            }
        }, {
            key: "showPlayerSpace",
            value: function(t) {
                var e = this.game.world
                  , n = e.width
                  , r = e.height;
                if (t) {
                    var i = wu.rectMask({
                        rect: {
                            width: n,
                            height: r
                        },
                        alpha: 0
                    });
                    i.inputEnabled = !0,
                    this.space.add(i)
                } else
                    this.space.removeAll(!0)
            }
        }, {
            key: "findSpecificViewsbyName",
            value: function(t) {
                var e = this.json.viewMap
                  , n = Object.keys(t) || []
                  , r = [];
                return n.forEach((function(n) {
                    var i, o = t[n].name, s = t[n].eventType, u = function(t) {
                        for (var n in e) {
                            var r = e[n];
                            if (r && r.name == t)
                                return r
                        }
                        return null
                    }(o);
                    u && ("" !== s ? (u.events.unshift((i = {
                        type: "onClick",
                        name: o
                    },
                    c()(i, gn.m, {
                        type: gn.t,
                        value: "1"
                    }),
                    c()(i, "events", [{
                        type: s,
                        handle: {
                            uuid: o
                        }
                    }]),
                    i)),
                    t[n].view = u) : r = a()(u.events))
                }
                )),
                r
            }
        }, {
            key: "showWorldTip",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                  , e = arguments.length > 1 ? arguments[1] : void 0
                  , n = arguments.length > 2 ? arguments[2] : void 0
                  , r = this.game.world
                  , i = r.getByName(e) || null;
                t ? (i || (i = Ou.fullScreenTip({
                    name: e,
                    text: n,
                    alpha: .5
                }),
                r.add(i)),
                i.visible = !0) : i && r.remove(i, !0)
            }
        }, {
            key: "showHoldFastPlayTip",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                  , e = this.game.world
                  , n = e.getByName("holdFastPlayTip") || null;
                if (t) {
                    if (!n) {
                        var r = e.centerX
                          , i = e.centerY;
                        n = wu.group("holdFastPlayTip");
                        var a = wu.image("ui", {
                            x: r,
                            y: i,
                            centre: !0
                        }, "app_button_speed");
                        n.add(a),
                        r -= a.width / 2,
                        i -= a.height / 2;
                        var o = wu.image("ui", {
                            x: r + 90,
                            y: i + 25
                        }, "app_icon_speed");
                        n.add(o),
                        n.add(wu.text({
                            x: r + 80,
                            y: i + o.height + 40
                        }, {
                            fontSize: 25,
                            forceFontFamily: qs.default,
                            color: "#333333",
                            text: "快进中..."
                        })),
                        n.add(wu.text({
                            x: r + 40,
                            y: i + o.height + 75
                        }, {
                            fontSize: 20,
                            forceFontFamily: qs.default,
                            color: "#aaadb3",
                            text: "松开手指恢复播放"
                        })),
                        e.add(n)
                    }
                    n.visible = !0
                } else
                    n && (e.removeChild(n),
                    n.destroy()),
                    n = null
            }
        }, {
            key: "handleHoldFastPlay",
            value: function(t) {
                var e = this.playContext
                  , n = this.inputs
                  , r = this.targetScene
                  , i = this.noShowingViews
                  , o = this.state
                  , s = o.loading
                  , u = o.inputing
                  , c = n.diyMainMenu
                  , l = n.views
                  , d = e.openPages
                  , f = void 0 === d ? [] : d;
                if (!t || f[0] !== Ob.scene || r && r.options && r.options.children.length > 0 || s || u || !i() || sn.a.isHandleInputEventing)
                    return this.showHoldFastPlayTip(!1),
                    f[0] !== Ob.scene ? (l.forEach((function(t) {
                        return t.show(!1)
                    }
                    )),
                    c.forEach((function(t) {
                        return t.show(f[Vn.F]((function(t) {
                            return t === Ob.diyMainMenu
                        }
                        )))
                    }
                    ))) : [].concat(a()(l), a()(c)).forEach((function(t) {
                        return t.show(!0)
                    }
                    )),
                    void (En.fastPlay = !1);
                [].concat(a()(c), a()(l)).forEach((function(t) {
                    return t.show(!1)
                }
                )),
                this.showHoldFastPlayTip(!0),
                En.fastPlay = !0
            }
        }, {
            key: "handleKeyDown",
            value: function(t) {
                var e = x.a.isSteam
                  , n = t.keyCode
                  , r = this.state
                  , i = this.targetScene
                  , a = this.noShowingViews
                  , o = r.loading
                  , s = r.inputing;
                if (e && 27 == n && cefCustomObject.exitGame(),
                !s) {
                    var u = i && i.options && i.options.children.length > 0;
                    n != Phaser.Keyboard.Z || u || o || s || !a() || (En.fastPlay = !0)
                }
            }
        }, {
            key: "handleKeyUp",
            value: function(t) {
                var e = this
                  , n = this.state
                  , r = this.playContext
                  , i = this.viewContext
                  , a = this.json
                  , o = n.inputing
                  , s = t.keyCode;
                if (s === Phaser.Keyboard.Z && (En.fastPlay = !1),
                !o && Mb("keyup") && s != Phaser.Keyboard.Z) {
                    var u = [Ob.scene, Ob.diyMainMenu]
                      , c = r.openPages
                      , l = void 0 === c ? [] : c;
                    if (u[Vn.F]((function(t) {
                        return t === l[0]
                    }
                    ))) {
                        var d = Yh.fixContext({
                            game: a,
                            playContext: r,
                            viewContext: i
                        })
                          , f = Promise.resolve(d)
                          , h = l[0] === Ob.diyMainMenu;
                        Rb("keyup"),
                        this.keyUpListeners.forEach((function(e) {
                            (h && e.isDiyMenuView || !h) && (f = f.then((function(n) {
                                return e.handle(t.keyCode, n)
                            }
                            )))
                        }
                        )),
                        f.then((function(t) {
                            if (d !== t && Tb("keyup"))
                                return e.handleChangeContext(t).then((function() {
                                    return e.saveReadRecord(),
                                    Promise.resolve()
                                }
                                ))
                        }
                        )).finally((function() {
                            return Tb("keyup") && Ab()
                        }
                        ))
                    }
                }
            }
        }, {
            key: "handleTouchDown",
            value: function() {
                sn.a.touchDown = !0;
                var t = this.game
                  , e = this.inputs
                  , n = this.targetScene
                  , r = t.input.onUp;
                t.gameResumed(),
                Math.abs(an.a.getDate() - Math.floor(Date.now() / 1e3)) > 60 && ja();
                var i = e.diyMainMenu
                  , o = e.views;
                [].concat(a()(o), a()(i)).forEach((function(t) {
                    var e = t.element;
                    e && e.blur()
                }
                )),
                n && this.noticeGameStart(),
                r.addOnce((function() {
                    return sn.a.touchDown = !1
                }
                )),
                vp.getInstance().Eyes || vp.getInstance().dispatchEyes()
            }
        }, {
            key: "handleTimer",
            value: function() {
                var t = this
                  , e = [Ob.scene, Ob.diyMainMenu]
                  , n = this.playContext
                  , r = this.viewContext
                  , i = this.json
                  , a = n.openPages
                  , o = void 0 === a ? [] : a;
                if (e[Vn.F]((function(t) {
                    return t === o[0]
                }
                )) && Mb("timer")) {
                    Rb("timer");
                    var s = Promise.resolve(Yh.fixContext({
                        game: i,
                        playContext: n,
                        viewContext: r
                    }))
                      , u = o[0] === Ob.diyMainMenu;
                    this.timerListeners.forEach((function(e) {
                        (u && e.isDiyMenuView || !u) && (s = s.then((function(n) {
                            return Tb("timer") ? t.timerListeners[Vn.m](e) ? e.handle(n, 10).then((function(r) {
                                return t.hasChangedContext(n) ? (e.revert(),
                                Yh.fixContext({
                                    game: i,
                                    playContext: t.playContext,
                                    viewContext: t.viewContext
                                })) : t.handleChangeContext(r).then((function() {
                                    return r
                                }
                                ))
                            }
                            )) : n : Promise.reject()
                        }
                        )))
                    }
                    )),
                    s.finally((function() {
                        return Tb("timer") && Ab()
                    }
                    ))
                }
                Object(jn.e)() && (this.game.world.removeAll(!0, !1, !0),
                Object(jn.l)()),
                Object(k.x)(10).then((function() {
                    return t.handleTimer()
                }
                ))
            }
        }, {
            key: "loadAssets",
            value: function(t) {
                var e = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , r = this.game.load
                  , i = x.a.app_version
                  , a = x.a.client
                  , o = x.a.offline
                  , s = x.a.upserver
                  , u = pb.getInstance().create({}, Db(t));
                return u.update("加载中...", 0),
                u.getView().alpha = 0,
                new Promise((function(c) {
                    var l = {}
                      , d = Object(k.c)(i, "1.15.1") < 0 && On.isAppClient() && "android" === a && o
                      , f = 0;
                    t.forEach((function(t) {
                        var e = t.type
                          , n = t.url
                          , i = t.useInPlot
                          , a = void 0 === i || i;
                        if (!Qo.inCache(e, n)) {
                            if ("spine" === e)
                                if (d)
                                    l[n] = !1,
                                    f++;
                                else {
                                    var o = Object(k.s)(n);
                                    l["".concat(o.atlas)] = !1,
                                    l["".concat(o.skeleton)] = !1,
                                    l["".concat(o.image)] = !1
                                }
                            else
                                l[n] = !1;
                            r.cancelForceRemoveFile(e, n),
                            Qo.load(e, n, a, !0),
                            d && Object(k.x)(500).then((function() {
                                return m && m(n)
                            }
                            ))
                        }
                    }
                    ));
                    var h = Object.keys(l).length - f;
                    if (!h)
                        return u.remove(),
                        Qo.startLoadThread(),
                        c();
                    Object(k.x)(s ? 1e3 : n ? 3e3 : 1e3).then((function() {
                        return u.getView().alpha = 1
                    }
                    )),
                    e.state.loading = !0;
                    var p = Object.create(null)
                      , v = 0
                      , g = function() {
                        v === h && (r.onSoundExtendLoad.removeAll(p),
                        r.onSoundExtendLoadError.removeAll(p),
                        r.onFileComplete.removeAll(p),
                        u.remove(),
                        Qo.startLoadThread(),
                        !0 === e.state.loading && Fo(),
                        e.state.loading = !1,
                        c())
                    }
                      , m = function(t) {
                        if (d || !l[t] && void 0 !== l[t] || function(t) {
                            return null != l[t] || (t.replace(/\/\/(apppic|synpic).3000test.com\//, ""),
                            void 0 !== l[t])
                        }(t)) {
                            void 0 !== l[t] && (l[t] = !0),
                            v++;
                            var e = parseInt(100 * v / h);
                            u.update("加载中...".concat(e, "%"), e)
                        }
                        g()
                    };
                    r.onSoundExtendLoad.add((function(t) {
                        return m(t)
                    }
                    ), p),
                    r.onSoundExtendLoadError.add((function(t) {
                        return m(t)
                    }
                    ), p),
                    r.onFileComplete.add((function(t, e) {
                        return m(e)
                    }
                    ), p, 0),
                    r.onLoadComplete.addOnce((function() {
                        return g()
                    }
                    ), p, 0),
                    r.start()
                }
                ))
            }
        }, {
            key: "loadViewsAssets",
            value: function(t, e) {
                var n = this
                  , r = e.viewContext
                  , i = e.controlAudio
                  , a = void 0 === i ? {} : i
                  , o = e.controlPlay;
                if (function() {
                    return o || !(n.viewContext !== r || a.updateSounds || a.music)
                }
                )
                    return Promise.resolve();
                var s = Qo.getAssetsInViews(t, !0);
                return s.length ? this.loadAssets(s) : Promise.resolve()
            }
        }, {
            key: "unlockChapterForWapOther",
            value: function(t) {
                var e = t.uuid
                  , n = t.charge
                  , r = t.md5
                  , i = t.handleProgress
                  , a = t.name
                  , o = void 0 === a ? "" : a
                  , s = x.a.uuid
                  , u = x.a.wap
                  , c = x.a.gid
                  , l = function() {
                    return qa(e, r, i, void 0 !== n)
                }
                  , d = 0
                  , f = function t(e) {
                    return d >= 5 ? Promise.reject() : (d++,
                    "success" === e ? l().then(null, (function() {
                        return t("error")
                    }
                    )) : yi(mi.ERROR_OTHER_4, (function() {
                        return l().then(null, (function() {
                            return t("error")
                        }
                        ))
                    }
                    ), (function() {
                        return Promise.reject()
                    }
                    )))
                };
                return Qa(s, e, null, "app").then((function(t) {
                    var e = t.charge;
                    return Object(k.x)(100).then((function() {
                        return e
                    }
                    ))
                }
                )).then((function(t) {
                    return function(t) {
                        return Xe.a.custom("Info", "当前为收费章节，需支付".concat("mk" == u ? 200 * t + "米粒" : t + "元", "解锁观看"), "章节收费提示", "支付", "取消", !1)
                    }(t)
                }
                )).then((function() {
                    switch (u) {
                    case "qh":
                        return Qe.e.qhpay(n, e, Object(k.l)(), e, null, 0).then(f);
                    case "mk":
                        return function() {
                            var t = x.a.mk_uid
                              , r = x.a.mk_access_token;
                            n *= 200;
                            var i = an.a.getCurDate()
                              , a = vr.a.hash(s + e + n + i + "4shan3yi9xia9men")
                              , u = {
                                client: 4,
                                amount: n,
                                game_id: c,
                                uuid: s,
                                chapter_uuid: e,
                                time: i,
                                token: a,
                                outreach_uid: t,
                                access_token: r,
                                product_name: o,
                                indentId: Object(k.l)(),
                                uid: El[gn.M]
                            };
                            return On.unlockChapter(u).then((function() {
                                return Object(k.x)(600).then((function() {
                                    return f("success")
                                }
                                ))
                            }
                            ), (function() {
                                return Promise.reject()
                            }
                            ))
                        }();
                    default:
                        return Promise.reject()
                    }
                }
                )).then(null, (function() {
                    return yi(mi.ERROR_OTHER_3, null, null),
                    Promise.reject()
                }
                ))
            }
        }, {
            key: "unlockChapter",
            value: function(t) {
                var e = t.uuid
                  , n = t.charge
                  , r = t.md5
                  , i = t.handleProgress
                  , a = t.name
                  , o = void 0 === a ? "" : a
                  , s = t.play
                  , u = void 0 === s || s
                  , c = x.a.uuid
                  , l = x.a.client
                  , d = x.a.wap;
                if ("wap" == l && "wx" == d)
                    return Xe.a.warn("当前章节为付费章节，是否前往闪艺抢先体验？").then((function() {
                        return Io()
                    }
                    ), (function() {}
                    )),
                    Promise.reject();
                var f = {
                    charge: n,
                    discounts: -1,
                    original_price: n,
                    charge_pc: -1,
                    charge_app: -1
                }
                  , h = "4shan3yi9xia9men"
                  , p = an.a.getCurDate()
                  , v = function() {
                    return qa(e, r, i, void 0 !== n)
                };
                return El.checkLogin(!0).then((function() {
                    return t = x.a.isWapOther,
                    e = x.a.single,
                    t || e || u ? Promise.resolve() : Go().then((function() {
                        return Promise.resolve()
                    }
                    ), (function() {
                        return Xe.a.warn("该作品已90天未更新，为保障您的权益，该作品暂时被限制付费~"),
                        Promise.reject({
                            code: -1
                        })
                    }
                    ));
                    var t, e
                }
                )).then((function() {
                    return Qa(c, e, null, "app").then((function(t) {
                        var e = t.charge
                          , n = t.special_price
                          , r = t.charge_pc
                          , i = t.charge_app;
                        return Object.assign(f, {
                            charge: e,
                            discounts: n,
                            charge_pc: r,
                            charge_app: i
                        }),
                        Promise.resolve()
                    }
                    )).catch((function(t) {
                        var e = t.code;
                        return 999 == (void 0 === e ? -1 : e) && Xe.a.info("当前网络不稳定，请检查你的网络！").catch((function() {}
                        )),
                        Promise.reject()
                    }
                    ))
                }
                )).then((function() {
                    var t = ""
                      , n = "";
                    return "pc" == l && (t = vr.a.hash(c + e + f.charge + p + h),
                    n = vr.a.hash(c + e + 100 * f.charge + p + h)),
                    "kk" == d && (t = vr.a.hash(c + e + f.charge + p + h)),
                    Promise.resolve({
                        token: t,
                        starToken: n
                    })
                }
                ), (function(t) {
                    return t && 100 == t.status ? Promise.reject() : Xe.a.custom("Info", "该章节为付费章节，需登录后查看~", "提示", "登录", "取消", !1).then((function() {
                        return El.login(),
                        Promise.reject()
                    }
                    ), (function() {
                        return Promise.reject()
                    }
                    ))
                }
                )).then((function(t) {
                    var n = t.token
                      , i = t.starToken
                      , a = {};
                    return "kk" == d ? (Object.assign(a, {
                        amount: f.charge,
                        chapter_uuid: e,
                        product_name: o,
                        time: p,
                        token: n
                    }),
                    Qe.c.getChapterPayInfo(a).then((function(t) {
                        return Qe.c[gn.w](t)
                    }
                    ))) : (Object.assign(a, {
                        uuid: e,
                        md5: r,
                        charge: f.charge,
                        discounts: f.discounts,
                        charge_app: f.charge_app,
                        charge_pc: f.charge_pc,
                        chaptername: o,
                        time: p,
                        token: n,
                        starToken: i,
                        uid: El[gn.M]
                    }),
                    On.unlockChapter(a))
                }
                )).then((function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    return t ? v().then(null, (function() {
                        return yi("kk" === d ? mi.ERROR_OTHER_6 : mi.ERROR_PLAY_7, null, null),
                        Promise.reject()
                    }
                    )) : Promise.reject()
                }
                )).catch((function(t) {
                    var e = t.code;
                    return 999 == (void 0 === e ? -1 : e) && Xe.a.info("当前网络不稳定，请检查你的网络！").catch((function() {}
                    )),
                    Promise.reject()
                }
                ))
            }
        }, {
            key: "getChapterData",
            value: function(t) {
                var e = this
                  , n = t.downloadUuid
                  , r = t.uuid
                  , i = t.plots
                  , o = void 0 === i ? [] : i
                  , s = t.md5
                  , u = t.charge
                  , l = t.name
                  , d = void 0 === l ? "" : l
                  , f = n || r
                  , h = x.a.isWapOther
                  , p = x.a.client
                  , v = x.a.wap;
                if (!s && !o.length || o.length && !On.isFinishedPreferentialChapter(f))
                    return Promise.resolve(t);
                var g = 0
                  , m = !!o.length;
                o.length = 0,
                this.state.loading = !0;
                var y = pb.getInstance().create({
                    fontSize: 16
                });
                y.update("章节信息获取中...", 0);
                var b, w, k = function(t) {
                    var e = t.loaded
                      , n = t.total;
                    return y.update("章节信息获取中...".concat(e), e / n)
                }, _ = function(t) {
                    return qa(f, s, k, t).then((function() {
                        return !0
                    }
                    ), (function() {
                        return Promise.resolve(!1)
                    }
                    ))
                }, O = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                      , e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    return "ios" !== p && "android" !== p || !t || h || "kk" === v ? qa(f, s, k, e).then(S) : _().then((function(t) {
                        return Promise.reject({
                            code: -1,
                            message: "",
                            play: t
                        })
                    }
                    ))
                }, S = function() {
                    var n, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    return e.state.loading = !1,
                    t.plots.length > 0 && r.length > 0 && (t.plots = []),
                    (n = t.plots).push.apply(n, a()(r)),
                    y.remove(),
                    Promise.resolve(t)
                }, P = function(t) {
                    return On.removeFinishedPreferentialChapter(f),
                    S(t)
                }, C = function() {
                    return e.state.loading = !1,
                    y.remove(),
                    Promise.reject()
                }, E = function t(n) {
                    var r = n.code
                      , i = n.message
                      , a = n.play
                      , o = void 0 !== a && a;
                    return 999 == r ? (yi(mi.ERROR_INIT_8, null, null),
                    console.warn("chapter error", i),
                    C()) : (g++,
                    !El.isEmptyUid() && g < 2 ? O(!0, !0).then(null, t) : On.isFinishedPreferentialChapter(f) && m ? Xe.a.custom("Warn", "章节限时免已结束，需要付费才能继续观看哦！", "限免提示", "取消", "去支付", !0).then((function() {
                        return C()
                    }
                    ), (function(t) {
                        return "cancel" === t ? e.unlockChapter(c()({
                            uuid: f,
                            charge: u,
                            md5: s,
                            handleProgress: k,
                            name: d
                        }, gn.M, El[gn.M])).then(P, C) : C()
                    }
                    )) : e.unlockChapter({
                        uuid: f,
                        charge: u,
                        md5: s,
                        handleProgress: k,
                        name: d,
                        uid: El[gn.M],
                        play: o
                    }).then(P, C))
                };
                return u && !h && (p || en.a.runTest || en.a.runCheck) ? en.a.runTest ? (b = function(t) {
                    var e = t.code
                      , n = t.message;
                    return 87 == e ? C() : 999 == e ? (yi(mi.ERROR_INIT_8, null, null),
                    console.warn("chapter error", n),
                    C()) : (Xe.a.warn("当前章节为付费章节，暂时无法查看，请于作品正式上架后查看，先看看其他作品吧~").catch((function() {}
                    )),
                    C())
                }
                ,
                w = sn.a.typeUnlockChapters.findIndex((function(t) {
                    return t == f
                }
                )) > -1,
                sn.a.typeUnlockChapters[0] && "all" == sn.a.typeUnlockChapters[0] && (w = !0),
                w ? O(!1, !0).then(null, b) : Xe.a.info("此处为收费章节，需要收取（".concat(u, "）闪币，测试阶段不会扣除账户余额")).then((function() {
                    return O(!1, !0).then(null, b)
                }
                ), C)) : Xa().then((function(t) {
                    if (t)
                        return Xe.a.error("当前章节为付费章节，作品内测期间，暂不支持付费购买~").catch((function() {}
                        )),
                        Promise.reject();
                    if (en.a.runCheck) {
                        var e = sn.a.typeUnlockChapters.findIndex((function(t) {
                            return t == f
                        }
                        )) > -1;
                        return sn.a.typeUnlockChapters[0] && "all" == sn.a.typeUnlockChapters[0] && (e = !0),
                        e ? O(!0, !0).then(null, E) : Xe.a.info("此处为收费章节，需要收取（".concat(u, "）闪币，测试阶段不会扣除账户余额")).then((function() {
                            return O(!0, !0).then((function() {
                                return sn.a.typeUnlockChapters.push(f)
                            }
                            ), E)
                        }
                        ), C)
                    }
                    return O(!0, !0).then(null, E)
                }
                )) : O().then(null, (function(t) {
                    var n = t.code
                      , r = t.message;
                    return 87 == n ? C() : 999 == n ? (yi(mi.ERROR_INIT_8, null, null),
                    console.warn("chapter error", r),
                    C()) : h ? e.unlockChapterForWapOther({
                        uuid: f,
                        charge: u,
                        md5: s,
                        handleProgress: k,
                        name: d
                    }).then(P, C) : "zxwwap" === v ? (Xe.a.warn("当前章节为付费章节，是否前往闪艺抢先体验？").then((function() {
                        return Io()
                    }
                    ), (function() {}
                    )),
                    C()) : (n ? Xe.a.warn(en.a.runTest ? "当前章节为付费章节，暂时无法查看，请于作品正式上架后查看，先看看其他作品吧~" : "当前章节为付费章节，请往闪艺APP或PC端购买!").catch((function() {}
                    )) : yi(mi.ERROR_INIT_8, null, null),
                    C())
                }
                ))
            }
        }, {
            key: "hidePlotViews",
            value: function() {
                this.plotViews.visible = !1,
                this.calledViews.visible = !1
            }
        }, {
            key: "clearPlotViews",
            value: function() {
                var t = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    return t.length ? [] : t
                };
                this.handleChangeViewContext(mr()(this.viewContext, {
                    plotViews: {
                        $apply: t
                    },
                    calledViews: {
                        $apply: t
                    }
                }))
            }
        }, {
            key: "showGlobalViews",
            value: function() {
                var t = mr()(this.viewContext, {
                    globalViews: {
                        $apply: function(t) {
                            return t.map((function(t) {
                                return mr()(t, {
                                    visible: {
                                        $set: !0
                                    }
                                })
                            }
                            ))
                        }
                    }
                });
                this.handleChangeViewContext(t)
            }
        }, {
            key: "hideGlobalViews",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                  , e = mr()(this.viewContext, {
                    globalViews: {
                        $apply: function(e) {
                            return e.map((function(e) {
                                return mr()(e, {
                                    visible: {
                                        $set: !t.find((function(t) {
                                            return e.instanceUuid === t
                                        }
                                        ))
                                    }
                                })
                            }
                            ))
                        }
                    }
                });
                this.handleChangeViewContext(e)
            }
        }, {
            key: "loadAssetsByContext",
            value: function(t) {
                var e = this
                  , n = t.commands
                  , r = t.cmdIndex
                  , i = t.plots
                  , o = t.plotIndex
                  , s = t.commandState
                  , u = this.playContext.stack
                  , c = [];
                s && c.push.apply(c, a()(Qo.getCommandState(s)));
                var l = n ? Qo.needLoadByCommands(n.slice(r, r + 20)) : Qo.needLoadByPlot(i[o])
                  , d = Qo.getUsing()
                  , f = [];
                return [].concat(c, l, d).forEach((function(t) {
                    var e = t.type
                      , n = t.url
                      , r = f.findIndex((function(t) {
                        return t.url === n
                    }
                    ));
                    ~r ? f[r].count++ : f.push({
                        type: e,
                        url: n,
                        count: 1
                    })
                }
                )),
                f.every((function(t) {
                    var e = t.type
                      , n = t.url
                      , r = t.count;
                    return Qo.inCache(e, n) && Qo.isSafeRef(e, n, r)
                }
                )) ? Promise.resolve() : Qo.getPreload(_b(_b({}, t), {}, {
                    stack: u
                })).then((function(t) {
                    return e.loadAssets(t)
                }
                ))
            }
        }, {
            key: "loadAssetsByCommand",
            value: function(t) {
                var e = t.commands
                  , n = t.cmdIndex
                  , r = e[n] || {}
                  , i = Qo.getCommand(r)
                  , a = Qo.getUsing()
                  , o = [];
                [].concat(i, a).forEach((function(t) {
                    var e = t.type
                      , n = t.url
                      , r = o.findIndex((function(t) {
                        return t.url === n
                    }
                    ));
                    ~r ? o[r].count++ : o.push({
                        type: e,
                        url: n,
                        count: 1
                    })
                }
                ));
                var s = o.map((function(t) {
                    var e = t.type
                      , n = t.url
                      , r = t.count;
                    return Qo.inCache(e, n) && ("audio" !== e || Qo.inCache(e, n) || Qo.isLoading(e, n)) ? (Qo.isSafeRef(e, n, r) || Qo.addRefTo(e, n, "play", r),
                    null) : {
                        type: e,
                        url: n
                    }
                }
                )).filter((function(t) {
                    return t
                }
                ));
                return s.length ? this.loadAssets(s, s.length < 5).then((function() {
                    return x.a.upserver || n % 10 != 0 || En.fastPlay || Qo.markCommandsAsset(e.slice(n + 1)),
                    Promise.resolve()
                }
                )) : Promise.resolve()
            }
        }, {
            key: "play",
            value: function(t, e, n) {
                var r = this;
                if (x.a.daj_45_1_vb_w_da)
                    Xe.a.error(Object(xi.g)([35831, 21247, 38750, 27861, 20462, 25913, 65281]));
                else {
                    if (Object(jn.e)())
                        return this.game.world.removeAll(!0, !1, !0),
                        void Object(jn.l)();
                    this.resetPlayCount(),
                    Ib(),
                    ["faster", "review", "visible", "sMute", "mMute", "saveRec", "loadRec"].forEach((function(t) {
                        return vp.getInstance().hideItem(t)
                    }
                    ));
                    var i = function(t) {
                        var e = t.commands
                          , n = t.plots
                          , r = t.plotIndex;
                        return !e && n[r] && n[r].commands ? mr()(t, {
                            commands: {
                                $set: n[r].commands
                            },
                            cmdIndex: {
                                $set: 0
                            }
                        }) : t
                    }
                      , a = function(t) {
                        var e = t || {}
                          , n = e.chapter
                          , r = e.plots
                          , i = e.plotIndex;
                        return !(!n || !n.md5 || n.plots !== r || 0 !== i) || t && r && r[i]
                    };
                    nr.setMuisAndSoundView(!1);
                    var o = t = i(t)
                      , s = o.commands
                      , u = o.plots
                      , l = o.plotIndex
                      , d = o.chapter
                      , f = o.commandState;
                    this.context = t;
                    var h = !!s
                      , p = this.scene
                      , v = Promise.resolve();
                    if (this.targetScene && this.targetScene.clear(),
                    this.hideBackground(),
                    h) {
                        if (p = this.commandScene,
                        this.clearPlotViews(),
                        this.showGlobalViews(),
                        f) {
                            var g = f.plotViews
                              , m = void 0 === g ? [] : g
                              , y = f.calledViews
                              , b = void 0 === y ? [] : y
                              , w = f.hideGlobalViews
                              , k = void 0 === w ? [] : w;
                            this.handleChangeViewContext(mr()(this.viewContext, {
                                plotViews: {
                                    $set: m
                                },
                                calledViews: {
                                    $set: b
                                },
                                globalViews: {
                                    $apply: function(t) {
                                        return t.map((function(t) {
                                            return mr()(t, {
                                                visible: {
                                                    $set: !k.find((function(e) {
                                                        return e === t.instanceUuid
                                                    }
                                                    ))
                                                }
                                            })
                                        }
                                        ))
                                    }
                                }
                            })),
                            v = p.setState(f, e)
                        }
                    } else {
                        var _ = gn.N + "s"
                          , O = u[l]
                          , S = O.hideGlobalViews
                          , P = void 0 === S ? [] : S
                          , C = O.views
                          , E = void 0 === C ? [] : C
                          , j = O.animations
                          , A = void 0 === j ? [] : j
                          , I = O.autoSaveOrLoad
                          , R = O[_] || []
                          , T = this.json
                          , M = (T = void 0 === T ? {} : T).default_settings
                          , D = (M = void 0 === M ? {} : M).autoSaveOrLoad;
                        if (A[Vn.F]((function(t) {
                            var e = t.type;
                            return "fadein" === e || "coverblack" === e
                        }
                        )) && this.hideBackground(!1),
                        this.hidePlotViews(),
                        p.renderBackground(O),
                        !e) {
                            var B;
                            if (D && I && 1 === I.type)
                                return this.autoLoadRecord().then(null, (function() {
                                    return yi(mi.ERROR_PLAY_5, (function() {
                                        return r.start()
                                    }
                                    ), (function() {
                                        return Promise.reject()
                                    }
                                    ))
                                }
                                ));
                            this.clearPlotViews(),
                            this.hideGlobalViews(P),
                            v = (R.length ? Td((B = {
                                playContext: this.playContext
                            },
                            c()(B, _, R),
                            c()(B, "middle", (function(t) {
                                var e = t.status
                                  , n = t.playContext;
                                "upload" === e && (r.updatePlayContext(n),
                                r.pushPlayback(O))
                            }
                            )),
                            B)) : (r.pushPlayback(O),
                            Promise.resolve())).then((function() {
                                return r.instanceView(E, 0)
                            }
                            )).then((function(t) {
                                var e = r.playContext
                                  , n = r.json
                                  , i = r.handleShare
                                  , a = r.viewContext
                                  , o = r.autoSaveRecord
                                  , s = {
                                    playContext: e,
                                    viewContext: _b(_b({}, a), {}, {
                                        plotViews: t,
                                        calledViews: []
                                    }),
                                    game: n,
                                    handleShare: i,
                                    autoSaveRecord: o
                                };
                                return Yh.runOnLoadEvent(["plotViews", null], s).then((function(t) {
                                    var e = t.viewContext;
                                    t.viewContext = mr()(r.viewContext, {
                                        plotViews: {
                                            $set: e.plotViews
                                        },
                                        calledViews: {
                                            $set: e.calledViews
                                        }
                                    }),
                                    r.handleChangeContext(t)
                                }
                                ))
                            }
                            ))
                        }
                    }
                    var U = this.game.world;
                    this.targetScene ? U.replace(this.targetScene.container, p.container) : U.add(p.container),
                    this.targetScene = p,
                    U.bringToTop(p.container),
                    U.add(this.groups),
                    U.bringToTop(this.groups),
                    U.bringToTop(this.mouseStyleLayer),
                    this.playContext.openPages[0] !== Ob.scene && this.targetScene.pause(),
                    v.then(Bb).then((function() {
                        return Ab(),
                        p.play(_b(_b({}, t), {}, {
                            load: e,
                            restore: n
                        }), r.runCommandAfter)
                    }
                    )).then((function(e) {
                        var n = e.type
                          , o = e.control;
                        r.afterPlayer({
                            context: t,
                            type: n,
                            control: o,
                            plots: u,
                            isSafe: a,
                            chapter: d,
                            plotIndex: l,
                            fixContext: i,
                            isPlayCommandPlot: h
                        })
                    }
                    ), (function(t) {
                        return console.warn(t)
                    }
                    ))
                }
            }
        }, {
            key: "afterPlayer",
            value: function(t) {
                var e = this
                  , n = t.context
                  , r = t.type
                  , i = t.control
                  , o = t.plots
                  , s = t.isSafe
                  , u = t.chapter
                  , c = t.plotIndex
                  , l = t.fixContext
                  , d = t.isPlayCommandPlot
                  , f = x.a.single
                  , h = this.json
                  , p = {
                    context: null,
                    playContext: null
                }
                  , v = function() {
                    return e.playContext = mr()(e.playContext, {
                        stack: {
                            $set: []
                        }
                    })
                }
                  , g = function(t) {
                    e.playContext = mr()(e.playContext, {
                        stack: {
                            $set: [t].concat(a()(e.playContext.stack))
                        }
                    })
                };
                this.updateBubbleState();
                var m = o[c];
                switch (Qo.resetPlotAfter(m),
                r) {
                case "back":
                    f && Object.assign(p, {
                        context: JSON.parse(JSON.stringify(n)),
                        playContext: JSON.parse(JSON.stringify(this.playContext))
                    }),
                    n = null,
                    v();
                    break;
                case "jump":
                    var y = vn.a.getChapterByUUID(h, i.uuid);
                    n = y ? {
                        chapter: y,
                        plots: y.plots,
                        plotIndex: 0
                    } : null,
                    v();
                    break;
                case "jumpOption":
                case "backOption":
                    var b = this.playContext
                      , w = (b = void 0 === b ? {} : b).stack
                      , k = void 0 === w ? [] : w
                      , _ = parseInt(i.value) > 0 ? i.value : 0
                      , O = k.takeWhile((function(t) {
                        return Eb[t.type]
                    }
                    )).length;
                    _ > 0 && O && (O = Math.min(O, _),
                    O = this.findPlayStackId(k, O),
                    n = k[_ - 1],
                    this.playContext = mr()(this.playContext, {
                        stack: {
                            $splice: [[0, O]]
                        }
                    }),
                    n.loop && (n = n.loop.breakNext),
                    "backOption" === r && (n = mr()(n, {
                        plotIndex: {
                            $apply: function(t) {
                                return t - 1
                            }
                        },
                        commands: {
                            $set: null
                        }
                    })));
                    break;
                case "option":
                case "condition_option":
                    Qo.resetPlotOption(m, "".concat(r, "s"), i.index, n.chapter);
                    var S = m["".concat(r, "s")][i.index];
                    if (n = _b(_b({}, n), {}, {
                        plotIndex: c + 1,
                        commands: null
                    }),
                    S && S.plots && S.plots.length)
                        if ("loop" === S.type || "countLoop" === S.type) {
                            var P = {
                                chapter: u,
                                plots: S.plots,
                                plotIndex: 0
                            }
                              , C = {
                                count: 1,
                                countExpr: S.count,
                                condition: S[gn.m],
                                breakNext: n
                            };
                            g(_b(_b({}, P), {}, {
                                loop: C,
                                type: r
                            })),
                            n = P
                        } else
                            g(_b(_b({}, n), {}, {
                                type: r
                            })),
                            n = {
                                chapter: u,
                                plots: S.plots,
                                plotIndex: 0
                            };
                    break;
                case "insert":
                case "insertPlot":
                    r = "insertPlot";
                    var E = i.from
                      , j = void 0 === E ? "view" : E;
                    if (m.back && (n = null,
                    v()),
                    m.insert) {
                        var A = vn.a.getChapterByUUID(h, m.insert);
                        A ? (n && g(_b(_b({}, n), {}, {
                            type: r
                        })),
                        n = {
                            chapter: A,
                            plots: A.plots,
                            plotIndex: 0
                        }) : n = null
                    }
                    if ("view" === j) {
                        var I = vn.a.getChapterByUUID(h, i.uuid);
                        if (I) {
                            if (d) {
                                var R = this.viewContext
                                  , T = R.plotViews
                                  , M = R.calledViews
                                  , D = this.targetScene.getState();
                                n = _b(_b({}, n = this.targetScene.context), {}, {
                                    cmdIndex: n.cmdIndex + 1,
                                    commandState: _b({
                                        plotViews: T,
                                        calledViews: M
                                    }, D)
                                })
                            }
                            n && g(_b(_b({}, n), {}, {
                                type: r
                            })),
                            n = {
                                chapter: I,
                                plots: I.plots,
                                plotIndex: 0
                            }
                        } else
                            n = null
                    }
                    break;
                default:
                    n = {
                        plots: o,
                        chapter: u,
                        plotIndex: c + 1,
                        commands: null
                    }
                }
                if (!n)
                    return f && p.context && p.playContext ? On.singleBackCover().then((function() {
                        return e.start(!0)
                    }
                    ), (function() {
                        n = p.context,
                        e.playContext = p.playContext,
                        e.play(n, !0, !0)
                    }
                    )) : this.start(!0);
                var B = !s(n);
                (B ? this.getContextInStack() : Promise.resolve(n)).then((function(t) {
                    if (t && s(t)) {
                        var n = t.chapter;
                        B && t && u.uuid !== n.uuid && Qo.resetInsertAfter(u, n),
                        e.getChapterData(n).then((function() {
                            "insertPlot" === r && Qo.resetInsert(t.chapter),
                            "jump" === r && Qo.resetJump(t.chapter),
                            "condition_option" !== r && "option" !== r && Qo.resetPlotOption(m, "", -1, u),
                            t = l(t),
                            e.loadAssetsByContext(t).then((function() {
                                e.handleChangeViewContext(mr()(e.viewContext, {
                                    menuViews: {
                                        $set: []
                                    },
                                    menuCalledViews: {
                                        $set: []
                                    }
                                })),
                                e.play(t)
                            }
                            ), (function(t) {
                                return console.warn(t)
                            }
                            ))
                        }
                        ), (function() {
                            if (d) {
                                var n = e.viewContext
                                  , a = n.plotViews
                                  , o = n.calledViews
                                  , s = e.targetScene.getState();
                                t = _b(_b({}, t = e.targetScene.context), {}, {
                                    commandState: _b({
                                        plotViews: a,
                                        calledViews: o
                                    }, s)
                                })
                            } else
                                t = e.context;
                            if ("insertPlot" === r) {
                                var u = function() {
                                    var t = e.playContext
                                      , n = (t = void 0 === t ? {} : t).stack
                                      , r = void 0 === n ? [] : n;
                                    e.playContext = mr()(e.playContext, {
                                        stack: {
                                            $set: r.slice(1)
                                        }
                                    })
                                }
                                  , c = function(t, n) {
                                    var r = e.playContext
                                      , i = (r = void 0 === r ? {} : r).stack
                                      , a = void 0 === i ? [] : i;
                                    return a[0] && a[0].type === t && a[0].chapter.uuid === n
                                }
                                  , f = i.from;
                                "view" === (void 0 === f ? "view" : f) && c("insertPlot", i.uuid) && u();
                                var h = m.insert
                                  , p = m.jump;
                                h && c("insertPlot", h) && u(),
                                p && c("jump", p) && u()
                            }
                            t = l(t),
                            e.loadAssetsByContext(t).then((function() {
                                e.handleChangeViewContext(mr()(e.viewContext, {
                                    menuViews: {
                                        $set: []
                                    },
                                    menuCalledViews: {
                                        $set: []
                                    }
                                })),
                                e.play(t, !0, !0)
                            }
                            ), (function(t) {
                                return console.warn(t)
                            }
                            ))
                        }
                        ))
                    } else
                        e.state.recording || e.handleOver()
                }
                ))
            }
        }, {
            key: "getContextInStack",
            value: function() {
                var t = this
                  , e = function(e) {
                    t.playContext = mr()(t.playContext, {
                        stack: {
                            $set: [e].concat(a()(t.playContext.stack))
                        }
                    })
                };
                return function n() {
                    var r = t.playContext
                      , i = r.stack
                      , a = void 0 === i ? [] : i;
                    if (!a.length)
                        return Promise.resolve(null);
                    var o = a[0]
                      , u = o.chapter
                      , c = o.plotIndex
                      , l = o.plots
                      , d = o.type
                      , f = o.loop;
                    if (f) {
                        var h = f.condition
                          , p = f.countExpr
                          , v = f.count
                          , g = f.breakNext;
                        return Promise.all([Hc(h, r), p ? Hc(p, r) : Promise.resolve()]).then((function(e) {
                            var i = s()(e, 2)
                              , a = i[0]
                              , o = i[1];
                            if (a) {
                                if (!p)
                                    return {
                                        chapter: u,
                                        plotIndex: c,
                                        plots: l
                                    };
                                if (t.playContext = mr()(r, {
                                    stack: {
                                        0: {
                                            loop: {
                                                count: {
                                                    $set: v + 1
                                                }
                                            }
                                        }
                                    }
                                }),
                                o = parseInt(o, 10),
                                v < (o = o >= 1 ? o : 1))
                                    return {
                                        chapter: u,
                                        plotIndex: c,
                                        plots: l
                                    }
                            }
                            return u = g.chapter,
                            c = g.plotIndex,
                            l = g.plots,
                            t.playContext = mr()(t.playContext, {
                                stack: {
                                    $set: t.playContext.stack.slice(1)
                                }
                            }),
                            l[c] ? {
                                chapter: u,
                                plotIndex: c,
                                plots: l
                            } : n()
                        }
                        ))
                    }
                    if ("insertPlot" === d) {
                        var m = o.commands
                          , y = o.cmdIndex
                          , b = o.commandState;
                        if (b) {
                            var w = b.bubbleMode;
                            if (w.length > 0)
                                for (var x = function(t) {
                                    var e = w[t]
                                      , n = [];
                                    e.bubble.forEach((function(t) {
                                        return t.args && n.push(_b({}, t.args[0]))
                                    }
                                    )),
                                    e.bubble = n
                                }, k = 0; k < w.length; k++)
                                    x(k)
                        }
                        if (t.playContext = mr()(r, {
                            stack: {
                                $set: a.slice(1)
                            }
                        }),
                        m)
                            return Promise.resolve({
                                chapter: u,
                                plotIndex: c,
                                plots: l,
                                commands: m,
                                cmdIndex: y,
                                commandState: b
                            });
                        var _ = l[c];
                        return function t(e, n) {
                            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1;
                            return n >= e.length || ~i ? Promise.resolve(i) : Hc(e[n][gn.m], r).then((function(r) {
                                return t(e, n + 1, r ? n : -1)
                            }
                            ))
                        }(_ && _.condition_options || [], 0).then((function(r) {
                            if (r >= 0) {
                                var i = _.condition_options[r]
                                  , a = {
                                    chapter: u,
                                    plots: l,
                                    plotIndex: c + 1
                                };
                                if (i && i.plots && i.plots.length)
                                    if ("loop" === i.type || "countLoop" === i.type) {
                                        var o = {
                                            chapter: u,
                                            plots: i.plots,
                                            plotIndex: 0
                                        }
                                          , s = {
                                            count: 1,
                                            countExpr: i.count,
                                            condition: i[gn.m],
                                            breakNext: a
                                        };
                                        e(_b(_b({}, o), {}, {
                                            loop: s,
                                            type: "condition_option"
                                        })),
                                        a = o
                                    } else
                                        e(_b(_b({}, a), {}, {
                                            type: "condition_option"
                                        })),
                                        a = {
                                            chapter: u,
                                            plots: i.plots,
                                            plotIndex: 0
                                        };
                                return a
                            }
                            if (_.jump) {
                                var d = vn.a.getChapterByUUID(t.json, _.jump);
                                if (d)
                                    return t.playContext = mr()(t.playContext, {
                                        stack: {
                                            $set: []
                                        }
                                    }),
                                    {
                                        chapter: d,
                                        plots: d.plots,
                                        plotIndex: 0
                                    }
                            }
                            return l[c + 1] ? {
                                chapter: u,
                                plots: l,
                                plotIndex: c + 1
                            } : n()
                        }
                        ))
                    }
                    return t.playContext = mr()(r, {
                        stack: {
                            $set: r.stack.slice(1)
                        }
                    }),
                    "jump" === d || l[c] ? Promise.resolve({
                        chapter: u,
                        plotIndex: c,
                        plots: l
                    }) : n()
                }()
            }
        }, {
            key: "showEndView",
            value: function() {
                var t = this
                  , e = this.game.world;
                Pb.forEach((function(n) {
                    return e.bringToTop(t[n])
                }
                ));
                var n = function(e) {
                    r.close(),
                    t.showSystemUI(e, (function() {
                        return r.show()
                    }
                    ))
                }
                  , r = fv({
                    callbacks: {
                        back: function() {
                            t.state.plotSnap = null,
                            t.start(!0)
                        },
                        load: function() {
                            return n(Ob.loadRecord)
                        },
                        save: function() {
                            return n(Ob.saveRecord)
                        }
                    },
                    layer: this.endViewLayer
                })
            }
        }, {
            key: "handleOver",
            value: function() {
                var t = this
                  , e = this.inputs
                  , n = (e = void 0 === e ? {} : e).diyMainMenu
                  , r = e.views;
                this.showHoldFastPlayTip(!1),
                [].concat(a()(n), a()(r)).forEach((function(t) {
                    return t.show(!1)
                }
                )),
                this.playContext.openPages.unshift(Ob.diyMainMenu),
                nr.stopMusic(),
                nr.stopAllSound(),
                Cb.repeatHandleOver = !1,
                Object(k.x)(50).then((function() {
                    t.state.plotSnap = Object(k.r)();
                    var e = x.a.istheatre
                      , n = x.a.client
                      , r = x.a.app_version
                      , i = x.a.single;
                    if (e) {
                        if (On.setCallback("review", (function() {
                            t.targetScene.handleContinue(),
                            Cb.repeatHandleOver = !0
                        }
                        )),
                        On.isAppClient() && Object(k.c)(r, "1.13.0") >= 0)
                            return void On.appGameEnd();
                        if ("pc" == n)
                            return void On.pcGameEnd();
                        if ("wap" == n)
                            return void Zy.show()
                    } else
                        i && On.appGameEnd();
                    t.showEndView()
                }
                ))
            }
        }, {
            key: "saveRecord",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                try {
                    var i = this.playContext
                      , a = this.context
                      , o = this.json
                      , s = this.viewContext;
                    if (-1 === (t = this.updateRecordIndex(t, n)))
                        return Promise.resolve();
                    if (!Hl.checkSaveRecord())
                        return yi(mi.ERROR_PLAY_4, null, (function(t) {
                            return "close" !== t && El.login()
                        }
                        )),
                        Promise.reject();
                    var u = this.targetScene === this.commandScene
                      , c = s.plotViews
                      , l = s.calledViews
                      , d = rp.to({
                        context: u ? this.commandScene.context : a,
                        playContext: i,
                        viewContext: s,
                        game: o,
                        background: this.background && this.background.info || {},
                        plotSnap: this.state.plotSnap,
                        commandState: u ? _b({
                            plotViews: c,
                            calledViews: l
                        }, this.commandScene.getState(!0)) : null,
                        isLocal: e
                    });
                    return Hl.saveRecord(t, e, d, n, r)
                } catch (t) {
                    return console.error(t),
                    Promise.reject()
                }
            }
        }, {
            key: "loadRecord",
            value: function(t, e) {
                var n = this
                  , r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                if (-1 === (t = this.updateRecordIndex(t, r)))
                    return Promise.reject();
                this.showWorldTip(!0, "loadRecord", "加载存档中...");
                var i = function i() {
                    var a = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    if (e || a) {
                        var o = Hl.localRecord[t];
                        return o ? o.key && o.key !== Object(k.q)(Hl.owner) && o.key !== Object(k.q)(Hl.owner, !0) ? (yi(mi.ERROR_PLAY_12, null, null),
                        n.showWorldTip(!1, "loadRecord", "加载存档中..."),
                        Promise.reject()) : (e = !0,
                        Promise.resolve(JSON.parse(JSON.stringify(o)))) : (n.showWorldTip(!1, "loadRecord", "加载存档中..."),
                        Promise.reject())
                    }
                    var s = function() {
                        return n.showWorldTip(!1, "loadRecord", "加载存档中..."),
                        yi(mi.ERROR_PLAY_1, null, null),
                        Promise.reject()
                    };
                    return ro(t).then((function(t) {
                        return (t = t ? JSON.parse(t) : null) || (r ? i(!0) : s())
                    }
                    ), (function() {
                        return en.a.runCheck && r ? i(!0) : s()
                    }
                    ))
                };
                return i().then((function(t) {
                    return n.parseRecord(t, "loadRecord", !1, e)
                }
                ))
            }
        }, {
            key: "parseRecord",
            value: function(t) {
                var e = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                  , r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , i = arguments.length > 3 ? arguments[3] : void 0
                  , o = this.playContext
                  , s = this.viewContext
                  , u = this.json
                  , l = x.a.gid
                  , d = x.a.showrecord
                  , f = u.motionImgMap
                  , h = o
                  , p = h.openPages
                  , v = function(t) {
                    var i = {}
                      , a = rp.getChapterUuids(t);
                    return e.showWorldTip(!1, n),
                    function t(r, o) {
                        if (o >= a.length)
                            return e.showWorldTip(!0, n),
                            Promise.resolve();
                        var s = vn.a.getChapterByUUID(u, r);
                        return s ? e.getChapterData(s).then((function() {
                            return t(a[++o], o)
                        }
                        ), (function() {
                            return s.charge ? i.chargeError = !0 : i.loadError = !0,
                            t(a[++o], o)
                        }
                        )) : (i.disappear = !0,
                        t(a[++o], o))
                    }(a[0], 0).then((function() {
                        return i.chargeError ? (e.showWorldTip(!1, n),
                        Promise.reject()) : i.loadError ? (e.showWorldTip(!1, n),
                        r ? new Promise((function(t) {
                            return yi(mi.ERROR_PLAY_11, (function() {
                                return t()
                            }
                            ), (function() {
                                return t()
                            }
                            ))
                        }
                        )) : (yi(mi.ERROR_PLAY_3, null, null),
                        Promise.reject())) : i.disappear ? (e.showWorldTip(!1, n),
                        r ? new Promise((function(t) {
                            return yi(mi.ERROR_PLAY_11, (function() {
                                return t()
                            }
                            ), (function() {
                                return t()
                            }
                            ))
                        }
                        )) : (yi(mi.ERROR_PLAY_2, null, null),
                        Promise.reject())) : t
                    }
                    ))
                }
                  , g = function(t) {
                    return rp.format(t, u, i).then((function(t) {
                        if (!t)
                            return e.showWorldTip(!1, n),
                            Promise.reject();
                        e.state.recording = !0,
                        d && console.log(Object(xi.g)([35835, 26723, 35299, 26512, 21518, 20869, 23481, 65306]), t);
                        var r = e.gameValues
                          , l = t.speakings
                          , h = t.musics
                          , v = void 0 === h ? [] : h
                          , g = t.sounds
                          , m = t.backgroundObject
                          , y = void 0 === m ? {} : m
                          , b = t.commandUuid;
                        return Td({
                            playContext: o = mr()(rp.resetValues(r, t, o), {
                                playback: {
                                    $set: l
                                }
                            }),
                            force: !0,
                            only: !0
                        }).then((function(t) {
                            return o = mr()(o, c()({}, Object(rn.i)(), {
                                $set: t[Object(rn.i)()]
                            }))
                        }
                        )).then((function(r) {
                            return rp.restore(t, u, r, i).then((function(t) {
                                var i = t.stack
                                  , o = t.context
                                  , c = t.plotViews
                                  , l = t.globalViews;
                                if (!o)
                                    return e.state.recording = !1,
                                    e.showWorldTip(!1, n),
                                    Promise.reject();
                                var d = o.bubbleMode
                                  , h = void 0 === d ? [] : d
                                  , m = o.bubbleCount
                                  , w = void 0 === m ? [] : m
                                  , x = function(t, e) {
                                    var n = [];
                                    return e.forEach((function(e) {
                                        return !function(t, e) {
                                            if (t.instanceUuid.indexOf("lv_") > -1)
                                                return !0;
                                            for (var n = 0; n < e.length; n++)
                                                if (t.ref == (e[n].ref || e[n].args[0].ref))
                                                    return !0;
                                            return !1
                                        }(e, t) && n.push(e)
                                    }
                                    )),
                                    n.forEach((function(t) {
                                        var n = e.indexOf(t);
                                        -1 !== n && e.splice(n, 1)
                                    }
                                    )),
                                    e
                                };
                                x(u.views, l);
                                var _ = o.plots[o.plotIndex];
                                if (_)
                                    if (_.commands) {
                                        var O = [];
                                        !function t(e, n) {
                                            e.map((function(e) {
                                                var r = e.type
                                                  , i = e.args;
                                                "options" == r || "conditionOptions" == r || "macro" === r ? i.map((function(e) {
                                                    return t(e.commands, n)
                                                }
                                                )) : "addView" == r && n.push(e)
                                            }
                                            ))
                                        }(_.commands, O),
                                        x(O, c)
                                    } else
                                        x(_.views, c);
                                r = mr()(r, {
                                    stack: {
                                        $set: i
                                    },
                                    openPages: {
                                        $set: [Ob.scene]
                                    },
                                    bubbleMode: {
                                        $set: h
                                    },
                                    bubbleCount: {
                                        $set: w
                                    }
                                }),
                                s = mr()(s, {
                                    plotViews: {
                                        $set: c
                                    },
                                    calledViews: {
                                        $set: []
                                    },
                                    globalViews: {
                                        $set: l
                                    },
                                    globalCalledViews: {
                                        $set: []
                                    },
                                    menuViews: {
                                        $set: []
                                    },
                                    menuCalledViews: {
                                        $set: []
                                    }
                                });
                                var S = []
                                  , P = function(t, e) {
                                    if (t && Object(nn.p)(t) && "inherit" !== t)
                                        S.push({
                                            type: e,
                                            url: t
                                        });
                                    else if (Object(nn.o)(t)) {
                                        if (t.type && "spine" === t.type && t.image)
                                            S.push({
                                                type: "spine",
                                                url: t.image
                                            }),
                                            Object(k.a)({
                                                atlas: t.atlas,
                                                skeleton: t.skeleton,
                                                image: t.image
                                            });
                                        else {
                                            if (!f || !t.uuid || !f[t.uuid])
                                                return;
                                            var n = f[t.uuid].images;
                                            (void 0 === n ? [] : n).forEach((function(t) {
                                                var n = t.url;
                                                return S.push({
                                                    type: e,
                                                    url: n
                                                })
                                            }
                                            ))
                                        }
                                        var r = f[t.uuid].images;
                                        (void 0 === r ? [] : r).forEach((function(t) {
                                            var n = t.url;
                                            return S.push({
                                                type: e,
                                                url: n
                                            })
                                        }
                                        ))
                                    }
                                };
                                Qo.clearPreload(),
                                Qo.getUsing().forEach((function(t) {
                                    var e = t.type
                                      , n = t.url;
                                    return P(n, e)
                                }
                                )),
                                P(y.url, "image"),
                                v[0] && P(v[0].url, "audio"),
                                g.forEach((function(t) {
                                    return t && P(t.url, "audio")
                                }
                                )),
                                S.push.apply(S, a()(Qo.getAssetsInViews(c))),
                                e.commandScene && e.commandScene.clear(!0);
                                var C = Promise.resolve();
                                return b ? o.commandState && S.push.apply(S, a()(Qo.getCommandState(o.commandState))) : (S.push.apply(S, a()(Qo.getCommandState({
                                    bubbleMode: h
                                }))),
                                C = e.commandScene && e.commandScene.setBubbleState(h, w)),
                                e.showWorldTip(!1, n),
                                C.then((function() {
                                    return Qo.getPreload(_b(_b({}, o), {}, {
                                        stack: e.playContext.stack
                                    })).then((function(t) {
                                        return e.loadAssets([].concat(S, a()(t)))
                                    }
                                    )).then((function() {
                                        Object(k.x)(0, !0).then((function() {
                                            e.playContext = r,
                                            e.handleChangeViewContext(s),
                                            e.setBackground(y),
                                            Cb.isLoad = !0,
                                            e.menus.visible = !0,
                                            e.state.plotSnap = null,
                                            e.space.removeAll(!0),
                                            e.menuViews.removeAll(!0),
                                            e.menuCalledViews.removeAll(!0),
                                            e.targetScene && e.targetScene.proceed(),
                                            e.targetScene && (e.targetScene.timeline = {}),
                                            S.forEach((function(t) {
                                                var e = t.type
                                                  , n = t.url;
                                                return Qo.addRef(e, n)
                                            }
                                            ));
                                            var t = e.inputs
                                              , n = t.diyMainMenu
                                              , i = t.views;
                                            [].concat(a()(n), a()(i)).forEach((function(t) {
                                                return t.show(!0)
                                            }
                                            )),
                                            nr.playMusic(v[0] || {}),
                                            nr.stopAllSound(),
                                            g.forEach((function(t, e) {
                                                return t && t.url ? nr.playSound(_b(_b({}, t), {}, {
                                                    channel: t.index || e
                                                })) : nr.stopSound(e)
                                            }
                                            )),
                                            Qo.clearUselessRef(),
                                            p[Vn.F]((function(t) {
                                                return t === Ob.cover
                                            }
                                            )) && e.coverView && e.coverView.close(),
                                            o.commands && "systemUI" === (o.commands[o.cmdIndex] || {}).type && o.cmdIndex++,
                                            Hl.hasRead = !0,
                                            e.state.recording = !1,
                                            e.play(o, !0)
                                        }
                                        ))
                                    }
                                    ), (function(t) {
                                        e.state.recording = !1,
                                        console.warn(t)
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    ))
                };
                return v(t).then((function(t) {
                    return "98865" == l && "d9892b31-c3a8-4d63-82b4-1b22d6223b4e" == t.chapterUuid && "0e95a10d-5e45-47ee-9282-fa28f7098fc9" == t.plotUuid && (t.plotUuid = "03e37f5d-5487-41fb-8f9f-e92569eaab77"),
                    g(t)
                }
                ))
            }
        }, {
            key: "handleChangeViewContext",
            value: function(t) {
                var e = this
                  , n = {}
                  , r = this.game
                  , i = (r = void 0 === r ? {} : r).load
                  , a = {};
                if (tc.getAssets().forEach((function(t) {
                    var e = t.url;
                    return a[e] = !0
                }
                )),
                t !== this.viewContext) {
                    var o = this.viewContext;
                    this.viewContext = t,
                    ["plotViews", "calledViews", "globalViews", "globalCalledViews", "menuViews", "menuCalledViews"].forEach((function(r) {
                        if (t[r] !== o[r]) {
                            if (t[r].length) {
                                var i = e.context;
                                Qo.loadViewJumpAndInsert(t[r], i && i.chapter && i.chapter.uuid);
                                var s = Qo.getAssetsInViews(t[r], !1, !0);
                                if (s.length) {
                                    var u = {}
                                      , c = 0;
                                    s.forEach((function(t) {
                                        var e = t.type
                                          , n = t.url
                                          , r = t.useInPlot;
                                        "image" === e && !a[n] && (u[n] = !0) && c++,
                                        Qo.load(e, n, r, !0)
                                    }
                                    )),
                                    c && (n[r] = u)
                                }
                            }
                            if (n[r])
                                return;
                            var l = e[r].children
                              , d = t[r];
                            Yh.updateViews({
                                nodes: l,
                                viewDatas: d,
                                parent: e[r],
                                path: [r, null],
                                onMount: e.handleViewMount,
                                onUpdate: e.handleViewUpdate
                            })
                        }
                    }
                    ))
                }
                var s = Object.keys(n);
                if (s.length || function() {
                    var t = function(t) {
                        if (i._fileList.filter((function(e) {
                            return e.key === t
                        }
                        )).length > 0)
                            return {
                                v: !0
                            }
                    };
                    for (var e in a) {
                        var n = t(e);
                        if ("object" === d()(n))
                            return n.v
                    }
                    return !1
                }()) {
                    var u = {};
                    Object(k.x)(1e3).then((function() {
                        var r = {};
                        s.forEach((function(i) {
                            if (t[i] === e.viewContext[i]) {
                                var a = n[i];
                                a && Object.assign(r, a)
                            }
                        }
                        ));
                        var a = Object.keys(r).length;
                        if (a) {
                            var o = 0
                              , c = pb.getInstance().create({}, Db(Object.keys(r)));
                            c.update("加载中...", 0),
                            e.state.loading = !0;
                            var l = function(t) {
                                if (r[t]) {
                                    o++;
                                    var n = parseInt(100 * o / a);
                                    c.update("加载中...".concat(n, "%"), n),
                                    a === o && (c.remove(),
                                    e.state.loading = !1)
                                }
                            };
                            i.onFileComplete.add((function(t, e) {
                                return l(e)
                            }
                            ), u, 0)
                        }
                    }
                    )),
                    i.onFileComplete.add((function(r, i) {
                        return a = i,
                        s.forEach((function(r) {
                            var i = n[r];
                            if (i && (delete i[a],
                            !Object.keys(i).length)) {
                                n[r] = null;
                                var o = e[r].children
                                  , s = t[r];
                                if (s !== e.viewContext[r])
                                    return;
                                Yh.updateViews({
                                    nodes: o,
                                    viewDatas: s,
                                    parent: e[r],
                                    path: [r, null],
                                    onMount: e.handleViewMount,
                                    onUpdate: e.handleViewUpdate
                                })
                            }
                        }
                        ));
                        var a
                    }
                    ), u, 0),
                    i.onLoadComplete.addOnce((function() {
                        return i.onFileComplete.removeAll(u),
                        void Fo()
                    }
                    ), u, 0),
                    i.start()
                }
            }
        }, {
            key: "canOpenRecord",
            value: function(t) {
                var e = t === Ob.loadRecord ? "load" : "save"
                  , n = this.playContext
                  , r = (n = void 0 === n ? {} : n).openPages
                  , i = this.context;
                if (r[r.length - 1] === Ob.cover)
                    return !0;
                var a = i.commands
                  , o = i.plots
                  , s = i.plotIndex;
                if (a) {
                    var u = this.targetScene.getState().disableSaveOrLoad;
                    if (u && u.args[0][e])
                        return !1
                } else {
                    var c = o[s];
                    if (c.disableSaveOrLoad && c.disableSaveOrLoad[e])
                        return !1
                }
                return !0
            }
        }, {
            key: "handleChangeContext",
            value: function(t) {
                var e = this
                  , n = t.viewContext
                  , r = t.openPages
                  , i = void 0 === r ? [] : r
                  , a = t.closePages
                  , o = void 0 === a ? [] : a
                  , s = t.controlAudio
                  , u = void 0 === s ? {} : s
                  , c = t.controlPlay
                  , l = t.playContext;
                l !== this.playContext && this.updatePlayContext(l);
                var d = this.playContext
                  , f = (d = void 0 === d ? {} : d).openPages;
                if (f[0] && (o && o[0] == Ob.diyMainMenu || f[0] === Ob.diyMainMenu && c)) {
                    var h = this.inputs;
                    (h = void 0 === h ? {} : h).views.forEach((function(t) {
                        return t.show(!0)
                    }
                    )),
                    this.menus.visible = !0,
                    this.state.plotSnap = null,
                    this.showPlayerSpace(!1),
                    this.menuViews.removeAll(!0),
                    this.menuCalledViews.removeAll(!0),
                    f[0] === Ob.diyMainMenu && this.playContext.openPages.shift(),
                    n = mr()(n, {
                        menuViews: {
                            $set: []
                        },
                        menuCalledViews: {
                            $set: []
                        }
                    }),
                    this.targetScene && this.targetScene.proceed()
                }
                if (i.length && (i = i.map((function(t) {
                    switch (t) {
                    case "settings":
                        return Ob.settings;
                    case "playback":
                        return Ob.playback;
                    case "save-record":
                        return Ob.saveRecord;
                    case "load-record":
                        return Ob.loadRecord
                    }
                }
                ))).length) {
                    var p = i[0]
                      , v = !0;
                    if (p !== Ob.loadRecord && p !== Ob.saveRecord || !(v = this.canOpenRecord(p)) && ml({
                        type: gl,
                        text: "抱歉，作者在此设置了禁用".concat(p === Ob.loadRecord ? "读" : "存", "档")
                    }),
                    v) {
                        var g = function(t) {
                            return Sb.slice(5).forEach((function(n) {
                                return e[n].visible = t
                            }
                            ))
                        };
                        g(!1),
                        this.showSystemUI(p, (function() {
                            return g(!0)
                        }
                        ))
                    }
                }
                if (this.handleChangeViewContext(n),
                u.stopSound)
                    for (var m = 0; m < 10; m++)
                        nr.stopSound(m);
                else
                    u.updateSounds && u.sounds.forEach((function(t, e) {
                        t && "inherit" !== t.url ? (t.view = !0,
                        Qo.forceLoadAudio(t.url),
                        nr.playSound(_b(_b({}, t), {}, {
                            loop: !t.time,
                            channel: e
                        }))) : t || nr.stopSound(e)
                    }
                    ));
                if (u.music) {
                    var y = u.music;
                    y.view = !0,
                    y && y.url && "inherit" !== y.url && Qo.forceLoadAudio(y.url),
                    nr.playMusic(y)
                } else
                    u.stopMusic && nr.stopMusic();
                var b = this.targetScene
                  , w = (b = void 0 === b ? {} : b).controlPlay;
                if (c && w) {
                    var x = c.type;
                    if (this.targetScene === this.commandScene)
                        return this.targetScene.controlPlay(c),
                        Promise.resolve();
                    "jumpOption" === x || "backOption" === x ? this.playContext.stack.takeWhile((function(t) {
                        return "condition_option" === t.type || "option" === t.type || "imgEvents" === t.type
                    }
                    )).length && this.targetScene.controlPlay(c) : this.targetScene.controlPlay(c)
                }
                return Promise.resolve()
            }
        }, {
            key: "showCover",
            value: function(t) {
                var e = this;
                return new Promise((function(n) {
                    var r = e.json
                      , i = (e.game,
                    t.background)
                      , a = t.music
                      , o = t.hidden;
                    if (!t || o)
                        return a && a.url && nr.playMusic(_b(_b({}, a), {}, {
                            volume: 0
                        })),
                        e.setBackground(),
                        n();
                    e.setBackground(i),
                    e.background.visible = !0,
                    a && a.url ? nr.playMusic(a) : nr.stopMusic(),
                    nr.stopAllSound(),
                    Cb.canNoticeStart && e.firstChapter && Qo.loadChapter(e.firstChapter),
                    e.coverView = sp({
                        json: r,
                        callbacks: {
                            start: function() {
                                return n()
                            },
                            load: function() {
                                return e.showSystemUI(Ob.loadRecord)
                            },
                            settings: function() {
                                return e.showSystemUI(Ob.settings)
                            }
                        },
                        layer: e.coverLayer
                    })
                }
                ))
            }
        }]),
        t
    }();
    Object(jn.c)()(arguments[Vn.d]);
    var zb = function() {
        return wb()
    }
      , Lb = [{
        key: "game4399",
        url: "./img/single/game4399.png",
        type: "image"
    }, {
        key: "game4399_over",
        url: "./img/single/game4399_over.png",
        type: "image"
    }]
      , Vb = function() {
        var t = x.a.isSteam
          , e = x.a.wap
          , n = [{
            key: "ui",
            url: "".concat(t ? "" : "./", "img/PlayerUILists.png"),
            json: "".concat(t ? "" : "./", "img/PlayerUILists.json"),
            type: "atlasJSONHash"
        }];
        return "game4399" === e ? n.concat(Lb) : n
    }
      , Fb = function() {
        var t = x.a.isSteam;
        return [{
            key: "logo_preloader",
            url: x.a.istheatre ? "".concat(t ? "" : "./", "img/logo_preloader_2.png") : "".concat(t ? "" : "./", "img/logo_preloader.png")
        }, {
            key: "loading_gif",
            url: x.a.istheatre ? "".concat(t ? "" : "./", "img/loading.png") : "".concat(t ? "" : "./", "img/loading_gif.gif")
        }, {
            key: "toast_loading",
            url: "".concat(t ? "" : "./", "img/toast_loading.gif"),
            type: "image"
        }, {
            key: "defaultroleimg",
            url: "".concat(t ? "" : "./", "img/default_roleimg.png")
        }, {
            key: "defaultuavatar",
            url: "".concat(t ? "" : "./", "img/default_uavatar.png")
        }]
    }
      , Nb = function() {
        var t = x.a.isSteam;
        return [{
            key: "singlebg",
            url: "".concat(t ? "" : "./", "img/singlebg").concat(x.a.vertical ? "_1" : "", ".png"),
            type: "image"
        }]
    }
      , Hb = function() {
        var t = x.a.isSteam;
        return [{
            key: "theatrelogo",
            url: "".concat(t ? "" : "./", "img/theatrelogo.png"),
            type: "image"
        }]
    }
      , Wb = [{
        key: "help",
        url: "./img/qzone/help.png",
        type: "image"
    }, {
        key: "invite",
        url: "./img/qzone/invite.png",
        type: "image"
    }, {
        key: "share",
        url: "./img/qzone/share.png",
        type: "image"
    }]
      , Gb = [{
        key: "bugle_0",
        url: "./img/bugle_0.png",
        type: "image"
    }, {
        key: "bugle_1",
        url: "./img/bugle_1.png",
        type: "image"
    }, {
        key: "bugle_2",
        url: "./img/bugle_2.png",
        type: "image"
    }]
      , qb = function() {
        var t = x.a.single
          , e = x.a.istheatre
          , n = x.a.wap
          , r = [];
        return r.push.apply(r, a()(Fb())),
        e && r.push.apply(r, a()(Hb())),
        t && r.push.apply(r, a()(Nb())),
        "qzone" === n && r.push.apply(r, Wb),
        r.push.apply(r, a()(zb())),
        r.push.apply(r, Gb),
        r.filter((function(t) {
            return "" !== t.url
        }
        ))
    }
      , Yb = function() {
        return a()(Vb())
    }
      , Zb = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "lists",
            get: function() {
                return qb()
            }
        }, {
            key: "preloadLists",
            get: function() {
                return Yb()
            }
        }]),
        t
    }()
      , Jb = function(t, e, n, r) {
        t && !r[t] && (n.push({
            url: t,
            type: e
        }),
        r[t] = e)
    }
      , Kb = function() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
          , e = {}
          , n = []
          , r = function(t) {
            var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
            return Jb(t, r, n, e)
        }
          , i = t.normal
          , a = t.active
          , o = t.sound;
        return i && i.background && r(i.background.url),
        a && a.background && r(a.background.url),
        o && o.url && r(o.url, "audio"),
        n
    }
      , $b = function(t, e, n) {
        return e.forEach((function(e) {
            var r = t[e];
            r.normal && r.normal.background && n(r.normal.background.url),
            r.active && r.active.background && n(r.active.background.url)
        }
        ))
    }
      , Xb = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "getCoverAssets",
            value: function(t) {
                var e = t.titleContainer
                  , n = {}
                  , r = []
                  , i = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
                    return Jb(t, e, r, n)
                };
                return e && e.background && i(e.background.url),
                $b(t, ["startMenu", "loadMenu", "settingsMenu", "overMenu"], i),
                r
            }
        }, {
            key: "getDialogAssets",
            value: function(t) {
                var e = t.background
                  , n = t.avatarContainer
                  , r = t.titleContainer
                  , i = {}
                  , a = []
                  , o = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
                    return Jb(t, e, a, i)
                };
                return e && o(e.url),
                n && n.background && o(n.background.url),
                r && r.background && o(r.background.url),
                a
            }
        }, {
            key: "getMainMenuAssets",
            value: function(t) {
                var e = t.background
                  , n = t.header
                  , r = {}
                  , i = []
                  , a = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
                    return Jb(t, e, i, r)
                };
                return e && a(e.url),
                n && n.background && a(n.background.url),
                $b(t, ["save", "load", "playback", "autoplay", "settings", "back"], a),
                i
            }
        }, {
            key: "getSettingsAssets",
            value: function(t) {
                var e = t.background
                  , n = t.header
                  , r = {}
                  , i = []
                  , a = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
                    return Jb(t, e, i, r)
                };
                return e && a(e.url),
                n && n.background && a(n.background.url),
                $b(t, ["back"], a),
                ["musicVolume", "soundVolume"].forEach((function(e) {
                    var n = t[e];
                    n && n.normal && n.normal.background && a(n.normal.background.url),
                    n && n.progress && n.progress.background && a(n.progress.background.url)
                }
                )),
                ["fullMode", "windowMode", "autoOn", "autoOff"].forEach((function(e) {
                    var n = t[e];
                    n && n.checked && n.checked.background && a(n.checked.background.url),
                    n && n.unchecked && n.unchecked.background && a(n.unchecked.background.url)
                }
                )),
                ["header", "displayHeader", "textHeader", "displayCaption", "textCaption", "soundCaption", "musicCaption", "volumeHeader"].forEach((function(e) {
                    var n = t[e];
                    n && n.background && a(n.background.url)
                }
                )),
                i
            }
        }, {
            key: "getPlaybackAssets",
            value: function(t) {
                var e = {}
                  , n = []
                  , r = function(t) {
                    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
                    return Jb(t, r, n, e)
                }
                  , i = t.background
                  , a = t.scrollBox
                  , o = (a || {}).item
                  , s = (o || {}).content;
                return i && r(i.url),
                a && a.background && r(a.background.url),
                o && o.background && r(o.background.url),
                s && s.background && r(s.background.url),
                $b(t, ["back"], r),
                n
            }
        }, {
            key: "getRecordAssets",
            value: function(t) {
                var e = {}
                  , n = []
                  , r = function(t) {
                    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image";
                    return Jb(t, r, n, e)
                }
                  , i = t.background
                  , a = t.scrollBox
                  , o = (a || {}).item
                  , s = (o || {}).content;
                return i && r(i.url),
                a && a.background && r(a.background.url),
                o && o.background && r(o.background.url),
                s && s.background && r(s.background.url),
                $b(t, ["back"], r),
                n
            }
        }, {
            key: "getSoundAssets",
            value: function(t) {
                var e = []
                  , n = t.sound;
                return n && n.url && e.push({
                    url: n.url,
                    type: "audio"
                }),
                e
            }
        }, {
            key: "getCustomProgressAssets",
            value: function(t, e) {
                var n = t.motionImgMap
                  , r = void 0 === n ? {} : n
                  , i = e.dot
                  , a = e.bar
                  , o = a.background
                  , s = a.progress
                  , u = []
                  , c = {}
                  , l = function t(e) {
                    if (e && e.uuid) {
                        var n = r[e.uuid];
                        if (n) {
                            var i = n.images;
                            (void 0 === i ? [] : i).forEach((function(e) {
                                var n = e.url;
                                return t(n)
                            }
                            ))
                        }
                    } else
                        e && !c[e] && (u.push({
                            url: e,
                            type: "image"
                        }),
                        c[e] = "image")
                };
                return i && i.url && l(i.url),
                o && o.url && l(o.url),
                s && s.url && l(s.url),
                u
            }
        }]),
        t
    }();
    function Qb(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function tw(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Qb(Object(n), !0).forEach((function(e) {
                c()(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Qb(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    c()(Xb, "getMenuAssets", (function(t) {
        return Kb(t)
    }
    )),
    c()(Xb, "getShanyiMenuAssets", (function(t) {
        return Kb(t)
    }
    )),
    c()(Xb, "getOptionAssets", (function(t) {
        return Kb(t)
    }
    ));
    var ew = {
        width1: 0,
        width2: 0,
        width3: 0,
        width4: 0
    }
      , nw = function() {
        return "pc" === x.a.client && x.a.vertical
    }
      , rw = 6
      , iw = "progressBackground"
      , aw = "progressPercent"
      , ow = "progressLoadLight"
      , sw = 2538984
      , uw = function(t, e) {
        return e.getByName(t) || null
    }
      , cw = function() {
        return x.a.istheatre ? ["收藏小剧场，更新会第一时间通知你", "感觉小剧场很棒，和你的好友分享吧~", "引战、刷屏或无关的评论会被删除哦", "把小剧场下载到本地，随时随地任性玩", "长按屏幕可以快进剧情", "素材库为全站通用，可能发生人物走错片场的情况，请不要慌张", "手指右滑就可召唤退出按钮，退出时，记得存档哦"] : ["收藏作品，更新会第一时间通知你", "感觉作品很棒，和你的好友分享吧~", "引战、刷屏、作品无关的评论会被删除哦", "把作品下载到本地，随时随地任性玩", "制作辛苦，写下精彩长评支持喜欢的作者吧", "长按屏幕可以快进剧情", "素材库为全站通用，可能发生人物走错片场的情况，请不要慌张", "在当前作品的评论中对比其他作品容易给作者大大招黑哦~", "手指右滑就可召唤退出按钮，退出作品时，记得存档哦"]
    }
      , lw = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
          , r = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
        return wu.image(t, tw(tw({}, e), {}, {
            centre: r
        }), n)
    }
      , dw = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
          , r = t.world
          , i = r.width
          , a = r.height
          , o = n ? ew["width".concat(n)] : i
          , s = uw(iw, r)
          , u = uw(aw, r);
        e = n > 0 ? ew.width1 * (n - 1) + e * o : e * o,
        s || ((s = wu.rectMask({
            color: 0,
            alpha: .7,
            x: 0,
            y: 0,
            rect: {
                x: 0,
                y: a - rw,
                width: i,
                height: rw
            }
        })).name = iw,
        r.addChild(s)),
        u || ((u = wu.rectMask({
            color: sw,
            alpha: 1,
            x: 0,
            y: 0,
            rect: {
                x: 0,
                y: a - rw,
                width: 0,
                height: rw
            },
            round: [6, 6]
        })).name = aw,
        r.addChild(u));
        var c = uw(ow, r);
        if (!c) {
            var l = lw("load_light", {
                x: 0,
                y: a - 45
            });
            l.name = ow,
            r.addChild(l)
        }
        u.clear(),
        u.beginFill(Object(k.A)(sw), 1),
        u.drawRect(0, a - rw, e, rw),
        u.endFill(),
        c && (c.x = e - c.width / 2)
    }
      , fw = function() {
        function t() {
            h()(this, t)
        }
        return v()(t, null, [{
            key: "startUIAssetsLoad",
            value: function(t) {
                var e = x.a.client
                  , n = x.a.vertical
                  , r = x.a.istheatre
                  , i = x.a.single
                  , a = t.world
                  , o = t.load
                  , s = a.width
                  , u = a.height
                  , c = o._totalFileCount
                  , l = 0;
                if (x.a.loadimg)
                    return new Promise((function(e) {
                        var n = function() {
                            if (dw(t, l / c, 1),
                            l === c)
                                return o.onFileError.removeAll(),
                                o.onFileComplete.removeAll(),
                                n = function() {}
                                ,
                                e()
                        };
                        o.onFileComplete.add((function() {
                            l++,
                            n()
                        }
                        )),
                        o.onLoadComplete.addOnce((function() {
                            n()
                        }
                        )),
                        o.onFileError.add((function() {
                            l++,
                            n()
                        }
                        )),
                        o.start()
                    }
                    ));
                var d = {
                    x: n ? s / 2 : 18,
                    y: u - (nw() ? 280 : n ? i ? 20 : 102 : 30)
                }
                  , f = {
                    fontSize: "pc" === e ? n ? 22 : 14 : 16,
                    forceFontFamily: "pc" === e ? "微软雅黑" : qs.default,
                    color: r ? "#000" : "#fff",
                    align: n ? "center" : ""
                }
                  , h = wu.text(d, f);
                return new Promise((function(t) {
                    o.onLoadStart.addOnce((function() {
                        return a.add(h)
                    }
                    )),
                    o.onFileComplete.add((function(t, e) {
                        h.text = "正在准备播放.. " + t + "%",
                        "singlebg" === e && i && a.addChildAt(lw(e, {
                            name: "singlePreload",
                            x: s / 2,
                            y: u / 2
                        }), 1),
                        "logo_preloader" !== e || i || a.add(lw(e, {
                            name: "preload",
                            x: s / 2,
                            y: u / 2
                        })),
                        Qo.addRef("image", e, "global")
                    }
                    )),
                    o.onLoadComplete.addOnce((function() {
                        h.text = "正在准备播放..【成功】",
                        o.onFileComplete.removeAll();
                        var e = uw("preload", a);
                        e && (e.x = n ? 30 + e.width / 2 : s - e.width / 2 - 50,
                        e.y = n ? 26 + e.height / 2 : u - e.height / 2 - 52);
                        var c = lw("ui", {
                            name: "serchImage",
                            x: s / 2,
                            y: u / 2
                        }, "serch");
                        c && (c.x = s / 2,
                        c.y = n ? 150 + c.height / 2 : c.height / 2 + 28,
                        !r && !i && a.add(c));
                        var l = lw("loading_gif", {
                            name: "loadingGif",
                            width: n ? r ? 204 : 188 : r ? 204 : 190,
                            height: n ? r ? 116 : 188 : r ? 116 : 190,
                            x: s / 2,
                            y: u / 2
                        });
                        l && (l.x = s / 2,
                        l.y = c.y + c.height / 2 + l.height / 2 + (n ? 40 : 34),
                        !i && a.add(l));
                        var d = lw("ui", {
                            name: "loadingSlogan",
                            x: s / 2,
                            y: u / 2
                        }, "slogan");
                        if (d && (d.x = s / 2,
                        d.y = l.y + l.height / 2 + (r ? 44 : 10) + d.height / 2,
                        !i && a.add(d)),
                        nw()) {
                            var f = wu.rectMask({
                                y: u - 170,
                                color: 16777215,
                                rect: {
                                    width: s,
                                    height: 170
                                }
                            });
                            a.add(f);
                            var p = lw("ui", {
                                name: "qrcodeImage",
                                x: s / 2,
                                y: u / 2
                            }, "qrcode");
                            p && (p.x = 150,
                            p.y = u - 150 + p.height / 2,
                            a.add(p));
                            var v = wu.text({
                                x: 150 + p.width / 2 + 16,
                                y: p.y - 30
                            }, {
                                fontSize: 22,
                                text: "快来下载闪艺APP",
                                forceFontFamily: "微软雅黑",
                                color: "#333333"
                            });
                            a.add(v);
                            var g = wu.text({
                                x: 150 + p.width / 2 + 16,
                                y: p.y + 7
                            }, {
                                fontSize: 22,
                                text: "感受更好的竖版体验吧~",
                                forceFontFamily: "微软雅黑",
                                color: "#333333"
                            });
                            a.add(g)
                        }
                        return t()
                    }
                    )),
                    o.start()
                }
                ))
            }
        }, {
            key: "loadGameDates",
            value: function(t) {
                Object(jn.c)()(arguments[Vn.d]);
                var e = x.a.client
                  , n = x.a.vertical
                  , r = x.a.istheatre
                  , i = x.a.single
                  , a = x.a.isWapOther
                  , o = x.a.pwd
                  , s = x.a.uuid
                  , u = t.world
                  , c = u.width
                  , l = u.height
                  , d = {
                    x: n ? c / 2 : 18,
                    y: l - (nw() ? 312 : n ? i ? 40 : 122 : 50)
                }
                  , f = {
                    fontSize: "pc" === e ? n ? 22 : 14 : 16,
                    forceFontFamily: "pc" === e ? "微软雅黑" : qs.default,
                    color: r ? "#000" : "#fff",
                    text: "加载用户配置..",
                    align: n ? "center" : ""
                }
                  , h = wu.text(d, f);
                x.a.loadimg || u.add(h);
                var p = function(e) {
                    if (e.lengthComputable) {
                        var n = e.loaded <= 200 ? 0 : e.loaded / e.total;
                        x.a.loadimg ? dw(t, n, 2) : h.text = "加载用户配置.. ".concat(Math.floor(100 * n), "%")
                    } else
                        x.a.loadimg ? dw(t, 0, 2) : h.text = "加载用户配置.. ".concat(e.loaded)
                }
                  , v = function(t) {
                    return x.a.loadimg || (h.text = "加载用户配置..【成功】"),
                    0 === Object.keys(t).length ? Promise.reject(mi.ERROR_INIT_1) : (t = fi.fixGame(t),
                    Object(vn.f)(t),
                    En.records = t.default_settings.records || [],
                    En.UseLoad = !(!t.default_settings.useload || !t.progress),
                    vn.a.fix(t))
                }
                  , g = 37 === s.length && "2" === s.charAt(36);
                if (g && (x.a.uuid = s = s.substr(0, 36)),
                en.a.runTest) {
                    en.a.developTest && (g = !0);
                    var m = window.location.href;
                    if (/[#]/i.test(m)) {
                        var y = m.split("#")[1] || "";
                        "" !== y && an.a.getCurDate() - Math.round(parseInt(y) / 1e3) <= 1800 && (g = !0),
                        window.location.href = "".concat(m.split("#")[0], "#")
                    }
                    return new Promise((function(n) {
                        Ga(s, p, "&test=".concat(!g, "&pwd=").concat(o)).then((function(t) {
                            return n(v(t))
                        }
                        ), (function(r) {
                            r && "106" === String(r.code) ? yi(r) : function() {
                                var r = wu.group()
                                  , i = wu.rectMask({
                                    alpha: .5,
                                    rect: {
                                        width: c,
                                        height: l
                                    }
                                });
                                i.inputEnable = !0,
                                r.add(i);
                                var a = {
                                    x: (c - 200 - 60) / 2,
                                    y: (l - 120) / 2,
                                    width: 200,
                                    height: 30
                                }
                                  , o = new el({
                                    game: t,
                                    x: a.x,
                                    y: a.y,
                                    width: a.width,
                                    height: a.height,
                                    text: "",
                                    color: "#999999",
                                    fontSize: 24,
                                    fontFramily: qs.default
                                })
                                  , d = o.element;
                                d.className = "preview-code-input",
                                d.placeholder = "请输入预览码",
                                r.add(o);
                                var f = {
                                    x: a.x + a.width + 10,
                                    y: a.y,
                                    width: 60,
                                    height: 30
                                }
                                  , h = wu.rectMask({
                                    alpha: 1,
                                    color: 1822168,
                                    rect: f
                                });
                                h.inputEnabled = !0,
                                r.add(h),
                                h.events.onInputUp.add((function(t, e) {
                                    e && e.pointerMode === Phaser.PointerMode.CURSOR && 0 !== e.button || (d.value ? Ga(s, p, "&test=".concat(!g, "&pwd=").concat(d.value)).then((function(t) {
                                        On.localStorageSetItem("SYConformTime".concat(s), Object(xi.b)(an.a.getCurDate(), 1)),
                                        u.remove(r, !0),
                                        n(v(t))
                                    }
                                    ), (function(t) {
                                        return _(t)
                                    }
                                    )) : _({
                                        code: "00000",
                                        msg: "您还未输入预览码"
                                    }))
                                }
                                ));
                                var m = wu.text(f, {
                                    fontSize: 20,
                                    forceFontFamily: qs.default,
                                    color: "#fff",
                                    text: "确定",
                                    boundsAlignH: "center",
                                    boundsAlignV: "middle",
                                    align: "center"
                                });
                                r.add(m);
                                var y = {
                                    x: a.x,
                                    y: f.y + 30 + 5,
                                    width: 270,
                                    height: 60
                                }
                                  , b = wu.textarea(y, {
                                    fontSize: 14,
                                    forceFontFamily: qs.default,
                                    color: "#fff",
                                    align: "center"
                                });
                                b.setTexts([{
                                    data: "作者还未正式发布，请填写作者提供的预览码进入作品"
                                }]),
                                r.add(b);
                                var w = wu.group();
                                w.add(lw("ui", {
                                    x: a.x - 10,
                                    y: a.y + 15
                                }, "icon_error"));
                                var x = {
                                    x: y.x + 20,
                                    y: y.y,
                                    width: 250,
                                    height: 60
                                }
                                  , k = wu.textarea(x, {
                                    fontSize: 14,
                                    forceFontFamily: qs.default,
                                    color: "#fff",
                                    text: "",
                                    align: "center"
                                });
                                w.add(k),
                                w.visible = !1,
                                r.add(w),
                                u.add(r);
                                var _ = function(t) {
                                    var n = t.code
                                      , r = t.msg
                                      , i = void 0 === r ? "" : r;
                                    n && "999" === n.toString && (i = "请求异常，请检查网络后重试"),
                                    d.className = "preview-code-error-input",
                                    b.visible = !1,
                                    w.visible = !0,
                                    k.setTexts([{
                                        data: i
                                    }]),
                                    n !== mi.ERROR_INIT_4.code && n !== mi.ERROR_INIT_5.code && "pc" === e && On.urlExpire()
                                }
                            }()
                        }
                        ))
                    }
                    ))
                }
                var b = a ? Wa : en.a.runTest ? Ga : Ha;
                return b(s, p, "").then(v, (function(t) {
                    var e = t.message
                      , n = t.code
                      , r = void 0 === n ? "00000" : n;
                    return h.text = "发生错误：".concat(e || "XMLHttpRequest Load onerror or onabort"),
                    Promise.reject("00001" === r ? mi.ERROR_INIT_7 : mi.ERROR_INIT_3)
                }
                ))
            }
        }, {
            key: "parseGameAssets",
            value: function(t, e) {
                var n = x.a.client
                  , r = x.a.vertical
                  , i = x.a.istheatre
                  , o = x.a.single
                  , s = x.a.showLogo
                  , u = x.a.singleAlone
                  , c = t.world
                  , l = t.input
                  , d = c.width
                  , f = c.height
                  , h = {
                    x: r ? d / 2 : 18,
                    y: f - (nw() ? 342 : r ? o ? 60 : 142 : 70)
                }
                  , p = {
                    fontSize: "pc" === n ? r ? 22 : 14 : 16,
                    forceFontFamily: "pc" === n ? "微软雅黑" : qs.default,
                    color: i ? "#000" : "#fff",
                    text: "解析用户配置...",
                    align: r ? "center" : ""
                }
                  , v = wu.text(h, p);
                return x.a.loadimg || c.add(v),
                new Promise((function(t) {
                    var n = e.logo
                      , r = void 0 === n ? {} : n
                      , i = e.cover
                      , o = void 0 === i ? {} : i
                      , u = e.template
                      , c = void 0 === u ? {} : u
                      , l = e.valueImgs
                      , d = void 0 === l ? [] : l
                      , f = e.dialogs
                      , h = void 0 === f ? [] : f
                      , p = e.progress
                      , v = e.playerItem
                      , g = (c.json || {}).cover
                      , m = r.background
                      , y = vn.a.getAssets(e);
                    if (y.push.apply(y, a()(Qo.getGlobalViewsAssets())),
                    y.push.apply(y, a()(Qo.getMouseStyleAssets())),
                    s && m && m.url && !m.hidden && y.push({
                        url: m.url,
                        type: "image"
                    }),
                    h.forEach((function(t) {
                        return y.push.apply(y, a()(Xb.getDialogAssets(t)))
                    }
                    )),
                    !o.hidden) {
                        var b = o.background;
                        b && b.url && y.push({
                            url: b.url,
                            type: "image"
                        }),
                        g && y.push.apply(y, a()(Xb.getCoverAssets(g)))
                    }
                    if (c.json) {
                        var w = c.json
                          , x = w.dialog
                          , k = w.menu
                          , _ = w.shanyiMenu
                          , O = w.mainMenu
                          , S = w.settings
                          , P = w.option
                          , C = w.playback
                          , E = w.record;
                        y.push.apply(y, a()(Xb.getSoundAssets(c.json))),
                        y.push.apply(y, a()(Xb.getDialogAssets(x))),
                        y.push.apply(y, a()(Xb.getMenuAssets(k))),
                        y.push.apply(y, a()(Xb.getShanyiMenuAssets(_))),
                        y.push.apply(y, a()(Xb.getOptionAssets(P))),
                        y.push.apply(y, a()(Xb.getMainMenuAssets(O))),
                        y.push.apply(y, a()(Xb.getSettingsAssets(S))),
                        y.push.apply(y, a()(Xb.getRecordAssets(E))),
                        y.push.apply(y, a()(Xb.getPlaybackAssets(C)))
                    }
                    if (En.UseLoad && (pb.progressJson = p,
                    y.push.apply(y, a()(Xb.getCustomProgressAssets(e, p)))),
                    v) {
                        var j = ["normal", "active", "speed1", "speed2", "speed3", "speed4", "off"];
                        Object.keys(v).forEach((function(t) {
                            var e = v[t];
                            j.forEach((function(t) {
                                e[t] && e[t].url && y.push({
                                    url: e[t].url,
                                    type: "image"
                                })
                            }
                            ))
                        }
                        ))
                    }
                    d.forEach((function(t) {
                        return t.url && y.push({
                            url: t.url,
                            type: "image"
                        })
                    }
                    )),
                    y.forEach((function(t) {
                        var e = t.url
                          , n = t.type;
                        return Qo.load(n, e)
                    }
                    )),
                    En.buttonSoundUrl = c.json && c.json.sound && c.json.sound.url || "",
                    En.optionSound = c.json && c.json.option && c.json.option.sound || {
                        url: "",
                        volume: 1
                    },
                    t()
                }
                )).then((function() {
                    return x.a.loadimg ? dw(t, 1, 3) : v.text = "解析用户配置..【成功】",
                    u ? new Promise((function(t) {
                        var e = lw("ui", {
                            x: d / 2,
                            y: r ? f / 2 : f - 30,
                            centre: !0
                        }, "continue");
                        c.add(e),
                        l.onDown.addOnce((function() {
                            c.remove(e, !0),
                            t()
                        }
                        ))
                    }
                    )) : Promise.resolve()
                }
                )).catch((function(t) {
                    return x.a.loadimg || (v.text = "用户配置解析错误：".concat(t)),
                    Promise.reject(mi.ERROR_INIT_2)
                }
                ))
            }
        }, {
            key: "loadGameAssets",
            value: function(e, n) {
                var r = x.a.client
                  , i = x.a.vertical
                  , a = x.a.istheatre
                  , o = x.a.single
                  , s = e.load
                  , u = e.world
                  , c = s._totalFileCount + Bn.getLoadingCount();
                if (!c)
                    return Promise.resolve();
                var l = u.width
                  , d = u.height
                  , f = Object.create(null)
                  , h = 0
                  , p = {
                    x: 0,
                    y: d / 2 + (i ? o ? 0 : 70 : o ? 185 : 130),
                    width: l,
                    height: 30
                }
                  , v = {
                    fontSize: "pc" === r ? i ? 28 : 24 : 28,
                    forceFontFamily: "pc" === r ? "微软雅黑" : qs.default,
                    color: a ? "#000" : "#fff",
                    boundsAlignH: "center",
                    boundsAlignV: "middle",
                    align: "center"
                }
                  , g = wu.text(p, v);
                x.a.loadimg || u.add(g);
                var m = {
                    x: 0,
                    y: d / 2 + (i ? o ? 0 : 70 : o ? 185 : 130),
                    width: l,
                    height: 30
                }
                  , y = {
                    fontSize: "pc" === r ? i ? 28 : 24 : 28,
                    forceFontFamily: "pc" === r ? "微软雅黑" : qs.default,
                    color: a ? "#000" : "#fff",
                    boundsAlignH: "center",
                    boundsAlignV: "middle",
                    align: "center"
                }
                  , b = wu.text(m, y);
                x.a.loadimg || u.add(b);
                var w = cw()[Math.floor(Object(un.u)() * ("pc" === r ? cw().length - 3 : cw().length))];
                i && w.length > 22 && (w = "".concat(w.substr(0, 19), "\n").concat(w.substr(19)));
                var k = {
                    x: 28,
                    y: d / 2 + (nw() ? 270 : i ? 160 : 180),
                    width: l - 25,
                    height: 22
                }
                  , _ = {
                    fontSize: "pc" === r ? i ? 22 : 16 : 18,
                    forceFontFamily: "pc" === r || a ? "微软雅黑" : qs.default,
                    color: a ? "#000" : "#fff",
                    boundsAlignH: "center",
                    boundsAlignV: "middle",
                    align: "center",
                    wordWrap: !0,
                    text: w
                }
                  , O = wu.text(k, _);
                o || x.a.loadimg || u.add(O);
                var S = O.height >= 2 * _.fontSize
                  , P = lw("ui", {
                    x: (l - O.width - 28) / 2,
                    y: k.y + (S ? 0 : 10)
                }, "light");
                o || a || x.a.loadimg || u.add(P);
                var C, E, j, A = function() {
                    return Promise.resolve()
                };
                if (n) {
                    var I = n.duration
                      , R = n.url;
                    A = function() {
                        var n = null
                          , r = null;
                        return x.a.loadimg || ((n = uw("loadingGif", u)) && (n.visible = !1),
                        (r = uw("loadingSlogan", u)) && (r.visible = !1)),
                        t.handleShowAd(e, I, "adpicurl", R).then((function() {
                            var t = uw("adView", u);
                            return t && u.remove(t, !0),
                            x.a.loadimg || (n && (n.visible = !0),
                            r && (r.visible = !0)),
                            Promise.resolve()
                        }
                        ))
                    }
                }
                return Promise.all([new Promise((function(t) {
                    var n = function() {
                        h === c && (s.onSoundExtendLoad.removeAll(f),
                        s.onSoundExtendLoadError.removeAll(f),
                        s.onFileComplete.removeAll(f),
                        t())
                    }
                      , r = function() {
                        h++,
                        b.text = parseInt(100 * h / c) + "%",
                        x.a.loadimg && dw(e, h / c, 4),
                        n()
                    };
                    s.onSoundExtendLoad.add(r, f),
                    s.onSoundExtendLoadError.add(r, f),
                    s.onFileComplete.add((function() {
                        return r()
                    }
                    ), f, 0),
                    s.onLoadComplete.addOnce((function() {
                        return n()
                    }
                    ), f, 0),
                    s.start()
                }
                )), (C = Object(vn.d)(),
                E = C.font,
                j = C.default_settings.font_size,
                qs.init(E, j)), A()])
            }
        }, {
            key: "handleShowAd",
            value: function(t, e, n, r) {
                var i = x.a.vertical;
                return new Promise((function(a) {
                    var o = t.world;
                    if (!t.cache.checkKey(Phaser.Cache.IMAGE, n))
                        return a();
                    var s = o.width
                      , u = o.height
                      , c = 527
                      , l = (s - c) / 2
                      , d = i ? (u - 307) / 2 - 100 : 84
                      , f = wu.group("adView");
                    o.add(f),
                    f.add(wu.rectMask({
                        color: 5000268,
                        alpha: .5,
                        rect: {
                            x: l,
                            y: d,
                            width: c,
                            height: 307
                        }
                    }));
                    var h = wu.image(n, {
                        x: 0,
                        y: 0,
                        width: c,
                        height: 307
                    });
                    f.add(h),
                    h.x = l,
                    h.y = d,
                    h.inputEnabled = !0,
                    h.events.onInputDown.add((function(t, e) {
                        e && e.pointerMode === Phaser.PointerMode.CURSOR && 0 !== e.button || window.open(r)
                    }
                    )),
                    f.add(function(t, e, n) {
                        var r = n
                          , i = 32
                          , o = wu.group("adtime")
                          , s = wu.rectMask({
                            color: 5000268,
                            rect: {
                                x: 0,
                                y: 0,
                                width: i,
                                height: i
                            }
                        })
                          , u = wu.text({
                            x: 0,
                            y: 0,
                            with: i,
                            height: i
                        }, {
                            forceFontFamily: qs.default,
                            fontSize: 20,
                            color: 12500670,
                            text: r
                        });
                        o.add(s),
                        o.add(u),
                        o.x = t,
                        o.y = e,
                        u.x = (i - u.width) / 2,
                        u.y = (i - u.height) / 2;
                        var c = 0;
                        return c = setInterval((function() {
                            if (r--,
                            u.setText(r < 0 ? 0 : r),
                            u.x = (i - u.width) / 2,
                            r <= 0)
                                return clearInterval(c),
                                a()
                        }
                        ), 1e3),
                        o
                    }(l + c - 32, d, e || 0))
                }
                ))
            }
        }, {
            key: "clear",
            value: function(t) {
                var e = t.world
                  , n = t.cache;
                return e.removeAll(!0, !1, !1),
                n.checkKey(Phaser.Cache.IMAGE, "loading_gif") && n.removeImage("loading_gif"),
                n.checkKey(Phaser.Cache.IMAGE, "logo_preloader") && n.removeImage("logo_preloader"),
                n.checkKey(Phaser.Cache.IMAGE, "adpicurl") && n.removeImage("adpicurl"),
                n.checkKey(Phaser.Cache.IMAGE, "Operation_tip") && n.removeImage("Operation_tip"),
                n.checkKey(Phaser.Cache.IMAGE, "load_light") && n.removeImage("load_light"),
                Promise.resolve()
            }
        }]),
        t
    }();
    c()(fw, "loadBgImage", (function(t) {
        var e = x.a.client
          , n = x.a.isSteam
          , r = t.load
          , i = t.world
          , a = i.width
          , o = i.height
          , s = Math.floor(a / 4);
        return Object.keys(ew).forEach((function(t, e) {
            ew[t] = s,
            3 === e && (ew[t] = a - 3 * s)
        }
        )),
        new Promise((function(s) {
            return To().then((function(u) {
                if (r.image("load_light", "".concat(n ? "" : "./", "img/load_light.gif")),
                null == u.match(".*?(gif|jpeg|png|jpg|bmp|webp)"))
                    return Promise.reject();
                var c = null !== u.match(/group/) && sn.a.isSupportWebp;
                r.image(u, u + "".concat("".concat("pc" === e ? c ? "~webp" : "~q100" : c ? "~webp" : ""), "?ran=").concat(Object(un.u)())),
                r.onFileError.add((function() {
                    return r.onLoadComplete.removeAll(),
                    r.onFileError.removeAll(),
                    x.a.loadimg = !1,
                    On.hideLoadCover(),
                    s()
                }
                )),
                r.onLoadComplete.addOnce((function() {
                    return x.a.loadimg = !0,
                    r.onLoadComplete.removeAll(),
                    r.onFileError.removeAll(),
                    i.addChild(lw(u, {
                        x: 0,
                        y: 0,
                        width: a,
                        height: o
                    }, null, !1)),
                    dw(t, 0),
                    Object(k.z)(800).then((function() {
                        return On.hideLoadCover()
                    }
                    )),
                    s()
                }
                )),
                r.start()
            }
            )).catch((function() {
                return x.a.loadimg = !1,
                r.onLoadComplete.removeAll(),
                r.onFileError.removeAll(),
                On.hideLoadCover(),
                s()
            }
            ))
        }
        ))
    }
    )),
    c()(fw, "preloadAssets", (function(t) {
        var e = t.load;
        return new Promise((function(t) {
            e.onLoadComplete.addOnce((function() {
                return t()
            }
            )),
            e.start()
        }
        ))
    }
    )),
    Object(jn.c)()(arguments[Vn.d]);
    var hw = navigator
      , pw = hw.userAgent
      , vw = function() {
        return !!x.a.isWapOther || On.isAppClient()
    }
      , gw = "00000";
    x.a.device_id = On.getDeviceIdByAndroid();
    var mw = function() {
        var t = pw.match(/chrome\/((([0-9]*)+(\.))*)+([0-9]*)/gi);
        if (t)
            if ("Chrome/50.0.2661.86" == t[0] || "Chrome/51.0.2704.81" == t[0]) {
                if (-1 === pw.indexOf("Android 6.0.1; MI 4LTE") && -1 === pw.indexOf("vivo Y67"))
                    return Phaser.AUTO
            } else if ("Chrome/46.0.2490.76" == t[0] && -1 !== pw.indexOf("OPPO R9s"))
                return Phaser.AUTO;
        return Phaser.CANVAS
    }
      , yw = function() {
        var t = x.a.client
          , e = x.a.wap
          , n = x.a.offline
          , r = x.a.offlinetest;
        return !Object(jn.f)() && !(!t || "" !== e) && ("pc" === t || "wap" === t ? Object(nn.k)() : !n && !r)
    }
      , bw = function() {
        function t() {
            var e = this;
            h()(this, t),
            c()(this, "init", (function() {
                var t = x.a.wap
                  , n = x.a.single
                  , r = x.a.vertical
                  , i = x.a.isSteam
                  , a = (x.a.offline,
                x.a.client)
                  , o = e.game
                  , s = o.device
                  , u = o.scale
                  , c = o.stage
                  , l = o.world
                  , d = o.load
                  , f = o.sound
                  , h = o.cache
                  , p = o.input
                  , v = o.renderer
                  , g = s.desktop
                  , m = s.iOS
                  , b = function() {
                    return !!(g && window.navigator.userAgent[Vn.m]("shanyi") && en.a.runTest) || (!g || !en.a.runTest && !en.a.runCheck) && (!g || "qh" == t || "pc" == a || n)
                };
                if (i) {
                    var w = p.keyboard
                      , _ = cefCustomObject.getScreenState() || 0;
                    1 == _ ? e.game.scale.startFullScreen(!0) : e.game.scale.stopFullScreen(),
                    En.full = 1 == _,
                    w.addCallbacks(e, (function(t) {
                        return 27 == t.keyCode && cefCustomObject.exitGame()
                    }
                    ))
                }
                b() && (u.scaleMode = Phaser.ScaleManager.SHOW_ALL),
                (g || Object(nn.q)() && m) && (c.disableVisibilityChange = !0),
                u.fullScreenTarget = document.body,
                u.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL,
                u.pageAlignVertically = !0,
                u.pageAlignHorizontally = !0;
                var O, S = document.getElementById("game"), P = function(t) {
                    var e = t.size
                      , n = t.angle
                      , r = t.bound;
                    u.setGameSize(e[0], e[1]),
                    l.angle = n,
                    l.setBounds(r[0], r[1], r[2], r[3]),
                    u.refresh()
                };
                u.setResizeCallback((function() {
                    Object(nn.k)() && Object(nn.l)() && Object(nn.r)() && (S.style["margin-top"] = 0 === window.orientation && Object(k.m)() === window.originalHeight && 724 === window.originalHeight ? "-83px" : "0px"),
                    "wap" === x.a.client && e.game.gameResumed();
                    var t = function() {
                        var t = Object(k.n)()
                          , n = Object(k.m)();
                        if (Object(nn.k)() && m && void 0 !== window.orientation) {
                            var i = 90 === window.orientation || -90 === window.orientation;
                            t = i ? window.originalHeight : window.originalWidth,
                            n = i ? window.originalWidth : window.originalHeight,
                            u.parentIsWindow = !0
                        }
                        S.style.width = t + "px",
                        S.style.height = n + "px",
                        b() && (v.resolution = 2,
                        v.resize(e.game.width, e.game.height)),
                        g && r || (t > n ? r && 90 !== l.angle ? P({
                            size: [960, 540],
                            angle: 90,
                            bound: [-960, 0, 540, 960]
                        }) : r || 0 === l.angle || P({
                            size: [960, 540],
                            angle: 0,
                            bound: [0, 0, 960, 540]
                        }) : r && 0 !== l.angle ? P({
                            size: [540, 960],
                            angle: 0,
                            bound: [0, 0, 540, 960]
                        }) : r || 90 === l.angle || P({
                            size: [540, 960],
                            angle: 90,
                            bound: [-960, 0, 960, 540]
                        }))
                    };
                    en.a.developTest ? t() : (O && clearTimeout(O),
                    O = setTimeout((function() {
                        t(),
                        clearTimeout(O)
                    }
                    ), 0))
                }
                )),
                e.game.onRestart = new Phaser.Signal,
                d.crossOrigin = "anonymous",
                d.maxParallelDownloads = 2 * d.maxParallelDownloads,
                d.loadImageTag = ys.loadImageTag,
                d.onSoundExtendLoad = new Phaser.Signal,
                d.onSoundExtendLoadError = new Phaser.Signal,
                d.loadVideoTag = ys.loadVideoTag,
                f.decode = ys.soundDecode,
                f.onSoundDecodeError = new Phaser.Signal,
                Phaser.InputHandler[Vn.x]._touchedHandler = ys.touchedHandler,
                Phaser.InputHandler[Vn.x].checkBoundsRect = ys.checkBoundsRect,
                Phaser.InputHandler[Vn.x]._releasedHandler = ys.releasedHandler,
                Phaser.InputHandler[Vn.x]._pointerOverHandler = ys.pointerOverHandler,
                Phaser.InputHandler[Vn.x]._pointerOutHandler = ys.pointerOutHandler,
                Phaser.Input[Vn.x].update = ys.inputUpdate,
                e.addPlugins(),
                On.init(),
                On.setCallback("showGameNotice", (function() {
                    return qy.show().then((function() {
                        return On.openShanyiMenu()
                    }
                    ))
                }
                ));
                var C = function() {
                    return E()
                }
                  , E = function() {
                    f.touchLocked = !1,
                    y.fill(),
                    h.getKeys(Phaser.Cache.SOUND).forEach((function(t) {
                        var e = h.getSound(t);
                        e && !y.exist(e.data) && h.reloadSound(t)
                    }
                    ))
                };
                s.iOS ? p.addTouchLockCallback(C, e.game, !0, s.iOSVersion > 8) : s.android && !On.isAppClient() ? p.addTouchLockCallback(C, e.game, !0) : C(),
                Qo.cache = h,
                Qo.loader = d,
                e.game.destroyComponent.add((function(t) {
                    return Qo.subRef("image", t, "play")
                }
                )),
                e.game.onBlur.add((function() {
                    return sn.a.getFocus = !1
                }
                )),
                e.game.onFocus.add((function() {
                    return sn.a.getFocus = !0
                }
                ))
            }
            )),
            c()(this, "create", (function() {
                var t = e.game
                  , n = t.canvas
                  , r = t.width
                  , i = t.height
                  , a = t.world
                  , o = t.input.onDown
                  , u = x.a.wap
                  , c = x.a.singleAlone
                  , l = x.a.istheatre
                  , d = x.a.app_version
                  , f = x.a.offline
                  , h = x.a.offlinetest
                  , p = x.a.single
                  , v = x.a.isSteam;
                if ("android" === x.a.client && f && vw() && !h && Object(k.c)(d, "2.2.1") < 0)
                    Xe.a.warn(Object(rn.c)(21));
                else {
                    var g, m = (v ? (g = cefCustomObject.getDataTime(),
                    Promise.resolve(parseInt(g) / 1e3 || 0)) : Da(!0)).then((function(t) {
                        if (Object(nn.o)(t)) {
                            var e = t
                              , n = e.status
                              , r = e.desc
                              , i = e.timestamp;
                            if (en.a.runOnline && "1" === String(n))
                                return On.hideLoadCover(),
                                Xe.a.info(r).finally((function() {
                                    return On.goHomeIndex()
                                }
                                )),
                                Promise.reject(null);
                            t = i
                        }
                        return an.a.startlocal(t, v),
                        Promise.resolve()
                    }
                    ), (function() {
                        return Promise.resolve()
                    }
                    ));
                    n.oncontextmenu = function(t) {
                        return t.preventDefault()
                    }
                    ,
                    a.add(wu.rectMask({
                        color: l ? 16777215 : 6476757,
                        rect: {
                            width: r,
                            height: i
                        }
                    })),
                    o.add((function() {
                        return e.game.gameResumed()
                    }
                    )),
                    El.setUserAccount(x.a[gn.M], x.a.token, x.a.u, x.a[gn.M]);
                    var y = function() {
                        return m.then((function() {
                            return Pw()
                        }
                        )).then((function() {
                            return !p && en.a.runOnline && "" !== x.a.client ? Qe.a.initCnzz() : Promise.resolve()
                        }
                        )).then(jn.a).then((function(t) {
                            return Ma(t)
                        }
                        )).then((function(t) {
                            return ww(t, e.game).then((function() {
                                return t
                            }
                            ))
                        }
                        )).then((function(t) {
                            return xw(e.game).then((function(e) {
                                return {
                                    ads: t,
                                    json: e
                                }
                            }
                            ))
                        }
                        )).then((function(t) {
                            var n = t.ads
                              , r = t.json;
                            return kw(r, e.game).then((function() {
                                return {
                                    ads: n,
                                    json: r
                                }
                            }
                            ))
                        }
                        )).then((function(t) {
                            var e = t.ads
                              , n = t.json;
                            return Cw(n).then((function(t) {
                                return [e, n, t]
                            }
                            ))
                        }
                        )).then((function(t) {
                            var n = s()(t, 3)
                              , r = n[0]
                              , i = n[1]
                              , a = n[2];
                            return _w(r, e.game).then((function() {
                                return [i, a]
                            }
                            ))
                        }
                        )).then((function(t) {
                            var n = s()(t, 2)
                              , r = n[0]
                              , i = n[1];
                            return Ow(e.game).then((function() {
                                return [r, i]
                            }
                            ))
                        }
                        )).then((function(t) {
                            var n = s()(t, 2)
                              , r = n[0]
                              , i = n[1];
                            return Sw(e.game).then((function() {
                                return [r, i]
                            }
                            ))
                        }
                        )).then((function(t) {
                            var e = s()(t, 2)
                              , n = e[0]
                              , r = e[1];
                            return function(t) {
                                var e = t.client
                                  , n = void 0 === e ? 0 : e;
                                return new Promise((function(t) {
                                    if (!en.a.runTest || "1" !== n.toString())
                                        return t();
                                    Xe.a.custom("Info", "作品存在两个显示端，请选择需要测试的显示端", "提示", "电脑端", "手机端", !0, 0, 0, !0).then((function() {
                                        return x.a.client = "pc",
                                        t()
                                    }
                                    ), (function() {
                                        return x.a.client = "android",
                                        t()
                                    }
                                    ))
                                }
                                ))
                            }(n).then((function() {
                                return [n, r]
                            }
                            ))
                        }
                        )).then((function(t) {
                            var n = s()(t, 2)
                              , r = n[0]
                              , i = n[1];
                            return new Ub(e.game,r,i)
                        }
                        )).catch((function(t) {
                            console.log(t),
                            null != t && (t.msg && t.code || (t = {
                                code: gw,
                                msg: "".concat(Object(rn.c)(30)).concat(t)
                            }),
                            t.msg += t.code !== gw ? "" : "".concat(Object(rn.c)(29)),
                            yi(t, null, null))
                        }
                        ))
                    };
                    if (u) {
                        var b = function(t) {
                            if (Object(nn.o)(t)) {
                                var e = t.uid
                                  , n = t.token
                                  , r = t.u;
                                El.setUserAccount(e, n, r)
                            }
                        };
                        switch (u) {
                        case "kk":
                            Qe.c.initSdk().then((function(t) {
                                t && 0 == t.code ? (t.data && b(t.data),
                                y()) : yi(mi.ERROR_OTHER_5, (function() {
                                    return window.location.reload()
                                }
                                ), null)
                            }
                            ));
                            break;
                        case "qh":
                            Qe.e.sendQHData().then((function(t) {
                                return b(t),
                                Qe.e.initQHSdk()
                            }
                            )).then((function(t) {
                                t && 0 == t.code ? y() : yi(mi.ERROR_OTHER_1, (function() {
                                    return window.location.reload()
                                }
                                ), null)
                            }
                            ));
                            break;
                        case "qzone":
                            Qe.f.getUserIpInfo().then((function() {
                                return Qe.f.postUserInfoQzone(1)
                            }
                            )).then((function(t) {
                                return b(t),
                                Qe.f.getShareCountQzone()
                            }
                            )).then((function() {
                                return y()
                            }
                            ), (function() {
                                return yi(mi.ERROR_OTHER_2, (function() {
                                    return window.location.reload()
                                }
                                ), null)
                            }
                            ));
                            break;
                        case "wx":
                            Qe.h.initWx().then((function() {
                                return y()
                            }
                            ));
                            break;
                        case "mk":
                            Qe.d.initMkbySy(1).then((function(t) {
                                b(t),
                                y()
                            }
                            ));
                            break;
                        case "4399":
                            c ? Qe.b.init4399Api().then((function() {
                                return y()
                            }
                            )) : y();
                            break;
                        case "zxwwap":
                        default:
                            y()
                        }
                    } else
                        y()
                }
            }
            ));
            var n = document.location
              , r = n.origin
              , a = n.pathname
              , o = document.getElementsByTagName("script");
            for (i = 0; i < o.length; i++) {
                var u = o[i];
                u && u.src && u.src.includes("".concat(r).concat(a.substring(0, a.indexOf("index.html")), "app")) && u.remove()
            }
            window.AudioContext = null,
            window.webkitAudioContext = null;
            var l = x.a.vertical ? [540, 960] : [960, 540]
              , d = s()(l, 2)
              , f = d[0]
              , p = d[1];
            this.game = new Phaser.Game({
                width: f,
                height: p,
                parent: "game",
                renderer: mw(),
                state: {
                    init: this.init,
                    create: this.create
                },
                mspointer: !1,
                enableDebug: !1,
                mouseWheel: void 0 !== window.onwheel
            }),
            this.game.preserveDrawingBuffer = !0,
            Object(vn.e)(this.game),
            x.a.upserver = yw(),
            en.a.runTest && (x.a.upserver = !0),
            this.init = this.create = null;
            var v = this;
            Object.keys(v).forEach((function(t) {
                if ("function" == typeof v[t]) {
                    var e = v[t];
                    v[t] = function() {
                        return Object(jn.c)()(e),
                        e[Vn.a](v, arguments)
                    }
                }
            }
            ))
        }
        return v()(t, [{
            key: "addPlugins",
            value: function() {
                this.game.add.plugin(nu)
            }
        }]),
        t
    }()
      , ww = function(t, e) {
        return x.a.single && (x.a.loadimg = !1),
        (x.a.loadimg ? fw.loadBgImage(e) : Promise.resolve()).then((function() {
            var n = e.load;
            t && t.pic_url && n.image("adpicurl", t.pic_url.replace("http://", "//"));
            var r = function(t) {
                var e = t.key
                  , r = t.url
                  , i = t.type
                  , a = t.json;
                "atlasJSONHash" === i ? n.atlasJSONHash(e, r, a) : "spritesheet_vertical" === i ? n.spritesheet(e, r, 960, 540) : n.image(e, r)
            };
            return Zb.preloadLists.forEach((function(t) {
                return r(t)
            }
            )),
            fw.preloadAssets(e).then((function() {
                return Zb.lists.forEach((function(t) {
                    return r(t)
                }
                )),
                qp(n),
                fw.startUIAssetsLoad(e)
            }
            ))
        }
        ))
    }
      , xw = function(t) {
        return fw.loadGameDates(t)
    }
      , kw = function(t, e) {
        return fw.parseGameAssets(e, t)
    }
      , _w = function(t, e) {
        return fw.loadGameAssets(e, t)
    }
      , Ow = function(t) {
        return Fo(),
        "android" !== x.a.client && "ios" !== x.a.client || x.a.isSteam ? Promise.resolve() : Kp({
            game: t,
            key: "Operation_tip"
        })
    }
      , Sw = function(t) {
        return fw.clear(t)
    }
      , Pw = function() {
        var t, e, n, r, i, a, o, s, u, c = x.a.offline, l = x.a.uuid, d = El[gn.M], f = function() {
            var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
            return t ? encodeURIComponent(Object(xi.b)("".concat(l, "readrecord").concat(d), 1)) : "".concat(x.a.uuid, "readrecord").concat(d)
        }, h = function() {
            var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
            return t ? encodeURIComponent(Object(xi.b)("".concat(l).concat(d), 1)) : "".concat(l).concat(d)
        }, p = function() {
            var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]
              , e = "payInfo";
            return t ? encodeURIComponent(Object(xi.b)("".concat(l).concat(e).concat(d), 1)) : c ? "offline".concat(l).concat(e).concat(d) : "".concat(l).concat(e).concat(d)
        };
        return Promise.all([(o = p(!1),
        s = p(),
        u = On.localStorageGetItem(o) || "",
        "" === (On.localStorageGetItem(s) || "") && "" !== u && "" !== (JSON.parse(u).data || "") ? Object(g.b)({
            content: JSON.parse(u).data,
            uid: d
        }, "value").then((function(t) {
            return t && (On.localStorageSetItem(s, t),
            On.localStorageRemoveItem(o)),
            Promise.resolve()
        }
        )) : Promise.resolve()), (r = h(!1),
        i = h(),
        a = On.localStorageGetItem(r) || "",
        "" === (On.localStorageGetItem(i) || "") && "" !== a ? Object(g.b)({
            content: a,
            uid: d
        }, "record").then((function(t) {
            return t && (On.localStorageSetItem(i, t),
            On.localStorageRemoveItem(r)),
            Promise.resolve()
        }
        )) : Promise.resolve()), (t = f(!1),
        e = f(),
        n = On.localStorageGetItem(t) || "",
        "" === (On.localStorageGetItem(e) || "") && "" !== n && (On.localStorageSetItem(e, n),
        On.localStorageRemoveItem(t)),
        Promise.resolve())])
    }
      , Cw = function(t) {
        var e = x.a.offline
          , n = x.a.single
          , r = x.a.isSteam;
        x.a.svn,
        r && (x.a.steamId = cefCustomObject.getSteamID(),
        x.a.steamAppid = cefCustomObject.getSteamGameAppID()),
        Ba().then((function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return sn.a.getSensitiveWords = function() {
                return t
            }
        }
        )),
        Ya(),
        nf(t);
        var i, a, o, s, u = {}, c = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
              , e = arguments.length > 1 ? arguments[1] : void 0;
            return t.map((function(t) {
                return (t = mr()(t, {
                    value: {
                        $set: e ? void 0 : Wc(t)
                    },
                    name: {
                        $set: ""
                    }
                })).init = Pc(t.init),
                t
            }
            ))
        }, l = (i = new Array(6).fill("").map((function(t, e) {
            return Object(rn.e)(e)
        }
        )),
        a = Object(rn.c)(28),
        o = t[a] ? [xi.k, xi.j][t[a] - 1] : null,
        s = {},
        o ? (i.forEach((function(e, n) {
            var r = Object(nn.p)(t[e]) ? o(t[e]) : JSON.parse(JSON.stringify(t[e]));
            e === Object(rn.e)(3) && r.forEach((function(t) {
                var e = t.name
                  , n = t.uuid;
                return u[e] = n
            }
            )),
            s[e] = (Object(nn.p)(t[e]),
            c(r, 5 == n))
        }
        )),
        s = vn.a.fix(s)) : i.forEach((function(e, n) {
            var r = JSON.parse(JSON.stringify(t[e]));
            e === Object(rn.e)(3) && r.forEach((function(t) {
                var e = t.name
                  , n = t.uuid;
                return u[e] = n
            }
            )),
            s[e] = c(r, 5 == n)
        }
        )),
        s);
        Object.keys(l).forEach((function(e) {
            return t[e] = l[e]
        }
        ));
        var d = {};
        return [Object(rn.m)(), Object(rn.j)(), Object(rn.k)(), Object(rn.i)(), Object(rn.h)(), Object(rn.l)()].forEach((function(t, e) {
            return d[t] = l[Object(rn.e)(e)]
        }
        )),
        Object(vn.b)(d),
        Rd({
            p: vn.a.gameValuesMap[Object(rn.i)()],
            i: vn.a.gameValuesMap[Object(rn.h)()],
            pv: d[Object(rn.i)()],
            names: u
        }),
        (e && !n ? Ro() : Promise.resolve(!1)).then((function(t) {
            return x.a.illegality = t || !1,
            df(d).then((function(t) {
                return cf(t)
            }
            ))
        }
        ))
    };
    function Ew() {
        var t = document.getElementById("__getwidth");
        t || ((t = document.createElement("span")).id = "__getwidth",
        document.body.appendChild(t),
        t.style.visibility = "hidden",
        t.style.whiteSpace = "nowrap",
        t.style.opacity = 0)
    }
    function jw() {
        Object(jn.c)()(jw);
        var t = window.innerWidth || window.documentElement && window.documentElement.clientWidth || window.document.body.clientWidth
          , e = window.innerHeight || window.documentElement && window.documentElement.clientHeight || window.document.body.clientHeight;
        return [Math.min(t, e), Math.max(t, e)]
    }
    function Aw() {
        if (!x.a.single) {
            var t = function() {
                for (var t = document.getElementsByTagName("script"), e = [], n = 0; n < t.length; n++)
                    e.push(t[n]);
                return e.find((function(t) {
                    return /app(-[0-9a-zA-Z]{8})?\.js/g.test(t.src)
                }
                )).src[Vn.G]("?")
            }()
              , e = s()(t, 2)
              , n = e[0]
              , r = e[1];
            Object(An.a)({
                url: "".concat(n),
                responseType: "blob"
            }).then((function(t) {
                Object(g.f)(t.response || new Blob).then((function(t) {
                    t = String(t).toLowerCase(),
                    r.toLowerCase() !== t && (x.a.daj_45_1_vb_w_da = 1)
                }
                ))
            }
            ))
        }
    }
    Object(jn.c)()(arguments[Vn.d]);
    var Iw, Rw = window, Tw = function() {
        return !1
    };
    try {
        top.oncontextmenu = Tw
    } catch (t) {}
    Rw.oncontextmenu = Tw;
    var Mw, Dw = function(t) {
        t && (123 == t.keyCode || t.ctrlKey && t.shiftKey && 73 == t.keyCode) && t[Vn.w] && t[Vn.w]()
    }, Bw = "document";
    Iw = Rw[Bw];
    try {
        Mw = top[Bw]
    } catch (t) {}
    ["down", "keyup", "press"].forEach((function(t) {
        Iw.addEventListener("key".concat(t), Dw, !0);
        try {
            Mw && Mw.addEventListener("key".concat(t), Dw, !0)
        } catch (t) {}
    }
    )),
    Iw.addEventListener("DOMContentLoaded", (function() {
        if (console.log("Initialized app, commit:", tn.a),
        Object(nn.j)() && On.isAppClient()) {
            var t = navigator.appVersion.match(/OS (\d+)/)
              , e = parseInt(t[1], 10);
            !t || 16 !== e && 17 !== e || a()(document.getElementsByTagName("meta")).forEach((function(t) {
                "viewport" === t.name && t.setAttribute("content", "user-scalable=0")
            }
            ))
        }
        Promise.resolve().then(zs()).then(Aw),
        Ew();
        var n = jw();
        Rw.originalWidth = n[0],
        Rw.originalHeight = n[1],
        Rw = null,
        Qe.f.initQzone().then((function() {
            return jo().then((function() {
                var t = x.a.wap;
                x.a.single && "steam" === t && CefSharp.BindObjectAsync("cefCustomObject"),
                new bw
            }
            ))
        }
        ), (function() {
            return Xe.a.warn("游戏初始化失败，请刷新重试！").then((function() {
                return un.o.reload()
            }
            ), (function() {}
            ))
        }
        ))
    }
    )),
    Iw = null,
    Object(jn.c)()(arguments[Vn.d])
}
]);
